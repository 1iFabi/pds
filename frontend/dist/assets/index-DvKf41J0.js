(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function hI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var FB={exports:{}},QA={};var u7;function j0e(){if(u7)return QA;u7=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var s=null;if(a!==void 0&&(s=""+a),r.key!==void 0&&(s=""+r.key),"key"in r){a={};for(var o in r)o!=="key"&&(a[o]=r[o])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:s,ref:r!==void 0?r:null,props:a}}return QA.Fragment=e,QA.jsx=t,QA.jsxs=t,QA}var c7;function H0e(){return c7||(c7=1,FB.exports=j0e()),FB.exports}var T=H0e(),UB={exports:{}},Nn={};var f7;function W0e(){if(f7)return Nn;f7=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),h=Symbol.iterator;function d(J){return J===null||typeof J!="object"?null:(J=h&&J[h]||J["@@iterator"],typeof J=="function"?J:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function x(J,Q,se){this.props=J,this.context=Q,this.refs=y,this.updater=se||v}x.prototype.isReactComponent={},x.prototype.setState=function(J,Q){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,Q,"setState")},x.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function b(){}b.prototype=x.prototype;function M(J,Q,se){this.props=J,this.context=Q,this.refs=y,this.updater=se||v}var C=M.prototype=new b;C.constructor=M,m(C,x.prototype),C.isPureReactComponent=!0;var w=Array.isArray;function E(){}var L={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function I(J,Q,se){var ce=se.ref;return{$$typeof:n,type:J,key:Q,ref:ce!==void 0?ce:null,props:se}}function N(J,Q){return I(J.type,Q,J.props)}function z(J){return typeof J=="object"&&J!==null&&J.$$typeof===n}function V(J){var Q={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(se){return Q[se]})}var U=/\/+/g;function j(J,Q){return typeof J=="object"&&J!==null&&J.key!=null?V(""+J.key):Q.toString(36)}function W(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(E,E):(J.status="pending",J.then(function(Q){J.status==="pending"&&(J.status="fulfilled",J.value=Q)},function(Q){J.status==="pending"&&(J.status="rejected",J.reason=Q)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function G(J,Q,se,ce,ue){var fe=typeof J;(fe==="undefined"||fe==="boolean")&&(J=null);var ge=!1;if(J===null)ge=!0;else switch(fe){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(J.$$typeof){case n:case e:ge=!0;break;case c:return ge=J._init,G(ge(J._payload),Q,se,ce,ue)}}if(ge)return ue=ue(J),ge=ce===""?"."+j(J,0):ce,w(ue)?(se="",ge!=null&&(se=ge.replace(U,"$&/")+"/"),G(ue,Q,se,"",function(Ue){return Ue})):ue!=null&&(z(ue)&&(ue=N(ue,se+(ue.key==null||J&&J.key===ue.key?"":(""+ue.key).replace(U,"$&/")+"/")+ge)),Q.push(ue)),1;ge=0;var Se=ce===""?".":ce+":";if(w(J))for(var Ee=0;Ee<J.length;Ee++)ce=J[Ee],fe=Se+j(ce,Ee),ge+=G(ce,Q,se,fe,ue);else if(Ee=d(J),typeof Ee=="function")for(J=Ee.call(J),Ee=0;!(ce=J.next()).done;)ce=ce.value,fe=Se+j(ce,Ee++),ge+=G(ce,Q,se,fe,ue);else if(fe==="object"){if(typeof J.then=="function")return G(W(J),Q,se,ce,ue);throw Q=String(J),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ge}function X(J,Q,se){if(J==null)return J;var ce=[],ue=0;return G(J,ce,"","",function(fe){return Q.call(se,fe,ue++)}),ce}function q(J){if(J._status===-1){var Q=J._result;Q=Q(),Q.then(function(se){(J._status===0||J._status===-1)&&(J._status=1,J._result=se)},function(se){(J._status===0||J._status===-1)&&(J._status=2,J._result=se)}),J._status===-1&&(J._status=0,J._result=Q)}if(J._status===1)return J._result.default;throw J._result}var $=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},te={map:X,forEach:function(J,Q,se){X(J,function(){Q.apply(this,arguments)},se)},count:function(J){var Q=0;return X(J,function(){Q++}),Q},toArray:function(J){return X(J,function(Q){return Q})||[]},only:function(J){if(!z(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return Nn.Activity=f,Nn.Children=te,Nn.Component=x,Nn.Fragment=t,Nn.Profiler=r,Nn.PureComponent=M,Nn.StrictMode=i,Nn.Suspense=l,Nn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Nn.__COMPILER_RUNTIME={__proto__:null,c:function(J){return L.H.useMemoCache(J)}},Nn.cache=function(J){return function(){return J.apply(null,arguments)}},Nn.cacheSignal=function(){return null},Nn.cloneElement=function(J,Q,se){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var ce=m({},J.props),ue=J.key;if(Q!=null)for(fe in Q.key!==void 0&&(ue=""+Q.key),Q)!P.call(Q,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&Q.ref===void 0||(ce[fe]=Q[fe]);var fe=arguments.length-2;if(fe===1)ce.children=se;else if(1<fe){for(var ge=Array(fe),Se=0;Se<fe;Se++)ge[Se]=arguments[Se+2];ce.children=ge}return I(J.type,ue,ce)},Nn.createContext=function(J){return J={$$typeof:s,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:a,_context:J},J},Nn.createElement=function(J,Q,se){var ce,ue={},fe=null;if(Q!=null)for(ce in Q.key!==void 0&&(fe=""+Q.key),Q)P.call(Q,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ue[ce]=Q[ce]);var ge=arguments.length-2;if(ge===1)ue.children=se;else if(1<ge){for(var Se=Array(ge),Ee=0;Ee<ge;Ee++)Se[Ee]=arguments[Ee+2];ue.children=Se}if(J&&J.defaultProps)for(ce in ge=J.defaultProps,ge)ue[ce]===void 0&&(ue[ce]=ge[ce]);return I(J,fe,ue)},Nn.createRef=function(){return{current:null}},Nn.forwardRef=function(J){return{$$typeof:o,render:J}},Nn.isValidElement=z,Nn.lazy=function(J){return{$$typeof:c,_payload:{_status:-1,_result:J},_init:q}},Nn.memo=function(J,Q){return{$$typeof:u,type:J,compare:Q===void 0?null:Q}},Nn.startTransition=function(J){var Q=L.T,se={};L.T=se;try{var ce=J(),ue=L.S;ue!==null&&ue(se,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(E,$)}catch(fe){$(fe)}finally{Q!==null&&se.types!==null&&(Q.types=se.types),L.T=Q}},Nn.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Nn.use=function(J){return L.H.use(J)},Nn.useActionState=function(J,Q,se){return L.H.useActionState(J,Q,se)},Nn.useCallback=function(J,Q){return L.H.useCallback(J,Q)},Nn.useContext=function(J){return L.H.useContext(J)},Nn.useDebugValue=function(){},Nn.useDeferredValue=function(J,Q){return L.H.useDeferredValue(J,Q)},Nn.useEffect=function(J,Q){return L.H.useEffect(J,Q)},Nn.useEffectEvent=function(J){return L.H.useEffectEvent(J)},Nn.useId=function(){return L.H.useId()},Nn.useImperativeHandle=function(J,Q,se){return L.H.useImperativeHandle(J,Q,se)},Nn.useInsertionEffect=function(J,Q){return L.H.useInsertionEffect(J,Q)},Nn.useLayoutEffect=function(J,Q){return L.H.useLayoutEffect(J,Q)},Nn.useMemo=function(J,Q){return L.H.useMemo(J,Q)},Nn.useOptimistic=function(J,Q){return L.H.useOptimistic(J,Q)},Nn.useReducer=function(J,Q,se){return L.H.useReducer(J,Q,se)},Nn.useRef=function(J){return L.H.useRef(J)},Nn.useState=function(J){return L.H.useState(J)},Nn.useSyncExternalStore=function(J,Q,se){return L.H.useSyncExternalStore(J,Q,se)},Nn.useTransition=function(){return L.H.useTransition()},Nn.version="19.2.0",Nn}var h7;function Wb(){return h7||(h7=1,UB.exports=W0e()),UB.exports}var Y=Wb();const Ps=hI(Y);var GB={exports:{}},$A={},VB={exports:{}},jB={};var d7;function X0e(){return d7||(d7=1,(function(n){function e(G,X){var q=G.length;G.push(X);e:for(;0<q;){var $=q-1>>>1,te=G[$];if(0<r(te,X))G[$]=X,G[q]=te,q=$;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var X=G[0],q=G.pop();if(q!==X){G[0]=q;e:for(var $=0,te=G.length,J=te>>>1;$<J;){var Q=2*($+1)-1,se=G[Q],ce=Q+1,ue=G[ce];if(0>r(se,q))ce<te&&0>r(ue,se)?(G[$]=ue,G[ce]=q,$=ce):(G[$]=se,G[Q]=q,$=Q);else if(ce<te&&0>r(ue,q))G[$]=ue,G[ce]=q,$=ce;else break e}}return X}function r(G,X){var q=G.sortIndex-X.sortIndex;return q!==0?q:G.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();n.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,h=3,d=!1,v=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function C(G){for(var X=t(u);X!==null;){if(X.callback===null)i(u);else if(X.startTime<=G)i(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(u)}}function w(G){if(m=!1,C(G),!v)if(t(l)!==null)v=!0,E||(E=!0,V());else{var X=t(u);X!==null&&W(w,X.startTime-G)}}var E=!1,L=-1,P=5,I=-1;function N(){return y?!0:!(n.unstable_now()-I<P)}function z(){if(y=!1,E){var G=n.unstable_now();I=G;var X=!0;try{e:{v=!1,m&&(m=!1,b(L),L=-1),d=!0;var q=h;try{t:{for(C(G),f=t(l);f!==null&&!(f.expirationTime>G&&N());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var te=$(f.expirationTime<=G);if(G=n.unstable_now(),typeof te=="function"){f.callback=te,C(G),X=!0;break t}f===t(l)&&i(l),C(G)}else i(l);f=t(l)}if(f!==null)X=!0;else{var J=t(u);J!==null&&W(w,J.startTime-G),X=!1}}break e}finally{f=null,h=q,d=!1}X=void 0}}finally{X?V():E=!1}}}var V;if(typeof M=="function")V=function(){M(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,j=U.port2;U.port1.onmessage=z,V=function(){j.postMessage(null)}}else V=function(){x(z,0)};function W(G,X){L=x(function(){G(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_next=function(G){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var q=h;h=X;try{return G()}finally{h=q}},n.unstable_requestPaint=function(){y=!0},n.unstable_runWithPriority=function(G,X){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var q=h;h=G;try{return X()}finally{h=q}},n.unstable_scheduleCallback=function(G,X,q){var $=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?$+q:$):q=$,G){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=q+te,G={id:c++,callback:X,priorityLevel:G,startTime:q,expirationTime:te,sortIndex:-1},q>$?(G.sortIndex=q,e(u,G),t(l)===null&&G===t(u)&&(m?(b(L),L=-1):m=!0,W(w,q-$))):(G.sortIndex=te,e(l,G),v||d||(v=!0,E||(E=!0,V()))),G},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(G){var X=h;return function(){var q=h;h=X;try{return G.apply(this,arguments)}finally{h=q}}}})(jB)),jB}var p7;function Y0e(){return p7||(p7=1,VB.exports=X0e()),VB.exports}var HB={exports:{}},Js={};var v7;function q0e(){if(v7)return Js;v7=1;var n=Wb();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)u+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(l,u,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:f==null?null:""+f,children:l,containerInfo:u,implementation:c}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Js.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Js.createPortal=function(l,u){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(l,u,null,c)},Js.flushSync=function(l){var u=s.T,c=i.p;try{if(s.T=null,i.p=2,l)return l()}finally{s.T=u,i.p=c,i.d.f()}},Js.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(l,u))},Js.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},Js.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var c=u.as,f=o(c,u.crossOrigin),h=typeof u.integrity=="string"?u.integrity:void 0,d=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;c==="style"?i.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:h,fetchPriority:d}):c==="script"&&i.d.X(l,{crossOrigin:f,integrity:h,fetchPriority:d,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Js.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var c=o(u.as,u.crossOrigin);i.d.M(l,{crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(l)},Js.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var c=u.as,f=o(c,u.crossOrigin);i.d.L(l,c,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Js.preloadModule=function(l,u){if(typeof l=="string")if(u){var c=o(u.as,u.crossOrigin);i.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(l)},Js.requestFormReset=function(l){i.d.r(l)},Js.unstable_batchedUpdates=function(l,u){return l(u)},Js.useFormState=function(l,u,c){return s.H.useFormState(l,u,c)},Js.useFormStatus=function(){return s.H.useHostTransitionStatus()},Js.version="19.2.0",Js}var m7;function bie(){if(m7)return HB.exports;m7=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),HB.exports=q0e(),HB.exports}var g7;function Z0e(){if(g7)return $A;g7=1;var n=Y0e(),e=Wb(),t=bie();function i(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)g+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function a(p){var g=p,A=p;if(p.alternate)for(;g.return;)g=g.return;else{p=g;do g=p,(g.flags&4098)!==0&&(A=g.return),p=g.return;while(p)}return g.tag===3?A:null}function s(p){if(p.tag===13){var g=p.memoizedState;if(g===null&&(p=p.alternate,p!==null&&(g=p.memoizedState)),g!==null)return g.dehydrated}return null}function o(p){if(p.tag===31){var g=p.memoizedState;if(g===null&&(p=p.alternate,p!==null&&(g=p.memoizedState)),g!==null)return g.dehydrated}return null}function l(p){if(a(p)!==p)throw Error(i(188))}function u(p){var g=p.alternate;if(!g){if(g=a(p),g===null)throw Error(i(188));return g!==p?null:p}for(var A=p,D=g;;){var B=A.return;if(B===null)break;var k=B.alternate;if(k===null){if(D=B.return,D!==null){A=D;continue}break}if(B.child===k.child){for(k=B.child;k;){if(k===A)return l(B),p;if(k===D)return l(B),g;k=k.sibling}throw Error(i(188))}if(A.return!==D.return)A=B,D=k;else{for(var K=!1,ie=B.child;ie;){if(ie===A){K=!0,A=B,D=k;break}if(ie===D){K=!0,D=B,A=k;break}ie=ie.sibling}if(!K){for(ie=k.child;ie;){if(ie===A){K=!0,A=k,D=B;break}if(ie===D){K=!0,D=k,A=B;break}ie=ie.sibling}if(!K)throw Error(i(189))}}if(A.alternate!==D)throw Error(i(190))}if(A.tag!==3)throw Error(i(188));return A.stateNode.current===A?p:g}function c(p){var g=p.tag;if(g===5||g===26||g===27||g===6)return p;for(p=p.child;p!==null;){if(g=c(p),g!==null)return g;p=p.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),M=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function V(p){return p===null||typeof p!="object"?null:(p=z&&p[z]||p["@@iterator"],typeof p=="function"?p:null)}var U=Symbol.for("react.client.reference");function j(p){if(p==null)return null;if(typeof p=="function")return p.$$typeof===U?null:p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case m:return"Fragment";case x:return"Profiler";case y:return"StrictMode";case w:return"Suspense";case E:return"SuspenseList";case I:return"Activity"}if(typeof p=="object")switch(p.$$typeof){case v:return"Portal";case M:return p.displayName||"Context";case b:return(p._context.displayName||"Context")+".Consumer";case C:var g=p.render;return p=p.displayName,p||(p=g.displayName||g.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case L:return g=p.displayName||null,g!==null?g:j(p.type)||"Memo";case P:g=p._payload,p=p._init;try{return j(p(g))}catch{}}return null}var W=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},$=[],te=-1;function J(p){return{current:p}}function Q(p){0>te||(p.current=$[te],$[te]=null,te--)}function se(p,g){te++,$[te]=p.current,p.current=g}var ce=J(null),ue=J(null),fe=J(null),ge=J(null);function Se(p,g){switch(se(fe,g),se(ue,p),se(ce,null),g.nodeType){case 9:case 11:p=(p=g.documentElement)&&(p=p.namespaceURI)?NH(p):0;break;default:if(p=g.tagName,g=g.namespaceURI)g=NH(g),p=IH(g,p);else switch(p){case"svg":p=1;break;case"math":p=2;break;default:p=0}}Q(ce),se(ce,p)}function Ee(){Q(ce),Q(ue),Q(fe)}function Ue(p){p.memoizedState!==null&&se(ge,p);var g=ce.current,A=IH(g,p.type);g!==A&&(se(ue,p),se(ce,A))}function _e(p){ue.current===p&&(Q(ce),Q(ue)),ge.current===p&&(Q(ge),qA._currentValue=q)}var ke,dt;function De(p){if(ke===void 0)try{throw Error()}catch(A){var g=A.stack.trim().match(/\n( *(at )?)/);ke=g&&g[1]||"",dt=-1<A.stack.indexOf(`
    at`)?" (<anonymous>)":-1<A.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ke+p+dt}var ae=!1;function Fe(p,g){if(!p||ae)return"";ae=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var D={DetermineComponentFrameRoot:function(){try{if(g){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(He){var ze=He}Reflect.construct(p,[],tt)}else{try{tt.call()}catch(He){ze=He}p.call(tt.prototype)}}else{try{throw Error()}catch(He){ze=He}(tt=p())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(He){if(He&&ze&&typeof He.stack=="string")return[He.stack,ze.stack]}return[null,null]}};D.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(D.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(D.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=D.DetermineComponentFrameRoot(),K=k[0],ie=k[1];if(K&&ie){var ve=K.split(`
`),Ne=ie.split(`
`);for(B=D=0;D<ve.length&&!ve[D].includes("DetermineComponentFrameRoot");)D++;for(;B<Ne.length&&!Ne[B].includes("DetermineComponentFrameRoot");)B++;if(D===ve.length||B===Ne.length)for(D=ve.length-1,B=Ne.length-1;1<=D&&0<=B&&ve[D]!==Ne[B];)B--;for(;1<=D&&0<=B;D--,B--)if(ve[D]!==Ne[B]){if(D!==1||B!==1)do if(D--,B--,0>B||ve[D]!==Ne[B]){var Ye=`
`+ve[D].replace(" at new "," at ");return p.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",p.displayName)),Ye}while(1<=D&&0<=B);break}}}finally{ae=!1,Error.prepareStackTrace=A}return(A=p?p.displayName||p.name:"")?De(A):""}function qe(p,g){switch(p.tag){case 26:case 27:case 5:return De(p.type);case 16:return De("Lazy");case 13:return p.child!==g&&g!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return Fe(p.type,!1);case 11:return Fe(p.type.render,!1);case 1:return Fe(p.type,!0);case 31:return De("Activity");default:return""}}function rt(p){try{var g="",A=null;do g+=qe(p,A),A=p,p=p.return;while(p);return g}catch(D){return`
Error generating stack: `+D.message+`
`+D.stack}}var Je=Object.prototype.hasOwnProperty,_t=n.unstable_scheduleCallback,pt=n.unstable_cancelCallback,Ct=n.unstable_shouldYield,oe=n.unstable_requestPaint,ee=n.unstable_now,we=n.unstable_getCurrentPriorityLevel,Xe=n.unstable_ImmediatePriority,nt=n.unstable_UserBlockingPriority,je=n.unstable_NormalPriority,Wt=n.unstable_LowPriority,St=n.unstable_IdlePriority,qt=n.log,Vt=n.unstable_setDisableYieldValue,et=null,it=null;function Ht(p){if(typeof qt=="function"&&Vt(p),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(et,p)}catch{}}var de=Math.clz32?Math.clz32:he,Pe=Math.log,lt=Math.LN2;function he(p){return p>>>=0,p===0?32:31-(Pe(p)/lt|0)|0}var ut=256,ft=262144,vt=4194304;function at(p){var g=p&42;if(g!==0)return g;switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return p&261888;case 262144:case 524288:case 1048576:case 2097152:return p&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return p&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return p}}function Qe(p,g,A){var D=p.pendingLanes;if(D===0)return 0;var B=0,k=p.suspendedLanes,K=p.pingedLanes;p=p.warmLanes;var ie=D&134217727;return ie!==0?(D=ie&~k,D!==0?B=at(D):(K&=ie,K!==0?B=at(K):A||(A=ie&~p,A!==0&&(B=at(A))))):(ie=D&~k,ie!==0?B=at(ie):K!==0?B=at(K):A||(A=D&~p,A!==0&&(B=at(A)))),B===0?0:g!==0&&g!==B&&(g&k)===0&&(k=B&-B,A=g&-g,k>=A||k===32&&(A&4194048)!==0)?g:B}function Tt(p,g){return(p.pendingLanes&~(p.suspendedLanes&~p.pingedLanes)&g)===0}function Kt(p,g){switch(p){case 1:case 2:case 4:case 8:case 64:return g+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xn(){var p=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),p}function Bn(p){for(var g=[],A=0;31>A;A++)g.push(p);return g}function or(p,g){p.pendingLanes|=g,g!==268435456&&(p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0)}function ea(p,g,A,D,B,k){var K=p.pendingLanes;p.pendingLanes=A,p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0,p.expiredLanes&=A,p.entangledLanes&=A,p.errorRecoveryDisabledLanes&=A,p.shellSuspendCounter=0;var ie=p.entanglements,ve=p.expirationTimes,Ne=p.hiddenUpdates;for(A=K&~A;0<A;){var Ye=31-de(A),tt=1<<Ye;ie[Ye]=0,ve[Ye]=-1;var ze=Ne[Ye];if(ze!==null)for(Ne[Ye]=null,Ye=0;Ye<ze.length;Ye++){var He=ze[Ye];He!==null&&(He.lane&=-536870913)}A&=~tt}D!==0&&jm(p,D,0),k!==0&&B===0&&p.tag!==0&&(p.suspendedLanes|=k&~(K&~g))}function jm(p,g,A){p.pendingLanes|=g,p.suspendedLanes&=~g;var D=31-de(g);p.entangledLanes|=g,p.entanglements[D]=p.entanglements[D]|1073741824|A&261930}function jh(p,g){var A=p.entangledLanes|=g;for(p=p.entanglements;A;){var D=31-de(A),B=1<<D;B&g|p[D]&g&&(p[D]|=g),A&=~B}}function Hh(p,g){var A=g&-g;return A=(A&42)!==0?1:ma(A),(A&(p.suspendedLanes|g))!==0?0:A}function ma(p){switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=128;break;case 268435456:p=134217728;break;default:p=0}return p}function mf(p){return p&=-p,2<p?8<p?(p&134217727)!==0?32:268435456:8:2}function Zo(){var p=X.p;return p!==0?p:(p=window.event,p===void 0?32:n7(p.type))}function vo(p,g){var A=X.p;try{return X.p=p,g()}finally{X.p=A}}var Ka=Math.random().toString(36).slice(2),Fn="__reactFiber$"+Ka,Tr="__reactProps$"+Ka,_l="__reactContainer$"+Ka,Wh="__reactEvents$"+Ka,sx="__reactListeners$"+Ka,wS="__reactHandles$"+Ka,Pp="__reactResources$"+Ka,cc="__reactMarker$"+Ka;function Xh(p){delete p[Fn],delete p[Tr],delete p[Wh],delete p[sx],delete p[wS]}function Cr(p){var g=p[Fn];if(g)return g;for(var A=p.parentNode;A;){if(g=A[_l]||A[Fn]){if(A=g.alternate,g.child!==null||A!==null&&A.child!==null)for(p=UH(p);p!==null;){if(A=p[Fn])return A;p=UH(p)}return g}p=A,A=p.parentNode}return null}function ne(p){if(p=p[Fn]||p[_l]){var g=p.tag;if(g===5||g===6||g===13||g===31||g===26||g===27||g===3)return p}return null}function be(p){var g=p.tag;if(g===5||g===26||g===27||g===6)return p.stateNode;throw Error(i(33))}function Oe(p){var g=p[Pp];return g||(g=p[Pp]={hoistableStyles:new Map,hoistableScripts:new Map}),g}function Re(p){p[cc]=!0}var Ae=new Set,mt={};function Mt(p,g){zt(p,g),zt(p+"Capture",g)}function zt(p,g){for(mt[p]=g,p=0;p<g.length;p++)Ae.add(g[p])}var Gt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),on={},fn={};function en(p){return Je.call(fn,p)?!0:Je.call(on,p)?!1:Gt.test(p)?fn[p]=!0:(on[p]=!0,!1)}function Ln(p,g,A){if(en(g))if(A===null)p.removeAttribute(g);else{switch(typeof A){case"undefined":case"function":case"symbol":p.removeAttribute(g);return;case"boolean":var D=g.toLowerCase().slice(0,5);if(D!=="data-"&&D!=="aria-"){p.removeAttribute(g);return}}p.setAttribute(g,""+A)}}function oi(p,g,A){if(A===null)p.removeAttribute(g);else{switch(typeof A){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(g);return}p.setAttribute(g,""+A)}}function li(p,g,A,D){if(D===null)p.removeAttribute(A);else{switch(typeof D){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(A);return}p.setAttributeNS(g,A,""+D)}}function Kn(p){switch(typeof p){case"bigint":case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function Ci(p){var g=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function sn(p,g,A){var D=Object.getOwnPropertyDescriptor(p.constructor.prototype,g);if(!p.hasOwnProperty(g)&&typeof D<"u"&&typeof D.get=="function"&&typeof D.set=="function"){var B=D.get,k=D.set;return Object.defineProperty(p,g,{configurable:!0,get:function(){return B.call(this)},set:function(K){A=""+K,k.call(this,K)}}),Object.defineProperty(p,g,{enumerable:D.enumerable}),{getValue:function(){return A},setValue:function(K){A=""+K},stopTracking:function(){p._valueTracker=null,delete p[g]}}}}function Oi(p){if(!p._valueTracker){var g=Ci(p)?"checked":"value";p._valueTracker=sn(p,g,""+p[g])}}function Jn(p){if(!p)return!1;var g=p._valueTracker;if(!g)return!0;var A=g.getValue(),D="";return p&&(D=Ci(p)?p.checked?"true":"false":p.value),p=D,p!==A?(g.setValue(p),!0):!1}function Fr(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}var fc=/[\n"\\]/g;function Gi(p){return p.replace(fc,function(g){return"\\"+g.charCodeAt(0).toString(16)+" "})}function ou(p,g,A,D,B,k,K,ie){p.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?p.type=K:p.removeAttribute("type"),g!=null?K==="number"?(g===0&&p.value===""||p.value!=g)&&(p.value=""+Kn(g)):p.value!==""+Kn(g)&&(p.value=""+Kn(g)):K!=="submit"&&K!=="reset"||p.removeAttribute("value"),g!=null?ta(p,K,Kn(g)):A!=null?ta(p,K,Kn(A)):D!=null&&p.removeAttribute("value"),B==null&&k!=null&&(p.defaultChecked=!!k),B!=null&&(p.checked=B&&typeof B!="function"&&typeof B!="symbol"),ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?p.name=""+Kn(ie):p.removeAttribute("name")}function Vi(p,g,A,D,B,k,K,ie){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(p.type=k),g!=null||A!=null){if(!(k!=="submit"&&k!=="reset"||g!=null)){Oi(p);return}A=A!=null?""+Kn(A):"",g=g!=null?""+Kn(g):A,ie||g===p.value||(p.value=g),p.defaultValue=g}D=D??B,D=typeof D!="function"&&typeof D!="symbol"&&!!D,p.checked=ie?p.checked:!!D,p.defaultChecked=!!D,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(p.name=K),Oi(p)}function ta(p,g,A){g==="number"&&Fr(p.ownerDocument)===p||p.defaultValue===""+A||(p.defaultValue=""+A)}function na(p,g,A,D){if(p=p.options,g){g={};for(var B=0;B<A.length;B++)g["$"+A[B]]=!0;for(A=0;A<p.length;A++)B=g.hasOwnProperty("$"+p[A].value),p[A].selected!==B&&(p[A].selected=B),B&&D&&(p[A].defaultSelected=!0)}else{for(A=""+Kn(A),g=null,B=0;B<p.length;B++){if(p[B].value===A){p[B].selected=!0,D&&(p[B].defaultSelected=!0);return}g!==null||p[B].disabled||(g=p[B])}g!==null&&(g.selected=!0)}}function ia(p,g,A){if(g!=null&&(g=""+Kn(g),g!==p.value&&(p.value=g),A==null)){p.defaultValue!==g&&(p.defaultValue=g);return}p.defaultValue=A!=null?""+Kn(A):""}function dr(p,g,A,D){if(g==null){if(D!=null){if(A!=null)throw Error(i(92));if(W(D)){if(1<D.length)throw Error(i(93));D=D[0]}A=D}A==null&&(A=""),g=A}A=Kn(g),p.defaultValue=A,D=p.textContent,D===A&&D!==""&&D!==null&&(p.value=D),Oi(p)}function bl(p,g){if(g){var A=p.firstChild;if(A&&A===p.lastChild&&A.nodeType===3){A.nodeValue=g;return}}p.textContent=g}var Ko=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hm(p,g,A){var D=g.indexOf("--")===0;A==null||typeof A=="boolean"||A===""?D?p.setProperty(g,""):g==="float"?p.cssFloat="":p[g]="":D?p.setProperty(g,A):typeof A!="number"||A===0||Ko.has(g)?g==="float"?p.cssFloat=A:p[g]=(""+A).trim():p[g]=A+"px"}function ES(p,g,A){if(g!=null&&typeof g!="object")throw Error(i(62));if(p=p.style,A!=null){for(var D in A)!A.hasOwnProperty(D)||g!=null&&g.hasOwnProperty(D)||(D.indexOf("--")===0?p.setProperty(D,""):D==="float"?p.cssFloat="":p[D]="");for(var B in g)D=g[B],g.hasOwnProperty(B)&&A[B]!==D&&Hm(p,B,D)}else for(var k in g)g.hasOwnProperty(k)&&Hm(p,k,g[k])}function Wm(p){if(p.indexOf("-")===-1)return!1;switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xm(p){return fw.test(""+p)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":p}function lu(){}var Ym=null;function ox(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Yh=null,gf=null;function DS(p){var g=ne(p);if(g&&(p=g.stateNode)){var A=p[Tr]||null;e:switch(p=g.stateNode,g.type){case"input":if(ou(p,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name),g=A.name,A.type==="radio"&&g!=null){for(A=p;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll('input[name="'+Gi(""+g)+'"][type="radio"]'),g=0;g<A.length;g++){var D=A[g];if(D!==p&&D.form===p.form){var B=D[Tr]||null;if(!B)throw Error(i(90));ou(D,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name)}}for(g=0;g<A.length;g++)D=A[g],D.form===p.form&&Jn(D)}break e;case"textarea":ia(p,A.value,A.defaultValue);break e;case"select":g=A.value,g!=null&&na(p,!!A.multiple,g,!1)}}}var lx=!1;function RS(p,g,A){if(lx)return p(g,A);lx=!0;try{var D=p(g);return D}finally{if(lx=!1,(Yh!==null||gf!==null)&&(re(),Yh&&(g=Yh,p=gf,gf=Yh=null,DS(g),p)))for(g=0;g<p.length;g++)DS(p[g])}}function qh(p,g){var A=p.stateNode;if(A===null)return null;var D=A[Tr]||null;if(D===null)return null;A=D[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(D=!D.disabled)||(p=p.type,D=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!D;break e;default:p=!1}if(p)return null;if(A&&typeof A!="function")throw Error(i(231,g,typeof A));return A}var uu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ux=!1;if(uu)try{var qm={};Object.defineProperty(qm,"passive",{get:function(){ux=!0}}),window.addEventListener("test",qm,qm),window.removeEventListener("test",qm,qm)}catch{ux=!1}var yf=null,cx=null,xf=null;function fx(){if(xf)return xf;var p,g=cx,A=g.length,D,B="value"in yf?yf.value:yf.textContent,k=B.length;for(p=0;p<A&&g[p]===B[p];p++);var K=A-p;for(D=1;D<=K&&g[A-D]===B[k-D];D++);return xf=B.slice(p,1<D?1-D:void 0)}function Zh(p){var g=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&g===13&&(p=13)):p=g,p===10&&(p=13),32<=p||p===13?p:0}function Zm(){return!0}function LS(){return!1}function Ja(p){function g(A,D,B,k,K){this._reactName=A,this._targetInst=B,this.type=D,this.nativeEvent=k,this.target=K,this.currentTarget=null;for(var ie in p)p.hasOwnProperty(ie)&&(A=p[ie],this[ie]=A?A(k):k[ie]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Zm:LS,this.isPropagationStopped=LS,this}return f(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=Zm)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=Zm)},persist:function(){},isPersistent:Zm}),g}var _f={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Km=Ja(_f),Sl=f({},_f,{view:0,detail:0}),hx=Ja(Sl),dx,Jm,Bp,Qm=f({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eg,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==Bp&&(Bp&&p.type==="mousemove"?(dx=p.screenX-Bp.screenX,Jm=p.screenY-Bp.screenY):Jm=dx=0,Bp=p),dx)},movementY:function(p){return"movementY"in p?p.movementY:Jm}}),hw=Ja(Qm),Ia=f({},Qm,{dataTransfer:0}),dw=Ja(Ia),pw=f({},Sl,{relatedTarget:0}),px=Ja(pw),vw=f({},_f,{animationName:0,elapsedTime:0,pseudoElement:0}),mw=Ja(vw),$m=f({},_f,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),NS=Ja($m),gw=f({},_f,{data:0}),IS=Ja(gw),yw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xw(p){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(p):(p=BS[p])?!!g[p]:!1}function eg(){return xw}var OS=f({},Sl,{key:function(p){if(p.key){var g=yw[p.key]||p.key;if(g!=="Unidentified")return g}return p.type==="keypress"?(p=Zh(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?PS[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eg,charCode:function(p){return p.type==="keypress"?Zh(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Zh(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),zS=Ja(OS),_w=f({},Qm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vx=Ja(_w),bw=f({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eg}),hc=Ja(bw),kS=f({},_f,{propertyName:0,elapsedTime:0,pseudoElement:0}),rB=Ja(kS),Sw=f({},Qm,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),bf=Ja(Sw),dc=f({},_f,{newState:0,oldState:0}),FS=Ja(dc),US=[9,13,27,32],Kh=uu&&"CompositionEvent"in window,Sf=null;uu&&"documentMode"in document&&(Sf=document.documentMode);var Jh=uu&&"TextEvent"in window&&!Sf,Pa=uu&&(!Kh||Sf&&8<Sf&&11>=Sf),tg=" ",GS=!1;function mx(p,g){switch(p){case"keyup":return US.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Op(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var Af=!1;function gx(p,g){switch(p){case"compositionend":return Op(g);case"keypress":return g.which!==32?null:(GS=!0,tg);case"textInput":return p=g.data,p===tg&&GS?null:p;default:return null}}function Aw(p,g){if(Af)return p==="compositionend"||!Kh&&mx(p,g)?(p=fx(),xf=cx=yf=null,Af=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return Pa&&g.locale!=="ko"?null:g.data;default:return null}}var mo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VS(p){var g=p&&p.nodeName&&p.nodeName.toLowerCase();return g==="input"?!!mo[p.type]:g==="textarea"}function yx(p,g,A,D){Yh?gf?gf.push(D):gf=[D]:Yh=D,g=pE(g,"onChange"),0<g.length&&(A=new Km("onChange","change",null,A,D),p.push({event:A,listeners:g}))}var zp=null,kp=null;function jS(p){CH(p,0)}function Fp(p){var g=be(p);if(Jn(g))return p}function HS(p,g){if(p==="change")return g}var ng=!1;if(uu){var Qh;if(uu){var Qi="oninput"in document;if(!Qi){var Mw=document.createElement("div");Mw.setAttribute("oninput","return;"),Qi=typeof Mw.oninput=="function"}Qh=Qi}else Qh=!1;ng=Qh&&(!document.documentMode||9<document.documentMode)}function Tw(){zp&&(zp.detachEvent("onpropertychange",WS),kp=zp=null)}function WS(p){if(p.propertyName==="value"&&Fp(kp)){var g=[];yx(g,kp,p,ox(p)),RS(jS,g)}}function ig(p,g,A){p==="focusin"?(Tw(),zp=g,kp=A,zp.attachEvent("onpropertychange",WS)):p==="focusout"&&Tw()}function Mf(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Fp(kp)}function Cw(p,g){if(p==="click")return Fp(g)}function ww(p,g){if(p==="input"||p==="change")return Fp(g)}function $h(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var $i=typeof Object.is=="function"?Object.is:$h;function Up(p,g){if($i(p,g))return!0;if(typeof p!="object"||p===null||typeof g!="object"||g===null)return!1;var A=Object.keys(p),D=Object.keys(g);if(A.length!==D.length)return!1;for(D=0;D<A.length;D++){var B=A[D];if(!Je.call(g,B)||!$i(p[B],g[B]))return!1}return!0}function XS(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function YS(p,g){var A=XS(p);p=0;for(var D;A;){if(A.nodeType===3){if(D=p+A.textContent.length,p<=g&&D>=g)return{node:A,offset:g-p};p=D}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=XS(A)}}function xx(p,g){return p&&g?p===g?!0:p&&p.nodeType===3?!1:g&&g.nodeType===3?xx(p,g.parentNode):"contains"in p?p.contains(g):p.compareDocumentPosition?!!(p.compareDocumentPosition(g)&16):!1:!1}function _x(p){p=p!=null&&p.ownerDocument!=null&&p.ownerDocument.defaultView!=null?p.ownerDocument.defaultView:window;for(var g=Fr(p.document);g instanceof p.HTMLIFrameElement;){try{var A=typeof g.contentWindow.location.href=="string"}catch{A=!1}if(A)p=g.contentWindow;else break;g=Fr(p.document)}return g}function Gp(p){var g=p&&p.nodeName&&p.nodeName.toLowerCase();return g&&(g==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||g==="textarea"||p.contentEditable==="true")}var Ew=uu&&"documentMode"in document&&11>=document.documentMode,Vp=null,bx=null,jp=null,go=!1;function Sx(p,g,A){var D=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;go||Vp==null||Vp!==Fr(D)||(D=Vp,"selectionStart"in D&&Gp(D)?D={start:D.selectionStart,end:D.selectionEnd}:(D=(D.ownerDocument&&D.ownerDocument.defaultView||window).getSelection(),D={anchorNode:D.anchorNode,anchorOffset:D.anchorOffset,focusNode:D.focusNode,focusOffset:D.focusOffset}),jp&&Up(jp,D)||(jp=D,D=pE(bx,"onSelect"),0<D.length&&(g=new Km("onSelect","select",null,g,A),p.push({event:g,listeners:D}),g.target=Vp)))}function Tf(p,g){var A={};return A[p.toLowerCase()]=g.toLowerCase(),A["Webkit"+p]="webkit"+g,A["Moz"+p]="moz"+g,A}var Hp={animationend:Tf("Animation","AnimationEnd"),animationiteration:Tf("Animation","AnimationIteration"),animationstart:Tf("Animation","AnimationStart"),transitionrun:Tf("Transition","TransitionRun"),transitionstart:Tf("Transition","TransitionStart"),transitioncancel:Tf("Transition","TransitionCancel"),transitionend:Tf("Transition","TransitionEnd")},rg={},_s={};uu&&(_s=document.createElement("div").style,"AnimationEvent"in window||(delete Hp.animationend.animation,delete Hp.animationiteration.animation,delete Hp.animationstart.animation),"TransitionEvent"in window||delete Hp.transitionend.transition);function Cf(p){if(rg[p])return rg[p];if(!Hp[p])return p;var g=Hp[p],A;for(A in g)if(g.hasOwnProperty(A)&&A in _s)return rg[p]=g[A];return p}var Us=Cf("animationend"),qS=Cf("animationiteration"),cu=Cf("animationstart"),Wp=Cf("transitionrun"),wf=Cf("transitionstart"),ZS=Cf("transitioncancel"),Ax=Cf("transitionend"),pc=new Map,Mx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mx.push("scrollEnd");function Qa(p,g){pc.set(p,g),Mt(g,[p])}var Ef=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},ga=[],ed=0,Tx=0;function Df(){for(var p=ed,g=Tx=ed=0;g<p;){var A=ga[g];ga[g++]=null;var D=ga[g];ga[g++]=null;var B=ga[g];ga[g++]=null;var k=ga[g];if(ga[g++]=null,D!==null&&B!==null){var K=D.pending;K===null?B.next=B:(B.next=K.next,K.next=B),D.pending=B}k!==0&&Cx(A,B,k)}}function ag(p,g,A,D){ga[ed++]=p,ga[ed++]=g,ga[ed++]=A,ga[ed++]=D,Tx|=D,p.lanes|=D,p=p.alternate,p!==null&&(p.lanes|=D)}function Xp(p,g,A,D){return ag(p,g,A,D),Yp(p)}function Rf(p,g){return ag(p,null,null,g),Yp(p)}function Cx(p,g,A){p.lanes|=A;var D=p.alternate;D!==null&&(D.lanes|=A);for(var B=!1,k=p.return;k!==null;)k.childLanes|=A,D=k.alternate,D!==null&&(D.childLanes|=A),k.tag===22&&(p=k.stateNode,p===null||p._visibility&1||(B=!0)),p=k,k=k.return;return p.tag===3?(k=p.stateNode,B&&g!==null&&(B=31-de(A),p=k.hiddenUpdates,D=p[B],D===null?p[B]=[g]:D.push(g),g.lane=A|536870912),k):null}function Yp(p){if(50<gd)throw gd=0,yd=null,Error(i(185));for(var g=p.return;g!==null;)p=g,g=p.return;return p.tag===3?p.stateNode:null}var Lf={};function Dw(p,g,A,D){this.tag=p,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bs(p,g,A,D){return new Dw(p,g,A,D)}function Ss(p){return p=p.prototype,!(!p||!p.isReactComponent)}function fu(p,g){var A=p.alternate;return A===null?(A=bs(p.tag,g,p.key,p.mode),A.elementType=p.elementType,A.type=p.type,A.stateNode=p.stateNode,A.alternate=p,p.alternate=A):(A.pendingProps=g,A.type=p.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=p.flags&65011712,A.childLanes=p.childLanes,A.lanes=p.lanes,A.child=p.child,A.memoizedProps=p.memoizedProps,A.memoizedState=p.memoizedState,A.updateQueue=p.updateQueue,g=p.dependencies,A.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},A.sibling=p.sibling,A.index=p.index,A.ref=p.ref,A.refCleanup=p.refCleanup,A}function $a(p,g){p.flags&=65011714;var A=p.alternate;return A===null?(p.childLanes=0,p.lanes=g,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=A.childLanes,p.lanes=A.lanes,p.child=A.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=A.memoizedProps,p.memoizedState=A.memoizedState,p.updateQueue=A.updateQueue,p.type=A.type,g=A.dependencies,p.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),p}function sg(p,g,A,D,B,k){var K=0;if(D=p,typeof p=="function")Ss(p)&&(K=1);else if(typeof p=="string")K=L0e(p,A,ce.current)?26:p==="html"||p==="head"||p==="body"?27:5;else e:switch(p){case I:return p=bs(31,A,g,B),p.elementType=I,p.lanes=k,p;case m:return vc(A.children,B,k,g);case y:K=8,B|=24;break;case x:return p=bs(12,A,g,B|2),p.elementType=x,p.lanes=k,p;case w:return p=bs(13,A,g,B),p.elementType=w,p.lanes=k,p;case E:return p=bs(19,A,g,B),p.elementType=E,p.lanes=k,p;default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case M:K=10;break e;case b:K=9;break e;case C:K=11;break e;case L:K=14;break e;case P:K=16,D=null;break e}K=29,A=Error(i(130,p===null?"null":typeof p,"")),D=null}return g=bs(K,A,g,B),g.elementType=p,g.type=D,g.lanes=k,g}function vc(p,g,A,D){return p=bs(7,p,D,g),p.lanes=A,p}function Ex(p,g,A){return p=bs(6,p,null,g),p.lanes=A,p}function Rw(p){var g=bs(18,null,null,0);return g.stateNode=p,g}function Al(p,g,A){return g=bs(4,p.children!==null?p.children:[],p.key,g),g.lanes=A,g.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},g}var KS=new WeakMap;function Gs(p,g){if(typeof p=="object"&&p!==null){var A=KS.get(p);return A!==void 0?A:(g={value:p,source:g,stack:rt(g)},KS.set(p,g),g)}return{value:p,source:g,stack:rt(g)}}var Ml=[],td=0,og=null,qp=0,yo=[],Vs=0,hu=null,du=1,pu="";function mc(p,g){Ml[td++]=qp,Ml[td++]=og,og=p,qp=g}function JS(p,g,A){yo[Vs++]=du,yo[Vs++]=pu,yo[Vs++]=hu,hu=p;var D=du;p=pu;var B=32-de(D)-1;D&=~(1<<B),A+=1;var k=32-de(g)+B;if(30<k){var K=B-B%5;k=(D&(1<<K)-1).toString(32),D>>=K,B-=K,du=1<<32-de(g)+B|A<<B|D,pu=k+p}else du=1<<k|A<<B|D,pu=p}function Dx(p){p.return!==null&&(mc(p,1),JS(p,1,0))}function Nf(p){for(;p===og;)og=Ml[--td],Ml[td]=null,qp=Ml[--td],Ml[td]=null;for(;p===hu;)hu=yo[--Vs],yo[Vs]=null,pu=yo[--Vs],yo[Vs]=null,du=yo[--Vs],yo[Vs]=null}function lg(p,g){yo[Vs++]=du,yo[Vs++]=pu,yo[Vs++]=hu,du=g.id,pu=g.overflow,hu=p}var ya=null,Yi=null,ni=!1,gc=null,xa=!1,Rx=Error(i(519));function Qn(p){var g=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ug(Gs(g,p)),Rx}function Lx(p){var g=p.stateNode,A=p.type,D=p.memoizedProps;switch(g[Fn]=p,g[Tr]=D,A){case"dialog":ii("cancel",g),ii("close",g);break;case"iframe":case"object":case"embed":ii("load",g);break;case"video":case"audio":for(A=0;A<jA.length;A++)ii(jA[A],g);break;case"source":ii("error",g);break;case"img":case"image":case"link":ii("error",g),ii("load",g);break;case"details":ii("toggle",g);break;case"input":ii("invalid",g),Vi(g,D.value,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name,!0);break;case"select":ii("invalid",g);break;case"textarea":ii("invalid",g),dr(g,D.value,D.defaultValue,D.children)}A=D.children,typeof A!="string"&&typeof A!="number"&&typeof A!="bigint"||g.textContent===""+A||D.suppressHydrationWarning===!0||RH(g.textContent,A)?(D.popover!=null&&(ii("beforetoggle",g),ii("toggle",g)),D.onScroll!=null&&ii("scroll",g),D.onScrollEnd!=null&&ii("scrollend",g),D.onClick!=null&&(g.onclick=lu),g=!0):g=!1,g||Qn(p,!0)}function Lw(p){for(ya=p.return;ya;)switch(ya.tag){case 5:case 31:case 13:xa=!1;return;case 27:case 3:xa=!0;return;default:ya=ya.return}}function nd(p){if(p!==ya)return!1;if(!ni)return Lw(p),ni=!0,!1;var g=p.tag,A;if((A=g!==3&&g!==27)&&((A=g===5)&&(A=p.type,A=!(A!=="form"&&A!=="button")||MB(p.type,p.memoizedProps)),A=!A),A&&Yi&&Qn(p),Lw(p),g===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));Yi=FH(p)}else if(g===31){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));Yi=FH(p)}else g===27?(g=Yi,dv(p.type)?(p=DB,DB=null,Yi=p):Yi=g):Yi=ya?Tu(p.stateNode.nextSibling):null;return!0}function id(){Yi=ya=null,ni=!1}function QS(){var p=gc;return p!==null&&(as===null?as=p:as.push.apply(as,p),gc=null),p}function ug(p){gc===null?gc=[p]:gc.push(p)}var $S=J(null),yc=null,es=null;function xc(p,g,A){se($S,g._currentValue),g._currentValue=A}function Jo(p){p._currentValue=$S.current,Q($S)}function _c(p,g,A){for(;p!==null;){var D=p.alternate;if((p.childLanes&g)!==g?(p.childLanes|=g,D!==null&&(D.childLanes|=g)):D!==null&&(D.childLanes&g)!==g&&(D.childLanes|=g),p===A)break;p=p.return}}function Nx(p,g,A,D){var B=p.child;for(B!==null&&(B.return=p);B!==null;){var k=B.dependencies;if(k!==null){var K=B.child;k=k.firstContext;e:for(;k!==null;){var ie=k;k=B;for(var ve=0;ve<g.length;ve++)if(ie.context===g[ve]){k.lanes|=A,ie=k.alternate,ie!==null&&(ie.lanes|=A),_c(k.return,A,p),D||(K=null);break e}k=ie.next}}else if(B.tag===18){if(K=B.return,K===null)throw Error(i(341));K.lanes|=A,k=K.alternate,k!==null&&(k.lanes|=A),_c(K,A,p),K=null}else K=B.child;if(K!==null)K.return=B;else for(K=B;K!==null;){if(K===p){K=null;break}if(B=K.sibling,B!==null){B.return=K.return,K=B;break}K=K.return}B=K}}function If(p,g,A,D){p=null;for(var B=g,k=!1;B!==null;){if(!k){if((B.flags&524288)!==0)k=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var K=B.alternate;if(K===null)throw Error(i(387));if(K=K.memoizedProps,K!==null){var ie=B.type;$i(B.pendingProps.value,K.value)||(p!==null?p.push(ie):p=[ie])}}else if(B===ge.current){if(K=B.alternate,K===null)throw Error(i(387));K.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(p!==null?p.push(qA):p=[qA])}B=B.return}p!==null&&Nx(g,p,A,D),g.flags|=262144}function Zp(p){for(p=p.firstContext;p!==null;){if(!$i(p.context._currentValue,p.memoizedValue))return!0;p=p.next}return!1}function rd(p){yc=p,es=null,p=p.dependencies,p!==null&&(p.firstContext=null)}function _a(p){return eA(yc,p)}function cg(p,g){return yc===null&&rd(p),eA(p,g)}function eA(p,g){var A=g._currentValue;if(g={context:g,memoizedValue:A,next:null},es===null){if(p===null)throw Error(i(308));es=g,p.dependencies={lanes:0,firstContext:g},p.flags|=524288}else es=es.next=g;return A}var Nw=typeof AbortController<"u"?AbortController:function(){var p=[],g=this.signal={aborted:!1,addEventListener:function(A,D){p.push(D)}};this.abort=function(){g.aborted=!0,p.forEach(function(A){return A()})}},Iw=n.unstable_scheduleCallback,tA=n.unstable_NormalPriority,tn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nA(){return{controller:new Nw,data:new Map,refCount:0}}function Ba(p){p.refCount--,p.refCount===0&&Iw(tA,function(){p.controller.abort()})}var ad=null,iA=0,bc=0,Tl=null;function Kp(p,g){if(ad===null){var A=ad=[];iA=0,bc=vB(),Tl={status:"pending",value:void 0,then:function(D){A.push(D)}}}return iA++,g.then(rA,rA),g}function rA(){if(--iA===0&&ad!==null){Tl!==null&&(Tl.status="fulfilled");var p=ad;ad=null,bc=0,Tl=null;for(var g=0;g<p.length;g++)(0,p[g])()}}function aA(p,g){var A=[],D={status:"pending",value:null,reason:null,then:function(B){A.push(B)}};return p.then(function(){D.status="fulfilled",D.value=g;for(var B=0;B<A.length;B++)(0,A[B])(g)},function(B){for(D.status="rejected",D.reason=B,B=0;B<A.length;B++)(0,A[B])(void 0)}),D}var Pw=G.S;G.S=function(p,g){cv=ee(),typeof g=="object"&&g!==null&&typeof g.then=="function"&&Kp(p,g),Pw!==null&&Pw(p,g)};var Pf=J(null);function vu(){var p=Pf.current;return p!==null?p:Ei.pooledCache}function Jp(p,g){g===null?se(Pf,Pf.current):se(Pf,g.pool)}function Ix(){var p=vu();return p===null?null:{parent:tn._currentValue,pool:p}}var Bf=Error(i(460)),fg=Error(i(474)),Cl=Error(i(542)),hg={then:function(){}};function Bw(p){return p=p.status,p==="fulfilled"||p==="rejected"}function sA(p,g,A){switch(A=p[A],A===void 0?p.push(g):A!==g&&(g.then(lu,lu),g=A),g.status){case"fulfilled":return g.value;case"rejected":throw p=g.reason,oA(p),p;default:if(typeof g.status=="string")g.then(lu,lu);else{if(p=Ei,p!==null&&100<p.shellSuspendCounter)throw Error(i(482));p=g,p.status="pending",p.then(function(D){if(g.status==="pending"){var B=g;B.status="fulfilled",B.value=D}},function(D){if(g.status==="pending"){var B=g;B.status="rejected",B.reason=D}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw p=g.reason,oA(p),p}throw hn=g,Bf}}function sd(p){try{var g=p._init;return g(p._payload)}catch(A){throw A!==null&&typeof A=="object"&&typeof A.then=="function"?(hn=A,Bf):A}}var hn=null;function Px(){if(hn===null)throw Error(i(459));var p=hn;return hn=null,p}function oA(p){if(p===Bf||p===Cl)throw Error(i(483))}var Of=null,zf=0;function Bx(p){var g=zf;return zf+=1,Of===null&&(Of=[]),sA(Of,p,g)}function dg(p,g){g=g.props.ref,p.ref=g!==void 0?g:null}function pg(p,g){throw g.$$typeof===h?Error(i(525)):(p=Object.prototype.toString.call(g),Error(i(31,p==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":p)))}function Qp(p){function g(Te,ye){if(p){var Le=Te.deletions;Le===null?(Te.deletions=[ye],Te.flags|=16):Le.push(ye)}}function A(Te,ye){if(!p)return null;for(;ye!==null;)g(Te,ye),ye=ye.sibling;return null}function D(Te){for(var ye=new Map;Te!==null;)Te.key!==null?ye.set(Te.key,Te):ye.set(Te.index,Te),Te=Te.sibling;return ye}function B(Te,ye){return Te=fu(Te,ye),Te.index=0,Te.sibling=null,Te}function k(Te,ye,Le){return Te.index=Le,p?(Le=Te.alternate,Le!==null?(Le=Le.index,Le<ye?(Te.flags|=67108866,ye):Le):(Te.flags|=67108866,ye)):(Te.flags|=1048576,ye)}function K(Te){return p&&Te.alternate===null&&(Te.flags|=67108866),Te}function ie(Te,ye,Le,$e){return ye===null||ye.tag!==6?(ye=Ex(Le,Te.mode,$e),ye.return=Te,ye):(ye=B(ye,Le),ye.return=Te,ye)}function ve(Te,ye,Le,$e){var ln=Le.type;return ln===m?Ye(Te,ye,Le.props.children,$e,Le.key):ye!==null&&(ye.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===P&&sd(ln)===ye.type)?(ye=B(ye,Le.props),dg(ye,Le),ye.return=Te,ye):(ye=sg(Le.type,Le.key,Le.props,null,Te.mode,$e),dg(ye,Le),ye.return=Te,ye)}function Ne(Te,ye,Le,$e){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Le.containerInfo||ye.stateNode.implementation!==Le.implementation?(ye=Al(Le,Te.mode,$e),ye.return=Te,ye):(ye=B(ye,Le.children||[]),ye.return=Te,ye)}function Ye(Te,ye,Le,$e,ln){return ye===null||ye.tag!==7?(ye=vc(Le,Te.mode,$e,ln),ye.return=Te,ye):(ye=B(ye,Le),ye.return=Te,ye)}function tt(Te,ye,Le){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=Ex(""+ye,Te.mode,Le),ye.return=Te,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case d:return Le=sg(ye.type,ye.key,ye.props,null,Te.mode,Le),dg(Le,ye),Le.return=Te,Le;case v:return ye=Al(ye,Te.mode,Le),ye.return=Te,ye;case P:return ye=sd(ye),tt(Te,ye,Le)}if(W(ye)||V(ye))return ye=vc(ye,Te.mode,Le,null),ye.return=Te,ye;if(typeof ye.then=="function")return tt(Te,Bx(ye),Le);if(ye.$$typeof===M)return tt(Te,cg(Te,ye),Le);pg(Te,ye)}return null}function ze(Te,ye,Le,$e){var ln=ye!==null?ye.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return ln!==null?null:ie(Te,ye,""+Le,$e);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case d:return Le.key===ln?ve(Te,ye,Le,$e):null;case v:return Le.key===ln?Ne(Te,ye,Le,$e):null;case P:return Le=sd(Le),ze(Te,ye,Le,$e)}if(W(Le)||V(Le))return ln!==null?null:Ye(Te,ye,Le,$e,null);if(typeof Le.then=="function")return ze(Te,ye,Bx(Le),$e);if(Le.$$typeof===M)return ze(Te,ye,cg(Te,Le),$e);pg(Te,Le)}return null}function He(Te,ye,Le,$e,ln){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return Te=Te.get(Le)||null,ie(ye,Te,""+$e,ln);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case d:return Te=Te.get($e.key===null?Le:$e.key)||null,ve(ye,Te,$e,ln);case v:return Te=Te.get($e.key===null?Le:$e.key)||null,Ne(ye,Te,$e,ln);case P:return $e=sd($e),He(Te,ye,Le,$e,ln)}if(W($e)||V($e))return Te=Te.get(Le)||null,Ye(ye,Te,$e,ln,null);if(typeof $e.then=="function")return He(Te,ye,Le,Bx($e),ln);if($e.$$typeof===M)return He(Te,ye,Le,cg(ye,$e),ln);pg(ye,$e)}return null}function Xt(Te,ye,Le,$e){for(var ln=null,Ri=null,Jt=ye,jn=ye=0,fi=null;Jt!==null&&jn<Le.length;jn++){Jt.index>jn?(fi=Jt,Jt=null):fi=Jt.sibling;var Li=ze(Te,Jt,Le[jn],$e);if(Li===null){Jt===null&&(Jt=fi);break}p&&Jt&&Li.alternate===null&&g(Te,Jt),ye=k(Li,ye,jn),Ri===null?ln=Li:Ri.sibling=Li,Ri=Li,Jt=fi}if(jn===Le.length)return A(Te,Jt),ni&&mc(Te,jn),ln;if(Jt===null){for(;jn<Le.length;jn++)Jt=tt(Te,Le[jn],$e),Jt!==null&&(ye=k(Jt,ye,jn),Ri===null?ln=Jt:Ri.sibling=Jt,Ri=Jt);return ni&&mc(Te,jn),ln}for(Jt=D(Jt);jn<Le.length;jn++)fi=He(Jt,Te,jn,Le[jn],$e),fi!==null&&(p&&fi.alternate!==null&&Jt.delete(fi.key===null?jn:fi.key),ye=k(fi,ye,jn),Ri===null?ln=fi:Ri.sibling=fi,Ri=fi);return p&&Jt.forEach(function(yv){return g(Te,yv)}),ni&&mc(Te,jn),ln}function mn(Te,ye,Le,$e){if(Le==null)throw Error(i(151));for(var ln=null,Ri=null,Jt=ye,jn=ye=0,fi=null,Li=Le.next();Jt!==null&&!Li.done;jn++,Li=Le.next()){Jt.index>jn?(fi=Jt,Jt=null):fi=Jt.sibling;var yv=ze(Te,Jt,Li.value,$e);if(yv===null){Jt===null&&(Jt=fi);break}p&&Jt&&yv.alternate===null&&g(Te,Jt),ye=k(yv,ye,jn),Ri===null?ln=yv:Ri.sibling=yv,Ri=yv,Jt=fi}if(Li.done)return A(Te,Jt),ni&&mc(Te,jn),ln;if(Jt===null){for(;!Li.done;jn++,Li=Le.next())Li=tt(Te,Li.value,$e),Li!==null&&(ye=k(Li,ye,jn),Ri===null?ln=Li:Ri.sibling=Li,Ri=Li);return ni&&mc(Te,jn),ln}for(Jt=D(Jt);!Li.done;jn++,Li=Le.next())Li=He(Jt,Te,jn,Li.value,$e),Li!==null&&(p&&Li.alternate!==null&&Jt.delete(Li.key===null?jn:Li.key),ye=k(Li,ye,jn),Ri===null?ln=Li:Ri.sibling=Li,Ri=Li);return p&&Jt.forEach(function(V0e){return g(Te,V0e)}),ni&&mc(Te,jn),ln}function Ki(Te,ye,Le,$e){if(typeof Le=="object"&&Le!==null&&Le.type===m&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case d:e:{for(var ln=Le.key;ye!==null;){if(ye.key===ln){if(ln=Le.type,ln===m){if(ye.tag===7){A(Te,ye.sibling),$e=B(ye,Le.props.children),$e.return=Te,Te=$e;break e}}else if(ye.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===P&&sd(ln)===ye.type){A(Te,ye.sibling),$e=B(ye,Le.props),dg($e,Le),$e.return=Te,Te=$e;break e}A(Te,ye);break}else g(Te,ye);ye=ye.sibling}Le.type===m?($e=vc(Le.props.children,Te.mode,$e,Le.key),$e.return=Te,Te=$e):($e=sg(Le.type,Le.key,Le.props,null,Te.mode,$e),dg($e,Le),$e.return=Te,Te=$e)}return K(Te);case v:e:{for(ln=Le.key;ye!==null;){if(ye.key===ln)if(ye.tag===4&&ye.stateNode.containerInfo===Le.containerInfo&&ye.stateNode.implementation===Le.implementation){A(Te,ye.sibling),$e=B(ye,Le.children||[]),$e.return=Te,Te=$e;break e}else{A(Te,ye);break}else g(Te,ye);ye=ye.sibling}$e=Al(Le,Te.mode,$e),$e.return=Te,Te=$e}return K(Te);case P:return Le=sd(Le),Ki(Te,ye,Le,$e)}if(W(Le))return Xt(Te,ye,Le,$e);if(V(Le)){if(ln=V(Le),typeof ln!="function")throw Error(i(150));return Le=ln.call(Le),mn(Te,ye,Le,$e)}if(typeof Le.then=="function")return Ki(Te,ye,Bx(Le),$e);if(Le.$$typeof===M)return Ki(Te,ye,cg(Te,Le),$e);pg(Te,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,ye!==null&&ye.tag===6?(A(Te,ye.sibling),$e=B(ye,Le),$e.return=Te,Te=$e):(A(Te,ye),$e=Ex(Le,Te.mode,$e),$e.return=Te,Te=$e),K(Te)):A(Te,ye)}return function(Te,ye,Le,$e){try{zf=0;var ln=Ki(Te,ye,Le,$e);return Of=null,ln}catch(Jt){if(Jt===Bf||Jt===Cl)throw Jt;var Ri=bs(29,Jt,null,Te.mode);return Ri.lanes=$e,Ri.return=Te,Ri}finally{}}}var od=Qp(!0),Ow=Qp(!1),kf=!1;function lA(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uA(p,g){p=p.updateQueue,g.updateQueue===p&&(g.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,callbacks:null})}function mu(p){return{lane:p,tag:0,payload:null,callback:null,next:null}}function Sc(p,g,A){var D=p.updateQueue;if(D===null)return null;if(D=D.shared,(ui&2)!==0){var B=D.pending;return B===null?g.next=g:(g.next=B.next,B.next=g),D.pending=g,g=Yp(p),Cx(p,null,A),g}return ag(p,D,g,A),Yp(p)}function Ff(p,g,A){if(g=g.updateQueue,g!==null&&(g=g.shared,(A&4194048)!==0)){var D=g.lanes;D&=p.pendingLanes,A|=D,g.lanes=A,jh(p,A)}}function Ox(p,g){var A=p.updateQueue,D=p.alternate;if(D!==null&&(D=D.updateQueue,A===D)){var B=null,k=null;if(A=A.firstBaseUpdate,A!==null){do{var K={lane:A.lane,tag:A.tag,payload:A.payload,callback:null,next:null};k===null?B=k=K:k=k.next=K,A=A.next}while(A!==null);k===null?B=k=g:k=k.next=g}else B=k=g;A={baseState:D.baseState,firstBaseUpdate:B,lastBaseUpdate:k,shared:D.shared,callbacks:D.callbacks},p.updateQueue=A;return}p=A.lastBaseUpdate,p===null?A.firstBaseUpdate=g:p.next=g,A.lastBaseUpdate=g}var cA=!1;function vg(){if(cA){var p=Tl;if(p!==null)throw p}}function ld(p,g,A,D){cA=!1;var B=p.updateQueue;kf=!1;var k=B.firstBaseUpdate,K=B.lastBaseUpdate,ie=B.shared.pending;if(ie!==null){B.shared.pending=null;var ve=ie,Ne=ve.next;ve.next=null,K===null?k=Ne:K.next=Ne,K=ve;var Ye=p.alternate;Ye!==null&&(Ye=Ye.updateQueue,ie=Ye.lastBaseUpdate,ie!==K&&(ie===null?Ye.firstBaseUpdate=Ne:ie.next=Ne,Ye.lastBaseUpdate=ve))}if(k!==null){var tt=B.baseState;K=0,Ye=Ne=ve=null,ie=k;do{var ze=ie.lane&-536870913,He=ze!==ie.lane;if(He?($n&ze)===ze:(D&ze)===ze){ze!==0&&ze===bc&&(cA=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:ie.tag,payload:ie.payload,callback:null,next:null});e:{var Xt=p,mn=ie;ze=g;var Ki=A;switch(mn.tag){case 1:if(Xt=mn.payload,typeof Xt=="function"){tt=Xt.call(Ki,tt,ze);break e}tt=Xt;break e;case 3:Xt.flags=Xt.flags&-65537|128;case 0:if(Xt=mn.payload,ze=typeof Xt=="function"?Xt.call(Ki,tt,ze):Xt,ze==null)break e;tt=f({},tt,ze);break e;case 2:kf=!0}}ze=ie.callback,ze!==null&&(p.flags|=64,He&&(p.flags|=8192),He=B.callbacks,He===null?B.callbacks=[ze]:He.push(ze))}else He={lane:ze,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},Ye===null?(Ne=Ye=He,ve=tt):Ye=Ye.next=He,K|=ze;if(ie=ie.next,ie===null){if(ie=B.shared.pending,ie===null)break;He=ie,ie=He.next,He.next=null,B.lastBaseUpdate=He,B.shared.pending=null}}while(!0);Ye===null&&(ve=tt),B.baseState=ve,B.firstBaseUpdate=Ne,B.lastBaseUpdate=Ye,k===null&&(B.shared.lanes=0),Do|=K,p.lanes=K,p.memoizedState=tt}}function gu(p,g){if(typeof p!="function")throw Error(i(191,p));p.call(g)}function Oa(p,g){var A=p.callbacks;if(A!==null)for(p.callbacks=null,p=0;p<A.length;p++)gu(A[p],g)}var xo=J(null),As=J(0);function fA(p,g){p=Lr,se(As,p),se(xo,g),Lr=p|g.baseLanes}function hA(){se(As,Lr),se(xo,xo.current)}function ts(){Lr=As.current,Q(xo),Q(As)}var ra=J(null),Qo=null;function Uf(p){var g=p.alternate;se(pr,pr.current&1),se(ra,p),Qo===null&&(g===null||xo.current!==null||g.memoizedState!==null)&&(Qo=p)}function dA(p){se(pr,pr.current),se(ra,p),Qo===null&&(Qo=p)}function zw(p){p.tag===22?(se(pr,pr.current),se(ra,p),Qo===null&&(Qo=p)):Ac()}function Ac(){se(pr,pr.current),se(ra,ra.current)}function _o(p){Q(ra),Qo===p&&(Qo=null),Q(pr)}var pr=J(0);function zx(p){for(var g=p;g!==null;){if(g.tag===13){var A=g.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||wB(A)||EB(A)))return g}else if(g.tag===19&&(g.memoizedProps.revealOrder==="forwards"||g.memoizedProps.revealOrder==="backwards"||g.memoizedProps.revealOrder==="unstable_legacy-backwards"||g.memoizedProps.revealOrder==="together")){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var js=0,gn=null,zi=null,Ur=null,kx=!1,yu=!1,ud=!1,Fx=0,mg=0,xu=null,aB=0;function vr(){throw Error(i(321))}function pA(p,g){if(g===null)return!1;for(var A=0;A<g.length&&A<p.length;A++)if(!$i(p[A],g[A]))return!1;return!0}function vA(p,g,A,D,B,k){return js=k,gn=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,G.H=p===null||p.memoizedState===null?iE:tv,ud=!1,k=A(D,B),ud=!1,yu&&(k=Fw(g,A,D,B)),kw(p),k}function kw(p){G.H=bg;var g=zi!==null&&zi.next!==null;if(js=0,Ur=zi=gn=null,kx=!1,mg=0,xu=null,g)throw Error(i(300));p===null||er||(p=p.dependencies,p!==null&&Zp(p)&&(er=!0))}function Fw(p,g,A,D){gn=p;var B=0;do{if(yu&&(xu=null),mg=0,yu=!1,25<=B)throw Error(i(301));if(B+=1,Ur=zi=null,p.updateQueue!=null){var k=p.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}G.H=Sg,k=g(A,D)}while(yu);return k}function sB(){var p=G.H,g=p.useState()[0];return g=typeof g.then=="function"?yg(g):g,p=p.useState()[0],(zi!==null?zi.memoizedState:null)!==p&&(gn.flags|=1024),g}function mA(){var p=Fx!==0;return Fx=0,p}function gA(p,g,A){g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~A}function yA(p){if(kx){for(p=p.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}kx=!1}js=0,Ur=zi=gn=null,yu=!1,mg=Fx=0,xu=null}function Ms(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?gn.memoizedState=Ur=p:Ur=Ur.next=p,Ur}function wr(){if(zi===null){var p=gn.alternate;p=p!==null?p.memoizedState:null}else p=zi.next;var g=Ur===null?gn.memoizedState:Ur.next;if(g!==null)Ur=g,zi=p;else{if(p===null)throw gn.alternate===null?Error(i(467)):Error(i(310));zi=p,p={memoizedState:zi.memoizedState,baseState:zi.baseState,baseQueue:zi.baseQueue,queue:zi.queue,next:null},Ur===null?gn.memoizedState=Ur=p:Ur=Ur.next=p}return Ur}function gg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yg(p){var g=mg;return mg+=1,xu===null&&(xu=[]),p=sA(xu,p,g),g=gn,(Ur===null?g.memoizedState:Ur.next)===null&&(g=g.alternate,G.H=g===null||g.memoizedState===null?iE:tv),p}function Ux(p){if(p!==null&&typeof p=="object"){if(typeof p.then=="function")return yg(p);if(p.$$typeof===M)return _a(p)}throw Error(i(438,String(p)))}function xA(p){var g=null,A=gn.updateQueue;if(A!==null&&(g=A.memoCache),g==null){var D=gn.alternate;D!==null&&(D=D.updateQueue,D!==null&&(D=D.memoCache,D!=null&&(g={data:D.data.map(function(B){return B.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),A===null&&(A=gg(),gn.updateQueue=A),A.memoCache=g,A=g.data[g.index],A===void 0)for(A=g.data[g.index]=Array(p),D=0;D<p;D++)A[D]=N;return g.index++,A}function Mc(p,g){return typeof g=="function"?g(p):g}function Gx(p){var g=wr();return _A(g,zi,p)}function _A(p,g,A){var D=p.queue;if(D===null)throw Error(i(311));D.lastRenderedReducer=A;var B=p.baseQueue,k=D.pending;if(k!==null){if(B!==null){var K=B.next;B.next=k.next,k.next=K}g.baseQueue=B=k,D.pending=null}if(k=p.baseState,B===null)p.memoizedState=k;else{g=B.next;var ie=K=null,ve=null,Ne=g,Ye=!1;do{var tt=Ne.lane&-536870913;if(tt!==Ne.lane?($n&tt)===tt:(js&tt)===tt){var ze=Ne.revertLane;if(ze===0)ve!==null&&(ve=ve.next={lane:0,revertLane:0,gesture:null,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),tt===bc&&(Ye=!0);else if((js&ze)===ze){Ne=Ne.next,ze===bc&&(Ye=!0);continue}else tt={lane:0,revertLane:Ne.revertLane,gesture:null,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},ve===null?(ie=ve=tt,K=k):ve=ve.next=tt,gn.lanes|=ze,Do|=ze;tt=Ne.action,ud&&A(k,tt),k=Ne.hasEagerState?Ne.eagerState:A(k,tt)}else ze={lane:tt,revertLane:Ne.revertLane,gesture:Ne.gesture,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},ve===null?(ie=ve=ze,K=k):ve=ve.next=ze,gn.lanes|=tt,Do|=tt;Ne=Ne.next}while(Ne!==null&&Ne!==g);if(ve===null?K=k:ve.next=ie,!$i(k,p.memoizedState)&&(er=!0,Ye&&(A=Tl,A!==null)))throw A;p.memoizedState=k,p.baseState=K,p.baseQueue=ve,D.lastRenderedState=k}return B===null&&(D.lanes=0),[p.memoizedState,D.dispatch]}function Vx(p){var g=wr(),A=g.queue;if(A===null)throw Error(i(311));A.lastRenderedReducer=p;var D=A.dispatch,B=A.pending,k=g.memoizedState;if(B!==null){A.pending=null;var K=B=B.next;do k=p(k,K.action),K=K.next;while(K!==B);$i(k,g.memoizedState)||(er=!0),g.memoizedState=k,g.baseQueue===null&&(g.baseState=k),A.lastRenderedState=k}return[k,D]}function bA(p,g,A){var D=gn,B=wr(),k=ni;if(k){if(A===void 0)throw Error(i(407));A=A()}else A=g();var K=!$i((zi||B).memoizedState,A);if(K&&(B.memoizedState=A,er=!0),B=B.queue,CA(AA.bind(null,D,B,p),[p]),B.getSnapshot!==g||K||Ur!==null&&Ur.memoizedState.tag&1){if(D.flags|=2048,$p(9,{destroy:void 0},SA.bind(null,D,B,A,g),null),Ei===null)throw Error(i(349));k||(js&127)!==0||Uw(D,g,A)}return A}function Uw(p,g,A){p.flags|=16384,p={getSnapshot:g,value:A},g=gn.updateQueue,g===null?(g=gg(),gn.updateQueue=g,g.stores=[p]):(A=g.stores,A===null?g.stores=[p]:A.push(p))}function SA(p,g,A,D){g.value=A,g.getSnapshot=D,MA(g)&&jx(p)}function AA(p,g,A){return A(function(){MA(g)&&jx(p)})}function MA(p){var g=p.getSnapshot;p=p.value;try{var A=g();return!$i(p,A)}catch{return!0}}function jx(p){var g=Rf(p,2);g!==null&&S(g,p,2)}function xg(p){var g=Ms();if(typeof p=="function"){var A=p;if(p=A(),ud){Ht(!0);try{A()}finally{Ht(!1)}}}return g.memoizedState=g.baseState=p,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:p},g}function Gw(p,g,A,D){return p.baseState=A,_A(p,zi,typeof D=="function"?D:Mc)}function oB(p,g,A,D,B){if(Tc(p))throw Error(i(485));if(p=g.action,p!==null){var k={payload:B,action:p,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){k.listeners.push(K)}};G.T!==null?A(!0):k.isTransition=!1,D(k),A=g.pending,A===null?(k.next=g.pending=k,Vw(g,k)):(k.next=A.next,g.pending=A.next=k)}}function Vw(p,g){var A=g.action,D=g.payload,B=p.state;if(g.isTransition){var k=G.T,K={};G.T=K;try{var ie=A(B,D),ve=G.S;ve!==null&&ve(K,ie),jw(p,g,ie)}catch(Ne){Hx(p,g,Ne)}finally{k!==null&&K.types!==null&&(k.types=K.types),G.T=k}}else try{k=A(B,D),jw(p,g,k)}catch(Ne){Hx(p,g,Ne)}}function jw(p,g,A){A!==null&&typeof A=="object"&&typeof A.then=="function"?A.then(function(D){TA(p,g,D)},function(D){return Hx(p,g,D)}):TA(p,g,A)}function TA(p,g,A){g.status="fulfilled",g.value=A,Hw(g),p.state=A,g=p.pending,g!==null&&(A=g.next,A===g?p.pending=null:(A=A.next,g.next=A,Vw(p,A)))}function Hx(p,g,A){var D=p.pending;if(p.pending=null,D!==null){D=D.next;do g.status="rejected",g.reason=A,Hw(g),g=g.next;while(g!==D)}p.action=null}function Hw(p){p=p.listeners;for(var g=0;g<p.length;g++)(0,p[g])()}function Ww(p,g){return g}function Xw(p,g){if(ni){var A=Ei.formState;if(A!==null){e:{var D=gn;if(ni){if(Yi){t:{for(var B=Yi,k=xa;B.nodeType!==8;){if(!k){B=null;break t}if(B=Tu(B.nextSibling),B===null){B=null;break t}}k=B.data,B=k==="F!"||k==="F"?B:null}if(B){Yi=Tu(B.nextSibling),D=B.data==="F!";break e}}Qn(D)}D=!1}D&&(g=A[0])}}return A=Ms(),A.memoizedState=A.baseState=g,D={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ww,lastRenderedState:g},A.queue=D,A=nE.bind(null,gn,D),D.dispatch=A,D=xg(!1),k=_g.bind(null,gn,!1,D.queue),D=Ms(),B={state:g,dispatch:null,action:p,pending:null},D.queue=B,A=oB.bind(null,gn,B,k,A),B.dispatch=A,D.memoizedState=p,[g,A,!1]}function Yw(p){var g=wr();return qw(g,zi,p)}function qw(p,g,A){if(g=_A(p,g,Ww)[0],p=Gx(Mc)[0],typeof g=="object"&&g!==null&&typeof g.then=="function")try{var D=yg(g)}catch(K){throw K===Bf?Cl:K}else D=g;g=wr();var B=g.queue,k=B.dispatch;return A!==g.memoizedState&&(gn.flags|=2048,$p(9,{destroy:void 0},lB.bind(null,B,A),null)),[D,k,p]}function lB(p,g){p.action=g}function Zw(p){var g=wr(),A=zi;if(A!==null)return qw(g,A,p);wr(),g=g.memoizedState,A=wr();var D=A.queue.dispatch;return A.memoizedState=p,[g,D,!1]}function $p(p,g,A,D){return p={tag:p,create:A,deps:D,inst:g,next:null},g=gn.updateQueue,g===null&&(g=gg(),gn.updateQueue=g),A=g.lastEffect,A===null?g.lastEffect=p.next=p:(D=A.next,A.next=p,p.next=D,g.lastEffect=p),p}function Kw(){return wr().memoizedState}function Wx(p,g,A,D){var B=Ms();gn.flags|=p,B.memoizedState=$p(1|g,{destroy:void 0},A,D===void 0?null:D)}function Xx(p,g,A,D){var B=wr();D=D===void 0?null:D;var k=B.memoizedState.inst;zi!==null&&D!==null&&pA(D,zi.memoizedState.deps)?B.memoizedState=$p(g,k,A,D):(gn.flags|=p,B.memoizedState=$p(1|g,k,A,D))}function Jw(p,g){Wx(8390656,8,p,g)}function CA(p,g){Xx(2048,8,p,g)}function Qw(p){gn.flags|=4;var g=gn.updateQueue;if(g===null)g=gg(),gn.updateQueue=g,g.events=[p];else{var A=g.events;A===null?g.events=[p]:A.push(p)}}function $w(p){var g=wr().memoizedState;return Qw({ref:g,nextImpl:p}),function(){if((ui&2)!==0)throw Error(i(440));return g.impl.apply(void 0,arguments)}}function eE(p,g){return Xx(4,2,p,g)}function bo(p,g){return Xx(4,4,p,g)}function wA(p,g){if(typeof g=="function"){p=p();var A=g(p);return function(){typeof A=="function"?A():g(null)}}if(g!=null)return p=p(),g.current=p,function(){g.current=null}}function Yx(p,g,A){A=A!=null?A.concat([p]):null,Xx(4,4,wA.bind(null,g,p),A)}function qx(){}function EA(p,g){var A=wr();g=g===void 0?null:g;var D=A.memoizedState;return g!==null&&pA(g,D[1])?D[0]:(A.memoizedState=[p,g],p)}function DA(p,g){var A=wr();g=g===void 0?null:g;var D=A.memoizedState;if(g!==null&&pA(g,D[1]))return D[0];if(D=p(),ud){Ht(!0);try{p()}finally{Ht(!1)}}return A.memoizedState=[D,g],D}function RA(p,g,A){return A===void 0||(js&1073741824)!==0&&($n&261930)===0?p.memoizedState=g:(p.memoizedState=A,p=_(),gn.lanes|=p,Do|=p,A)}function LA(p,g,A,D){return $i(A,g)?A:xo.current!==null?(p=RA(p,A,D),$i(p,g)||(er=!0),p):(js&42)===0||(js&1073741824)!==0&&($n&261930)===0?(er=!0,p.memoizedState=A):(p=_(),gn.lanes|=p,Do|=p,g)}function NA(p,g,A,D,B){var k=X.p;X.p=k!==0&&8>k?k:8;var K=G.T,ie={};G.T=ie,_g(p,!1,g,A);try{var ve=B(),Ne=G.S;if(Ne!==null&&Ne(ie,ve),ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Ye=aA(ve,D);ev(p,g,Ye,Cs(p))}else ev(p,g,D,Cs(p))}catch(tt){ev(p,g,{then:function(){},status:"rejected",reason:tt},Cs())}finally{X.p=k,K!==null&&ie.types!==null&&(K.types=ie.types),G.T=K}}function uB(){}function IA(p,g,A,D){if(p.tag!==5)throw Error(i(476));var B=tE(p).queue;NA(p,B,g,q,A===null?uB:function(){return PA(p),A(D)})}function tE(p){var g=p.memoizedState;if(g!==null)return g;g={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:q},next:null};var A={};return g.next={memoizedState:A,baseState:A,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:A},next:null},p.memoizedState=g,p=p.alternate,p!==null&&(p.memoizedState=g),g}function PA(p){var g=tE(p);g.next===null&&(g=p.alternate.memoizedState),ev(p,g.next.queue,{},Cs())}function BA(){return _a(qA)}function za(){return wr().memoizedState}function OA(){return wr().memoizedState}function cB(p){for(var g=p.return;g!==null;){switch(g.tag){case 24:case 3:var A=Cs();p=mu(A);var D=Sc(g,p,A);D!==null&&(S(D,g,A),Ff(D,g,A)),g={cache:nA()},p.payload=g;return}g=g.return}}function fB(p,g,A){var D=Cs();A={lane:D,revertLane:0,gesture:null,action:A,hasEagerState:!1,eagerState:null,next:null},Tc(p)?cd(g,A):(A=Xp(p,g,A,D),A!==null&&(S(A,p,D),Hs(A,g,D)))}function nE(p,g,A){var D=Cs();ev(p,g,A,D)}function ev(p,g,A,D){var B={lane:D,revertLane:0,gesture:null,action:A,hasEagerState:!1,eagerState:null,next:null};if(Tc(p))cd(g,B);else{var k=p.alternate;if(p.lanes===0&&(k===null||k.lanes===0)&&(k=g.lastRenderedReducer,k!==null))try{var K=g.lastRenderedState,ie=k(K,A);if(B.hasEagerState=!0,B.eagerState=ie,$i(ie,K))return ag(p,g,B,0),Ei===null&&Df(),!1}catch{}finally{}if(A=Xp(p,g,B,D),A!==null)return S(A,p,D),Hs(A,g,D),!0}return!1}function _g(p,g,A,D){if(D={lane:2,revertLane:vB(),gesture:null,action:D,hasEagerState:!1,eagerState:null,next:null},Tc(p)){if(g)throw Error(i(479))}else g=Xp(p,A,D,2),g!==null&&S(g,p,2)}function Tc(p){var g=p.alternate;return p===gn||g!==null&&g===gn}function cd(p,g){yu=kx=!0;var A=p.pending;A===null?g.next=g:(g.next=A.next,A.next=g),p.pending=g}function Hs(p,g,A){if((A&4194048)!==0){var D=g.lanes;D&=p.pendingLanes,A|=D,g.lanes=A,jh(p,A)}}var bg={readContext:_a,use:Ux,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useLayoutEffect:vr,useInsertionEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useSyncExternalStore:vr,useId:vr,useHostTransitionStatus:vr,useFormState:vr,useActionState:vr,useOptimistic:vr,useMemoCache:vr,useCacheRefresh:vr};bg.useEffectEvent=vr;var iE={readContext:_a,use:Ux,useCallback:function(p,g){return Ms().memoizedState=[p,g===void 0?null:g],p},useContext:_a,useEffect:Jw,useImperativeHandle:function(p,g,A){A=A!=null?A.concat([p]):null,Wx(4194308,4,wA.bind(null,g,p),A)},useLayoutEffect:function(p,g){return Wx(4194308,4,p,g)},useInsertionEffect:function(p,g){Wx(4,2,p,g)},useMemo:function(p,g){var A=Ms();g=g===void 0?null:g;var D=p();if(ud){Ht(!0);try{p()}finally{Ht(!1)}}return A.memoizedState=[D,g],D},useReducer:function(p,g,A){var D=Ms();if(A!==void 0){var B=A(g);if(ud){Ht(!0);try{A(g)}finally{Ht(!1)}}}else B=g;return D.memoizedState=D.baseState=B,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:B},D.queue=p,p=p.dispatch=fB.bind(null,gn,p),[D.memoizedState,p]},useRef:function(p){var g=Ms();return p={current:p},g.memoizedState=p},useState:function(p){p=xg(p);var g=p.queue,A=nE.bind(null,gn,g);return g.dispatch=A,[p.memoizedState,A]},useDebugValue:qx,useDeferredValue:function(p,g){var A=Ms();return RA(A,p,g)},useTransition:function(){var p=xg(!1);return p=NA.bind(null,gn,p.queue,!0,!1),Ms().memoizedState=p,[!1,p]},useSyncExternalStore:function(p,g,A){var D=gn,B=Ms();if(ni){if(A===void 0)throw Error(i(407));A=A()}else{if(A=g(),Ei===null)throw Error(i(349));($n&127)!==0||Uw(D,g,A)}B.memoizedState=A;var k={value:A,getSnapshot:g};return B.queue=k,Jw(AA.bind(null,D,k,p),[p]),D.flags|=2048,$p(9,{destroy:void 0},SA.bind(null,D,k,A,g),null),A},useId:function(){var p=Ms(),g=Ei.identifierPrefix;if(ni){var A=pu,D=du;A=(D&~(1<<32-de(D)-1)).toString(32)+A,g="_"+g+"R_"+A,A=Fx++,0<A&&(g+="H"+A.toString(32)),g+="_"}else A=aB++,g="_"+g+"r_"+A.toString(32)+"_";return p.memoizedState=g},useHostTransitionStatus:BA,useFormState:Xw,useActionState:Xw,useOptimistic:function(p){var g=Ms();g.memoizedState=g.baseState=p;var A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=A,g=_g.bind(null,gn,!0,A),A.dispatch=g,[p,g]},useMemoCache:xA,useCacheRefresh:function(){return Ms().memoizedState=cB.bind(null,gn)},useEffectEvent:function(p){var g=Ms(),A={impl:p};return g.memoizedState=A,function(){if((ui&2)!==0)throw Error(i(440));return A.impl.apply(void 0,arguments)}}},tv={readContext:_a,use:Ux,useCallback:EA,useContext:_a,useEffect:CA,useImperativeHandle:Yx,useInsertionEffect:eE,useLayoutEffect:bo,useMemo:DA,useReducer:Gx,useRef:Kw,useState:function(){return Gx(Mc)},useDebugValue:qx,useDeferredValue:function(p,g){var A=wr();return LA(A,zi.memoizedState,p,g)},useTransition:function(){var p=Gx(Mc)[0],g=wr().memoizedState;return[typeof p=="boolean"?p:yg(p),g]},useSyncExternalStore:bA,useId:za,useHostTransitionStatus:BA,useFormState:Yw,useActionState:Yw,useOptimistic:function(p,g){var A=wr();return Gw(A,zi,p,g)},useMemoCache:xA,useCacheRefresh:OA};tv.useEffectEvent=$w;var Sg={readContext:_a,use:Ux,useCallback:EA,useContext:_a,useEffect:CA,useImperativeHandle:Yx,useInsertionEffect:eE,useLayoutEffect:bo,useMemo:DA,useReducer:Vx,useRef:Kw,useState:function(){return Vx(Mc)},useDebugValue:qx,useDeferredValue:function(p,g){var A=wr();return zi===null?RA(A,p,g):LA(A,zi.memoizedState,p,g)},useTransition:function(){var p=Vx(Mc)[0],g=wr().memoizedState;return[typeof p=="boolean"?p:yg(p),g]},useSyncExternalStore:bA,useId:za,useHostTransitionStatus:BA,useFormState:Zw,useActionState:Zw,useOptimistic:function(p,g){var A=wr();return zi!==null?Gw(A,zi,p,g):(A.baseState=p,[p,A.queue.dispatch])},useMemoCache:xA,useCacheRefresh:OA};Sg.useEffectEvent=$w;function nv(p,g,A,D){g=p.memoizedState,A=A(D,g),A=A==null?g:f({},g,A),p.memoizedState=A,p.lanes===0&&(p.updateQueue.baseState=A)}var Ag={enqueueSetState:function(p,g,A){p=p._reactInternals;var D=Cs(),B=mu(D);B.payload=g,A!=null&&(B.callback=A),g=Sc(p,B,D),g!==null&&(S(g,p,D),Ff(g,p,D))},enqueueReplaceState:function(p,g,A){p=p._reactInternals;var D=Cs(),B=mu(D);B.tag=1,B.payload=g,A!=null&&(B.callback=A),g=Sc(p,B,D),g!==null&&(S(g,p,D),Ff(g,p,D))},enqueueForceUpdate:function(p,g){p=p._reactInternals;var A=Cs(),D=mu(A);D.tag=2,g!=null&&(D.callback=g),g=Sc(p,D,A),g!==null&&(S(g,p,A),Ff(g,p,A))}};function rE(p,g,A,D,B,k,K){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(D,k,K):g.prototype&&g.prototype.isPureReactComponent?!Up(A,D)||!Up(B,k):!0}function aE(p,g,A,D){p=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(A,D),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(A,D),g.state!==p&&Ag.enqueueReplaceState(g,g.state,null)}function ka(p,g){var A=g;if("ref"in g){A={};for(var D in g)D!=="ref"&&(A[D]=g[D])}if(p=p.defaultProps){A===g&&(A=f({},A));for(var B in p)A[B]===void 0&&(A[B]=p[B])}return A}function zA(p){Ef(p)}function sE(p){console.error(p)}function Zx(p){Ef(p)}function Kx(p,g){try{var A=p.onUncaughtError;A(g.value,{componentStack:g.stack})}catch(D){setTimeout(function(){throw D})}}function oE(p,g,A){try{var D=p.onCaughtError;D(A.value,{componentStack:A.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function kA(p,g,A){return A=mu(A),A.tag=3,A.payload={element:null},A.callback=function(){Kx(p,g)},A}function iv(p){return p=mu(p),p.tag=3,p}function Ws(p,g,A,D){var B=A.type.getDerivedStateFromError;if(typeof B=="function"){var k=D.value;p.payload=function(){return B(k)},p.callback=function(){oE(g,A,D)}}var K=A.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(p.callback=function(){oE(g,A,D),typeof B!="function"&&(Mu===null?Mu=new Set([this]):Mu.add(this));var ie=D.stack;this.componentDidCatch(D.value,{componentStack:ie!==null?ie:""})})}function So(p,g,A,D,B){if(A.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){if(g=A.alternate,g!==null&&If(g,A,B,!0),A=ra.current,A!==null){switch(A.tag){case 31:case 13:return Qo===null?Tn():A.alternate===null&&Di===0&&(Di=3),A.flags&=-257,A.flags|=65536,A.lanes=B,D===hg?A.flags|=16384:(g=A.updateQueue,g===null?A.updateQueue=new Set([D]):g.add(D),hB(p,D,B)),!1;case 22:return A.flags|=65536,D===hg?A.flags|=16384:(g=A.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([D])},A.updateQueue=g):(A=g.retryQueue,A===null?g.retryQueue=new Set([D]):A.add(D)),hB(p,D,B)),!1}throw Error(i(435,A.tag))}return hB(p,D,B),Tn(),!1}if(ni)return g=ra.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=B,D!==Rx&&(p=Error(i(422),{cause:D}),ug(Gs(p,A)))):(D!==Rx&&(g=Error(i(423),{cause:D}),ug(Gs(g,A))),p=p.current.alternate,p.flags|=65536,B&=-B,p.lanes|=B,D=Gs(D,A),B=kA(p.stateNode,D,B),Ox(p,B),Di!==4&&(Di=2)),!1;var k=Error(i(520),{cause:D});if(k=Gs(k,A),Ll===null?Ll=[k]:Ll.push(k),Di!==4&&(Di=2),g===null)return!0;D=Gs(D,A),A=g;do{switch(A.tag){case 3:return A.flags|=65536,p=B&-B,A.lanes|=p,p=kA(A.stateNode,D,p),Ox(A,p),!1;case 1:if(g=A.type,k=A.stateNode,(A.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Mu===null||!Mu.has(k))))return A.flags|=65536,B&=-B,A.lanes|=B,B=iv(B),Ws(B,p,A,D),Ox(A,B),!1}A=A.return}while(A!==null);return!1}var Jx=Error(i(461)),er=!1;function mr(p,g,A,D){g.child=p===null?Ow(g,null,A,D):od(g,p.child,A,D)}function Mg(p,g,A,D,B){A=A.render;var k=g.ref;if("ref"in D){var K={};for(var ie in D)ie!=="ref"&&(K[ie]=D[ie])}else K=D;return rd(g),D=vA(p,g,A,K,k,B),ie=mA(),p!==null&&!er?(gA(p,g,B),Dl(p,g,B)):(ni&&ie&&Dx(g),g.flags|=1,mr(p,g,D,B),g.child)}function Tg(p,g,A,D,B){if(p===null){var k=A.type;return typeof k=="function"&&!Ss(k)&&k.defaultProps===void 0&&A.compare===null?(g.tag=15,g.type=k,Ao(p,g,k,D,B)):(p=sg(A.type,null,D,g,g.mode,B),p.ref=g.ref,p.return=g,g.child=p)}if(k=p.child,!Vf(p,B)){var K=k.memoizedProps;if(A=A.compare,A=A!==null?A:Up,A(K,D)&&p.ref===g.ref)return Dl(p,g,B)}return g.flags|=1,p=fu(k,D),p.ref=g.ref,p.return=g,g.child=p}function Ao(p,g,A,D,B){if(p!==null){var k=p.memoizedProps;if(Up(k,D)&&p.ref===g.ref)if(er=!1,g.pendingProps=D=k,Vf(p,B))(p.flags&131072)!==0&&(er=!0);else return g.lanes=p.lanes,Dl(p,g,B)}return rv(p,g,A,D,B)}function Mo(p,g,A,D){var B=D.children,k=p!==null?p.memoizedState:null;if(p===null&&g.stateNode===null&&(g.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),D.mode==="hidden"){if((g.flags&128)!==0){if(k=k!==null?k.baseLanes|A:A,p!==null){for(D=g.child=p.child,B=0;D!==null;)B=B|D.lanes|D.childLanes,D=D.sibling;D=B&~k}else D=0,g.child=null;return _u(p,g,k,A,D)}if((A&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},p!==null&&Jp(g,k!==null?k.cachePool:null),k!==null?fA(g,k):hA(),zw(g);else return D=g.lanes=536870912,_u(p,g,k!==null?k.baseLanes|A:A,A,D)}else k!==null?(Jp(g,k.cachePool),fA(g,k),Ac(),g.memoizedState=null):(p!==null&&Jp(g,null),hA(),Ac());return mr(p,g,B,A),g.child}function wl(p,g){return p!==null&&p.tag===22||g.stateNode!==null||(g.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.sibling}function _u(p,g,A,D,B){var k=vu();return k=k===null?null:{parent:tn._currentValue,pool:k},g.memoizedState={baseLanes:A,cachePool:k},p!==null&&Jp(g,null),hA(),zw(g),p!==null&&If(p,g,D,!0),g.childLanes=B,null}function $o(p,g){return g=av({mode:g.mode,children:g.children},p.mode),g.ref=p.ref,p.child=g,g.return=p,g}function ba(p,g,A){return od(g,p.child,null,A),p=$o(g,g.pendingProps),p.flags|=2,_o(g),g.memoizedState=null,p}function Cg(p,g,A){var D=g.pendingProps,B=(g.flags&128)!==0;if(g.flags&=-129,p===null){if(ni){if(D.mode==="hidden")return p=$o(g,D),g.lanes=536870912,wl(null,p);if(dA(g),(p=Yi)?(p=kH(p,xa),p=p!==null&&p.data==="&"?p:null,p!==null&&(g.memoizedState={dehydrated:p,treeContext:hu!==null?{id:du,overflow:pu}:null,retryLane:536870912,hydrationErrors:null},A=Rw(p),A.return=g,g.child=A,ya=g,Yi=null)):p=null,p===null)throw Qn(g);return g.lanes=536870912,null}return $o(g,D)}var k=p.memoizedState;if(k!==null){var K=k.dehydrated;if(dA(g),B)if(g.flags&256)g.flags&=-257,g=ba(p,g,A);else if(g.memoizedState!==null)g.child=p.child,g.flags|=128,g=null;else throw Error(i(558));else if(er||If(p,g,A,!1),B=(A&p.childLanes)!==0,er||B){if(D=Ei,D!==null&&(K=Hh(D,A),K!==0&&K!==k.retryLane))throw k.retryLane=K,Rf(p,K),S(D,p,K),Jx;Tn(),g=ba(p,g,A)}else p=k.treeContext,Yi=Tu(K.nextSibling),ya=g,ni=!0,gc=null,xa=!1,p!==null&&lg(g,p),g=$o(g,D),g.flags|=4096;return g}return p=fu(p.child,{mode:D.mode,children:D.children}),p.ref=g.ref,g.child=p,p.return=g,p}function El(p,g){var A=g.ref;if(A===null)p!==null&&p.ref!==null&&(g.flags|=4194816);else{if(typeof A!="function"&&typeof A!="object")throw Error(i(284));(p===null||p.ref!==A)&&(g.flags|=4194816)}}function rv(p,g,A,D,B){return rd(g),A=vA(p,g,A,D,void 0,B),D=mA(),p!==null&&!er?(gA(p,g,B),Dl(p,g,B)):(ni&&D&&Dx(g),g.flags|=1,mr(p,g,A,B),g.child)}function ns(p,g,A,D,B,k){return rd(g),g.updateQueue=null,A=Fw(g,D,A,B),kw(p),D=mA(),p!==null&&!er?(gA(p,g,k),Dl(p,g,k)):(ni&&D&&Dx(g),g.flags|=1,mr(p,g,A,k),g.child)}function Fa(p,g,A,D,B){if(rd(g),g.stateNode===null){var k=Lf,K=A.contextType;typeof K=="object"&&K!==null&&(k=_a(K)),k=new A(D,k),g.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=Ag,g.stateNode=k,k._reactInternals=g,k=g.stateNode,k.props=D,k.state=g.memoizedState,k.refs={},lA(g),K=A.contextType,k.context=typeof K=="object"&&K!==null?_a(K):Lf,k.state=g.memoizedState,K=A.getDerivedStateFromProps,typeof K=="function"&&(nv(g,A,K,D),k.state=g.memoizedState),typeof A.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(K=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),K!==k.state&&Ag.enqueueReplaceState(k,k.state,null),ld(g,D,k,B),vg(),k.state=g.memoizedState),typeof k.componentDidMount=="function"&&(g.flags|=4194308),D=!0}else if(p===null){k=g.stateNode;var ie=g.memoizedProps,ve=ka(A,ie);k.props=ve;var Ne=k.context,Ye=A.contextType;K=Lf,typeof Ye=="object"&&Ye!==null&&(K=_a(Ye));var tt=A.getDerivedStateFromProps;Ye=typeof tt=="function"||typeof k.getSnapshotBeforeUpdate=="function",ie=g.pendingProps!==ie,Ye||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(ie||Ne!==K)&&aE(g,k,D,K),kf=!1;var ze=g.memoizedState;k.state=ze,ld(g,D,k,B),vg(),Ne=g.memoizedState,ie||ze!==Ne||kf?(typeof tt=="function"&&(nv(g,A,tt,D),Ne=g.memoizedState),(ve=kf||rE(g,A,ve,D,ze,Ne,K))?(Ye||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(g.flags|=4194308)):(typeof k.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=D,g.memoizedState=Ne),k.props=D,k.state=Ne,k.context=K,D=ve):(typeof k.componentDidMount=="function"&&(g.flags|=4194308),D=!1)}else{k=g.stateNode,uA(p,g),K=g.memoizedProps,Ye=ka(A,K),k.props=Ye,tt=g.pendingProps,ze=k.context,Ne=A.contextType,ve=Lf,typeof Ne=="object"&&Ne!==null&&(ve=_a(Ne)),ie=A.getDerivedStateFromProps,(Ne=typeof ie=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(K!==tt||ze!==ve)&&aE(g,k,D,ve),kf=!1,ze=g.memoizedState,k.state=ze,ld(g,D,k,B),vg();var He=g.memoizedState;K!==tt||ze!==He||kf||p!==null&&p.dependencies!==null&&Zp(p.dependencies)?(typeof ie=="function"&&(nv(g,A,ie,D),He=g.memoizedState),(Ye=kf||rE(g,A,Ye,D,ze,He,ve)||p!==null&&p.dependencies!==null&&Zp(p.dependencies))?(Ne||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(D,He,ve),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(D,He,ve)),typeof k.componentDidUpdate=="function"&&(g.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof k.componentDidUpdate!="function"||K===p.memoizedProps&&ze===p.memoizedState||(g.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||K===p.memoizedProps&&ze===p.memoizedState||(g.flags|=1024),g.memoizedProps=D,g.memoizedState=He),k.props=D,k.state=He,k.context=ve,D=Ye):(typeof k.componentDidUpdate!="function"||K===p.memoizedProps&&ze===p.memoizedState||(g.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||K===p.memoizedProps&&ze===p.memoizedState||(g.flags|=1024),D=!1)}return k=D,El(p,g),D=(g.flags&128)!==0,k||D?(k=g.stateNode,A=D&&typeof A.getDerivedStateFromError!="function"?null:k.render(),g.flags|=1,p!==null&&D?(g.child=od(g,p.child,null,B),g.child=od(g,null,A,B)):mr(p,g,A,B),g.memoizedState=k.state,p=g.child):p=Dl(p,g,B),p}function di(p,g,A,D){return id(),g.flags|=256,mr(p,g,A,D),g.child}var To={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function el(p){return{baseLanes:p,cachePool:Ix()}}function wg(p,g,A){return p=p!==null?p.childLanes&~A:0,g&&(p|=ci),p}function Co(p,g,A){var D=g.pendingProps,B=!1,k=(g.flags&128)!==0,K;if((K=k)||(K=p!==null&&p.memoizedState===null?!1:(pr.current&2)!==0),K&&(B=!0,g.flags&=-129),K=(g.flags&32)!==0,g.flags&=-33,p===null){if(ni){if(B?Uf(g):Ac(),(p=Yi)?(p=kH(p,xa),p=p!==null&&p.data!=="&"?p:null,p!==null&&(g.memoizedState={dehydrated:p,treeContext:hu!==null?{id:du,overflow:pu}:null,retryLane:536870912,hydrationErrors:null},A=Rw(p),A.return=g,g.child=A,ya=g,Yi=null)):p=null,p===null)throw Qn(g);return EB(p)?g.lanes=32:g.lanes=536870912,null}var ie=D.children;return D=D.fallback,B?(Ac(),B=g.mode,ie=av({mode:"hidden",children:ie},B),D=vc(D,B,A,null),ie.return=g,D.return=g,ie.sibling=D,g.child=ie,D=g.child,D.memoizedState=el(A),D.childLanes=wg(p,K,A),g.memoizedState=To,wl(null,D)):(Uf(g),Gf(g,ie))}var ve=p.memoizedState;if(ve!==null&&(ie=ve.dehydrated,ie!==null)){if(k)g.flags&256?(Uf(g),g.flags&=-257,g=sv(p,g,A)):g.memoizedState!==null?(Ac(),g.child=p.child,g.flags|=128,g=null):(Ac(),ie=D.fallback,B=g.mode,D=av({mode:"visible",children:D.children},B),ie=vc(ie,B,A,null),ie.flags|=2,D.return=g,ie.return=g,D.sibling=ie,g.child=D,od(g,p.child,null,A),D=g.child,D.memoizedState=el(A),D.childLanes=wg(p,K,A),g.memoizedState=To,g=wl(null,D));else if(Uf(g),EB(ie)){if(K=ie.nextSibling&&ie.nextSibling.dataset,K)var Ne=K.dgst;K=Ne,D=Error(i(419)),D.stack="",D.digest=K,ug({value:D,source:null,stack:null}),g=sv(p,g,A)}else if(er||If(p,g,A,!1),K=(A&p.childLanes)!==0,er||K){if(K=Ei,K!==null&&(D=Hh(K,A),D!==0&&D!==ve.retryLane))throw ve.retryLane=D,Rf(p,D),S(K,p,D),Jx;wB(ie)||Tn(),g=sv(p,g,A)}else wB(ie)?(g.flags|=192,g.child=p.child,g=null):(p=ve.treeContext,Yi=Tu(ie.nextSibling),ya=g,ni=!0,gc=null,xa=!1,p!==null&&lg(g,p),g=Gf(g,D.children),g.flags|=4096);return g}return B?(Ac(),ie=D.fallback,B=g.mode,ve=p.child,Ne=ve.sibling,D=fu(ve,{mode:"hidden",children:D.children}),D.subtreeFlags=ve.subtreeFlags&65011712,Ne!==null?ie=fu(Ne,ie):(ie=vc(ie,B,A,null),ie.flags|=2),ie.return=g,D.return=g,D.sibling=ie,g.child=D,wl(null,D),D=g.child,ie=p.child.memoizedState,ie===null?ie=el(A):(B=ie.cachePool,B!==null?(ve=tn._currentValue,B=B.parent!==ve?{parent:ve,pool:ve}:B):B=Ix(),ie={baseLanes:ie.baseLanes|A,cachePool:B}),D.memoizedState=ie,D.childLanes=wg(p,K,A),g.memoizedState=To,wl(p.child,D)):(Uf(g),A=p.child,p=A.sibling,A=fu(A,{mode:"visible",children:D.children}),A.return=g,A.sibling=null,p!==null&&(K=g.deletions,K===null?(g.deletions=[p],g.flags|=16):K.push(p)),g.child=A,g.memoizedState=null,A)}function Gf(p,g){return g=av({mode:"visible",children:g},p.mode),g.return=p,p.child=g}function av(p,g){return p=bs(22,p,null,g),p.lanes=0,p}function sv(p,g,A){return od(g,p.child,null,A),p=Gf(g,g.pendingProps.children),p.flags|=2,g.memoizedState=null,p}function fd(p,g,A){p.lanes|=g;var D=p.alternate;D!==null&&(D.lanes|=g),_c(p.return,g,A)}function Eg(p,g,A,D,B,k){var K=p.memoizedState;K===null?p.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:D,tail:A,tailMode:B,treeForkCount:k}:(K.isBackwards=g,K.rendering=null,K.renderingStartTime=0,K.last=D,K.tail=A,K.tailMode=B,K.treeForkCount=k)}function Dg(p,g,A){var D=g.pendingProps,B=D.revealOrder,k=D.tail;D=D.children;var K=pr.current,ie=(K&2)!==0;if(ie?(K=K&1|2,g.flags|=128):K&=1,se(pr,K),mr(p,g,D,A),D=ni?qp:0,!ie&&p!==null&&(p.flags&128)!==0)e:for(p=g.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&fd(p,A,g);else if(p.tag===19)fd(p,A,g);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===g)break e;for(;p.sibling===null;){if(p.return===null||p.return===g)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}switch(B){case"forwards":for(A=g.child,B=null;A!==null;)p=A.alternate,p!==null&&zx(p)===null&&(B=A),A=A.sibling;A=B,A===null?(B=g.child,g.child=null):(B=A.sibling,A.sibling=null),Eg(g,!1,B,A,k,D);break;case"backwards":case"unstable_legacy-backwards":for(A=null,B=g.child,g.child=null;B!==null;){if(p=B.alternate,p!==null&&zx(p)===null){g.child=B;break}p=B.sibling,B.sibling=A,A=B,B=p}Eg(g,!0,A,null,k,D);break;case"together":Eg(g,!1,null,null,void 0,D);break;default:g.memoizedState=null}return g.child}function Dl(p,g,A){if(p!==null&&(g.dependencies=p.dependencies),Do|=g.lanes,(A&g.childLanes)===0)if(p!==null){if(If(p,g,A,!1),(A&g.childLanes)===0)return null}else return null;if(p!==null&&g.child!==p.child)throw Error(i(153));if(g.child!==null){for(p=g.child,A=fu(p,p.pendingProps),g.child=A,A.return=g;p.sibling!==null;)p=p.sibling,A=A.sibling=fu(p,p.pendingProps),A.return=g;A.sibling=null}return g.child}function Vf(p,g){return(p.lanes&g)!==0?!0:(p=p.dependencies,!!(p!==null&&Zp(p)))}function Rg(p,g,A){switch(g.tag){case 3:Se(g,g.stateNode.containerInfo),xc(g,tn,p.memoizedState.cache),id();break;case 27:case 5:Ue(g);break;case 4:Se(g,g.stateNode.containerInfo);break;case 10:xc(g,g.type,g.memoizedProps.value);break;case 31:if(g.memoizedState!==null)return g.flags|=128,dA(g),null;break;case 13:var D=g.memoizedState;if(D!==null)return D.dehydrated!==null?(Uf(g),g.flags|=128,null):(A&g.child.childLanes)!==0?Co(p,g,A):(Uf(g),p=Dl(p,g,A),p!==null?p.sibling:null);Uf(g);break;case 19:var B=(p.flags&128)!==0;if(D=(A&g.childLanes)!==0,D||(If(p,g,A,!1),D=(A&g.childLanes)!==0),B){if(D)return Dg(p,g,A);g.flags|=128}if(B=g.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),se(pr,pr.current),D)break;return null;case 22:return g.lanes=0,Mo(p,g,A,g.pendingProps);case 24:xc(g,tn,p.memoizedState.cache)}return Dl(p,g,A)}function Qx(p,g,A){if(p!==null)if(p.memoizedProps!==g.pendingProps)er=!0;else{if(!Vf(p,A)&&(g.flags&128)===0)return er=!1,Rg(p,g,A);er=(p.flags&131072)!==0}else er=!1,ni&&(g.flags&1048576)!==0&&JS(g,qp,g.index);switch(g.lanes=0,g.tag){case 16:e:{var D=g.pendingProps;if(p=sd(g.elementType),g.type=p,typeof p=="function")Ss(p)?(D=ka(p,D),g.tag=1,g=Fa(null,g,p,D,A)):(g.tag=0,g=rv(null,g,p,D,A));else{if(p!=null){var B=p.$$typeof;if(B===C){g.tag=11,g=Mg(null,g,p,D,A);break e}else if(B===L){g.tag=14,g=Tg(null,g,p,D,A);break e}}throw g=j(p)||p,Error(i(306,g,""))}}return g;case 0:return rv(p,g,g.type,g.pendingProps,A);case 1:return D=g.type,B=ka(D,g.pendingProps),Fa(p,g,D,B,A);case 3:e:{if(Se(g,g.stateNode.containerInfo),p===null)throw Error(i(387));D=g.pendingProps;var k=g.memoizedState;B=k.element,uA(p,g),ld(g,D,null,A);var K=g.memoizedState;if(D=K.cache,xc(g,tn,D),D!==k.cache&&Nx(g,[tn],A,!0),vg(),D=K.element,k.isDehydrated)if(k={element:D,isDehydrated:!1,cache:K.cache},g.updateQueue.baseState=k,g.memoizedState=k,g.flags&256){g=di(p,g,D,A);break e}else if(D!==B){B=Gs(Error(i(424)),g),ug(B),g=di(p,g,D,A);break e}else{switch(p=g.stateNode.containerInfo,p.nodeType){case 9:p=p.body;break;default:p=p.nodeName==="HTML"?p.ownerDocument.body:p}for(Yi=Tu(p.firstChild),ya=g,ni=!0,gc=null,xa=!0,A=Ow(g,null,D,A),g.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling}else{if(id(),D===B){g=Dl(p,g,A);break e}mr(p,g,D,A)}g=g.child}return g;case 26:return El(p,g),p===null?(A=HH(g.type,null,g.pendingProps,null))?g.memoizedState=A:ni||(A=g.type,p=g.pendingProps,D=vE(fe.current).createElement(A),D[Fn]=g,D[Tr]=p,ws(D,A,p),Re(D),g.stateNode=D):g.memoizedState=HH(g.type,p.memoizedProps,g.pendingProps,p.memoizedState),null;case 27:return Ue(g),p===null&&ni&&(D=g.stateNode=GH(g.type,g.pendingProps,fe.current),ya=g,xa=!0,B=Yi,dv(g.type)?(DB=B,Yi=Tu(D.firstChild)):Yi=B),mr(p,g,g.pendingProps.children,A),El(p,g),p===null&&(g.flags|=4194304),g.child;case 5:return p===null&&ni&&((B=D=Yi)&&(D=y0e(D,g.type,g.pendingProps,xa),D!==null?(g.stateNode=D,ya=g,Yi=Tu(D.firstChild),xa=!1,B=!0):B=!1),B||Qn(g)),Ue(g),B=g.type,k=g.pendingProps,K=p!==null?p.memoizedProps:null,D=k.children,MB(B,k)?D=null:K!==null&&MB(B,K)&&(g.flags|=32),g.memoizedState!==null&&(B=vA(p,g,sB,null,null,A),qA._currentValue=B),El(p,g),mr(p,g,D,A),g.child;case 6:return p===null&&ni&&((p=A=Yi)&&(A=x0e(A,g.pendingProps,xa),A!==null?(g.stateNode=A,ya=g,Yi=null,p=!0):p=!1),p||Qn(g)),null;case 13:return Co(p,g,A);case 4:return Se(g,g.stateNode.containerInfo),D=g.pendingProps,p===null?g.child=od(g,null,D,A):mr(p,g,D,A),g.child;case 11:return Mg(p,g,g.type,g.pendingProps,A);case 7:return mr(p,g,g.pendingProps,A),g.child;case 8:return mr(p,g,g.pendingProps.children,A),g.child;case 12:return mr(p,g,g.pendingProps.children,A),g.child;case 10:return D=g.pendingProps,xc(g,g.type,D.value),mr(p,g,D.children,A),g.child;case 9:return B=g.type._context,D=g.pendingProps.children,rd(g),B=_a(B),D=D(B),g.flags|=1,mr(p,g,D,A),g.child;case 14:return Tg(p,g,g.type,g.pendingProps,A);case 15:return Ao(p,g,g.type,g.pendingProps,A);case 19:return Dg(p,g,A);case 31:return Cg(p,g,A);case 22:return Mo(p,g,A,g.pendingProps);case 24:return rd(g),D=_a(tn),p===null?(B=vu(),B===null&&(B=Ei,k=nA(),B.pooledCache=k,k.refCount++,k!==null&&(B.pooledCacheLanes|=A),B=k),g.memoizedState={parent:D,cache:B},lA(g),xc(g,tn,B)):((p.lanes&A)!==0&&(uA(p,g),ld(g,null,null,A),vg()),B=p.memoizedState,k=g.memoizedState,B.parent!==D?(B={parent:D,cache:D},g.memoizedState=B,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=B),xc(g,tn,D)):(D=k.cache,xc(g,tn,D),D!==B.cache&&Nx(g,[tn],A,!0))),mr(p,g,g.pendingProps.children,A),g.child;case 29:throw g.pendingProps}throw Error(i(156,g.tag))}function Xs(p){p.flags|=4}function jf(p,g,A,D,B){if((g=(p.mode&32)!==0)&&(g=!1),g){if(p.flags|=16777216,(B&335544128)===B)if(p.stateNode.complete)p.flags|=8192;else if(gt())p.flags|=8192;else throw hn=hg,fg}else p.flags&=-16777217}function Cc(p,g){if(g.type!=="stylesheet"||(g.state.loading&4)!==0)p.flags&=-16777217;else if(p.flags|=16777216,!ZH(g))if(gt())p.flags|=8192;else throw hn=hg,fg}function ov(p,g){g!==null&&(p.flags|=4),p.flags&16384&&(g=p.tag!==22?Xn():536870912,p.lanes|=g,Ro|=g)}function Lg(p,g){if(!ni)switch(p.tailMode){case"hidden":g=p.tail;for(var A=null;g!==null;)g.alternate!==null&&(A=g),g=g.sibling;A===null?p.tail=null:A.sibling=null;break;case"collapsed":A=p.tail;for(var D=null;A!==null;)A.alternate!==null&&(D=A),A=A.sibling;D===null?g||p.tail===null?p.tail=null:p.tail.sibling=null:D.sibling=null}}function Ni(p){var g=p.alternate!==null&&p.alternate.child===p.child,A=0,D=0;if(g)for(var B=p.child;B!==null;)A|=B.lanes|B.childLanes,D|=B.subtreeFlags&65011712,D|=B.flags&65011712,B.return=p,B=B.sibling;else for(B=p.child;B!==null;)A|=B.lanes|B.childLanes,D|=B.subtreeFlags,D|=B.flags,B.return=p,B=B.sibling;return p.subtreeFlags|=D,p.childLanes=A,g}function FA(p,g,A){var D=g.pendingProps;switch(Nf(g),g.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ni(g),null;case 1:return Ni(g),null;case 3:return A=g.stateNode,D=null,p!==null&&(D=p.memoizedState.cache),g.memoizedState.cache!==D&&(g.flags|=2048),Jo(tn),Ee(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(p===null||p.child===null)&&(nd(g)?Xs(g):p===null||p.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,QS())),Ni(g),null;case 26:var B=g.type,k=g.memoizedState;return p===null?(Xs(g),k!==null?(Ni(g),Cc(g,k)):(Ni(g),jf(g,B,null,D,A))):k?k!==p.memoizedState?(Xs(g),Ni(g),Cc(g,k)):(Ni(g),g.flags&=-16777217):(p=p.memoizedProps,p!==D&&Xs(g),Ni(g),jf(g,B,p,D,A)),null;case 27:if(_e(g),A=fe.current,B=g.type,p!==null&&g.stateNode!=null)p.memoizedProps!==D&&Xs(g);else{if(!D){if(g.stateNode===null)throw Error(i(166));return Ni(g),null}p=ce.current,nd(g)?Lx(g):(p=GH(B,D,A),g.stateNode=p,Xs(g))}return Ni(g),null;case 5:if(_e(g),B=g.type,p!==null&&g.stateNode!=null)p.memoizedProps!==D&&Xs(g);else{if(!D){if(g.stateNode===null)throw Error(i(166));return Ni(g),null}if(k=ce.current,nd(g))Lx(g);else{var K=vE(fe.current);switch(k){case 1:k=K.createElementNS("http://www.w3.org/2000/svg",B);break;case 2:k=K.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;default:switch(B){case"svg":k=K.createElementNS("http://www.w3.org/2000/svg",B);break;case"math":k=K.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;case"script":k=K.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof D.is=="string"?K.createElement("select",{is:D.is}):K.createElement("select"),D.multiple?k.multiple=!0:D.size&&(k.size=D.size);break;default:k=typeof D.is=="string"?K.createElement(B,{is:D.is}):K.createElement(B)}}k[Fn]=g,k[Tr]=D;e:for(K=g.child;K!==null;){if(K.tag===5||K.tag===6)k.appendChild(K.stateNode);else if(K.tag!==4&&K.tag!==27&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===g)break e;for(;K.sibling===null;){if(K.return===null||K.return===g)break e;K=K.return}K.sibling.return=K.return,K=K.sibling}g.stateNode=k;e:switch(ws(k,B,D),B){case"button":case"input":case"select":case"textarea":D=!!D.autoFocus;break e;case"img":D=!0;break e;default:D=!1}D&&Xs(g)}}return Ni(g),jf(g,g.type,p===null?null:p.memoizedProps,g.pendingProps,A),null;case 6:if(p&&g.stateNode!=null)p.memoizedProps!==D&&Xs(g);else{if(typeof D!="string"&&g.stateNode===null)throw Error(i(166));if(p=fe.current,nd(g)){if(p=g.stateNode,A=g.memoizedProps,D=null,B=ya,B!==null)switch(B.tag){case 27:case 5:D=B.memoizedProps}p[Fn]=g,p=!!(p.nodeValue===A||D!==null&&D.suppressHydrationWarning===!0||RH(p.nodeValue,A)),p||Qn(g,!0)}else p=vE(p).createTextNode(D),p[Fn]=g,g.stateNode=p}return Ni(g),null;case 31:if(A=g.memoizedState,p===null||p.memoizedState!==null){if(D=nd(g),A!==null){if(p===null){if(!D)throw Error(i(318));if(p=g.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(557));p[Fn]=g}else id(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Ni(g),p=!1}else A=QS(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=A),p=!0;if(!p)return g.flags&256?(_o(g),g):(_o(g),null);if((g.flags&128)!==0)throw Error(i(558))}return Ni(g),null;case 13:if(D=g.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(B=nd(g),D!==null&&D.dehydrated!==null){if(p===null){if(!B)throw Error(i(318));if(B=g.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(i(317));B[Fn]=g}else id(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Ni(g),B=!1}else B=QS(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=B),B=!0;if(!B)return g.flags&256?(_o(g),g):(_o(g),null)}return _o(g),(g.flags&128)!==0?(g.lanes=A,g):(A=D!==null,p=p!==null&&p.memoizedState!==null,A&&(D=g.child,B=null,D.alternate!==null&&D.alternate.memoizedState!==null&&D.alternate.memoizedState.cachePool!==null&&(B=D.alternate.memoizedState.cachePool.pool),k=null,D.memoizedState!==null&&D.memoizedState.cachePool!==null&&(k=D.memoizedState.cachePool.pool),k!==B&&(D.flags|=2048)),A!==p&&A&&(g.child.flags|=8192),ov(g,g.updateQueue),Ni(g),null);case 4:return Ee(),p===null&&xB(g.stateNode.containerInfo),Ni(g),null;case 10:return Jo(g.type),Ni(g),null;case 19:if(Q(pr),D=g.memoizedState,D===null)return Ni(g),null;if(B=(g.flags&128)!==0,k=D.rendering,k===null)if(B)Lg(D,!1);else{if(Di!==0||p!==null&&(p.flags&128)!==0)for(p=g.child;p!==null;){if(k=zx(p),k!==null){for(g.flags|=128,Lg(D,!1),p=k.updateQueue,g.updateQueue=p,ov(g,p),g.subtreeFlags=0,p=A,A=g.child;A!==null;)$a(A,p),A=A.sibling;return se(pr,pr.current&1|2),ni&&mc(g,D.treeForkCount),g.child}p=p.sibling}D.tail!==null&&ee()>Lo&&(g.flags|=128,B=!0,Lg(D,!1),g.lanes=4194304)}else{if(!B)if(p=zx(k),p!==null){if(g.flags|=128,B=!0,p=p.updateQueue,g.updateQueue=p,ov(g,p),Lg(D,!0),D.tail===null&&D.tailMode==="hidden"&&!k.alternate&&!ni)return Ni(g),null}else 2*ee()-D.renderingStartTime>Lo&&A!==536870912&&(g.flags|=128,B=!0,Lg(D,!1),g.lanes=4194304);D.isBackwards?(k.sibling=g.child,g.child=k):(p=D.last,p!==null?p.sibling=k:g.child=k,D.last=k)}return D.tail!==null?(p=D.tail,D.rendering=p,D.tail=p.sibling,D.renderingStartTime=ee(),p.sibling=null,A=pr.current,se(pr,B?A&1|2:A&1),ni&&mc(g,D.treeForkCount),p):(Ni(g),null);case 22:case 23:return _o(g),ts(),D=g.memoizedState!==null,p!==null?p.memoizedState!==null!==D&&(g.flags|=8192):D&&(g.flags|=8192),D?(A&536870912)!==0&&(g.flags&128)===0&&(Ni(g),g.subtreeFlags&6&&(g.flags|=8192)):Ni(g),A=g.updateQueue,A!==null&&ov(g,A.retryQueue),A=null,p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(A=p.memoizedState.cachePool.pool),D=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(D=g.memoizedState.cachePool.pool),D!==A&&(g.flags|=2048),p!==null&&Q(Pf),null;case 24:return A=null,p!==null&&(A=p.memoizedState.cache),g.memoizedState.cache!==A&&(g.flags|=2048),Jo(tn),Ni(g),null;case 25:return null;case 30:return null}throw Error(i(156,g.tag))}function $x(p,g){switch(Nf(g),g.tag){case 1:return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 3:return Jo(tn),Ee(),p=g.flags,(p&65536)!==0&&(p&128)===0?(g.flags=p&-65537|128,g):null;case 26:case 27:case 5:return _e(g),null;case 31:if(g.memoizedState!==null){if(_o(g),g.alternate===null)throw Error(i(340));id()}return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 13:if(_o(g),p=g.memoizedState,p!==null&&p.dehydrated!==null){if(g.alternate===null)throw Error(i(340));id()}return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 19:return Q(pr),null;case 4:return Ee(),null;case 10:return Jo(g.type),null;case 22:case 23:return _o(g),ts(),p!==null&&Q(Pf),p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 24:return Jo(tn),null;case 25:return null;default:return null}}function hd(p,g){switch(Nf(g),g.tag){case 3:Jo(tn),Ee();break;case 26:case 27:case 5:_e(g);break;case 4:Ee();break;case 31:g.memoizedState!==null&&_o(g);break;case 13:_o(g);break;case 19:Q(pr);break;case 10:Jo(g.type);break;case 22:case 23:_o(g),ts(),p!==null&&Q(Pf);break;case 24:Jo(tn)}}function bu(p,g){try{var A=g.updateQueue,D=A!==null?A.lastEffect:null;if(D!==null){var B=D.next;A=B;do{if((A.tag&p)===p){D=void 0;var k=A.create,K=A.inst;D=k(),K.destroy=D}A=A.next}while(A!==B)}}catch(ie){ji(g,g.return,ie)}}function tl(p,g,A){try{var D=g.updateQueue,B=D!==null?D.lastEffect:null;if(B!==null){var k=B.next;D=k;do{if((D.tag&p)===p){var K=D.inst,ie=K.destroy;if(ie!==void 0){K.destroy=void 0,B=g;var ve=A,Ne=ie;try{Ne()}catch(Ye){ji(B,ve,Ye)}}}D=D.next}while(D!==k)}}catch(Ye){ji(g,g.return,Ye)}}function Hf(p){var g=p.updateQueue;if(g!==null){var A=p.stateNode;try{Oa(g,A)}catch(D){ji(p,p.return,D)}}}function UA(p,g,A){A.props=ka(p.type,p.memoizedProps),A.state=p.memoizedState;try{A.componentWillUnmount()}catch(D){ji(p,g,D)}}function Su(p,g){try{var A=p.ref;if(A!==null){switch(p.tag){case 26:case 27:case 5:var D=p.stateNode;break;case 30:D=p.stateNode;break;default:D=p.stateNode}typeof A=="function"?p.refCleanup=A(D):A.current=D}}catch(B){ji(p,g,B)}}function wo(p,g){var A=p.ref,D=p.refCleanup;if(A!==null)if(typeof D=="function")try{D()}catch(B){ji(p,g,B)}finally{p.refCleanup=null,p=p.alternate,p!=null&&(p.refCleanup=null)}else if(typeof A=="function")try{A(null)}catch(B){ji(p,g,B)}else A.current=null}function Eo(p){var g=p.type,A=p.memoizedProps,D=p.stateNode;try{e:switch(g){case"button":case"input":case"select":case"textarea":A.autoFocus&&D.focus();break e;case"img":A.src?D.src=A.src:A.srcSet&&(D.srcset=A.srcSet)}}catch(B){ji(p,p.return,B)}}function nl(p,g,A){try{var D=p.stateNode;h0e(D,p.type,A,g),D[Tr]=g}catch(B){ji(p,p.return,B)}}function Gr(p){return p.tag===5||p.tag===3||p.tag===26||p.tag===27&&dv(p.type)||p.tag===4}function Au(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||Gr(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.tag===27&&dv(p.type)||p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function On(p,g,A){var D=p.tag;if(D===5||D===6)p=p.stateNode,g?(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A).insertBefore(p,g):(g=A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,g.appendChild(p),A=A._reactRootContainer,A!=null||g.onclick!==null||(g.onclick=lu));else if(D!==4&&(D===27&&dv(p.type)&&(A=p.stateNode,g=null),p=p.child,p!==null))for(On(p,g,A),p=p.sibling;p!==null;)On(p,g,A),p=p.sibling}function Si(p,g,A){var D=p.tag;if(D===5||D===6)p=p.stateNode,g?A.insertBefore(p,g):A.appendChild(p);else if(D!==4&&(D===27&&dv(p.type)&&(A=p.stateNode),p=p.child,p!==null))for(Si(p,g,A),p=p.sibling;p!==null;)Si(p,g,A),p=p.sibling}function Er(p){var g=p.stateNode,A=p.memoizedProps;try{for(var D=p.type,B=g.attributes;B.length;)g.removeAttributeNode(B[0]);ws(g,D,A),g[Fn]=p,g[Tr]=A}catch(k){ji(p,p.return,k)}}var il=!1,tr=!1,wc=!1,Ng=typeof WeakSet=="function"?WeakSet:Set,gr=null;function lv(p,g){if(p=p.containerInfo,SB=SE,p=_x(p),Gp(p)){if("selectionStart"in p)var A={start:p.selectionStart,end:p.selectionEnd};else e:{A=(A=p.ownerDocument)&&A.defaultView||window;var D=A.getSelection&&A.getSelection();if(D&&D.rangeCount!==0){A=D.anchorNode;var B=D.anchorOffset,k=D.focusNode;D=D.focusOffset;try{A.nodeType,k.nodeType}catch{A=null;break e}var K=0,ie=-1,ve=-1,Ne=0,Ye=0,tt=p,ze=null;t:for(;;){for(var He;tt!==A||B!==0&&tt.nodeType!==3||(ie=K+B),tt!==k||D!==0&&tt.nodeType!==3||(ve=K+D),tt.nodeType===3&&(K+=tt.nodeValue.length),(He=tt.firstChild)!==null;)ze=tt,tt=He;for(;;){if(tt===p)break t;if(ze===A&&++Ne===B&&(ie=K),ze===k&&++Ye===D&&(ve=K),(He=tt.nextSibling)!==null)break;tt=ze,ze=tt.parentNode}tt=He}A=ie===-1||ve===-1?null:{start:ie,end:ve}}else A=null}A=A||{start:0,end:0}}else A=null;for(AB={focusedElem:p,selectionRange:A},SE=!1,gr=g;gr!==null;)if(g=gr,p=g.child,(g.subtreeFlags&1028)!==0&&p!==null)p.return=g,gr=p;else for(;gr!==null;){switch(g=gr,k=g.alternate,p=g.flags,g.tag){case 0:if((p&4)!==0&&(p=g.updateQueue,p=p!==null?p.events:null,p!==null))for(A=0;A<p.length;A++)B=p[A],B.ref.impl=B.nextImpl;break;case 11:case 15:break;case 1:if((p&1024)!==0&&k!==null){p=void 0,A=g,B=k.memoizedProps,k=k.memoizedState,D=A.stateNode;try{var Xt=ka(A.type,B);p=D.getSnapshotBeforeUpdate(Xt,k),D.__reactInternalSnapshotBeforeUpdate=p}catch(mn){ji(A,A.return,mn)}}break;case 3:if((p&1024)!==0){if(p=g.stateNode.containerInfo,A=p.nodeType,A===9)CB(p);else if(A===1)switch(p.nodeName){case"HEAD":case"HTML":case"BODY":CB(p);break;default:p.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((p&1024)!==0)throw Error(i(163))}if(p=g.sibling,p!==null){p.return=g.return,gr=p;break}gr=g.return}}function lE(p,g,A){var D=A.flags;switch(A.tag){case 0:case 11:case 15:Ec(p,A),D&4&&bu(5,A);break;case 1:if(Ec(p,A),D&4)if(p=A.stateNode,g===null)try{p.componentDidMount()}catch(K){ji(A,A.return,K)}else{var B=ka(A.type,g.memoizedProps);g=g.memoizedState;try{p.componentDidUpdate(B,g,p.__reactInternalSnapshotBeforeUpdate)}catch(K){ji(A,A.return,K)}}D&64&&Hf(A),D&512&&Su(A,A.return);break;case 3:if(Ec(p,A),D&64&&(p=A.updateQueue,p!==null)){if(g=null,A.child!==null)switch(A.child.tag){case 27:case 5:g=A.child.stateNode;break;case 1:g=A.child.stateNode}try{Oa(p,g)}catch(K){ji(A,A.return,K)}}break;case 27:g===null&&D&4&&Er(A);case 26:case 5:Ec(p,A),g===null&&D&4&&Eo(A),D&512&&Su(A,A.return);break;case 12:Ec(p,A);break;case 31:Ec(p,A),D&4&&t_(p,A);break;case 13:Ec(p,A),D&4&&GA(p,A),D&64&&(p=A.memoizedState,p!==null&&(p=p.dehydrated,p!==null&&(A=e0e.bind(null,A),_0e(p,A))));break;case 22:if(D=A.memoizedState!==null||il,!D){g=g!==null&&g.memoizedState!==null||tr,B=il;var k=tr;il=D,(tr=g)&&!k?wi(p,A,(A.subtreeFlags&8772)!==0):Ec(p,A),il=B,tr=k}break;case 30:break;default:Ec(p,A)}}function e_(p){var g=p.alternate;g!==null&&(p.alternate=null,e_(g)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(g=p.stateNode,g!==null&&Xh(g)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}var pi=null,Vr=!1;function is(p,g,A){for(A=A.child;A!==null;)Wf(p,g,A),A=A.sibling}function Wf(p,g,A){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(et,A)}catch{}switch(A.tag){case 26:tr||wo(A,g),is(p,g,A),A.memoizedState?A.memoizedState.count--:A.stateNode&&(A=A.stateNode,A.parentNode.removeChild(A));break;case 27:tr||wo(A,g);var D=pi,B=Vr;dv(A.type)&&(pi=A.stateNode,Vr=!1),is(p,g,A),WA(A.stateNode),pi=D,Vr=B;break;case 5:tr||wo(A,g);case 6:if(D=pi,B=Vr,pi=null,is(p,g,A),pi=D,Vr=B,pi!==null)if(Vr)try{(pi.nodeType===9?pi.body:pi.nodeName==="HTML"?pi.ownerDocument.body:pi).removeChild(A.stateNode)}catch(k){ji(A,g,k)}else try{pi.removeChild(A.stateNode)}catch(k){ji(A,g,k)}break;case 18:pi!==null&&(Vr?(p=pi,OH(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,A.stateNode),h_(p)):OH(pi,A.stateNode));break;case 4:D=pi,B=Vr,pi=A.stateNode.containerInfo,Vr=!0,is(p,g,A),pi=D,Vr=B;break;case 0:case 11:case 14:case 15:tl(2,A,g),tr||tl(4,A,g),is(p,g,A);break;case 1:tr||(wo(A,g),D=A.stateNode,typeof D.componentWillUnmount=="function"&&UA(A,g,D)),is(p,g,A);break;case 21:is(p,g,A);break;case 22:tr=(D=tr)||A.memoizedState!==null,is(p,g,A),tr=D;break;default:is(p,g,A)}}function t_(p,g){if(g.memoizedState===null&&(p=g.alternate,p!==null&&(p=p.memoizedState,p!==null))){p=p.dehydrated;try{h_(p)}catch(A){ji(g,g.return,A)}}}function GA(p,g){if(g.memoizedState===null&&(p=g.alternate,p!==null&&(p=p.memoizedState,p!==null&&(p=p.dehydrated,p!==null))))try{h_(p)}catch(A){ji(g,g.return,A)}}function uE(p){switch(p.tag){case 31:case 13:case 19:var g=p.stateNode;return g===null&&(g=p.stateNode=new Ng),g;case 22:return p=p.stateNode,g=p._retryCache,g===null&&(g=p._retryCache=new Ng),g;default:throw Error(i(435,p.tag))}}function Dr(p,g){var A=uE(p);g.forEach(function(D){if(!A.has(D)){A.add(D);var B=t0e.bind(null,p,D);D.then(B,B)}})}function rs(p,g){var A=g.deletions;if(A!==null)for(var D=0;D<A.length;D++){var B=A[D],k=p,K=g,ie=K;e:for(;ie!==null;){switch(ie.tag){case 27:if(dv(ie.type)){pi=ie.stateNode,Vr=!1;break e}break;case 5:pi=ie.stateNode,Vr=!1;break e;case 3:case 4:pi=ie.stateNode.containerInfo,Vr=!0;break e}ie=ie.return}if(pi===null)throw Error(i(160));Wf(k,K,B),pi=null,Vr=!1,k=B.alternate,k!==null&&(k.return=null),B.return=null}if(g.subtreeFlags&13886)for(g=g.child;g!==null;)Xf(g,p),g=g.sibling}var Ys=null;function Xf(p,g){var A=p.alternate,D=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:rs(g,p),yr(p),D&4&&(tl(3,p,p.return),bu(3,p),tl(5,p,p.return));break;case 1:rs(g,p),yr(p),D&512&&(tr||A===null||wo(A,A.return)),D&64&&il&&(p=p.updateQueue,p!==null&&(D=p.callbacks,D!==null&&(A=p.shared.hiddenCallbacks,p.shared.hiddenCallbacks=A===null?D:A.concat(D))));break;case 26:var B=Ys;if(rs(g,p),yr(p),D&512&&(tr||A===null||wo(A,A.return)),D&4){var k=A!==null?A.memoizedState:null;if(D=p.memoizedState,A===null)if(D===null)if(p.stateNode===null){e:{D=p.type,A=p.memoizedProps,B=B.ownerDocument||B;t:switch(D){case"title":k=B.getElementsByTagName("title")[0],(!k||k[cc]||k[Fn]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=B.createElement(D),B.head.insertBefore(k,B.querySelector("head > title"))),ws(k,D,A),k[Fn]=p,Re(k),D=k;break e;case"link":var K=YH("link","href",B).get(D+(A.href||""));if(K){for(var ie=0;ie<K.length;ie++)if(k=K[ie],k.getAttribute("href")===(A.href==null||A.href===""?null:A.href)&&k.getAttribute("rel")===(A.rel==null?null:A.rel)&&k.getAttribute("title")===(A.title==null?null:A.title)&&k.getAttribute("crossorigin")===(A.crossOrigin==null?null:A.crossOrigin)){K.splice(ie,1);break t}}k=B.createElement(D),ws(k,D,A),B.head.appendChild(k);break;case"meta":if(K=YH("meta","content",B).get(D+(A.content||""))){for(ie=0;ie<K.length;ie++)if(k=K[ie],k.getAttribute("content")===(A.content==null?null:""+A.content)&&k.getAttribute("name")===(A.name==null?null:A.name)&&k.getAttribute("property")===(A.property==null?null:A.property)&&k.getAttribute("http-equiv")===(A.httpEquiv==null?null:A.httpEquiv)&&k.getAttribute("charset")===(A.charSet==null?null:A.charSet)){K.splice(ie,1);break t}}k=B.createElement(D),ws(k,D,A),B.head.appendChild(k);break;default:throw Error(i(468,D))}k[Fn]=p,Re(k),D=k}p.stateNode=D}else qH(B,p.type,p.stateNode);else p.stateNode=XH(B,D,p.memoizedProps);else k!==D?(k===null?A.stateNode!==null&&(A=A.stateNode,A.parentNode.removeChild(A)):k.count--,D===null?qH(B,p.type,p.stateNode):XH(B,D,p.memoizedProps)):D===null&&p.stateNode!==null&&nl(p,p.memoizedProps,A.memoizedProps)}break;case 27:rs(g,p),yr(p),D&512&&(tr||A===null||wo(A,A.return)),A!==null&&D&4&&nl(p,p.memoizedProps,A.memoizedProps);break;case 5:if(rs(g,p),yr(p),D&512&&(tr||A===null||wo(A,A.return)),p.flags&32){B=p.stateNode;try{bl(B,"")}catch(Xt){ji(p,p.return,Xt)}}D&4&&p.stateNode!=null&&(B=p.memoizedProps,nl(p,B,A!==null?A.memoizedProps:B)),D&1024&&(wc=!0);break;case 6:if(rs(g,p),yr(p),D&4){if(p.stateNode===null)throw Error(i(162));D=p.memoizedProps,A=p.stateNode;try{A.nodeValue=D}catch(Xt){ji(p,p.return,Xt)}}break;case 3:if(yE=null,B=Ys,Ys=mE(g.containerInfo),rs(g,p),Ys=B,yr(p),D&4&&A!==null&&A.memoizedState.isDehydrated)try{h_(g.containerInfo)}catch(Xt){ji(p,p.return,Xt)}wc&&(wc=!1,cE(p));break;case 4:D=Ys,Ys=mE(p.stateNode.containerInfo),rs(g,p),yr(p),Ys=D;break;case 12:rs(g,p),yr(p);break;case 31:rs(g,p),yr(p),D&4&&(D=p.updateQueue,D!==null&&(p.updateQueue=null,Dr(p,D)));break;case 13:rs(g,p),yr(p),p.child.flags&8192&&p.memoizedState!==null!=(A!==null&&A.memoizedState!==null)&&(Lc=ee()),D&4&&(D=p.updateQueue,D!==null&&(p.updateQueue=null,Dr(p,D)));break;case 22:B=p.memoizedState!==null;var ve=A!==null&&A.memoizedState!==null,Ne=il,Ye=tr;if(il=Ne||B,tr=Ye||ve,rs(g,p),tr=Ye,il=Ne,yr(p),D&8192)e:for(g=p.stateNode,g._visibility=B?g._visibility&-2:g._visibility|1,B&&(A===null||ve||il||tr||dd(p)),A=null,g=p;;){if(g.tag===5||g.tag===26){if(A===null){ve=A=g;try{if(k=ve.stateNode,B)K=k.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{ie=ve.stateNode;var tt=ve.memoizedProps.style,ze=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;ie.style.display=ze==null||typeof ze=="boolean"?"":(""+ze).trim()}}catch(Xt){ji(ve,ve.return,Xt)}}}else if(g.tag===6){if(A===null){ve=g;try{ve.stateNode.nodeValue=B?"":ve.memoizedProps}catch(Xt){ji(ve,ve.return,Xt)}}}else if(g.tag===18){if(A===null){ve=g;try{var He=ve.stateNode;B?zH(He,!0):zH(ve.stateNode,!1)}catch(Xt){ji(ve,ve.return,Xt)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===p)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break e;for(;g.sibling===null;){if(g.return===null||g.return===p)break e;A===g&&(A=null),g=g.return}A===g&&(A=null),g.sibling.return=g.return,g=g.sibling}D&4&&(D=p.updateQueue,D!==null&&(A=D.retryQueue,A!==null&&(D.retryQueue=null,Dr(p,A))));break;case 19:rs(g,p),yr(p),D&4&&(D=p.updateQueue,D!==null&&(p.updateQueue=null,Dr(p,D)));break;case 30:break;case 21:break;default:rs(g,p),yr(p)}}function yr(p){var g=p.flags;if(g&2){try{for(var A,D=p.return;D!==null;){if(Gr(D)){A=D;break}D=D.return}if(A==null)throw Error(i(160));switch(A.tag){case 27:var B=A.stateNode,k=Au(p);Si(p,k,B);break;case 5:var K=A.stateNode;A.flags&32&&(bl(K,""),A.flags&=-33);var ie=Au(p);Si(p,ie,K);break;case 3:case 4:var ve=A.stateNode.containerInfo,Ne=Au(p);On(p,Ne,ve);break;default:throw Error(i(161))}}catch(Ye){ji(p,p.return,Ye)}p.flags&=-3}g&4096&&(p.flags&=-4097)}function cE(p){if(p.subtreeFlags&1024)for(p=p.child;p!==null;){var g=p;cE(g),g.tag===5&&g.flags&1024&&g.stateNode.reset(),p=p.sibling}}function Ec(p,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)lE(p,g.alternate,g),g=g.sibling}function dd(p){for(p=p.child;p!==null;){var g=p;switch(g.tag){case 0:case 11:case 14:case 15:tl(4,g,g.return),dd(g);break;case 1:wo(g,g.return);var A=g.stateNode;typeof A.componentWillUnmount=="function"&&UA(g,g.return,A),dd(g);break;case 27:WA(g.stateNode);case 26:case 5:wo(g,g.return),dd(g);break;case 22:g.memoizedState===null&&dd(g);break;case 30:dd(g);break;default:dd(g)}p=p.sibling}}function wi(p,g,A){for(A=A&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var D=g.alternate,B=p,k=g,K=k.flags;switch(k.tag){case 0:case 11:case 15:wi(B,k,A),bu(4,k);break;case 1:if(wi(B,k,A),D=k,B=D.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(Ne){ji(D,D.return,Ne)}if(D=k,B=D.updateQueue,B!==null){var ie=D.stateNode;try{var ve=B.shared.hiddenCallbacks;if(ve!==null)for(B.shared.hiddenCallbacks=null,B=0;B<ve.length;B++)gu(ve[B],ie)}catch(Ne){ji(D,D.return,Ne)}}A&&K&64&&Hf(k),Su(k,k.return);break;case 27:Er(k);case 26:case 5:wi(B,k,A),A&&D===null&&K&4&&Eo(k),Su(k,k.return);break;case 12:wi(B,k,A);break;case 31:wi(B,k,A),A&&K&4&&t_(B,k);break;case 13:wi(B,k,A),A&&K&4&&GA(B,k);break;case 22:k.memoizedState===null&&wi(B,k,A),Su(k,k.return);break;case 30:break;default:wi(B,k,A)}g=g.sibling}}function n_(p,g){var A=null;p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(A=p.memoizedState.cachePool.pool),p=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(p=g.memoizedState.cachePool.pool),p!==A&&(p!=null&&p.refCount++,A!=null&&Ba(A))}function Dc(p,g){p=null,g.alternate!==null&&(p=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==p&&(g.refCount++,p!=null&&Ba(p))}function aa(p,g,A,D){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)lr(p,g,A,D),g=g.sibling}function lr(p,g,A,D){var B=g.flags;switch(g.tag){case 0:case 11:case 15:aa(p,g,A,D),B&2048&&bu(9,g);break;case 1:aa(p,g,A,D);break;case 3:aa(p,g,A,D),B&2048&&(p=null,g.alternate!==null&&(p=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==p&&(g.refCount++,p!=null&&Ba(p)));break;case 12:if(B&2048){aa(p,g,A,D),p=g.stateNode;try{var k=g.memoizedProps,K=k.id,ie=k.onPostCommit;typeof ie=="function"&&ie(K,g.alternate===null?"mount":"update",p.passiveEffectDuration,-0)}catch(ve){ji(g,g.return,ve)}}else aa(p,g,A,D);break;case 31:aa(p,g,A,D);break;case 13:aa(p,g,A,D);break;case 23:break;case 22:k=g.stateNode,K=g.alternate,g.memoizedState!==null?k._visibility&2?aa(p,g,A,D):uv(p,g):k._visibility&2?aa(p,g,A,D):(k._visibility|=2,Yf(p,g,A,D,(g.subtreeFlags&10256)!==0||!1)),B&2048&&n_(K,g);break;case 24:aa(p,g,A,D),B&2048&&Dc(g.alternate,g);break;default:aa(p,g,A,D)}}function Yf(p,g,A,D,B){for(B=B&&((g.subtreeFlags&10256)!==0||!1),g=g.child;g!==null;){var k=p,K=g,ie=A,ve=D,Ne=K.flags;switch(K.tag){case 0:case 11:case 15:Yf(k,K,ie,ve,B),bu(8,K);break;case 23:break;case 22:var Ye=K.stateNode;K.memoizedState!==null?Ye._visibility&2?Yf(k,K,ie,ve,B):uv(k,K):(Ye._visibility|=2,Yf(k,K,ie,ve,B)),B&&Ne&2048&&n_(K.alternate,K);break;case 24:Yf(k,K,ie,ve,B),B&&Ne&2048&&Dc(K.alternate,K);break;default:Yf(k,K,ie,ve,B)}g=g.sibling}}function uv(p,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var A=p,D=g,B=D.flags;switch(D.tag){case 22:uv(A,D),B&2048&&n_(D.alternate,D);break;case 24:uv(A,D),B&2048&&Dc(D.alternate,D);break;default:uv(A,D)}g=g.sibling}}var xr=8192;function pd(p,g,A){if(p.subtreeFlags&xr)for(p=p.child;p!==null;)Rr(p,g,A),p=p.sibling}function Rr(p,g,A){switch(p.tag){case 26:pd(p,g,A),p.flags&xr&&p.memoizedState!==null&&N0e(A,Ys,p.memoizedState,p.memoizedProps);break;case 5:pd(p,g,A);break;case 3:case 4:var D=Ys;Ys=mE(p.stateNode.containerInfo),pd(p,g,A),Ys=D;break;case 22:p.memoizedState===null&&(D=p.alternate,D!==null&&D.memoizedState!==null?(D=xr,xr=16777216,pd(p,g,A),xr=D):pd(p,g,A));break;default:pd(p,g,A)}}function qs(p){var g=p.alternate;if(g!==null&&(p=g.child,p!==null)){g.child=null;do g=p.sibling,p.sibling=null,p=g;while(p!==null)}}function Ts(p){var g=p.deletions;if((p.flags&16)!==0){if(g!==null)for(var A=0;A<g.length;A++){var D=g[A];gr=D,Ig(D,p)}qs(p)}if(p.subtreeFlags&10256)for(p=p.child;p!==null;)vd(p),p=p.sibling}function vd(p){switch(p.tag){case 0:case 11:case 15:Ts(p),p.flags&2048&&tl(9,p,p.return);break;case 3:Ts(p);break;case 12:Ts(p);break;case 22:var g=p.stateNode;p.memoizedState!==null&&g._visibility&2&&(p.return===null||p.return.tag!==13)?(g._visibility&=-3,i_(p)):Ts(p);break;default:Ts(p)}}function i_(p){var g=p.deletions;if((p.flags&16)!==0){if(g!==null)for(var A=0;A<g.length;A++){var D=g[A];gr=D,Ig(D,p)}qs(p)}for(p=p.child;p!==null;){switch(g=p,g.tag){case 0:case 11:case 15:tl(8,g,g.return),i_(g);break;case 22:A=g.stateNode,A._visibility&2&&(A._visibility&=-3,i_(g));break;default:i_(g)}p=p.sibling}}function Ig(p,g){for(;gr!==null;){var A=gr;switch(A.tag){case 0:case 11:case 15:tl(8,A,g);break;case 23:case 22:if(A.memoizedState!==null&&A.memoizedState.cachePool!==null){var D=A.memoizedState.cachePool.pool;D!=null&&D.refCount++}break;case 24:Ba(A.memoizedState.cache)}if(D=A.child,D!==null)D.return=A,gr=D;else e:for(A=p;gr!==null;){D=gr;var B=D.sibling,k=D.return;if(e_(D),D===A){gr=null;break e}if(B!==null){B.return=k,gr=B;break e}gr=k}}}var r_={getCacheForType:function(p){var g=_a(tn),A=g.data.get(p);return A===void 0&&(A=p(),g.data.set(p,A)),A},cacheSignal:function(){return _a(tn).controller.signal}},a_=typeof WeakMap=="function"?WeakMap:Map,ui=0,Ei=null,zn=null,$n=0,nn=0,Yn=null,En=!1,Vn=!1,ki=!1,Lr=0,Di=0,Do=0,Rc=0,Rl=0,ci=0,Ro=0,Ll=null,as=null,Zs=!1,Lc=0,cv=0,Lo=1/0,fv=null,Mu=null,ur=0,Nl=null,No=null,rl=0,Nc=0,md=null,s_=null,gd=0,yd=null;function Cs(){return(ui&2)!==0&&$n!==0?$n&-$n:G.T!==null?vB():Zo()}function _(){if(ci===0)if(($n&536870912)===0||ni){var p=ft;ft<<=1,(ft&3932160)===0&&(ft=262144),ci=p}else ci=536870912;return p=ra.current,p!==null&&(p.flags|=32),ci}function S(p,g,A){(p===Ei&&(nn===2||nn===9)||p.cancelPendingCommit!==null)&&(Ce(p,0),H(p,$n,ci,!1)),or(p,A),((ui&2)===0||p!==Ei)&&(p===Ei&&((ui&2)===0&&(Rc|=A),Di===4&&H(p,$n,ci,!1)),qf(p))}function R(p,g,A){if((ui&6)!==0)throw Error(i(327));var D=!A&&(g&127)===0&&(g&p.expiredLanes)===0||Tt(p,g),B=D?xd(p,g):Ks(p,g,!0),k=D;do{if(B===0){Vn&&!D&&H(p,g,0,!1);break}else{if(A=p.current.alternate,k&&!F(A)){B=Ks(p,g,!1),k=!1;continue}if(B===2){if(k=g,p.errorRecoveryDisabledLanes&k)var K=0;else K=p.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){g=K;e:{var ie=p;B=Ll;var ve=ie.current.memoizedState.isDehydrated;if(ve&&(Ce(ie,K).flags|=256),K=Ks(ie,K,!1),K!==2){if(ki&&!ve){ie.errorRecoveryDisabledLanes|=k,Rc|=k,B=4;break e}k=as,as=B,k!==null&&(as===null?as=k:as.push.apply(as,k))}B=K}if(k=!1,B!==2)continue}}if(B===1){Ce(p,0),H(p,g,0,!0);break}e:{switch(D=p,k=B,k){case 0:case 1:throw Error(i(345));case 4:if((g&4194048)!==g)break;case 6:H(D,g,ci,!En);break e;case 2:as=null;break;case 3:case 5:break;default:throw Error(i(329))}if((g&62914560)===g&&(B=Lc+300-ee(),10<B)){if(H(D,g,ci,!En),Qe(D,0,!0)!==0)break e;rl=g,D.timeoutHandle=PH(O.bind(null,D,A,as,fv,Zs,g,ci,Rc,Ro,En,k,"Throttled",-0,0),B);break e}O(D,A,as,fv,Zs,g,ci,Rc,Ro,En,k,null,-0,0)}}break}while(!0);qf(p)}function O(p,g,A,D,B,k,K,ie,ve,Ne,Ye,tt,ze,He){if(p.timeoutHandle=-1,tt=g.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:lu},Rr(g,k,tt);var Xt=(k&62914560)===k?Lc-ee():(k&4194048)===k?cv-ee():0;if(Xt=I0e(tt,Xt),Xt!==null){rl=k,p.cancelPendingCommit=Xt(yn.bind(null,p,g,k,A,D,B,K,ie,ve,Ye,tt,null,ze,He)),H(p,k,K,!Ne);return}}yn(p,g,k,A,D,B,K,ie,ve)}function F(p){for(var g=p;;){var A=g.tag;if((A===0||A===11||A===15)&&g.flags&16384&&(A=g.updateQueue,A!==null&&(A=A.stores,A!==null)))for(var D=0;D<A.length;D++){var B=A[D],k=B.getSnapshot;B=B.value;try{if(!$i(k(),B))return!1}catch{return!1}}if(A=g.child,g.subtreeFlags&16384&&A!==null)A.return=g,g=A;else{if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function H(p,g,A,D){g&=~Rl,g&=~Rc,p.suspendedLanes|=g,p.pingedLanes&=~g,D&&(p.warmLanes|=g),D=p.expirationTimes;for(var B=g;0<B;){var k=31-de(B),K=1<<k;D[k]=-1,B&=~K}A!==0&&jm(p,A,g)}function re(){return(ui&6)===0?(VA(0),!1):!0}function pe(){if(zn!==null){if(nn===0)var p=zn.return;else p=zn,es=yc=null,yA(p),Of=null,zf=0,p=zn;for(;p!==null;)hd(p.alternate,p),p=p.return;zn=null}}function Ce(p,g){var A=p.timeoutHandle;A!==-1&&(p.timeoutHandle=-1,v0e(A)),A=p.cancelPendingCommit,A!==null&&(p.cancelPendingCommit=null,A()),rl=0,pe(),Ei=p,zn=A=fu(p.current,null),$n=g,nn=0,Yn=null,En=!1,Vn=Tt(p,g),ki=!1,Ro=ci=Rl=Rc=Do=Di=0,as=Ll=null,Zs=!1,(g&8)!==0&&(g|=g&32);var D=p.entangledLanes;if(D!==0)for(p=p.entanglements,D&=g;0<D;){var B=31-de(D),k=1<<B;g|=p[B],D&=~k}return Lr=g,Df(),A}function Ze(p,g){gn=null,G.H=bg,g===Bf||g===Cl?(g=Px(),nn=3):g===fg?(g=Px(),nn=4):nn=g===Jx?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,Yn=g,zn===null&&(Di=1,Kx(p,Gs(g,p.current)))}function gt(){var p=ra.current;return p===null?!0:($n&4194048)===$n?Qo===null:($n&62914560)===$n||($n&536870912)!==0?p===Qo:!1}function Dt(){var p=G.H;return G.H=bg,p===null?bg:p}function Pt(){var p=G.A;return G.A=r_,p}function Tn(){Di=4,En||($n&4194048)!==$n&&ra.current!==null||(Vn=!0),(Do&134217727)===0&&(Rc&134217727)===0||Ei===null||H(Ei,$n,ci,!1)}function Ks(p,g,A){var D=ui;ui|=2;var B=Dt(),k=Pt();(Ei!==p||$n!==g)&&(fv=null,Ce(p,g)),g=!1;var K=Di;e:do try{if(nn!==0&&zn!==null){var ie=zn,ve=Yn;switch(nn){case 8:pe(),K=6;break e;case 3:case 2:case 9:case 6:ra.current===null&&(g=!0);var Ne=nn;if(nn=0,Yn=null,ht(p,ie,ve,Ne),A&&Vn){K=0;break e}break;default:Ne=nn,nn=0,Yn=null,ht(p,ie,ve,Ne)}}Pg(),K=Di;break}catch(Ye){Ze(p,Ye)}while(!0);return g&&p.shellSuspendCounter++,es=yc=null,ui=D,G.H=B,G.A=k,zn===null&&(Ei=null,$n=0,Df()),K}function Pg(){for(;zn!==null;)Me(zn)}function xd(p,g){var A=ui;ui|=2;var D=Dt(),B=Pt();Ei!==p||$n!==g?(fv=null,Lo=ee()+500,Ce(p,g)):Vn=Tt(p,g);e:do try{if(nn!==0&&zn!==null){g=zn;var k=Yn;t:switch(nn){case 1:nn=0,Yn=null,ht(p,g,k,1);break;case 2:case 9:if(Bw(k)){nn=0,Yn=null,Ge(g);break}g=function(){nn!==2&&nn!==9||Ei!==p||(nn=7),qf(p)},k.then(g,g);break e;case 3:nn=7;break e;case 4:nn=5;break e;case 7:Bw(k)?(nn=0,Yn=null,Ge(g)):(nn=0,Yn=null,ht(p,g,k,7));break;case 5:var K=null;switch(zn.tag){case 26:K=zn.memoizedState;case 5:case 27:var ie=zn;if(K?ZH(K):ie.stateNode.complete){nn=0,Yn=null;var ve=ie.sibling;if(ve!==null)zn=ve;else{var Ne=ie.return;Ne!==null?(zn=Ne,Qt(Ne)):zn=null}break t}}nn=0,Yn=null,ht(p,g,k,5);break;case 6:nn=0,Yn=null,ht(p,g,k,6);break;case 8:pe(),Di=6;break e;default:throw Error(i(462))}}Be();break}catch(Ye){Ze(p,Ye)}while(!0);return es=yc=null,G.H=D,G.A=B,ui=A,zn!==null?0:(Ei=null,$n=0,Df(),Di)}function Be(){for(;zn!==null&&!Ct();)Me(zn)}function Me(p){var g=Qx(p.alternate,p,Lr);p.memoizedProps=p.pendingProps,g===null?Qt(p):zn=g}function Ge(p){var g=p,A=g.alternate;switch(g.tag){case 15:case 0:g=ns(A,g,g.pendingProps,g.type,void 0,$n);break;case 11:g=ns(A,g,g.pendingProps,g.type.render,g.ref,$n);break;case 5:yA(g);default:hd(A,g),g=zn=$a(g,Lr),g=Qx(A,g,Lr)}p.memoizedProps=p.pendingProps,g===null?Qt(p):zn=g}function ht(p,g,A,D){es=yc=null,yA(g),Of=null,zf=0;var B=g.return;try{if(So(p,B,g,A,$n)){Di=1,Kx(p,Gs(A,p.current)),zn=null;return}}catch(k){if(B!==null)throw zn=B,k;Di=1,Kx(p,Gs(A,p.current)),zn=null;return}g.flags&32768?(ni||D===1?p=!0:Vn||($n&536870912)!==0?p=!1:(En=p=!0,(D===2||D===9||D===3||D===6)&&(D=ra.current,D!==null&&D.tag===13&&(D.flags|=16384))),qi(g,p)):Qt(g)}function Qt(p){var g=p;do{if((g.flags&32768)!==0){qi(g,En);return}p=g.return;var A=FA(g.alternate,g,Lr);if(A!==null){zn=A;return}if(g=g.sibling,g!==null){zn=g;return}zn=g=p}while(g!==null);Di===0&&(Di=5)}function qi(p,g){do{var A=$x(p.alternate,p);if(A!==null){A.flags&=32767,zn=A;return}if(A=p.return,A!==null&&(A.flags|=32768,A.subtreeFlags=0,A.deletions=null),!g&&(p=p.sibling,p!==null)){zn=p;return}zn=p=A}while(p!==null);Di=6,zn=null}function yn(p,g,A,D,B,k,K,ie,ve){p.cancelPendingCommit=null;do o_();while(ur!==0);if((ui&6)!==0)throw Error(i(327));if(g!==null){if(g===p.current)throw Error(i(177));if(k=g.lanes|g.childLanes,k|=Tx,ea(p,A,k,K,ie,ve),p===Ei&&(zn=Ei=null,$n=0),No=g,Nl=p,rl=A,Nc=k,md=B,s_=D,(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?(p.callbackNode=null,p.callbackPriority=0,n0e(je,function(){return gH(),null})):(p.callbackNode=null,p.callbackPriority=0),D=(g.flags&13878)!==0,(g.subtreeFlags&13878)!==0||D){D=G.T,G.T=null,B=X.p,X.p=2,K=ui,ui|=4;try{lv(p,g,A)}finally{ui=K,X.p=B,G.T=D}}ur=1,vi(),sa(),mi()}}function vi(){if(ur===1){ur=0;var p=Nl,g=No,A=(g.flags&13878)!==0;if((g.subtreeFlags&13878)!==0||A){A=G.T,G.T=null;var D=X.p;X.p=2;var B=ui;ui|=4;try{Xf(g,p);var k=AB,K=_x(p.containerInfo),ie=k.focusedElem,ve=k.selectionRange;if(K!==ie&&ie&&ie.ownerDocument&&xx(ie.ownerDocument.documentElement,ie)){if(ve!==null&&Gp(ie)){var Ne=ve.start,Ye=ve.end;if(Ye===void 0&&(Ye=Ne),"selectionStart"in ie)ie.selectionStart=Ne,ie.selectionEnd=Math.min(Ye,ie.value.length);else{var tt=ie.ownerDocument||document,ze=tt&&tt.defaultView||window;if(ze.getSelection){var He=ze.getSelection(),Xt=ie.textContent.length,mn=Math.min(ve.start,Xt),Ki=ve.end===void 0?mn:Math.min(ve.end,Xt);!He.extend&&mn>Ki&&(K=Ki,Ki=mn,mn=K);var Te=YS(ie,mn),ye=YS(ie,Ki);if(Te&&ye&&(He.rangeCount!==1||He.anchorNode!==Te.node||He.anchorOffset!==Te.offset||He.focusNode!==ye.node||He.focusOffset!==ye.offset)){var Le=tt.createRange();Le.setStart(Te.node,Te.offset),He.removeAllRanges(),mn>Ki?(He.addRange(Le),He.extend(ye.node,ye.offset)):(Le.setEnd(ye.node,ye.offset),He.addRange(Le))}}}}for(tt=[],He=ie;He=He.parentNode;)He.nodeType===1&&tt.push({element:He,left:He.scrollLeft,top:He.scrollTop});for(typeof ie.focus=="function"&&ie.focus(),ie=0;ie<tt.length;ie++){var $e=tt[ie];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}SE=!!SB,AB=SB=null}finally{ui=B,X.p=D,G.T=A}}p.current=g,ur=2}}function sa(){if(ur===2){ur=0;var p=Nl,g=No,A=(g.flags&8772)!==0;if((g.subtreeFlags&8772)!==0||A){A=G.T,G.T=null;var D=X.p;X.p=2;var B=ui;ui|=4;try{lE(p,g.alternate,g)}finally{ui=B,X.p=D,G.T=A}}ur=3}}function mi(){if(ur===4||ur===3){ur=0,oe();var p=Nl,g=No,A=rl,D=s_;(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?ur=5:(ur=0,No=Nl=null,Ic(p,p.pendingLanes));var B=p.pendingLanes;if(B===0&&(Mu=null),mf(A),g=g.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(et,g,void 0,(g.current.flags&128)===128)}catch{}if(D!==null){g=G.T,B=X.p,X.p=2,G.T=null;try{for(var k=p.onRecoverableError,K=0;K<D.length;K++){var ie=D[K];k(ie.value,{componentStack:ie.stack})}}finally{G.T=g,X.p=B}}(rl&3)!==0&&o_(),qf(p),B=p.pendingLanes,(A&261930)!==0&&(B&42)!==0?p===yd?gd++:(gd=0,yd=p):gd=0,VA(0)}}function Ic(p,g){(p.pooledCacheLanes&=g)===0&&(g=p.pooledCache,g!=null&&(p.pooledCache=null,Ba(g)))}function o_(){return vi(),sa(),mi(),gH()}function gH(){if(ur!==5)return!1;var p=Nl,g=Nc;Nc=0;var A=mf(rl),D=G.T,B=X.p;try{X.p=32>A?32:A,G.T=null,A=md,md=null;var k=Nl,K=rl;if(ur=0,No=Nl=null,rl=0,(ui&6)!==0)throw Error(i(331));var ie=ui;if(ui|=4,vd(k.current),lr(k,k.current,K,A),ui=ie,VA(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(et,k)}catch{}return!0}finally{X.p=B,G.T=D,Ic(p,g)}}function yH(p,g,A){g=Gs(A,g),g=kA(p.stateNode,g,2),p=Sc(p,g,2),p!==null&&(or(p,2),qf(p))}function ji(p,g,A){if(p.tag===3)yH(p,p,A);else for(;g!==null;){if(g.tag===3){yH(g,p,A);break}else if(g.tag===1){var D=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(Mu===null||!Mu.has(D))){p=Gs(A,p),A=iv(2),D=Sc(g,A,2),D!==null&&(Ws(A,D,g,p),or(D,2),qf(D));break}}g=g.return}}function hB(p,g,A){var D=p.pingCache;if(D===null){D=p.pingCache=new a_;var B=new Set;D.set(g,B)}else B=D.get(g),B===void 0&&(B=new Set,D.set(g,B));B.has(A)||(ki=!0,B.add(A),p=$ge.bind(null,p,g,A),g.then(p,p))}function $ge(p,g,A){var D=p.pingCache;D!==null&&D.delete(g),p.pingedLanes|=p.suspendedLanes&A,p.warmLanes&=~A,Ei===p&&($n&A)===A&&(Di===4||Di===3&&($n&62914560)===$n&&300>ee()-Lc?(ui&2)===0&&Ce(p,0):Rl|=A,Ro===$n&&(Ro=0)),qf(p)}function xH(p,g){g===0&&(g=Xn()),p=Rf(p,g),p!==null&&(or(p,g),qf(p))}function e0e(p){var g=p.memoizedState,A=0;g!==null&&(A=g.retryLane),xH(p,A)}function t0e(p,g){var A=0;switch(p.tag){case 31:case 13:var D=p.stateNode,B=p.memoizedState;B!==null&&(A=B.retryLane);break;case 19:D=p.stateNode;break;case 22:D=p.stateNode._retryCache;break;default:throw Error(i(314))}D!==null&&D.delete(g),xH(p,A)}function n0e(p,g){return _t(p,g)}var fE=null,l_=null,dB=!1,hE=!1,pB=!1,hv=0;function qf(p){p!==l_&&p.next===null&&(l_===null?fE=l_=p:l_=l_.next=p),hE=!0,dB||(dB=!0,r0e())}function VA(p,g){if(!pB&&hE){pB=!0;do for(var A=!1,D=fE;D!==null;){if(p!==0){var B=D.pendingLanes;if(B===0)var k=0;else{var K=D.suspendedLanes,ie=D.pingedLanes;k=(1<<31-de(42|p)+1)-1,k&=B&~(K&~ie),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(A=!0,AH(D,k))}else k=$n,k=Qe(D,D===Ei?k:0,D.cancelPendingCommit!==null||D.timeoutHandle!==-1),(k&3)===0||Tt(D,k)||(A=!0,AH(D,k));D=D.next}while(A);pB=!1}}function i0e(){_H()}function _H(){hE=dB=!1;var p=0;hv!==0&&p0e()&&(p=hv);for(var g=ee(),A=null,D=fE;D!==null;){var B=D.next,k=bH(D,g);k===0?(D.next=null,A===null?fE=B:A.next=B,B===null&&(l_=A)):(A=D,(p!==0||(k&3)!==0)&&(hE=!0)),D=B}ur!==0&&ur!==5||VA(p),hv!==0&&(hv=0)}function bH(p,g){for(var A=p.suspendedLanes,D=p.pingedLanes,B=p.expirationTimes,k=p.pendingLanes&-62914561;0<k;){var K=31-de(k),ie=1<<K,ve=B[K];ve===-1?((ie&A)===0||(ie&D)!==0)&&(B[K]=Kt(ie,g)):ve<=g&&(p.expiredLanes|=ie),k&=~ie}if(g=Ei,A=$n,A=Qe(p,p===g?A:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),D=p.callbackNode,A===0||p===g&&(nn===2||nn===9)||p.cancelPendingCommit!==null)return D!==null&&D!==null&&pt(D),p.callbackNode=null,p.callbackPriority=0;if((A&3)===0||Tt(p,A)){if(g=A&-A,g===p.callbackPriority)return g;switch(D!==null&&pt(D),mf(A)){case 2:case 8:A=nt;break;case 32:A=je;break;case 268435456:A=St;break;default:A=je}return D=SH.bind(null,p),A=_t(A,D),p.callbackPriority=g,p.callbackNode=A,g}return D!==null&&D!==null&&pt(D),p.callbackPriority=2,p.callbackNode=null,2}function SH(p,g){if(ur!==0&&ur!==5)return p.callbackNode=null,p.callbackPriority=0,null;var A=p.callbackNode;if(o_()&&p.callbackNode!==A)return null;var D=$n;return D=Qe(p,p===Ei?D:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),D===0?null:(R(p,D,g),bH(p,ee()),p.callbackNode!=null&&p.callbackNode===A?SH.bind(null,p):null)}function AH(p,g){if(o_())return null;R(p,g,!0)}function r0e(){m0e(function(){(ui&6)!==0?_t(Xe,i0e):_H()})}function vB(){if(hv===0){var p=bc;p===0&&(p=ut,ut<<=1,(ut&261888)===0&&(ut=256)),hv=p}return hv}function MH(p){return p==null||typeof p=="symbol"||typeof p=="boolean"?null:typeof p=="function"?p:Xm(""+p)}function TH(p,g){var A=g.ownerDocument.createElement("input");return A.name=g.name,A.value=g.value,p.id&&A.setAttribute("form",p.id),g.parentNode.insertBefore(A,g),p=new FormData(p),A.parentNode.removeChild(A),p}function a0e(p,g,A,D,B){if(g==="submit"&&A&&A.stateNode===B){var k=MH((B[Tr]||null).action),K=D.submitter;K&&(g=(g=K[Tr]||null)?MH(g.formAction):K.getAttribute("formAction"),g!==null&&(k=g,K=null));var ie=new Km("action","action",null,D,B);p.push({event:ie,listeners:[{instance:null,listener:function(){if(D.defaultPrevented){if(hv!==0){var ve=K?TH(B,K):new FormData(B);IA(A,{pending:!0,data:ve,method:B.method,action:k},null,ve)}}else typeof k=="function"&&(ie.preventDefault(),ve=K?TH(B,K):new FormData(B),IA(A,{pending:!0,data:ve,method:B.method,action:k},k,ve))},currentTarget:B}]})}}for(var mB=0;mB<Mx.length;mB++){var gB=Mx[mB],s0e=gB.toLowerCase(),o0e=gB[0].toUpperCase()+gB.slice(1);Qa(s0e,"on"+o0e)}Qa(Us,"onAnimationEnd"),Qa(qS,"onAnimationIteration"),Qa(cu,"onAnimationStart"),Qa("dblclick","onDoubleClick"),Qa("focusin","onFocus"),Qa("focusout","onBlur"),Qa(Wp,"onTransitionRun"),Qa(wf,"onTransitionStart"),Qa(ZS,"onTransitionCancel"),Qa(Ax,"onTransitionEnd"),zt("onMouseEnter",["mouseout","mouseover"]),zt("onMouseLeave",["mouseout","mouseover"]),zt("onPointerEnter",["pointerout","pointerover"]),zt("onPointerLeave",["pointerout","pointerover"]),Mt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l0e=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jA));function CH(p,g){g=(g&4)!==0;for(var A=0;A<p.length;A++){var D=p[A],B=D.event;D=D.listeners;e:{var k=void 0;if(g)for(var K=D.length-1;0<=K;K--){var ie=D[K],ve=ie.instance,Ne=ie.currentTarget;if(ie=ie.listener,ve!==k&&B.isPropagationStopped())break e;k=ie,B.currentTarget=Ne;try{k(B)}catch(Ye){Ef(Ye)}B.currentTarget=null,k=ve}else for(K=0;K<D.length;K++){if(ie=D[K],ve=ie.instance,Ne=ie.currentTarget,ie=ie.listener,ve!==k&&B.isPropagationStopped())break e;k=ie,B.currentTarget=Ne;try{k(B)}catch(Ye){Ef(Ye)}B.currentTarget=null,k=ve}}}}function ii(p,g){var A=g[Wh];A===void 0&&(A=g[Wh]=new Set);var D=p+"__bubble";A.has(D)||(wH(g,p,2,!1),A.add(D))}function yB(p,g,A){var D=0;g&&(D|=4),wH(A,p,D,g)}var dE="_reactListening"+Math.random().toString(36).slice(2);function xB(p){if(!p[dE]){p[dE]=!0,Ae.forEach(function(A){A!=="selectionchange"&&(l0e.has(A)||yB(A,!1,p),yB(A,!0,p))});var g=p.nodeType===9?p:p.ownerDocument;g===null||g[dE]||(g[dE]=!0,yB("selectionchange",!1,g))}}function wH(p,g,A,D){switch(n7(g)){case 2:var B=O0e;break;case 8:B=z0e;break;default:B=PB}A=B.bind(null,g,A,p),B=void 0,!ux||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(B=!0),D?B!==void 0?p.addEventListener(g,A,{capture:!0,passive:B}):p.addEventListener(g,A,!0):B!==void 0?p.addEventListener(g,A,{passive:B}):p.addEventListener(g,A,!1)}function _B(p,g,A,D,B){var k=D;if((g&1)===0&&(g&2)===0&&D!==null)e:for(;;){if(D===null)return;var K=D.tag;if(K===3||K===4){var ie=D.stateNode.containerInfo;if(ie===B)break;if(K===4)for(K=D.return;K!==null;){var ve=K.tag;if((ve===3||ve===4)&&K.stateNode.containerInfo===B)return;K=K.return}for(;ie!==null;){if(K=Cr(ie),K===null)return;if(ve=K.tag,ve===5||ve===6||ve===26||ve===27){D=k=K;continue e}ie=ie.parentNode}}D=D.return}RS(function(){var Ne=k,Ye=ox(A),tt=[];e:{var ze=pc.get(p);if(ze!==void 0){var He=Km,Xt=p;switch(p){case"keypress":if(Zh(A)===0)break e;case"keydown":case"keyup":He=zS;break;case"focusin":Xt="focus",He=px;break;case"focusout":Xt="blur",He=px;break;case"beforeblur":case"afterblur":He=px;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=hw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=dw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=hc;break;case Us:case qS:case cu:He=mw;break;case Ax:He=rB;break;case"scroll":case"scrollend":He=hx;break;case"wheel":He=bf;break;case"copy":case"cut":case"paste":He=NS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=vx;break;case"toggle":case"beforetoggle":He=FS}var mn=(g&4)!==0,Ki=!mn&&(p==="scroll"||p==="scrollend"),Te=mn?ze!==null?ze+"Capture":null:ze;mn=[];for(var ye=Ne,Le;ye!==null;){var $e=ye;if(Le=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||Le===null||Te===null||($e=qh(ye,Te),$e!=null&&mn.push(HA(ye,$e,Le))),Ki)break;ye=ye.return}0<mn.length&&(ze=new He(ze,Xt,null,A,Ye),tt.push({event:ze,listeners:mn}))}}if((g&7)===0){e:{if(ze=p==="mouseover"||p==="pointerover",He=p==="mouseout"||p==="pointerout",ze&&A!==Ym&&(Xt=A.relatedTarget||A.fromElement)&&(Cr(Xt)||Xt[_l]))break e;if((He||ze)&&(ze=Ye.window===Ye?Ye:(ze=Ye.ownerDocument)?ze.defaultView||ze.parentWindow:window,He?(Xt=A.relatedTarget||A.toElement,He=Ne,Xt=Xt?Cr(Xt):null,Xt!==null&&(Ki=a(Xt),mn=Xt.tag,Xt!==Ki||mn!==5&&mn!==27&&mn!==6)&&(Xt=null)):(He=null,Xt=Ne),He!==Xt)){if(mn=hw,$e="onMouseLeave",Te="onMouseEnter",ye="mouse",(p==="pointerout"||p==="pointerover")&&(mn=vx,$e="onPointerLeave",Te="onPointerEnter",ye="pointer"),Ki=He==null?ze:be(He),Le=Xt==null?ze:be(Xt),ze=new mn($e,ye+"leave",He,A,Ye),ze.target=Ki,ze.relatedTarget=Le,$e=null,Cr(Ye)===Ne&&(mn=new mn(Te,ye+"enter",Xt,A,Ye),mn.target=Le,mn.relatedTarget=Ki,$e=mn),Ki=$e,He&&Xt)t:{for(mn=u0e,Te=He,ye=Xt,Le=0,$e=Te;$e;$e=mn($e))Le++;$e=0;for(var ln=ye;ln;ln=mn(ln))$e++;for(;0<Le-$e;)Te=mn(Te),Le--;for(;0<$e-Le;)ye=mn(ye),$e--;for(;Le--;){if(Te===ye||ye!==null&&Te===ye.alternate){mn=Te;break t}Te=mn(Te),ye=mn(ye)}mn=null}else mn=null;He!==null&&EH(tt,ze,He,mn,!1),Xt!==null&&Ki!==null&&EH(tt,Ki,Xt,mn,!0)}}e:{if(ze=Ne?be(Ne):window,He=ze.nodeName&&ze.nodeName.toLowerCase(),He==="select"||He==="input"&&ze.type==="file")var Ri=HS;else if(VS(ze))if(ng)Ri=ww;else{Ri=Mf;var Jt=ig}else He=ze.nodeName,!He||He.toLowerCase()!=="input"||ze.type!=="checkbox"&&ze.type!=="radio"?Ne&&Wm(Ne.elementType)&&(Ri=HS):Ri=Cw;if(Ri&&(Ri=Ri(p,Ne))){yx(tt,Ri,A,Ye);break e}Jt&&Jt(p,ze,Ne),p==="focusout"&&Ne&&ze.type==="number"&&Ne.memoizedProps.value!=null&&ta(ze,"number",ze.value)}switch(Jt=Ne?be(Ne):window,p){case"focusin":(VS(Jt)||Jt.contentEditable==="true")&&(Vp=Jt,bx=Ne,jp=null);break;case"focusout":jp=bx=Vp=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,Sx(tt,A,Ye);break;case"selectionchange":if(Ew)break;case"keydown":case"keyup":Sx(tt,A,Ye)}var jn;if(Kh)e:{switch(p){case"compositionstart":var fi="onCompositionStart";break e;case"compositionend":fi="onCompositionEnd";break e;case"compositionupdate":fi="onCompositionUpdate";break e}fi=void 0}else Af?mx(p,A)&&(fi="onCompositionEnd"):p==="keydown"&&A.keyCode===229&&(fi="onCompositionStart");fi&&(Pa&&A.locale!=="ko"&&(Af||fi!=="onCompositionStart"?fi==="onCompositionEnd"&&Af&&(jn=fx()):(yf=Ye,cx="value"in yf?yf.value:yf.textContent,Af=!0)),Jt=pE(Ne,fi),0<Jt.length&&(fi=new IS(fi,p,null,A,Ye),tt.push({event:fi,listeners:Jt}),jn?fi.data=jn:(jn=Op(A),jn!==null&&(fi.data=jn)))),(jn=Jh?gx(p,A):Aw(p,A))&&(fi=pE(Ne,"onBeforeInput"),0<fi.length&&(Jt=new IS("onBeforeInput","beforeinput",null,A,Ye),tt.push({event:Jt,listeners:fi}),Jt.data=jn)),a0e(tt,p,Ne,A,Ye)}CH(tt,g)})}function HA(p,g,A){return{instance:p,listener:g,currentTarget:A}}function pE(p,g){for(var A=g+"Capture",D=[];p!==null;){var B=p,k=B.stateNode;if(B=B.tag,B!==5&&B!==26&&B!==27||k===null||(B=qh(p,A),B!=null&&D.unshift(HA(p,B,k)),B=qh(p,g),B!=null&&D.push(HA(p,B,k))),p.tag===3)return D;p=p.return}return[]}function u0e(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5&&p.tag!==27);return p||null}function EH(p,g,A,D,B){for(var k=g._reactName,K=[];A!==null&&A!==D;){var ie=A,ve=ie.alternate,Ne=ie.stateNode;if(ie=ie.tag,ve!==null&&ve===D)break;ie!==5&&ie!==26&&ie!==27||Ne===null||(ve=Ne,B?(Ne=qh(A,k),Ne!=null&&K.unshift(HA(A,Ne,ve))):B||(Ne=qh(A,k),Ne!=null&&K.push(HA(A,Ne,ve)))),A=A.return}K.length!==0&&p.push({event:g,listeners:K})}var c0e=/\r\n?/g,f0e=/\u0000|\uFFFD/g;function DH(p){return(typeof p=="string"?p:""+p).replace(c0e,`
`).replace(f0e,"")}function RH(p,g){return g=DH(g),DH(p)===g}function Zi(p,g,A,D,B,k){switch(A){case"children":typeof D=="string"?g==="body"||g==="textarea"&&D===""||bl(p,D):(typeof D=="number"||typeof D=="bigint")&&g!=="body"&&bl(p,""+D);break;case"className":oi(p,"class",D);break;case"tabIndex":oi(p,"tabindex",D);break;case"dir":case"role":case"viewBox":case"width":case"height":oi(p,A,D);break;case"style":ES(p,D,k);break;case"data":if(g!=="object"){oi(p,"data",D);break}case"src":case"href":if(D===""&&(g!=="a"||A!=="href")){p.removeAttribute(A);break}if(D==null||typeof D=="function"||typeof D=="symbol"||typeof D=="boolean"){p.removeAttribute(A);break}D=Xm(""+D),p.setAttribute(A,D);break;case"action":case"formAction":if(typeof D=="function"){p.setAttribute(A,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(A==="formAction"?(g!=="input"&&Zi(p,g,"name",B.name,B,null),Zi(p,g,"formEncType",B.formEncType,B,null),Zi(p,g,"formMethod",B.formMethod,B,null),Zi(p,g,"formTarget",B.formTarget,B,null)):(Zi(p,g,"encType",B.encType,B,null),Zi(p,g,"method",B.method,B,null),Zi(p,g,"target",B.target,B,null)));if(D==null||typeof D=="symbol"||typeof D=="boolean"){p.removeAttribute(A);break}D=Xm(""+D),p.setAttribute(A,D);break;case"onClick":D!=null&&(p.onclick=lu);break;case"onScroll":D!=null&&ii("scroll",p);break;case"onScrollEnd":D!=null&&ii("scrollend",p);break;case"dangerouslySetInnerHTML":if(D!=null){if(typeof D!="object"||!("__html"in D))throw Error(i(61));if(A=D.__html,A!=null){if(B.children!=null)throw Error(i(60));p.innerHTML=A}}break;case"multiple":p.multiple=D&&typeof D!="function"&&typeof D!="symbol";break;case"muted":p.muted=D&&typeof D!="function"&&typeof D!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(D==null||typeof D=="function"||typeof D=="boolean"||typeof D=="symbol"){p.removeAttribute("xlink:href");break}A=Xm(""+D),p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",A);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":D!=null&&typeof D!="function"&&typeof D!="symbol"?p.setAttribute(A,""+D):p.removeAttribute(A);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":D&&typeof D!="function"&&typeof D!="symbol"?p.setAttribute(A,""):p.removeAttribute(A);break;case"capture":case"download":D===!0?p.setAttribute(A,""):D!==!1&&D!=null&&typeof D!="function"&&typeof D!="symbol"?p.setAttribute(A,D):p.removeAttribute(A);break;case"cols":case"rows":case"size":case"span":D!=null&&typeof D!="function"&&typeof D!="symbol"&&!isNaN(D)&&1<=D?p.setAttribute(A,D):p.removeAttribute(A);break;case"rowSpan":case"start":D==null||typeof D=="function"||typeof D=="symbol"||isNaN(D)?p.removeAttribute(A):p.setAttribute(A,D);break;case"popover":ii("beforetoggle",p),ii("toggle",p),Ln(p,"popover",D);break;case"xlinkActuate":li(p,"http://www.w3.org/1999/xlink","xlink:actuate",D);break;case"xlinkArcrole":li(p,"http://www.w3.org/1999/xlink","xlink:arcrole",D);break;case"xlinkRole":li(p,"http://www.w3.org/1999/xlink","xlink:role",D);break;case"xlinkShow":li(p,"http://www.w3.org/1999/xlink","xlink:show",D);break;case"xlinkTitle":li(p,"http://www.w3.org/1999/xlink","xlink:title",D);break;case"xlinkType":li(p,"http://www.w3.org/1999/xlink","xlink:type",D);break;case"xmlBase":li(p,"http://www.w3.org/XML/1998/namespace","xml:base",D);break;case"xmlLang":li(p,"http://www.w3.org/XML/1998/namespace","xml:lang",D);break;case"xmlSpace":li(p,"http://www.w3.org/XML/1998/namespace","xml:space",D);break;case"is":Ln(p,"is",D);break;case"innerText":case"textContent":break;default:(!(2<A.length)||A[0]!=="o"&&A[0]!=="O"||A[1]!=="n"&&A[1]!=="N")&&(A=cw.get(A)||A,Ln(p,A,D))}}function bB(p,g,A,D,B,k){switch(A){case"style":ES(p,D,k);break;case"dangerouslySetInnerHTML":if(D!=null){if(typeof D!="object"||!("__html"in D))throw Error(i(61));if(A=D.__html,A!=null){if(B.children!=null)throw Error(i(60));p.innerHTML=A}}break;case"children":typeof D=="string"?bl(p,D):(typeof D=="number"||typeof D=="bigint")&&bl(p,""+D);break;case"onScroll":D!=null&&ii("scroll",p);break;case"onScrollEnd":D!=null&&ii("scrollend",p);break;case"onClick":D!=null&&(p.onclick=lu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mt.hasOwnProperty(A))e:{if(A[0]==="o"&&A[1]==="n"&&(B=A.endsWith("Capture"),g=A.slice(2,B?A.length-7:void 0),k=p[Tr]||null,k=k!=null?k[A]:null,typeof k=="function"&&p.removeEventListener(g,k,B),typeof D=="function")){typeof k!="function"&&k!==null&&(A in p?p[A]=null:p.hasAttribute(A)&&p.removeAttribute(A)),p.addEventListener(g,D,B);break e}A in p?p[A]=D:D===!0?p.setAttribute(A,""):Ln(p,A,D)}}}function ws(p,g,A){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ii("error",p),ii("load",p);var D=!1,B=!1,k;for(k in A)if(A.hasOwnProperty(k)){var K=A[k];if(K!=null)switch(k){case"src":D=!0;break;case"srcSet":B=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,g));default:Zi(p,g,k,K,A,null)}}B&&Zi(p,g,"srcSet",A.srcSet,A,null),D&&Zi(p,g,"src",A.src,A,null);return;case"input":ii("invalid",p);var ie=k=K=B=null,ve=null,Ne=null;for(D in A)if(A.hasOwnProperty(D)){var Ye=A[D];if(Ye!=null)switch(D){case"name":B=Ye;break;case"type":K=Ye;break;case"checked":ve=Ye;break;case"defaultChecked":Ne=Ye;break;case"value":k=Ye;break;case"defaultValue":ie=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(i(137,g));break;default:Zi(p,g,D,Ye,A,null)}}Vi(p,k,ie,ve,Ne,K,B,!1);return;case"select":ii("invalid",p),D=K=k=null;for(B in A)if(A.hasOwnProperty(B)&&(ie=A[B],ie!=null))switch(B){case"value":k=ie;break;case"defaultValue":K=ie;break;case"multiple":D=ie;default:Zi(p,g,B,ie,A,null)}g=k,A=K,p.multiple=!!D,g!=null?na(p,!!D,g,!1):A!=null&&na(p,!!D,A,!0);return;case"textarea":ii("invalid",p),k=B=D=null;for(K in A)if(A.hasOwnProperty(K)&&(ie=A[K],ie!=null))switch(K){case"value":D=ie;break;case"defaultValue":B=ie;break;case"children":k=ie;break;case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(91));break;default:Zi(p,g,K,ie,A,null)}dr(p,D,B,k);return;case"option":for(ve in A)if(A.hasOwnProperty(ve)&&(D=A[ve],D!=null))switch(ve){case"selected":p.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Zi(p,g,ve,D,A,null)}return;case"dialog":ii("beforetoggle",p),ii("toggle",p),ii("cancel",p),ii("close",p);break;case"iframe":case"object":ii("load",p);break;case"video":case"audio":for(D=0;D<jA.length;D++)ii(jA[D],p);break;case"image":ii("error",p),ii("load",p);break;case"details":ii("toggle",p);break;case"embed":case"source":case"link":ii("error",p),ii("load",p);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ne in A)if(A.hasOwnProperty(Ne)&&(D=A[Ne],D!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,g));default:Zi(p,g,Ne,D,A,null)}return;default:if(Wm(g)){for(Ye in A)A.hasOwnProperty(Ye)&&(D=A[Ye],D!==void 0&&bB(p,g,Ye,D,A,void 0));return}}for(ie in A)A.hasOwnProperty(ie)&&(D=A[ie],D!=null&&Zi(p,g,ie,D,A,null))}function h0e(p,g,A,D){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var B=null,k=null,K=null,ie=null,ve=null,Ne=null,Ye=null;for(He in A){var tt=A[He];if(A.hasOwnProperty(He)&&tt!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":ve=tt;default:D.hasOwnProperty(He)||Zi(p,g,He,null,D,tt)}}for(var ze in D){var He=D[ze];if(tt=A[ze],D.hasOwnProperty(ze)&&(He!=null||tt!=null))switch(ze){case"type":k=He;break;case"name":B=He;break;case"checked":Ne=He;break;case"defaultChecked":Ye=He;break;case"value":K=He;break;case"defaultValue":ie=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(i(137,g));break;default:He!==tt&&Zi(p,g,ze,He,D,tt)}}ou(p,K,ie,ve,Ne,Ye,k,B);return;case"select":He=K=ie=ze=null;for(k in A)if(ve=A[k],A.hasOwnProperty(k)&&ve!=null)switch(k){case"value":break;case"multiple":He=ve;default:D.hasOwnProperty(k)||Zi(p,g,k,null,D,ve)}for(B in D)if(k=D[B],ve=A[B],D.hasOwnProperty(B)&&(k!=null||ve!=null))switch(B){case"value":ze=k;break;case"defaultValue":ie=k;break;case"multiple":K=k;default:k!==ve&&Zi(p,g,B,k,D,ve)}g=ie,A=K,D=He,ze!=null?na(p,!!A,ze,!1):!!D!=!!A&&(g!=null?na(p,!!A,g,!0):na(p,!!A,A?[]:"",!1));return;case"textarea":He=ze=null;for(ie in A)if(B=A[ie],A.hasOwnProperty(ie)&&B!=null&&!D.hasOwnProperty(ie))switch(ie){case"value":break;case"children":break;default:Zi(p,g,ie,null,D,B)}for(K in D)if(B=D[K],k=A[K],D.hasOwnProperty(K)&&(B!=null||k!=null))switch(K){case"value":ze=B;break;case"defaultValue":He=B;break;case"children":break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(91));break;default:B!==k&&Zi(p,g,K,B,D,k)}ia(p,ze,He);return;case"option":for(var Xt in A)if(ze=A[Xt],A.hasOwnProperty(Xt)&&ze!=null&&!D.hasOwnProperty(Xt))switch(Xt){case"selected":p.selected=!1;break;default:Zi(p,g,Xt,null,D,ze)}for(ve in D)if(ze=D[ve],He=A[ve],D.hasOwnProperty(ve)&&ze!==He&&(ze!=null||He!=null))switch(ve){case"selected":p.selected=ze&&typeof ze!="function"&&typeof ze!="symbol";break;default:Zi(p,g,ve,ze,D,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mn in A)ze=A[mn],A.hasOwnProperty(mn)&&ze!=null&&!D.hasOwnProperty(mn)&&Zi(p,g,mn,null,D,ze);for(Ne in D)if(ze=D[Ne],He=A[Ne],D.hasOwnProperty(Ne)&&ze!==He&&(ze!=null||He!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(i(137,g));break;default:Zi(p,g,Ne,ze,D,He)}return;default:if(Wm(g)){for(var Ki in A)ze=A[Ki],A.hasOwnProperty(Ki)&&ze!==void 0&&!D.hasOwnProperty(Ki)&&bB(p,g,Ki,void 0,D,ze);for(Ye in D)ze=D[Ye],He=A[Ye],!D.hasOwnProperty(Ye)||ze===He||ze===void 0&&He===void 0||bB(p,g,Ye,ze,D,He);return}}for(var Te in A)ze=A[Te],A.hasOwnProperty(Te)&&ze!=null&&!D.hasOwnProperty(Te)&&Zi(p,g,Te,null,D,ze);for(tt in D)ze=D[tt],He=A[tt],!D.hasOwnProperty(tt)||ze===He||ze==null&&He==null||Zi(p,g,tt,ze,D,He)}function LH(p){switch(p){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function d0e(){if(typeof performance.getEntriesByType=="function"){for(var p=0,g=0,A=performance.getEntriesByType("resource"),D=0;D<A.length;D++){var B=A[D],k=B.transferSize,K=B.initiatorType,ie=B.duration;if(k&&ie&&LH(K)){for(K=0,ie=B.responseEnd,D+=1;D<A.length;D++){var ve=A[D],Ne=ve.startTime;if(Ne>ie)break;var Ye=ve.transferSize,tt=ve.initiatorType;Ye&&LH(tt)&&(ve=ve.responseEnd,K+=Ye*(ve<ie?1:(ie-Ne)/(ve-Ne)))}if(--D,g+=8*(k+K)/(B.duration/1e3),p++,10<p)break}}if(0<p)return g/p/1e6}return navigator.connection&&(p=navigator.connection.downlink,typeof p=="number")?p:5}var SB=null,AB=null;function vE(p){return p.nodeType===9?p:p.ownerDocument}function NH(p){switch(p){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function IH(p,g){if(p===0)switch(g){case"svg":return 1;case"math":return 2;default:return 0}return p===1&&g==="foreignObject"?0:p}function MB(p,g){return p==="textarea"||p==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.children=="bigint"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var TB=null;function p0e(){var p=window.event;return p&&p.type==="popstate"?p===TB?!1:(TB=p,!0):(TB=null,!1)}var PH=typeof setTimeout=="function"?setTimeout:void 0,v0e=typeof clearTimeout=="function"?clearTimeout:void 0,BH=typeof Promise=="function"?Promise:void 0,m0e=typeof queueMicrotask=="function"?queueMicrotask:typeof BH<"u"?function(p){return BH.resolve(null).then(p).catch(g0e)}:PH;function g0e(p){setTimeout(function(){throw p})}function dv(p){return p==="head"}function OH(p,g){var A=g,D=0;do{var B=A.nextSibling;if(p.removeChild(A),B&&B.nodeType===8)if(A=B.data,A==="/$"||A==="/&"){if(D===0){p.removeChild(B),h_(g);return}D--}else if(A==="$"||A==="$?"||A==="$~"||A==="$!"||A==="&")D++;else if(A==="html")WA(p.ownerDocument.documentElement);else if(A==="head"){A=p.ownerDocument.head,WA(A);for(var k=A.firstChild;k;){var K=k.nextSibling,ie=k.nodeName;k[cc]||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&k.rel.toLowerCase()==="stylesheet"||A.removeChild(k),k=K}}else A==="body"&&WA(p.ownerDocument.body);A=B}while(A);h_(g)}function zH(p,g){var A=p;p=0;do{var D=A.nextSibling;if(A.nodeType===1?g?(A._stashedDisplay=A.style.display,A.style.display="none"):(A.style.display=A._stashedDisplay||"",A.getAttribute("style")===""&&A.removeAttribute("style")):A.nodeType===3&&(g?(A._stashedText=A.nodeValue,A.nodeValue=""):A.nodeValue=A._stashedText||""),D&&D.nodeType===8)if(A=D.data,A==="/$"){if(p===0)break;p--}else A!=="$"&&A!=="$?"&&A!=="$~"&&A!=="$!"||p++;A=D}while(A)}function CB(p){var g=p.firstChild;for(g&&g.nodeType===10&&(g=g.nextSibling);g;){var A=g;switch(g=g.nextSibling,A.nodeName){case"HTML":case"HEAD":case"BODY":CB(A),Xh(A);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(A.rel.toLowerCase()==="stylesheet")continue}p.removeChild(A)}}function y0e(p,g,A,D){for(;p.nodeType===1;){var B=A;if(p.nodeName.toLowerCase()!==g.toLowerCase()){if(!D&&(p.nodeName!=="INPUT"||p.type!=="hidden"))break}else if(D){if(!p[cc])switch(g){case"meta":if(!p.hasAttribute("itemprop"))break;return p;case"link":if(k=p.getAttribute("rel"),k==="stylesheet"&&p.hasAttribute("data-precedence"))break;if(k!==B.rel||p.getAttribute("href")!==(B.href==null||B.href===""?null:B.href)||p.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin)||p.getAttribute("title")!==(B.title==null?null:B.title))break;return p;case"style":if(p.hasAttribute("data-precedence"))break;return p;case"script":if(k=p.getAttribute("src"),(k!==(B.src==null?null:B.src)||p.getAttribute("type")!==(B.type==null?null:B.type)||p.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin))&&k&&p.hasAttribute("async")&&!p.hasAttribute("itemprop"))break;return p;default:return p}}else if(g==="input"&&p.type==="hidden"){var k=B.name==null?null:""+B.name;if(B.type==="hidden"&&p.getAttribute("name")===k)return p}else return p;if(p=Tu(p.nextSibling),p===null)break}return null}function x0e(p,g,A){if(g==="")return null;for(;p.nodeType!==3;)if((p.nodeType!==1||p.nodeName!=="INPUT"||p.type!=="hidden")&&!A||(p=Tu(p.nextSibling),p===null))return null;return p}function kH(p,g){for(;p.nodeType!==8;)if((p.nodeType!==1||p.nodeName!=="INPUT"||p.type!=="hidden")&&!g||(p=Tu(p.nextSibling),p===null))return null;return p}function wB(p){return p.data==="$?"||p.data==="$~"}function EB(p){return p.data==="$!"||p.data==="$?"&&p.ownerDocument.readyState!=="loading"}function _0e(p,g){var A=p.ownerDocument;if(p.data==="$~")p._reactRetry=g;else if(p.data!=="$?"||A.readyState!=="loading")g();else{var D=function(){g(),A.removeEventListener("DOMContentLoaded",D)};A.addEventListener("DOMContentLoaded",D),p._reactRetry=D}}function Tu(p){for(;p!=null;p=p.nextSibling){var g=p.nodeType;if(g===1||g===3)break;if(g===8){if(g=p.data,g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"||g==="F!"||g==="F")break;if(g==="/$"||g==="/&")return null}}return p}var DB=null;function FH(p){p=p.nextSibling;for(var g=0;p;){if(p.nodeType===8){var A=p.data;if(A==="/$"||A==="/&"){if(g===0)return Tu(p.nextSibling);g--}else A!=="$"&&A!=="$!"&&A!=="$?"&&A!=="$~"&&A!=="&"||g++}p=p.nextSibling}return null}function UH(p){p=p.previousSibling;for(var g=0;p;){if(p.nodeType===8){var A=p.data;if(A==="$"||A==="$!"||A==="$?"||A==="$~"||A==="&"){if(g===0)return p;g--}else A!=="/$"&&A!=="/&"||g++}p=p.previousSibling}return null}function GH(p,g,A){switch(g=vE(A),p){case"html":if(p=g.documentElement,!p)throw Error(i(452));return p;case"head":if(p=g.head,!p)throw Error(i(453));return p;case"body":if(p=g.body,!p)throw Error(i(454));return p;default:throw Error(i(451))}}function WA(p){for(var g=p.attributes;g.length;)p.removeAttributeNode(g[0]);Xh(p)}var Cu=new Map,VH=new Set;function mE(p){return typeof p.getRootNode=="function"?p.getRootNode():p.nodeType===9?p:p.ownerDocument}var _d=X.d;X.d={f:b0e,r:S0e,D:A0e,C:M0e,L:T0e,m:C0e,X:E0e,S:w0e,M:D0e};function b0e(){var p=_d.f(),g=re();return p||g}function S0e(p){var g=ne(p);g!==null&&g.tag===5&&g.type==="form"?PA(g):_d.r(p)}var u_=typeof document>"u"?null:document;function jH(p,g,A){var D=u_;if(D&&typeof g=="string"&&g){var B=Gi(g);B='link[rel="'+p+'"][href="'+B+'"]',typeof A=="string"&&(B+='[crossorigin="'+A+'"]'),VH.has(B)||(VH.add(B),p={rel:p,crossOrigin:A,href:g},D.querySelector(B)===null&&(g=D.createElement("link"),ws(g,"link",p),Re(g),D.head.appendChild(g)))}}function A0e(p){_d.D(p),jH("dns-prefetch",p,null)}function M0e(p,g){_d.C(p,g),jH("preconnect",p,g)}function T0e(p,g,A){_d.L(p,g,A);var D=u_;if(D&&p&&g){var B='link[rel="preload"][as="'+Gi(g)+'"]';g==="image"&&A&&A.imageSrcSet?(B+='[imagesrcset="'+Gi(A.imageSrcSet)+'"]',typeof A.imageSizes=="string"&&(B+='[imagesizes="'+Gi(A.imageSizes)+'"]')):B+='[href="'+Gi(p)+'"]';var k=B;switch(g){case"style":k=c_(p);break;case"script":k=f_(p)}Cu.has(k)||(p=f({rel:"preload",href:g==="image"&&A&&A.imageSrcSet?void 0:p,as:g},A),Cu.set(k,p),D.querySelector(B)!==null||g==="style"&&D.querySelector(XA(k))||g==="script"&&D.querySelector(YA(k))||(g=D.createElement("link"),ws(g,"link",p),Re(g),D.head.appendChild(g)))}}function C0e(p,g){_d.m(p,g);var A=u_;if(A&&p){var D=g&&typeof g.as=="string"?g.as:"script",B='link[rel="modulepreload"][as="'+Gi(D)+'"][href="'+Gi(p)+'"]',k=B;switch(D){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=f_(p)}if(!Cu.has(k)&&(p=f({rel:"modulepreload",href:p},g),Cu.set(k,p),A.querySelector(B)===null)){switch(D){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(A.querySelector(YA(k)))return}D=A.createElement("link"),ws(D,"link",p),Re(D),A.head.appendChild(D)}}}function w0e(p,g,A){_d.S(p,g,A);var D=u_;if(D&&p){var B=Oe(D).hoistableStyles,k=c_(p);g=g||"default";var K=B.get(k);if(!K){var ie={loading:0,preload:null};if(K=D.querySelector(XA(k)))ie.loading=5;else{p=f({rel:"stylesheet",href:p,"data-precedence":g},A),(A=Cu.get(k))&&RB(p,A);var ve=K=D.createElement("link");Re(ve),ws(ve,"link",p),ve._p=new Promise(function(Ne,Ye){ve.onload=Ne,ve.onerror=Ye}),ve.addEventListener("load",function(){ie.loading|=1}),ve.addEventListener("error",function(){ie.loading|=2}),ie.loading|=4,gE(K,g,D)}K={type:"stylesheet",instance:K,count:1,state:ie},B.set(k,K)}}}function E0e(p,g){_d.X(p,g);var A=u_;if(A&&p){var D=Oe(A).hoistableScripts,B=f_(p),k=D.get(B);k||(k=A.querySelector(YA(B)),k||(p=f({src:p,async:!0},g),(g=Cu.get(B))&&LB(p,g),k=A.createElement("script"),Re(k),ws(k,"link",p),A.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},D.set(B,k))}}function D0e(p,g){_d.M(p,g);var A=u_;if(A&&p){var D=Oe(A).hoistableScripts,B=f_(p),k=D.get(B);k||(k=A.querySelector(YA(B)),k||(p=f({src:p,async:!0,type:"module"},g),(g=Cu.get(B))&&LB(p,g),k=A.createElement("script"),Re(k),ws(k,"link",p),A.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},D.set(B,k))}}function HH(p,g,A,D){var B=(B=fe.current)?mE(B):null;if(!B)throw Error(i(446));switch(p){case"meta":case"title":return null;case"style":return typeof A.precedence=="string"&&typeof A.href=="string"?(g=c_(A.href),A=Oe(B).hoistableStyles,D=A.get(g),D||(D={type:"style",instance:null,count:0,state:null},A.set(g,D)),D):{type:"void",instance:null,count:0,state:null};case"link":if(A.rel==="stylesheet"&&typeof A.href=="string"&&typeof A.precedence=="string"){p=c_(A.href);var k=Oe(B).hoistableStyles,K=k.get(p);if(K||(B=B.ownerDocument||B,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(p,K),(k=B.querySelector(XA(p)))&&!k._p&&(K.instance=k,K.state.loading=5),Cu.has(p)||(A={rel:"preload",as:"style",href:A.href,crossOrigin:A.crossOrigin,integrity:A.integrity,media:A.media,hrefLang:A.hrefLang,referrerPolicy:A.referrerPolicy},Cu.set(p,A),k||R0e(B,p,A,K.state))),g&&D===null)throw Error(i(528,""));return K}if(g&&D!==null)throw Error(i(529,""));return null;case"script":return g=A.async,A=A.src,typeof A=="string"&&g&&typeof g!="function"&&typeof g!="symbol"?(g=f_(A),A=Oe(B).hoistableScripts,D=A.get(g),D||(D={type:"script",instance:null,count:0,state:null},A.set(g,D)),D):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,p))}}function c_(p){return'href="'+Gi(p)+'"'}function XA(p){return'link[rel="stylesheet"]['+p+"]"}function WH(p){return f({},p,{"data-precedence":p.precedence,precedence:null})}function R0e(p,g,A,D){p.querySelector('link[rel="preload"][as="style"]['+g+"]")?D.loading=1:(g=p.createElement("link"),D.preload=g,g.addEventListener("load",function(){return D.loading|=1}),g.addEventListener("error",function(){return D.loading|=2}),ws(g,"link",A),Re(g),p.head.appendChild(g))}function f_(p){return'[src="'+Gi(p)+'"]'}function YA(p){return"script[async]"+p}function XH(p,g,A){if(g.count++,g.instance===null)switch(g.type){case"style":var D=p.querySelector('style[data-href~="'+Gi(A.href)+'"]');if(D)return g.instance=D,Re(D),D;var B=f({},A,{"data-href":A.href,"data-precedence":A.precedence,href:null,precedence:null});return D=(p.ownerDocument||p).createElement("style"),Re(D),ws(D,"style",B),gE(D,A.precedence,p),g.instance=D;case"stylesheet":B=c_(A.href);var k=p.querySelector(XA(B));if(k)return g.state.loading|=4,g.instance=k,Re(k),k;D=WH(A),(B=Cu.get(B))&&RB(D,B),k=(p.ownerDocument||p).createElement("link"),Re(k);var K=k;return K._p=new Promise(function(ie,ve){K.onload=ie,K.onerror=ve}),ws(k,"link",D),g.state.loading|=4,gE(k,A.precedence,p),g.instance=k;case"script":return k=f_(A.src),(B=p.querySelector(YA(k)))?(g.instance=B,Re(B),B):(D=A,(B=Cu.get(k))&&(D=f({},A),LB(D,B)),p=p.ownerDocument||p,B=p.createElement("script"),Re(B),ws(B,"link",D),p.head.appendChild(B),g.instance=B);case"void":return null;default:throw Error(i(443,g.type))}else g.type==="stylesheet"&&(g.state.loading&4)===0&&(D=g.instance,g.state.loading|=4,gE(D,A.precedence,p));return g.instance}function gE(p,g,A){for(var D=A.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),B=D.length?D[D.length-1]:null,k=B,K=0;K<D.length;K++){var ie=D[K];if(ie.dataset.precedence===g)k=ie;else if(k!==B)break}k?k.parentNode.insertBefore(p,k.nextSibling):(g=A.nodeType===9?A.head:A,g.insertBefore(p,g.firstChild))}function RB(p,g){p.crossOrigin==null&&(p.crossOrigin=g.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=g.referrerPolicy),p.title==null&&(p.title=g.title)}function LB(p,g){p.crossOrigin==null&&(p.crossOrigin=g.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=g.referrerPolicy),p.integrity==null&&(p.integrity=g.integrity)}var yE=null;function YH(p,g,A){if(yE===null){var D=new Map,B=yE=new Map;B.set(A,D)}else B=yE,D=B.get(A),D||(D=new Map,B.set(A,D));if(D.has(p))return D;for(D.set(p,null),A=A.getElementsByTagName(p),B=0;B<A.length;B++){var k=A[B];if(!(k[cc]||k[Fn]||p==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var K=k.getAttribute(g)||"";K=p+K;var ie=D.get(K);ie?ie.push(k):D.set(K,[k])}}return D}function qH(p,g,A){p=p.ownerDocument||p,p.head.insertBefore(A,g==="title"?p.querySelector("head > title"):null)}function L0e(p,g,A){if(A===1||g.itemProp!=null)return!1;switch(p){case"meta":case"title":return!0;case"style":if(typeof g.precedence!="string"||typeof g.href!="string"||g.href==="")break;return!0;case"link":if(typeof g.rel!="string"||typeof g.href!="string"||g.href===""||g.onLoad||g.onError)break;switch(g.rel){case"stylesheet":return p=g.disabled,typeof g.precedence=="string"&&p==null;default:return!0}case"script":if(g.async&&typeof g.async!="function"&&typeof g.async!="symbol"&&!g.onLoad&&!g.onError&&g.src&&typeof g.src=="string")return!0}return!1}function ZH(p){return!(p.type==="stylesheet"&&(p.state.loading&3)===0)}function N0e(p,g,A,D){if(A.type==="stylesheet"&&(typeof D.media!="string"||matchMedia(D.media).matches!==!1)&&(A.state.loading&4)===0){if(A.instance===null){var B=c_(D.href),k=g.querySelector(XA(B));if(k){g=k._p,g!==null&&typeof g=="object"&&typeof g.then=="function"&&(p.count++,p=xE.bind(p),g.then(p,p)),A.state.loading|=4,A.instance=k,Re(k);return}k=g.ownerDocument||g,D=WH(D),(B=Cu.get(B))&&RB(D,B),k=k.createElement("link"),Re(k);var K=k;K._p=new Promise(function(ie,ve){K.onload=ie,K.onerror=ve}),ws(k,"link",D),A.instance=k}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(A,g),(g=A.state.preload)&&(A.state.loading&3)===0&&(p.count++,A=xE.bind(p),g.addEventListener("load",A),g.addEventListener("error",A))}}var NB=0;function I0e(p,g){return p.stylesheets&&p.count===0&&bE(p,p.stylesheets),0<p.count||0<p.imgCount?function(A){var D=setTimeout(function(){if(p.stylesheets&&bE(p,p.stylesheets),p.unsuspend){var k=p.unsuspend;p.unsuspend=null,k()}},6e4+g);0<p.imgBytes&&NB===0&&(NB=62500*d0e());var B=setTimeout(function(){if(p.waitingForImages=!1,p.count===0&&(p.stylesheets&&bE(p,p.stylesheets),p.unsuspend)){var k=p.unsuspend;p.unsuspend=null,k()}},(p.imgBytes>NB?50:800)+g);return p.unsuspend=A,function(){p.unsuspend=null,clearTimeout(D),clearTimeout(B)}}:null}function xE(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bE(this,this.stylesheets);else if(this.unsuspend){var p=this.unsuspend;this.unsuspend=null,p()}}}var _E=null;function bE(p,g){p.stylesheets=null,p.unsuspend!==null&&(p.count++,_E=new Map,g.forEach(P0e,p),_E=null,xE.call(p))}function P0e(p,g){if(!(g.state.loading&4)){var A=_E.get(p);if(A)var D=A.get(null);else{A=new Map,_E.set(p,A);for(var B=p.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<B.length;k++){var K=B[k];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(A.set(K.dataset.precedence,K),D=K)}D&&A.set(null,D)}B=g.instance,K=B.getAttribute("data-precedence"),k=A.get(K)||D,k===D&&A.set(null,B),A.set(K,B),this.count++,D=xE.bind(this),B.addEventListener("load",D),B.addEventListener("error",D),k?k.parentNode.insertBefore(B,k.nextSibling):(p=p.nodeType===9?p.head:p,p.insertBefore(B,p.firstChild)),g.state.loading|=4}}var qA={$$typeof:M,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function B0e(p,g,A,D,B,k,K,ie,ve){this.tag=1,this.containerInfo=p,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bn(0),this.hiddenUpdates=Bn(null),this.identifierPrefix=D,this.onUncaughtError=B,this.onCaughtError=k,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ve,this.incompleteTransitions=new Map}function KH(p,g,A,D,B,k,K,ie,ve,Ne,Ye,tt){return p=new B0e(p,g,A,K,ve,Ne,Ye,tt,ie),g=1,k===!0&&(g|=24),k=bs(3,null,null,g),p.current=k,k.stateNode=p,g=nA(),g.refCount++,p.pooledCache=g,g.refCount++,k.memoizedState={element:D,isDehydrated:A,cache:g},lA(k),p}function JH(p){return p?(p=Lf,p):Lf}function QH(p,g,A,D,B,k){B=JH(B),D.context===null?D.context=B:D.pendingContext=B,D=mu(g),D.payload={element:A},k=k===void 0?null:k,k!==null&&(D.callback=k),A=Sc(p,D,g),A!==null&&(S(A,p,g),Ff(A,p,g))}function $H(p,g){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var A=p.retryLane;p.retryLane=A!==0&&A<g?A:g}}function IB(p,g){$H(p,g),(p=p.alternate)&&$H(p,g)}function e7(p){if(p.tag===13||p.tag===31){var g=Rf(p,67108864);g!==null&&S(g,p,67108864),IB(p,67108864)}}function t7(p){if(p.tag===13||p.tag===31){var g=Cs();g=ma(g);var A=Rf(p,g);A!==null&&S(A,p,g),IB(p,g)}}var SE=!0;function O0e(p,g,A,D){var B=G.T;G.T=null;var k=X.p;try{X.p=2,PB(p,g,A,D)}finally{X.p=k,G.T=B}}function z0e(p,g,A,D){var B=G.T;G.T=null;var k=X.p;try{X.p=8,PB(p,g,A,D)}finally{X.p=k,G.T=B}}function PB(p,g,A,D){if(SE){var B=BB(D);if(B===null)_B(p,g,D,AE,A),i7(p,D);else if(F0e(B,p,g,A,D))D.stopPropagation();else if(i7(p,D),g&4&&-1<k0e.indexOf(p)){for(;B!==null;){var k=ne(B);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var K=at(k.pendingLanes);if(K!==0){var ie=k;for(ie.pendingLanes|=2,ie.entangledLanes|=2;K;){var ve=1<<31-de(K);ie.entanglements[1]|=ve,K&=~ve}qf(k),(ui&6)===0&&(Lo=ee()+500,VA(0))}}break;case 31:case 13:ie=Rf(k,2),ie!==null&&S(ie,k,2),re(),IB(k,2)}if(k=BB(D),k===null&&_B(p,g,D,AE,A),k===B)break;B=k}B!==null&&D.stopPropagation()}else _B(p,g,D,null,A)}}function BB(p){return p=ox(p),OB(p)}var AE=null;function OB(p){if(AE=null,p=Cr(p),p!==null){var g=a(p);if(g===null)p=null;else{var A=g.tag;if(A===13){if(p=s(g),p!==null)return p;p=null}else if(A===31){if(p=o(g),p!==null)return p;p=null}else if(A===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;p=null}else g!==p&&(p=null)}}return AE=p,null}function n7(p){switch(p){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(we()){case Xe:return 2;case nt:return 8;case je:case Wt:return 32;case St:return 268435456;default:return 32}default:return 32}}var zB=!1,pv=null,vv=null,mv=null,ZA=new Map,KA=new Map,gv=[],k0e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i7(p,g){switch(p){case"focusin":case"focusout":pv=null;break;case"dragenter":case"dragleave":vv=null;break;case"mouseover":case"mouseout":mv=null;break;case"pointerover":case"pointerout":ZA.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":KA.delete(g.pointerId)}}function JA(p,g,A,D,B,k){return p===null||p.nativeEvent!==k?(p={blockedOn:g,domEventName:A,eventSystemFlags:D,nativeEvent:k,targetContainers:[B]},g!==null&&(g=ne(g),g!==null&&e7(g)),p):(p.eventSystemFlags|=D,g=p.targetContainers,B!==null&&g.indexOf(B)===-1&&g.push(B),p)}function F0e(p,g,A,D,B){switch(g){case"focusin":return pv=JA(pv,p,g,A,D,B),!0;case"dragenter":return vv=JA(vv,p,g,A,D,B),!0;case"mouseover":return mv=JA(mv,p,g,A,D,B),!0;case"pointerover":var k=B.pointerId;return ZA.set(k,JA(ZA.get(k)||null,p,g,A,D,B)),!0;case"gotpointercapture":return k=B.pointerId,KA.set(k,JA(KA.get(k)||null,p,g,A,D,B)),!0}return!1}function r7(p){var g=Cr(p.target);if(g!==null){var A=a(g);if(A!==null){if(g=A.tag,g===13){if(g=s(A),g!==null){p.blockedOn=g,vo(p.priority,function(){t7(A)});return}}else if(g===31){if(g=o(A),g!==null){p.blockedOn=g,vo(p.priority,function(){t7(A)});return}}else if(g===3&&A.stateNode.current.memoizedState.isDehydrated){p.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}p.blockedOn=null}function ME(p){if(p.blockedOn!==null)return!1;for(var g=p.targetContainers;0<g.length;){var A=BB(p.nativeEvent);if(A===null){A=p.nativeEvent;var D=new A.constructor(A.type,A);Ym=D,A.target.dispatchEvent(D),Ym=null}else return g=ne(A),g!==null&&e7(g),p.blockedOn=A,!1;g.shift()}return!0}function a7(p,g,A){ME(p)&&A.delete(g)}function U0e(){zB=!1,pv!==null&&ME(pv)&&(pv=null),vv!==null&&ME(vv)&&(vv=null),mv!==null&&ME(mv)&&(mv=null),ZA.forEach(a7),KA.forEach(a7)}function TE(p,g){p.blockedOn===g&&(p.blockedOn=null,zB||(zB=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,U0e)))}var CE=null;function s7(p){CE!==p&&(CE=p,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){CE===p&&(CE=null);for(var g=0;g<p.length;g+=3){var A=p[g],D=p[g+1],B=p[g+2];if(typeof D!="function"){if(OB(D||A)===null)continue;break}var k=ne(A);k!==null&&(p.splice(g,3),g-=3,IA(k,{pending:!0,data:B,method:A.method,action:D},D,B))}}))}function h_(p){function g(ve){return TE(ve,p)}pv!==null&&TE(pv,p),vv!==null&&TE(vv,p),mv!==null&&TE(mv,p),ZA.forEach(g),KA.forEach(g);for(var A=0;A<gv.length;A++){var D=gv[A];D.blockedOn===p&&(D.blockedOn=null)}for(;0<gv.length&&(A=gv[0],A.blockedOn===null);)r7(A),A.blockedOn===null&&gv.shift();if(A=(p.ownerDocument||p).$$reactFormReplay,A!=null)for(D=0;D<A.length;D+=3){var B=A[D],k=A[D+1],K=B[Tr]||null;if(typeof k=="function")K||s7(A);else if(K){var ie=null;if(k&&k.hasAttribute("formAction")){if(B=k,K=k[Tr]||null)ie=K.formAction;else if(OB(B)!==null)continue}else ie=K.action;typeof ie=="function"?A[D+1]=ie:(A.splice(D,3),D-=3),s7(A)}}}function o7(){function p(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(K){return B=K})},focusReset:"manual",scroll:"manual"})}function g(){B!==null&&(B(),B=null),D||setTimeout(A,20)}function A(){if(!D&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var D=!1,B=null;return navigation.addEventListener("navigate",p),navigation.addEventListener("navigatesuccess",g),navigation.addEventListener("navigateerror",g),setTimeout(A,100),function(){D=!0,navigation.removeEventListener("navigate",p),navigation.removeEventListener("navigatesuccess",g),navigation.removeEventListener("navigateerror",g),B!==null&&(B(),B=null)}}}function kB(p){this._internalRoot=p}wE.prototype.render=kB.prototype.render=function(p){var g=this._internalRoot;if(g===null)throw Error(i(409));var A=g.current,D=Cs();QH(A,D,p,g,null,null)},wE.prototype.unmount=kB.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var g=p.containerInfo;QH(p.current,2,null,p,null,null),re(),g[_l]=null}};function wE(p){this._internalRoot=p}wE.prototype.unstable_scheduleHydration=function(p){if(p){var g=Zo();p={blockedOn:null,target:p,priority:g};for(var A=0;A<gv.length&&g!==0&&g<gv[A].priority;A++);gv.splice(A,0,p),A===0&&r7(p)}};var l7=e.version;if(l7!=="19.2.0")throw Error(i(527,l7,"19.2.0"));X.findDOMNode=function(p){var g=p._reactInternals;if(g===void 0)throw typeof p.render=="function"?Error(i(188)):(p=Object.keys(p).join(","),Error(i(268,p)));return p=u(g),p=p!==null?c(p):null,p=p===null?null:p.stateNode,p};var G0e={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var EE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!EE.isDisabled&&EE.supportsFiber)try{et=EE.inject(G0e),it=EE}catch{}}return $A.createRoot=function(p,g){if(!r(p))throw Error(i(299));var A=!1,D="",B=zA,k=sE,K=Zx;return g!=null&&(g.unstable_strictMode===!0&&(A=!0),g.identifierPrefix!==void 0&&(D=g.identifierPrefix),g.onUncaughtError!==void 0&&(B=g.onUncaughtError),g.onCaughtError!==void 0&&(k=g.onCaughtError),g.onRecoverableError!==void 0&&(K=g.onRecoverableError)),g=KH(p,1,!1,null,null,A,D,null,B,k,K,o7),p[_l]=g.current,xB(p),new kB(g)},$A.hydrateRoot=function(p,g,A){if(!r(p))throw Error(i(299));var D=!1,B="",k=zA,K=sE,ie=Zx,ve=null;return A!=null&&(A.unstable_strictMode===!0&&(D=!0),A.identifierPrefix!==void 0&&(B=A.identifierPrefix),A.onUncaughtError!==void 0&&(k=A.onUncaughtError),A.onCaughtError!==void 0&&(K=A.onCaughtError),A.onRecoverableError!==void 0&&(ie=A.onRecoverableError),A.formState!==void 0&&(ve=A.formState)),g=KH(p,1,!0,g,A??null,D,B,ve,k,K,ie,o7),g.context=JH(null),A=g.current,D=Cs(),D=ma(D),B=mu(D),B.callback=null,Sc(A,B,D),A=D,g.current.lanes=A,or(g,A),qf(g),p[_l]=g.current,xB(p),new wE(g)},$A.version="19.2.0",$A}var y7;function K0e(){if(y7)return GB.exports;y7=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),GB.exports=Z0e(),GB.exports}var J0e=K0e();var x7="popstate";function Q0e(n={}){function e(i,r){let{pathname:a,search:s,hash:o}=i.location;return _k("",{pathname:a,search:s,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:lT(r)}return eye(e,t,null,n)}function Ar(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function eu(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $0e(){return Math.random().toString(36).substring(2,10)}function _7(n,e){return{usr:n.state,key:n.key,idx:e}}function _k(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xb(e):e,state:t,key:e&&e.key||i||$0e()}}function lT({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xb(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function eye(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,s=r.history,o="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function f(){o="POP";let y=c(),x=y==null?null:y-u;u=y,l&&l({action:o,location:m.location,delta:x})}function h(y,x){o="PUSH";let b=_k(m.location,y,x);u=c()+1;let M=_7(b,u),C=m.createHref(b);try{s.pushState(M,"",C)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;r.location.assign(C)}a&&l&&l({action:o,location:m.location,delta:1})}function d(y,x){o="REPLACE";let b=_k(m.location,y,x);u=c();let M=_7(b,u),C=m.createHref(b);s.replaceState(M,"",C),a&&l&&l({action:o,location:m.location,delta:0})}function v(y){return tye(y)}let m={get action(){return o},get location(){return n(r,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(x7,f),l=y,()=>{r.removeEventListener(x7,f),l=null}},createHref(y){return e(r,y)},createURL:v,encodeLocation(y){let x=v(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:d,go(y){return s.go(y)}};return m}function tye(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ar(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:lT(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Sie(n,e,t="/"){return nye(n,e,t,!1)}function nye(n,e,t,i){let r=typeof e=="string"?Xb(e):e,a=fp(r.pathname||"/",t);if(a==null)return null;let s=Aie(n);iye(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=pye(a);o=hye(s[l],u,i)}return o}function Aie(n,e=[],t=[],i="",r=!1){let a=(s,o,l=r,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(i)&&l)return;Ar(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length)}let f=tp([i,c.relativePath]),h=t.concat(c);s.children&&s.children.length>0&&(Ar(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Aie(s.children,e,h,f,l)),!(s.path==null&&!s.index)&&e.push({path:f,score:cye(f,s.index),routesMeta:h})};return n.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))a(s,o);else for(let l of Mie(s.path))a(s,o,!0,l)}),e}function Mie(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let s=Mie(i.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),r&&o.push(...s),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function iye(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:fye(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var rye=/^:[\w-]+$/,aye=3,sye=2,oye=1,lye=10,uye=-2,b7=n=>n==="*";function cye(n,e){let t=n.split("/"),i=t.length;return t.some(b7)&&(i+=uye),e&&(i+=sye),t.filter(r=>!b7(r)).reduce((r,a)=>r+(rye.test(a)?aye:a===""?oye:lye),i)}function fye(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function hye(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",s=[];for(let o=0;o<i.length;++o){let l=i[o],u=o===i.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=U3({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f&&u&&t&&!i[i.length-1].route.index&&(f=U3({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(r,f.params),s.push({params:r,pathname:tp([a,f.pathname]),pathnameBase:xye(tp([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=tp([a,f.pathnameBase]))}return s}function U3(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=dye(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,{paramName:c,isOptional:f},h)=>{if(c==="*"){let v=o[h]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const d=o[h];return f&&!d?u[c]=void 0:u[c]=(d||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:n}}function dye(n,e=!1,t=!0){eu(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function pye(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return eu(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function fp(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var vye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mye=n=>vye.test(n);function gye(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Xb(n):n,a;if(t)if(mye(t))a=t;else{if(t.includes("//")){let s=t;t=t.replace(/\/\/+/g,"/"),eu(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${t}`)}t.startsWith("/")?a=S7(t.substring(1),"/"):a=S7(t,e)}else a=e;return{pathname:a,search:_ye(i),hash:bye(r)}}function S7(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function WB(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yye(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function hG(n){let e=yye(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function dG(n,e,t,i=!1){let r;typeof n=="string"?r=Xb(n):(r={...n},Ar(!r.pathname||!r.pathname.includes("?"),WB("?","pathname","search",r)),Ar(!r.pathname||!r.pathname.includes("#"),WB("#","pathname","hash",r)),Ar(!r.search||!r.search.includes("#"),WB("#","search","hash",r)));let a=n===""||r.pathname==="",s=a?"/":r.pathname,o;if(s==null)o=t;else{let f=e.length-1;if(!i&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;r.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=gye(r,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var tp=n=>n.join("/").replace(/\/\/+/g,"/"),xye=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_ye=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,bye=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Sye(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Tie=["POST","PUT","PATCH","DELETE"];new Set(Tie);var Aye=["GET",...Tie];new Set(Aye);var Yb=Y.createContext(null);Yb.displayName="DataRouter";var dI=Y.createContext(null);dI.displayName="DataRouterState";Y.createContext(!1);var Cie=Y.createContext({isTransitioning:!1});Cie.displayName="ViewTransition";var Mye=Y.createContext(new Map);Mye.displayName="Fetchers";var Tye=Y.createContext(null);Tye.displayName="Await";var cf=Y.createContext(null);cf.displayName="Navigation";var mC=Y.createContext(null);mC.displayName="Location";var kh=Y.createContext({outlet:null,matches:[],isDataRoute:!1});kh.displayName="Route";var pG=Y.createContext(null);pG.displayName="RouteError";function Cye(n,{relative:e}={}){Ar(qb(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=Y.useContext(cf),{hash:r,pathname:a,search:s}=gC(n,{relative:e}),o=a;return t!=="/"&&(o=a==="/"?t:tp([t,a])),i.createHref({pathname:o,search:s,hash:r})}function qb(){return Y.useContext(mC)!=null}function rc(){return Ar(qb(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(mC).location}var wie="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Eie(n){Y.useContext(cf).static||Y.useLayoutEffect(n)}function va(){let{isDataRoute:n}=Y.useContext(kh);return n?Fye():wye()}function wye(){Ar(qb(),"useNavigate() may be used only in the context of a <Router> component.");let n=Y.useContext(Yb),{basename:e,navigator:t}=Y.useContext(cf),{matches:i}=Y.useContext(kh),{pathname:r}=rc(),a=JSON.stringify(hG(i)),s=Y.useRef(!1);return Eie(()=>{s.current=!0}),Y.useCallback((l,u={})=>{if(eu(s.current,wie),!s.current)return;if(typeof l=="number"){t.go(l);return}let c=dG(l,JSON.parse(a),r,u.relative==="path");n==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:tp([e,c.pathname])),(u.replace?t.replace:t.push)(c,u.state,u)},[e,t,a,r,n])}Y.createContext(null);function gC(n,{relative:e}={}){let{matches:t}=Y.useContext(kh),{pathname:i}=rc(),r=JSON.stringify(hG(t));return Y.useMemo(()=>dG(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function Eye(n,e){return Die(n,e)}function Die(n,e,t,i,r){Ar(qb(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=Y.useContext(cf),{matches:s}=Y.useContext(kh),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",f=o&&o.route;{let b=f&&f.path||"";Rie(u,!f||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let h=rc(),d;if(e){let b=typeof e=="string"?Xb(e):e;Ar(c==="/"||b.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${b.pathname}" was given in the \`location\` prop.`),d=b}else d=h;let v=d.pathname||"/",m=v;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+v.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=Sie(n,{pathname:m});eu(f||y!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),eu(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=Iye(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:tp([c,a.encodeLocation?a.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:tp([c,a.encodeLocation?a.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),s,t,i,r);return e&&x?Y.createElement(mC.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},x):x}function Dye(){let n=kye(),e=Sye(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",n),s=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:a},"ErrorBoundary")," or"," ",Y.createElement("code",{style:a},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),t?Y.createElement("pre",{style:r},t):null,s)}var Rye=Y.createElement(Dye,null),Lye=class extends Y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Y.createElement(kh.Provider,{value:this.props.routeContext},Y.createElement(pG.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Nye({routeContext:n,match:e,children:t}){let i=Y.useContext(Yb);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(kh.Provider,{value:n},t)}function Iye(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,s=t?.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&s?.[f.route.id]!==void 0);Ar(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(t)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:h,errors:d}=t,v=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!d||d[f.route.id]===void 0);if(f.route.lazy||v){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}let u=t&&i?(c,f)=>{i(c,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:f})}:void 0;return a.reduceRight((c,f,h)=>{let d,v=!1,m=null,y=null;t&&(d=s&&f.route.id?s[f.route.id]:void 0,m=f.route.errorElement||Rye,o&&(l<0&&h===0?(Rie("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,y=null):l===h&&(v=!0,y=f.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,h+1)),b=()=>{let M;return d?M=m:v?M=y:f.route.Component?M=Y.createElement(f.route.Component,null):f.route.element?M=f.route.element:M=c,Y.createElement(Nye,{match:f,routeContext:{outlet:c,matches:x,isDataRoute:t!=null},children:M})};return t&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?Y.createElement(Lye,{location:t.location,revalidation:t.revalidation,component:m,error:d,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:u}):b()},null)}function vG(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pye(n){let e=Y.useContext(Yb);return Ar(e,vG(n)),e}function Bye(n){let e=Y.useContext(dI);return Ar(e,vG(n)),e}function Oye(n){let e=Y.useContext(kh);return Ar(e,vG(n)),e}function mG(n){let e=Oye(n),t=e.matches[e.matches.length-1];return Ar(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function zye(){return mG("useRouteId")}function kye(){let n=Y.useContext(pG),e=Bye("useRouteError"),t=mG("useRouteError");return n!==void 0?n:e.errors?.[t]}function Fye(){let{router:n}=Pye("useNavigate"),e=mG("useNavigate"),t=Y.useRef(!1);return Eie(()=>{t.current=!0}),Y.useCallback(async(r,a={})=>{eu(t.current,wie),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var A7={};function Rie(n,e,t){!e&&!A7[n]&&(A7[n]=!0,eu(!1,t))}Y.memo(Uye);function Uye({routes:n,future:e,state:t,unstable_onError:i}){return Die(n,void 0,t,i,e)}function Gye({to:n,replace:e,state:t,relative:i}){Ar(qb(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=Y.useContext(cf);eu(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=Y.useContext(kh),{pathname:s}=rc(),o=va(),l=dG(n,hG(a),s,i==="path"),u=JSON.stringify(l);return Y.useEffect(()=>{o(JSON.parse(u),{replace:e,state:t,relative:i})},[o,u,i,e,t]),null}function fs(n){Ar(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Vye({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1}){Ar(!qb(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=n.replace(/^\/*/,"/"),o=Y.useMemo(()=>({basename:s,navigator:r,static:a,future:{}}),[s,r,a]);typeof t=="string"&&(t=Xb(t));let{pathname:l="/",search:u="",hash:c="",state:f=null,key:h="default"}=t,d=Y.useMemo(()=>{let v=fp(l,s);return v==null?null:{location:{pathname:v,search:u,hash:c,state:f,key:h},navigationType:i}},[s,l,u,c,f,h,i]);return eu(d!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),d==null?null:Y.createElement(cf.Provider,{value:o},Y.createElement(mC.Provider,{children:e,value:d}))}function gG({children:n,location:e}){return Eye(bk(n),e)}function bk(n,e=[]){let t=[];return Y.Children.forEach(n,(i,r)=>{if(!Y.isValidElement(i))return;let a=[...e,r];if(i.type===Y.Fragment){t.push.apply(t,bk(i.props.children,a));return}Ar(i.type===fs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ar(!i.props.index||!i.props.children,"An index route cannot have child routes.");let s={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=bk(i.props.children,a)),t.push(s)}),t}var ZR="get",KR="application/x-www-form-urlencoded";function pI(n){return n!=null&&typeof n.tagName=="string"}function jye(n){return pI(n)&&n.tagName.toLowerCase()==="button"}function Hye(n){return pI(n)&&n.tagName.toLowerCase()==="form"}function Wye(n){return pI(n)&&n.tagName.toLowerCase()==="input"}function Xye(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Yye(n,e){return n.button===0&&(!e||e==="_self")&&!Xye(n)}function Sk(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(r=>[t,r]):[[t,i]])},[]))}function qye(n,e){let t=Sk(n);return e&&e.forEach((i,r)=>{t.has(r)||e.getAll(r).forEach(a=>{t.append(r,a)})}),t}var DE=null;function Zye(){if(DE===null)try{new FormData(document.createElement("form"),0),DE=!1}catch{DE=!0}return DE}var Kye=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function XB(n){return n!=null&&!Kye.has(n)?(eu(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${KR}"`),null):n}function Jye(n,e){let t,i,r,a,s;if(Hye(n)){let o=n.getAttribute("action");i=o?fp(o,e):null,t=n.getAttribute("method")||ZR,r=XB(n.getAttribute("enctype"))||KR,a=new FormData(n)}else if(jye(n)||Wye(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(i=l?fp(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||ZR,r=XB(n.getAttribute("formenctype"))||XB(o.getAttribute("enctype"))||KR,a=new FormData(o,n),!Zye()){let{name:u,type:c,value:f}=n;if(c==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(pI(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ZR,i=null,r=KR,s=n}return a&&r==="text/plain"&&(s=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yG(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Qye(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&fp(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function $ye(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function exe(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function txe(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let s=await $ye(a,t);return s.links?s.links():[]}return[]}));return axe(i.flat(1).filter(exe).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function M7(n,e,t,i,r,a){let s=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>t[u].pathname!==l.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==l.params["*"];return a==="assets"?e.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?e.filter((l,u)=>{let c=i.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function nxe(n,e,{includeHydrateFallback:t}={}){return ixe(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function ixe(n){return[...new Set(n)]}function rxe(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function axe(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(rxe(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function Lie(){let n=Y.useContext(Yb);return yG(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function sxe(){let n=Y.useContext(dI);return yG(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var xG=Y.createContext(void 0);xG.displayName="FrameworkContext";function Nie(){let n=Y.useContext(xG);return yG(n,"You must render this element inside a <HydratedRouter> element"),n}function oxe(n,e){let t=Y.useContext(xG),[i,r]=Y.useState(!1),[a,s]=Y.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=e,h=Y.useRef(null);Y.useEffect(()=>{if(n==="render"&&s(!0),n==="viewport"){let m=x=>{x.forEach(b=>{s(b.isIntersecting)})},y=new IntersectionObserver(m,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[n]),Y.useEffect(()=>{if(i){let m=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(m)}}},[i]);let d=()=>{r(!0)},v=()=>{r(!1),s(!1)};return t?n!=="intent"?[a,h,{}]:[a,h,{onFocus:eM(o,d),onBlur:eM(l,v),onMouseEnter:eM(u,d),onMouseLeave:eM(c,v),onTouchStart:eM(f,d)}]:[!1,h,{}]}function eM(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function lxe({page:n,...e}){let{router:t}=Lie(),i=Y.useMemo(()=>Sie(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?Y.createElement(cxe,{page:n,matches:i,...e}):null}function uxe(n){let{manifest:e,routeModules:t}=Nie(),[i,r]=Y.useState([]);return Y.useEffect(()=>{let a=!1;return txe(n,e,t).then(s=>{a||r(s)}),()=>{a=!0}},[n,e,t]),i}function cxe({page:n,matches:e,...t}){let i=rc(),{manifest:r,routeModules:a}=Nie(),{basename:s}=Lie(),{loaderData:o,matches:l}=sxe(),u=Y.useMemo(()=>M7(n,e,l,r,i,"data"),[n,e,l,r,i]),c=Y.useMemo(()=>M7(n,e,l,r,i,"assets"),[n,e,l,r,i]),f=Y.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let v=new Set,m=!1;if(e.forEach(x=>{let b=r.routes[x.route.id];!b||!b.hasLoader||(!u.some(M=>M.route.id===x.route.id)&&x.route.id in o&&a[x.route.id]?.shouldRevalidate||b.hasClientLoader?m=!0:v.add(x.route.id))}),v.size===0)return[];let y=Qye(n,s,"data");return m&&v.size>0&&y.searchParams.set("_routes",e.filter(x=>v.has(x.route.id)).map(x=>x.route.id).join(",")),[y.pathname+y.search]},[s,o,i,r,u,e,n,a]),h=Y.useMemo(()=>nxe(c,r),[c,r]),d=uxe(c);return Y.createElement(Y.Fragment,null,f.map(v=>Y.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),h.map(v=>Y.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),d.map(({key:v,link:m})=>Y.createElement("link",{key:v,nonce:t.nonce,...m})))}function fxe(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Iie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Iie&&(window.__reactRouterVersion="7.9.6")}catch{}function hxe({basename:n,children:e,window:t}){let i=Y.useRef();i.current==null&&(i.current=Q0e({window:t,v5Compat:!0}));let r=i.current,[a,s]=Y.useState({action:r.action,location:r.location}),o=Y.useCallback(l=>{Y.startTransition(()=>s(l))},[s]);return Y.useLayoutEffect(()=>r.listen(o),[r,o]),Y.createElement(Vye,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:r})}var Pie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uT=Y.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f,...h},d){let{basename:v}=Y.useContext(cf),m=typeof u=="string"&&Pie.test(u),y,x=!1;if(typeof u=="string"&&m&&(y=u,Iie))try{let I=new URL(window.location.href),N=u.startsWith("//")?new URL(I.protocol+u):new URL(u),z=fp(N.pathname,v);N.origin===I.origin&&z!=null?u=z+N.search+N.hash:x=!0}catch{eu(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=Cye(u,{relative:r}),[M,C,w]=oxe(i,h),E=vxe(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:r,viewTransition:f});function L(I){e&&e(I),I.defaultPrevented||E(I)}let P=Y.createElement("a",{...h,...w,href:y||b,onClick:x||a?e:L,ref:fxe(d,C),target:l,"data-discover":!m&&t==="render"?"true":void 0});return M&&!m?Y.createElement(Y.Fragment,null,P,Y.createElement(lxe,{page:b})):P});uT.displayName="Link";var _G=Y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:s,viewTransition:o,children:l,...u},c){let f=gC(s,{relative:u.relative}),h=rc(),d=Y.useContext(dI),{navigator:v,basename:m}=Y.useContext(cf),y=d!=null&&bxe(f)&&o===!0,x=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,b=h.pathname,M=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;t||(b=b.toLowerCase(),M=M?M.toLowerCase():null,x=x.toLowerCase()),M&&m&&(M=fp(M,m)||M);const C=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let w=b===x||!r&&b.startsWith(x)&&b.charAt(C)==="/",E=M!=null&&(M===x||!r&&M.startsWith(x)&&M.charAt(x.length)==="/"),L={isActive:w,isPending:E,isTransitioning:y},P=w?e:void 0,I;typeof i=="function"?I=i(L):I=[i,w?"active":null,E?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(L):a;return Y.createElement(uT,{...u,"aria-current":P,className:I,ref:c,style:N,to:s,viewTransition:o},typeof l=="function"?l(L):l)});_G.displayName="NavLink";var dxe=Y.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:s=ZR,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,...h},d)=>{let v=xxe(),m=_xe(o,{relative:u}),y=s.toLowerCase()==="get"?"get":"post",x=typeof o=="string"&&Pie.test(o),b=M=>{if(l&&l(M),M.defaultPrevented)return;M.preventDefault();let C=M.nativeEvent.submitter,w=C?.getAttribute("formmethod")||s;v(C||M.currentTarget,{fetcherKey:e,method:w,navigate:t,replace:r,state:a,relative:u,preventScrollReset:c,viewTransition:f})};return Y.createElement("form",{ref:d,method:y,action:m,onSubmit:i?l:b,...h,"data-discover":!x&&n==="render"?"true":void 0})});dxe.displayName="Form";function pxe(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bie(n){let e=Y.useContext(Yb);return Ar(e,pxe(n)),e}function vxe(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:s}={}){let o=va(),l=rc(),u=gC(n,{relative:a});return Y.useCallback(c=>{if(Yye(c,e)){c.preventDefault();let f=t!==void 0?t:lT(l)===lT(u);o(n,{replace:f,state:i,preventScrollReset:r,relative:a,viewTransition:s})}},[l,o,u,t,i,e,n,r,a,s])}function mxe(n){eu(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=Y.useRef(Sk(n)),t=Y.useRef(!1),i=rc(),r=Y.useMemo(()=>qye(i.search,t.current?null:e.current),[i.search]),a=va(),s=Y.useCallback((o,l)=>{const u=Sk(typeof o=="function"?o(new URLSearchParams(r)):o);t.current=!0,a("?"+u,l)},[a,r]);return[r,s]}var gxe=0,yxe=()=>`__${String(++gxe)}__`;function xxe(){let{router:n}=Bie("useSubmit"),{basename:e}=Y.useContext(cf),t=zye();return Y.useCallback(async(i,r={})=>{let{action:a,method:s,encType:o,formData:l,body:u}=Jye(i,e);if(r.navigate===!1){let c=r.fetcherKey||yxe();await n.fetch(c,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:u,formMethod:r.method||s,formEncType:r.encType||o,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:u,formMethod:r.method||s,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function _xe(n,{relative:e}={}){let{basename:t}=Y.useContext(cf),i=Y.useContext(kh);Ar(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...gC(n||".",{relative:e})},s=rc();if(n==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let c=o.toString();a.search=c?`?${c}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:tp([t,a.pathname])),lT(a)}function bxe(n,{relative:e}={}){let t=Y.useContext(Cie);Ar(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Bie("useViewTransitionState"),r=gC(n,{relative:e});if(!t.isTransitioning)return!1;let a=fp(t.currentLocation.pathname,i)||t.currentLocation.pathname,s=fp(t.nextLocation.pathname,i)||t.nextLocation.pathname;return U3(r.pathname,s)!=null||U3(r.pathname,a)!=null}var Sxe=bie();var Ak=function(){return Ak=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ak.apply(this,arguments)};function Axe(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}var F1="",b2=null,JR=null,Oie=null;function bG(){F1="",b2!==null&&b2.disconnect(),JR!==null&&(window.clearTimeout(JR),JR=null)}function T7(n){var e=["BUTTON","INPUT","SELECT","TEXTAREA"],t=["A","AREA"];return e.includes(n.tagName)&&!n.hasAttribute("disabled")||t.includes(n.tagName)&&n.hasAttribute("href")}function C7(){var n=null;if(F1==="#")n=document.body;else{var e=F1.replace("#","");n=document.getElementById(e),n===null&&F1==="#top"&&(n=document.body)}if(n!==null){Oie(n);var t=n.getAttribute("tabindex");return t===null&&!T7(n)&&n.setAttribute("tabindex",-1),n.focus({preventScroll:!0}),t===null&&!T7(n)&&(n.blur(),n.removeAttribute("tabindex")),bG(),!0}return!1}function Mxe(n){window.setTimeout(function(){C7()===!1&&(b2===null&&(b2=new MutationObserver(C7)),b2.observe(document,{attributes:!0,childList:!0,subtree:!0}),JR=window.setTimeout(function(){bG()},n||1e4))},0)}function zie(n){return Ps.forwardRef(function(e,t){var i="";typeof e.to=="string"&&e.to.includes("#")?i="#"+e.to.split("#").slice(1).join("#"):typeof e.to=="object"&&typeof e.to.hash=="string"&&(i=e.to.hash);var r={};n===_G&&(r.isActive=function(o,l){return o&&o.isExact&&l.hash===i});function a(o){bG(),F1=e.elementId?"#"+e.elementId:i,e.onClick&&e.onClick(o),F1!==""&&!o.defaultPrevented&&o.button===0&&(!e.target||e.target==="_self")&&!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)&&(Oie=e.scroll||(function(l){return e.smooth?l.scrollIntoView({behavior:"smooth"}):l.scrollIntoView()}),Mxe(e.timeout))}var s=Axe(e,["scroll","smooth","timeout","elementId"]);return Ps.createElement(n,Ak({},r,s,{onClick:a,ref:t}),e.children)})}var ua=zie(uT);zie(_G);function Txe({src:n="/cNormal.png",size:e=60,thickness:t=8,speed:i="6s",alt:r="Genomia logo",variant:a="flat"}){const s=typeof e=="number"?`${e}px`:e,o=typeof t=="number"?`${t}px`:t,l=a==="flat";return T.jsx("div",{className:"coin-scene",style:{width:s,height:s},children:T.jsxs("div",{className:`coin ${l?"coin--flat":"coin--3d"}`,style:{animationDuration:i},children:[T.jsx("img",{className:"coin-face coin-front",src:n,alt:r}),!l&&T.jsxs(T.Fragment,{children:[T.jsx("img",{className:"coin-face coin-back",src:n,alt:r}),T.jsx("div",{className:"coin-edge",style:{width:o}})]})]})})}const w7="/",Cxe=({theme:n})=>{const[e,t]=Y.useState(!1),[i,r]=Y.useState(n||"dark"),a=Y.useRef(null),s=Y.useRef(null),o=Y.useRef(null),l=rc(),u=n||i,f=u==="light"?`${w7}cNormal.png`:`${w7}cSolido.png`;Y.useEffect(()=>{const d=document.documentElement,v=d.style.overflow;return d.style.overflow=e?"hidden":v||"",()=>{d.style.overflow=v||""}},[e]),Y.useEffect(()=>{if(!e)return;const d=m=>m.key==="Escape"&&t(!1),v=m=>{if(a.current&&!a.current.contains(m.target)){if(s.current&&s.current.contains(m.target))return;t(!1)}};return window.addEventListener("keydown",d),window.addEventListener("click",v),()=>{window.removeEventListener("keydown",d),window.removeEventListener("click",v)}},[e]),Y.useEffect(()=>{if(n)return;if(l.pathname!=="/"){r("light");return}const d=C=>{const w=C?.match(/rgba?\(\s*(\d+)[,\s]+(\d+)[,\s]+(\d+)(?:[,\s]+([\d.]+))?\s*\)/);return w?{r:+w[1],g:+w[2],b:+w[3],a:w[4]?parseFloat(w[4]):1}:null},v=C=>{let w=C;for(;w&&w!==document.documentElement;){const E=getComputedStyle(w),L=d(E.backgroundColor||"rgba(0,0,0,0)");if(L&&L.a>0)return L;if(E.backgroundImage&&E.backgroundImage!=="none")return{r:255,g:255,b:255,a:1};w=w.parentElement}return{r:0,g:0,b:0,a:1}},m=C=>.2126*(C.r/255)+.7152*(C.g/255)+.0722*(C.b/255)>.6,y=()=>{const C=o.current?.getBoundingClientRect(),w=Math.round(C?.bottom??0),E=Math.min(window.innerHeight-2,w+1);let L=null;if(document.querySelectorAll("[data-nav-theme]").forEach(I=>{const N=I.getBoundingClientRect();if(N.top<=E&&N.bottom>E){const z=I.getAttribute("data-nav-theme")||"dark";(z==="light"||z==="dark"||z==="brand")&&(L=z)}}),!L){const I=o.current,N=I?.style.pointerEvents;I&&(I.style.pointerEvents="none");const z=[16,Math.floor(window.innerWidth/2),Math.max(16,window.innerWidth-16)];let V=0,U=0;z.forEach(j=>{const W=document.elementFromPoint(j,E)||document.body,G=v(W);m(G)?V++:U++}),I&&(I.style.pointerEvents=N??""),L=V>=U?"light":"dark"}r(I=>L&&L!==I?L:I)};let x=!1,b=0;const M=()=>{x||(b=window.requestAnimationFrame(()=>{y(),x=!1}),x=!0)};return y(),window.addEventListener("scroll",M,{passive:!0}),window.addEventListener("resize",M),()=>{cancelAnimationFrame(b),window.removeEventListener("scroll",M),window.removeEventListener("resize",M)}},[n,l.pathname]);const h=d=>()=>{t(!1)};return T.jsxs(T.Fragment,{children:[T.jsxs("nav",{ref:o,className:`navbar navbar--${u}`,"aria-label":"Principal",children:[T.jsxs("div",{className:"nav-left nav-desktop",children:[T.jsx(ua,{smooth:!0,to:"/#inicio",children:"Inicio"}),T.jsx(ua,{smooth:!0,to:"/#learn-more",children:"Descubre"}),T.jsx(ua,{smooth:!0,to:"/#conoce",children:"Conoce"}),T.jsx(ua,{smooth:!0,to:"/#obten",children:"Obtn el Tuyo"})]}),T.jsx("div",{className:"nav-logo","aria-label":"Genomia logo",children:T.jsx("button",{onClick:()=>window.location.href="/",className:"logo-link",style:{background:"none",border:"none",cursor:"pointer",padding:0},children:T.jsx(Txe,{src:f,size:60,speed:"8s"})})}),T.jsxs("div",{className:"nav-right nav-desktop",children:[T.jsx(ua,{smooth:!0,to:"/#preguntas",children:"Preguntas"}),T.jsx(ua,{smooth:!0,to:"/#equipo",children:"Equipo"}),T.jsx(ua,{smooth:!0,to:"/#contacto",children:"Contacto"}),T.jsx(uT,{to:"/login",className:"login-btn",children:"Inicia Sesin"})]}),T.jsx("button",{ref:s,className:"nav-toggle","aria-label":e?"Cerrar men":"Abrir men","aria-expanded":e,"aria-controls":"mobile-drawer",onClick:()=>t(d=>!d),children:e?T.jsx("svg",{viewBox:"0 0 24 24",width:"26",height:"26","aria-hidden":"true",children:T.jsx("path",{d:"M6 6l12 12M18 6l-12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})}):T.jsx("svg",{viewBox:"0 0 24 24",width:"26",height:"26","aria-hidden":"true",children:T.jsx("path",{d:"M3 6h18M3 12h18M3 18h18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),T.jsx("div",{className:`drawer-overlay ${e?"is-open":""}`,"aria-hidden":!e,children:T.jsxs("aside",{id:"mobile-drawer",ref:a,className:`mobile-drawer navbar--${u}`,role:"dialog","aria-label":"Men",children:[T.jsxs("div",{className:"drawer-header",children:[T.jsx("button",{onClick:()=>window.location.href="/",className:"logo-link",style:{background:"none",border:"none",cursor:"pointer",padding:0},children:T.jsx("img",{src:f,alt:"Genomia logo"})}),T.jsx("button",{className:"drawer-close","aria-label":"Cerrar men",onClick:()=>t(!1),children:T.jsx("svg",{viewBox:"0 0 24 24",width:"26",height:"26","aria-hidden":"true",children:T.jsx("path",{d:"M6 6l12 12M18 6l-12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),T.jsxs("nav",{className:"drawer-links",children:[T.jsx(ua,{smooth:!0,to:"/#inicio",onClick:h(),children:"Inicio"}),T.jsx(ua,{smooth:!0,to:"/#learn-more",onClick:h(),children:"Descubre"}),T.jsx(ua,{smooth:!0,to:"/#conoce",onClick:h(),children:"Conoce"}),T.jsx(ua,{smooth:!0,to:"/#obten",onClick:h(),children:"Obtn el Tuyo"}),T.jsx("div",{className:"drawer-sep"}),T.jsx(ua,{smooth:!0,to:"/#preguntas",onClick:h(),children:"Preguntas"}),T.jsx(ua,{smooth:!0,to:"/#equipo",onClick:h(),children:"Equipo"}),T.jsx(ua,{smooth:!0,to:"/#contacto",onClick:h(),children:"Contacto"}),T.jsx(uT,{to:"/login",className:"login-btn",onClick:h(),children:"Inicia Sesin"})]})]})})]})};function Mk(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function wxe(n){if(Array.isArray(n))return n}function Exe(n){if(Array.isArray(n))return Mk(n)}function Dxe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Rxe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,kie(i.key),i)}}function Lxe(n,e,t){return e&&Rxe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function QR(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=SG(n))||e){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,o=!1;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return s=l.done,l},e:function(l){o=!0,a=l},f:function(){try{s||t.return==null||t.return()}finally{if(o)throw a}}}}function Wn(n,e,t){return(e=kie(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Nxe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ixe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,a,s,o=[],l=!0,u=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=a.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}function Pxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E7(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function xt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E7(Object(t),!0).forEach(function(i){Wn(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E7(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function vI(n,e){return wxe(n)||Ixe(n,e)||SG(n,e)||Pxe()}function rf(n){return Exe(n)||Nxe(n)||SG(n)||Bxe()}function Oxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function kie(n){var e=Oxe(n,"string");return typeof e=="symbol"?e:e+""}function G3(n){"@babel/helpers - typeof";return G3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G3(n)}function SG(n,e){if(n){if(typeof n=="string")return Mk(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Mk(n,e):void 0}}var D7=function(){},AG={},Fie={},Uie=null,Gie={mark:D7,measure:D7};try{typeof window<"u"&&(AG=window),typeof document<"u"&&(Fie=document),typeof MutationObserver<"u"&&(Uie=MutationObserver),typeof performance<"u"&&(Gie=performance)}catch{}var zxe=AG.navigator||{},R7=zxe.userAgent,L7=R7===void 0?"":R7,dm=AG,fr=Fie,N7=Uie,RE=Gie;dm.document;var Rp=!!fr.documentElement&&!!fr.head&&typeof fr.addEventListener=="function"&&typeof fr.createElement=="function",Vie=~L7.indexOf("MSIE")||~L7.indexOf("Trident/"),YB,kxe=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Fxe=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i,jie={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},Uxe={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},Hie=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],Bs="classic",yC="duotone",Wie="sharp",Xie="sharp-duotone",Yie="chisel",qie="etch",Zie="jelly",Kie="jelly-duo",Jie="jelly-fill",Qie="notdog",$ie="notdog-duo",ere="slab",tre="slab-press",nre="thumbprint",ire="utility",rre="utility-duo",are="utility-fill",sre="whiteboard",Gxe="Classic",Vxe="Duotone",jxe="Sharp",Hxe="Sharp Duotone",Wxe="Chisel",Xxe="Etch",Yxe="Jelly",qxe="Jelly Duo",Zxe="Jelly Fill",Kxe="Notdog",Jxe="Notdog Duo",Qxe="Slab",$xe="Slab Press",e_e="Thumbprint",t_e="Utility",n_e="Utility Duo",i_e="Utility Fill",r_e="Whiteboard",ore=[Bs,yC,Wie,Xie,Yie,qie,Zie,Kie,Jie,Qie,$ie,ere,tre,nre,ire,rre,are,sre];YB={},Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(YB,Bs,Gxe),yC,Vxe),Wie,jxe),Xie,Hxe),Yie,Wxe),qie,Xxe),Zie,Yxe),Kie,qxe),Jie,Zxe),Qie,Kxe),Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(YB,$ie,Jxe),ere,Qxe),tre,$xe),nre,e_e),ire,t_e),rre,n_e),are,i_e),sre,r_e);var a_e={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}},s_e={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}},o_e=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),l_e={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}},lre=["fak","fa-kit","fakd","fa-kit-duotone"],I7={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},u_e=["kit"],c_e="kit",f_e="kit-duotone",h_e="Kit",d_e="Kit Duotone";Wn(Wn({},c_e,h_e),f_e,d_e);var p_e={kit:{"fa-kit":"fak"}},v_e={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},m_e={kit:{fak:"fa-kit"}},P7={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},qB,LE={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},g_e=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],y_e="classic",x_e="duotone",__e="sharp",b_e="sharp-duotone",S_e="chisel",A_e="etch",M_e="jelly",T_e="jelly-duo",C_e="jelly-fill",w_e="notdog",E_e="notdog-duo",D_e="slab",R_e="slab-press",L_e="thumbprint",N_e="utility",I_e="utility-duo",P_e="utility-fill",B_e="whiteboard",O_e="Classic",z_e="Duotone",k_e="Sharp",F_e="Sharp Duotone",U_e="Chisel",G_e="Etch",V_e="Jelly",j_e="Jelly Duo",H_e="Jelly Fill",W_e="Notdog",X_e="Notdog Duo",Y_e="Slab",q_e="Slab Press",Z_e="Thumbprint",K_e="Utility",J_e="Utility Duo",Q_e="Utility Fill",$_e="Whiteboard";qB={},Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(qB,y_e,O_e),x_e,z_e),__e,k_e),b_e,F_e),S_e,U_e),A_e,G_e),M_e,V_e),T_e,j_e),C_e,H_e),w_e,W_e),Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(qB,E_e,X_e),D_e,Y_e),R_e,q_e),L_e,Z_e),N_e,K_e),I_e,J_e),P_e,Q_e),B_e,$_e);var e1e="kit",t1e="kit-duotone",n1e="Kit",i1e="Kit Duotone";Wn(Wn({},e1e,n1e),t1e,i1e);var r1e={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}},a1e={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]},Tk={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}},s1e=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],ure=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(g_e,s1e),o1e=["solid","regular","light","thin","duotone","brands","semibold"],cre=[1,2,3,4,5,6,7,8,9,10],l1e=cre.concat([11,12,13,14,15,16,17,18,19,20]),u1e=["aw","fw","pull-left","pull-right"],c1e=[].concat(rf(Object.keys(a1e)),o1e,u1e,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",LE.GROUP,LE.SWAP_OPACITY,LE.PRIMARY,LE.SECONDARY]).concat(cre.map(function(n){return"".concat(n,"x")})).concat(l1e.map(function(n){return"w-".concat(n)})),f1e={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},hp="___FONT_AWESOME___",Ck=16,fre="fa",hre="svg-inline--fa",My="data-fa-i2svg",wk="data-fa-pseudo-element",h1e="data-fa-pseudo-element-pending",MG="data-prefix",TG="data-icon",B7="fontawesome-i2svg",d1e="async",p1e=["HTML","HEAD","STYLE","SCRIPT"],dre=["::before","::after",":before",":after"],pre=(function(){try{return!0}catch{return!1}})();function xC(n){return new Proxy(n,{get:function(t,i){return i in t?t[i]:t[Bs]}})}var vre=xt({},jie);vre[Bs]=xt(xt(xt(xt({},{"fa-duotone":"duotone"}),jie[Bs]),I7.kit),I7["kit-duotone"]);var v1e=xC(vre),Ek=xt({},l_e);Ek[Bs]=xt(xt(xt(xt({},{duotone:"fad"}),Ek[Bs]),P7.kit),P7["kit-duotone"]);var O7=xC(Ek),Dk=xt({},Tk);Dk[Bs]=xt(xt({},Dk[Bs]),m_e.kit);var CG=xC(Dk),Rk=xt({},r1e);Rk[Bs]=xt(xt({},Rk[Bs]),p_e.kit);xC(Rk);var m1e=kxe,mre="fa-layers-text",g1e=Fxe,y1e=xt({},a_e);xC(y1e);var x1e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ZB=Uxe,_1e=[].concat(rf(u_e),rf(c1e)),S2=dm.FontAwesomeConfig||{};function b1e(n){var e=fr.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function S1e(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}if(fr&&typeof fr.querySelector=="function"){var A1e=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];A1e.forEach(function(n){var e=vI(n,2),t=e[0],i=e[1],r=S1e(b1e(t));r!=null&&(S2[i]=r)})}var gre={styleDefault:"solid",familyDefault:Bs,cssPrefix:fre,replacementClass:hre,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};S2.familyPrefix&&(S2.cssPrefix=S2.familyPrefix);var eb=xt(xt({},gre),S2);eb.autoReplaceSvg||(eb.observeMutations=!1);var un={};Object.keys(gre).forEach(function(n){Object.defineProperty(un,n,{enumerable:!0,set:function(t){eb[n]=t,A2.forEach(function(i){return i(un)})},get:function(){return eb[n]}})});Object.defineProperty(un,"familyPrefix",{enumerable:!0,set:function(e){eb.cssPrefix=e,A2.forEach(function(t){return t(un)})},get:function(){return eb.cssPrefix}});dm.FontAwesomeConfig=un;var A2=[];function M1e(n){return A2.push(n),function(){A2.splice(A2.indexOf(n),1)}}var d_=Ck,dh={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function T1e(n){if(!(!n||!Rp)){var e=fr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=fr.head.childNodes,i=null,r=t.length-1;r>-1;r--){var a=t[r],s=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(i=a)}return fr.head.insertBefore(e,i),n}}var C1e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function z7(){for(var n=12,e="";n-- >0;)e+=C1e[Math.random()*62|0];return e}function Zb(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function wG(n){return n.classList?Zb(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function yre(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function w1e(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(yre(n[t]),'" ')},"").trim()}function mI(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function EG(n){return n.size!==dh.size||n.x!==dh.x||n.y!==dh.y||n.rotate!==dh.rotate||n.flipX||n.flipY}function E1e(n){var e=n.transform,t=n.containerWidth,i=n.iconWidth,r={transform:"translate(".concat(t/2," 256)")},a="translate(".concat(e.x*32,", ").concat(e.y*32,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(a," ").concat(s," ").concat(o)},u={transform:"translate(".concat(i/2*-1," -256)")};return{outer:r,inner:l,path:u}}function D1e(n){var e=n.transform,t=n.width,i=t===void 0?Ck:t,r=n.height,a=r===void 0?Ck:r,s="";return Vie?s+="translate(".concat(e.x/d_-i/2,"em, ").concat(e.y/d_-a/2,"em) "):s+="translate(calc(-50% + ".concat(e.x/d_,"em), calc(-50% + ").concat(e.y/d_,"em)) "),s+="scale(".concat(e.size/d_*(e.flipX?-1:1),", ").concat(e.size/d_*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var R1e=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";
  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";
  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function xre(){var n=fre,e=hre,t=un.cssPrefix,i=un.replacementClass,r=R1e;if(t!==n||i!==e){var a=new RegExp("\\.".concat(n,"\\-"),"g"),s=new RegExp("\\--".concat(n,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");r=r.replace(a,".".concat(t,"-")).replace(s,"--".concat(t,"-")).replace(o,".".concat(i))}return r}var k7=!1;function KB(){un.autoAddCss&&!k7&&(T1e(xre()),k7=!0)}var L1e={mixout:function(){return{dom:{css:xre,insertCss:KB}}},hooks:function(){return{beforeDOMElementCreation:function(){KB()},beforeI2svg:function(){KB()}}}},dp=dm||{};dp[hp]||(dp[hp]={});dp[hp].styles||(dp[hp].styles={});dp[hp].hooks||(dp[hp].hooks={});dp[hp].shims||(dp[hp].shims=[]);var Xc=dp[hp],_re=[],bre=function(){fr.removeEventListener("DOMContentLoaded",bre),V3=1,_re.map(function(e){return e()})},V3=!1;Rp&&(V3=(fr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(fr.readyState),V3||fr.addEventListener("DOMContentLoaded",bre));function N1e(n){Rp&&(V3?setTimeout(n,0):_re.push(n))}function _C(n){var e=n.tag,t=n.attributes,i=t===void 0?{}:t,r=n.children,a=r===void 0?[]:r;return typeof n=="string"?yre(n):"<".concat(e," ").concat(w1e(i),">").concat(a.map(_C).join(""),"</").concat(e,">")}function F7(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var JB=function(e,t,i,r){var a=Object.keys(e),s=a.length,o=t,l,u,c;for(i===void 0?(l=1,c=e[a[0]]):(l=0,c=i);l<s;l++)u=a[l],c=o(c,e[u],u,e);return c};function Sre(n){return rf(n).length!==1?null:n.codePointAt(0).toString(16)}function U7(n){return Object.keys(n).reduce(function(e,t){var i=n[t],r=!!i.icon;return r?e[i.iconName]=i.icon:e[t]=i,e},{})}function Lk(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=t.skipHooks,r=i===void 0?!1:i,a=U7(e);typeof Xc.hooks.addPack=="function"&&!r?Xc.hooks.addPack(n,U7(e)):Xc.styles[n]=xt(xt({},Xc.styles[n]||{}),a),n==="fas"&&Lk("fa",e)}var cT=Xc.styles,I1e=Xc.shims,Are=Object.keys(CG),P1e=Are.reduce(function(n,e){return n[e]=Object.keys(CG[e]),n},{}),DG=null,Mre={},Tre={},Cre={},wre={},Ere={};function B1e(n){return~_1e.indexOf(n)}function O1e(n,e){var t=e.split("-"),i=t[0],r=t.slice(1).join("-");return i===n&&r!==""&&!B1e(r)?r:null}var Dre=function(){var e=function(a){return JB(cT,function(s,o,l){return s[l]=JB(o,a,{}),s},{})};Mre=e(function(r,a,s){if(a[3]&&(r[a[3]]=s),a[2]){var o=a[2].filter(function(l){return typeof l=="number"});o.forEach(function(l){r[l.toString(16)]=s})}return r}),Tre=e(function(r,a,s){if(r[s]=s,a[2]){var o=a[2].filter(function(l){return typeof l=="string"});o.forEach(function(l){r[l]=s})}return r}),Ere=e(function(r,a,s){var o=a[2];return r[s]=s,o.forEach(function(l){r[l]=s}),r});var t="far"in cT||un.autoFetchSvg,i=JB(I1e,function(r,a){var s=a[0],o=a[1],l=a[2];return o==="far"&&!t&&(o="fas"),typeof s=="string"&&(r.names[s]={prefix:o,iconName:l}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:o,iconName:l}),r},{names:{},unicodes:{}});Cre=i.names,wre=i.unicodes,DG=gI(un.styleDefault,{family:un.familyDefault})};M1e(function(n){DG=gI(n.styleDefault,{family:un.familyDefault})});Dre();function RG(n,e){return(Mre[n]||{})[e]}function z1e(n,e){return(Tre[n]||{})[e]}function G0(n,e){return(Ere[n]||{})[e]}function Rre(n){return Cre[n]||{prefix:null,iconName:null}}function k1e(n){var e=wre[n],t=RG("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function pm(){return DG}var Lre=function(){return{prefix:null,iconName:null,rest:[]}};function F1e(n){var e=Bs,t=Are.reduce(function(i,r){return i[r]="".concat(un.cssPrefix,"-").concat(r),i},{});return ore.forEach(function(i){(n.includes(t[i])||n.some(function(r){return P1e[i].includes(r)}))&&(e=i)}),e}function gI(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.family,i=t===void 0?Bs:t,r=v1e[i][n];if(i===yC&&!n)return"fad";var a=O7[i][n]||O7[i][r],s=n in Xc.styles?n:null,o=a||s||null;return o}function U1e(n){var e=[],t=null;return n.forEach(function(i){var r=O1e(un.cssPrefix,i);r?t=r:i&&e.push(i)}),{iconName:t,rest:e}}function G7(n){return n.sort().filter(function(e,t,i){return i.indexOf(e)===t})}var V7=ure.concat(lre);function yI(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.skipLookups,i=t===void 0?!1:t,r=null,a=G7(n.filter(function(d){return V7.includes(d)})),s=G7(n.filter(function(d){return!V7.includes(d)})),o=a.filter(function(d){return r=d,!Hie.includes(d)}),l=vI(o,1),u=l[0],c=u===void 0?null:u,f=F1e(a),h=xt(xt({},U1e(s)),{},{prefix:gI(c,{family:f})});return xt(xt(xt({},h),H1e({values:n,family:f,styles:cT,config:un,canonical:h,givenPrefix:r})),G1e(i,r,h))}function G1e(n,e,t){var i=t.prefix,r=t.iconName;if(n||!i||!r)return{prefix:i,iconName:r};var a=e==="fa"?Rre(r):{},s=G0(i,r);return r=a.iconName||s||r,i=a.prefix||i,i==="far"&&!cT.far&&cT.fas&&!un.autoFetchSvg&&(i="fas"),{prefix:i,iconName:r}}var V1e=ore.filter(function(n){return n!==Bs||n!==yC}),j1e=Object.keys(Tk).filter(function(n){return n!==Bs}).map(function(n){return Object.keys(Tk[n])}).flat();function H1e(n){var e=n.values,t=n.family,i=n.canonical,r=n.givenPrefix,a=r===void 0?"":r,s=n.styles,o=s===void 0?{}:s,l=n.config,u=l===void 0?{}:l,c=t===yC,f=e.includes("fa-duotone")||e.includes("fad"),h=u.familyDefault==="duotone",d=i.prefix==="fad"||i.prefix==="fa-duotone";if(!c&&(f||h||d)&&(i.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(i.prefix="fab"),!i.prefix&&V1e.includes(t)){var v=Object.keys(o).find(function(y){return j1e.includes(y)});if(v||u.autoFetchSvg){var m=o_e.get(t).defaultShortPrefixId;i.prefix=m,i.iconName=G0(i.prefix,i.iconName)||i.iconName}}return(i.prefix==="fa"||a==="fa")&&(i.prefix=pm()||"fas"),i}var W1e=(function(){function n(){Dxe(this,n),this.definitions={}}return Lxe(n,[{key:"add",value:function(){for(var t=this,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var s=r.reduce(this._pullDefinitions,{});Object.keys(s).forEach(function(o){t.definitions[o]=xt(xt({},t.definitions[o]||{}),s[o]),Lk(o,s[o]);var l=CG[Bs][o];l&&Lk(l,s[o]),Dre()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(a){var s=r[a],o=s.prefix,l=s.iconName,u=s.icon,c=u[2];t[o]||(t[o]={}),c.length>0&&c.forEach(function(f){typeof f=="string"&&(t[o][f]=u)}),t[o][l]=u}),t}}])})(),j7=[],_1={},U1={},X1e=Object.keys(U1);function Y1e(n,e){var t=e.mixoutsTo;return j7=n,_1={},Object.keys(U1).forEach(function(i){X1e.indexOf(i)===-1&&delete U1[i]}),j7.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(s){typeof r[s]=="function"&&(t[s]=r[s]),G3(r[s])==="object"&&Object.keys(r[s]).forEach(function(o){t[s]||(t[s]={}),t[s][o]=r[s][o]})}),i.hooks){var a=i.hooks();Object.keys(a).forEach(function(s){_1[s]||(_1[s]=[]),_1[s].push(a[s])})}i.provides&&i.provides(U1)}),t}function Nk(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];var a=_1[n]||[];return a.forEach(function(s){e=s.apply(null,[e].concat(i))}),e}function Ty(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var r=_1[n]||[];r.forEach(function(a){a.apply(null,t)})}function vm(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return U1[n]?U1[n].apply(null,e):void 0}function Ik(n){n.prefix==="fa"&&(n.prefix="fas");var e=n.iconName,t=n.prefix||pm();if(e)return e=G0(t,e)||e,F7(Nre.definitions,t,e)||F7(Xc.styles,t,e)}var Nre=new W1e,q1e=function(){un.autoReplaceSvg=!1,un.observeMutations=!1,Ty("noAuto")},Z1e={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Rp?(Ty("beforeI2svg",e),vm("pseudoElements2svg",e),vm("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.autoReplaceSvgRoot;un.autoReplaceSvg===!1&&(un.autoReplaceSvg=!0),un.observeMutations=!0,N1e(function(){J1e({autoReplaceSvgRoot:t}),Ty("watch",e)})}},K1e={icon:function(e){if(e===null)return null;if(G3(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:G0(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],i=gI(e[0]);return{prefix:i,iconName:G0(i,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(un.cssPrefix,"-"))>-1||e.match(m1e))){var r=yI(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||pm(),iconName:G0(r.prefix,r.iconName)||r.iconName}}if(typeof e=="string"){var a=pm();return{prefix:a,iconName:G0(a,e)||e}}}},ru={noAuto:q1e,config:un,dom:Z1e,parse:K1e,library:Nre,findIconDefinition:Ik,toHtml:_C},J1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.autoReplaceSvgRoot,i=t===void 0?fr:t;(Object.keys(Xc.styles).length>0||un.autoFetchSvg)&&Rp&&un.autoReplaceSvg&&ru.dom.i2svg({node:i})};function xI(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return _C(i)})}}),Object.defineProperty(n,"node",{get:function(){if(Rp){var i=fr.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function Q1e(n){var e=n.children,t=n.main,i=n.mask,r=n.attributes,a=n.styles,s=n.transform;if(EG(s)&&t.found&&!i.found){var o=t.width,l=t.height,u={x:o/l/2,y:.5};r.style=mI(xt(xt({},a),{},{"transform-origin":"".concat(u.x+s.x/16,"em ").concat(u.y+s.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}function $1e(n){var e=n.prefix,t=n.iconName,i=n.children,r=n.attributes,a=n.symbol,s=a===!0?"".concat(e,"-").concat(un.cssPrefix,"-").concat(t):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:xt(xt({},r),{},{id:s}),children:i}]}]}function ebe(n){var e=["aria-label","aria-labelledby","title","role"];return e.some(function(t){return t in n})}function LG(n){var e=n.icons,t=e.main,i=e.mask,r=n.prefix,a=n.iconName,s=n.transform,o=n.symbol,l=n.maskId,u=n.extra,c=n.watchable,f=c===void 0?!1:c,h=i.found?i:t,d=h.width,v=h.height,m=[un.replacementClass,a?"".concat(un.cssPrefix,"-").concat(a):""].filter(function(w){return u.classes.indexOf(w)===-1}).filter(function(w){return w!==""||!!w}).concat(u.classes).join(" "),y={children:[],attributes:xt(xt({},u.attributes),{},{"data-prefix":r,"data-icon":a,class:m,role:u.attributes.role||"img",viewBox:"0 0 ".concat(d," ").concat(v)})};!ebe(u.attributes)&&!u.attributes["aria-hidden"]&&(y.attributes["aria-hidden"]="true"),f&&(y.attributes[My]="");var x=xt(xt({},y),{},{prefix:r,iconName:a,main:t,mask:i,maskId:l,transform:s,symbol:o,styles:xt({},u.styles)}),b=i.found&&t.found?vm("generateAbstractMask",x)||{children:[],attributes:{}}:vm("generateAbstractIcon",x)||{children:[],attributes:{}},M=b.children,C=b.attributes;return x.children=M,x.attributes=C,o?$1e(x):Q1e(x)}function H7(n){var e=n.content,t=n.width,i=n.height,r=n.transform,a=n.extra,s=n.watchable,o=s===void 0?!1:s,l=xt(xt({},a.attributes),{},{class:a.classes.join(" ")});o&&(l[My]="");var u=xt({},a.styles);EG(r)&&(u.transform=D1e({transform:r,width:t,height:i}),u["-webkit-transform"]=u.transform);var c=mI(u);c.length>0&&(l.style=c);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),f}function tbe(n){var e=n.content,t=n.extra,i=xt(xt({},t.attributes),{},{class:t.classes.join(" ")}),r=mI(t.styles);r.length>0&&(i.style=r);var a=[];return a.push({tag:"span",attributes:i,children:[e]}),a}var QB=Xc.styles;function Pk(n){var e=n[0],t=n[1],i=n.slice(4),r=vI(i,1),a=r[0],s=null;return Array.isArray(a)?s={tag:"g",attributes:{class:"".concat(un.cssPrefix,"-").concat(ZB.GROUP)},children:[{tag:"path",attributes:{class:"".concat(un.cssPrefix,"-").concat(ZB.SECONDARY),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(un.cssPrefix,"-").concat(ZB.PRIMARY),fill:"currentColor",d:a[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:a}},{found:!0,width:e,height:t,icon:s}}var nbe={found:!1,width:512,height:512};function ibe(n,e){!pre&&!un.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function Bk(n,e){var t=e;return e==="fa"&&un.styleDefault!==null&&(e=pm()),new Promise(function(i,r){if(t==="fa"){var a=Rre(n)||{};n=a.iconName||n,e=a.prefix||e}if(n&&e&&QB[e]&&QB[e][n]){var s=QB[e][n];return i(Pk(s))}ibe(n,e),i(xt(xt({},nbe),{},{icon:un.showMissingIcons&&n?vm("missingIconAbstract")||{}:{}}))})}var W7=function(){},Ok=un.measurePerformance&&RE&&RE.mark&&RE.measure?RE:{mark:W7,measure:W7},e2='FA "7.1.0"',rbe=function(e){return Ok.mark("".concat(e2," ").concat(e," begins")),function(){return Ire(e)}},Ire=function(e){Ok.mark("".concat(e2," ").concat(e," ends")),Ok.measure("".concat(e2," ").concat(e),"".concat(e2," ").concat(e," begins"),"".concat(e2," ").concat(e," ends"))},NG={begin:rbe,end:Ire},$R=function(){};function X7(n){var e=n.getAttribute?n.getAttribute(My):null;return typeof e=="string"}function abe(n){var e=n.getAttribute?n.getAttribute(MG):null,t=n.getAttribute?n.getAttribute(TG):null;return e&&t}function sbe(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(un.replacementClass)}function obe(){if(un.autoReplaceSvg===!0)return e3.replace;var n=e3[un.autoReplaceSvg];return n||e3.replace}function lbe(n){return fr.createElementNS("http://www.w3.org/2000/svg",n)}function ube(n){return fr.createElement(n)}function Pre(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.ceFn,i=t===void 0?n.tag==="svg"?lbe:ube:t;if(typeof n=="string")return fr.createTextNode(n);var r=i(n.tag);Object.keys(n.attributes||[]).forEach(function(s){r.setAttribute(s,n.attributes[s])});var a=n.children||[];return a.forEach(function(s){r.appendChild(Pre(s,{ceFn:i}))}),r}function cbe(n){var e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var e3={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(r){t.parentNode.insertBefore(Pre(r),t)}),t.getAttribute(My)===null&&un.keepOriginalSource){var i=fr.createComment(cbe(t));t.parentNode.replaceChild(i,t)}else t.remove()},nest:function(e){var t=e[0],i=e[1];if(~wG(t).indexOf(un.replacementClass))return e3.replace(e);var r=new RegExp("".concat(un.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var a=i[0].attributes.class.split(" ").reduce(function(o,l){return l===un.replacementClass||l.match(r)?o.toSvg.push(l):o.toNode.push(l),o},{toNode:[],toSvg:[]});i[0].attributes.class=a.toSvg.join(" "),a.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",a.toNode.join(" "))}var s=i.map(function(o){return _C(o)}).join(`
`);t.setAttribute(My,""),t.innerHTML=s}};function Y7(n){n()}function Bre(n,e){var t=typeof e=="function"?e:$R;if(n.length===0)t();else{var i=Y7;un.mutateApproach===d1e&&(i=dm.requestAnimationFrame||Y7),i(function(){var r=obe(),a=NG.begin("mutate");n.map(r),a(),t()})}}var IG=!1;function Ore(){IG=!0}function zk(){IG=!1}var j3=null;function q7(n){if(N7&&un.observeMutations){var e=n.treeCallback,t=e===void 0?$R:e,i=n.nodeCallback,r=i===void 0?$R:i,a=n.pseudoElementsCallback,s=a===void 0?$R:a,o=n.observeMutationsRoot,l=o===void 0?fr:o;j3=new N7(function(u){if(!IG){var c=pm();Zb(u).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!X7(f.addedNodes[0])&&(un.searchPseudoElements&&s(f.target),t(f.target)),f.type==="attributes"&&f.target.parentNode&&un.searchPseudoElements&&s([f.target],!0),f.type==="attributes"&&X7(f.target)&&~x1e.indexOf(f.attributeName))if(f.attributeName==="class"&&abe(f.target)){var h=yI(wG(f.target)),d=h.prefix,v=h.iconName;f.target.setAttribute(MG,d||c),v&&f.target.setAttribute(TG,v)}else sbe(f.target)&&r(f.target)})}}),Rp&&j3.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function fbe(){j3&&j3.disconnect()}function hbe(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(i,r){var a=r.split(":"),s=a[0],o=a.slice(1);return s&&o.length>0&&(i[s]=o.join(":").trim()),i},{})),t}function dbe(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=n.innerText!==void 0?n.innerText.trim():"",r=yI(wG(n));return r.prefix||(r.prefix=pm()),e&&t&&(r.prefix=e,r.iconName=t),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=z1e(r.prefix,n.innerText)||RG(r.prefix,Sre(n.innerText))),!r.iconName&&un.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}function pbe(n){var e=Zb(n.attributes).reduce(function(t,i){return t.name!=="class"&&t.name!=="style"&&(t[i.name]=i.value),t},{});return e}function vbe(){return{iconName:null,prefix:null,transform:dh,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Z7(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},t=dbe(n),i=t.iconName,r=t.prefix,a=t.rest,s=pbe(n),o=Nk("parseNodeAttributes",{},n),l=e.styleParser?hbe(n):[];return xt({iconName:i,prefix:r,transform:dh,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:l,attributes:s}},o)}var mbe=Xc.styles;function zre(n){var e=un.autoReplaceSvg==="nest"?Z7(n,{styleParser:!1}):Z7(n);return~e.extra.classes.indexOf(mre)?vm("generateLayersText",n,e):vm("generateSvgReplacementMutation",n,e)}function gbe(){return[].concat(rf(lre),rf(ure))}function K7(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Rp)return Promise.resolve();var t=fr.documentElement.classList,i=function(f){return t.add("".concat(B7,"-").concat(f))},r=function(f){return t.remove("".concat(B7,"-").concat(f))},a=un.autoFetchSvg?gbe():Hie.concat(Object.keys(mbe));a.includes("fa")||a.push("fa");var s=[".".concat(mre,":not([").concat(My,"])")].concat(a.map(function(c){return".".concat(c,":not([").concat(My,"])")})).join(", ");if(s.length===0)return Promise.resolve();var o=[];try{o=Zb(n.querySelectorAll(s))}catch{}if(o.length>0)i("pending"),r("complete");else return Promise.resolve();var l=NG.begin("onTree"),u=o.reduce(function(c,f){try{var h=zre(f);h&&c.push(h)}catch(d){pre||d.name==="MissingIcon"&&console.error(d)}return c},[]);return new Promise(function(c,f){Promise.all(u).then(function(h){Bre(h,function(){i("active"),i("complete"),r("pending"),typeof e=="function"&&e(),l(),c()})}).catch(function(h){l(),f(h)})})}function ybe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;zre(n).then(function(t){t&&Bre([t],e)})}function xbe(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(e||{}).icon?e:Ik(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:Ik(r||{})),n(i,xt(xt({},t),{},{mask:r}))}}var _be=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.transform,r=i===void 0?dh:i,a=t.symbol,s=a===void 0?!1:a,o=t.mask,l=o===void 0?null:o,u=t.maskId,c=u===void 0?null:u,f=t.classes,h=f===void 0?[]:f,d=t.attributes,v=d===void 0?{}:d,m=t.styles,y=m===void 0?{}:m;if(e){var x=e.prefix,b=e.iconName,M=e.icon;return xI(xt({type:"icon"},e),function(){return Ty("beforeDOMElementCreation",{iconDefinition:e,params:t}),LG({icons:{main:Pk(M),mask:l?Pk(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:x,iconName:b,transform:xt(xt({},dh),r),symbol:s,maskId:c,extra:{attributes:v,styles:y,classes:h}})})}},bbe={mixout:function(){return{icon:xbe(_be)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=K7,t.nodeCallback=ybe,t}}},provides:function(e){e.i2svg=function(t){var i=t.node,r=i===void 0?fr:i,a=t.callback,s=a===void 0?function(){}:a;return K7(r,s)},e.generateSvgReplacementMutation=function(t,i){var r=i.iconName,a=i.prefix,s=i.transform,o=i.symbol,l=i.mask,u=i.maskId,c=i.extra;return new Promise(function(f,h){Promise.all([Bk(r,a),l.iconName?Bk(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(d){var v=vI(d,2),m=v[0],y=v[1];f([t,LG({icons:{main:m,mask:y},prefix:a,iconName:r,transform:s,symbol:o,maskId:u,extra:c,watchable:!0})])}).catch(h)})},e.generateAbstractIcon=function(t){var i=t.children,r=t.attributes,a=t.main,s=t.transform,o=t.styles,l=mI(o);l.length>0&&(r.style=l);var u;return EG(s)&&(u=vm("generateAbstractTransformGrouping",{main:a,transform:s,containerWidth:a.width,iconWidth:a.width})),i.push(u||a.icon),{children:i,attributes:r}}}},Sbe={mixout:function(){return{layer:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.classes,a=r===void 0?[]:r;return xI({type:"layer"},function(){Ty("beforeDOMElementCreation",{assembler:t,params:i});var s=[];return t(function(o){Array.isArray(o)?o.map(function(l){s=s.concat(l.abstract)}):s=s.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(un.cssPrefix,"-layers")].concat(rf(a)).join(" ")},children:s}]})}}}},Abe={mixout:function(){return{counter:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.title;var r=i.classes,a=r===void 0?[]:r,s=i.attributes,o=s===void 0?{}:s,l=i.styles,u=l===void 0?{}:l;return xI({type:"counter",content:t},function(){return Ty("beforeDOMElementCreation",{content:t,params:i}),tbe({content:t.toString(),extra:{attributes:o,styles:u,classes:["".concat(un.cssPrefix,"-layers-counter")].concat(rf(a))}})})}}}},Mbe={mixout:function(){return{text:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.transform,a=r===void 0?dh:r,s=i.classes,o=s===void 0?[]:s,l=i.attributes,u=l===void 0?{}:l,c=i.styles,f=c===void 0?{}:c;return xI({type:"text",content:t},function(){return Ty("beforeDOMElementCreation",{content:t,params:i}),H7({content:t,transform:xt(xt({},dh),a),extra:{attributes:u,styles:f,classes:["".concat(un.cssPrefix,"-layers-text")].concat(rf(o))}})})}}},provides:function(e){e.generateLayersText=function(t,i){var r=i.transform,a=i.extra,s=null,o=null;if(Vie){var l=parseInt(getComputedStyle(t).fontSize,10),u=t.getBoundingClientRect();s=u.width/l,o=u.height/l}return Promise.resolve([t,H7({content:t.innerHTML,width:s,height:o,transform:r,extra:a,watchable:!0})])}}},kre=new RegExp('"',"ug"),J7=[1105920,1112319],Q7=xt(xt(xt(xt({},{FontAwesome:{normal:"fas",400:"fas"}}),s_e),f1e),v_e),kk=Object.keys(Q7).reduce(function(n,e){return n[e.toLowerCase()]=Q7[e],n},{}),Tbe=Object.keys(kk).reduce(function(n,e){var t=kk[e];return n[e]=t[900]||rf(Object.entries(t))[0][1],n},{});function Cbe(n){var e=n.replace(kre,"");return Sre(rf(e)[0]||"")}function wbe(n){var e=n.getPropertyValue("font-feature-settings").includes("ss01"),t=n.getPropertyValue("content"),i=t.replace(kre,""),r=i.codePointAt(0),a=r>=J7[0]&&r<=J7[1],s=i.length===2?i[0]===i[1]:!1;return a||s||e}function Ebe(n,e){var t=n.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(e),r=isNaN(i)?"normal":i;return(kk[t]||{})[r]||Tbe[t]}function $7(n,e){var t="".concat(h1e).concat(e.replace(":","-"));return new Promise(function(i,r){if(n.getAttribute(t)!==null)return i();var a=Zb(n.children),s=a.filter(function(E){return E.getAttribute(wk)===e})[0],o=dm.getComputedStyle(n,e),l=o.getPropertyValue("font-family"),u=l.match(g1e),c=o.getPropertyValue("font-weight"),f=o.getPropertyValue("content");if(s&&!u)return n.removeChild(s),i();if(u&&f!=="none"&&f!==""){var h=o.getPropertyValue("content"),d=Ebe(l,c),v=Cbe(h),m=u[0].startsWith("FontAwesome"),y=wbe(o),x=RG(d,v),b=x;if(m){var M=k1e(v);M.iconName&&M.prefix&&(x=M.iconName,d=M.prefix)}if(x&&!y&&(!s||s.getAttribute(MG)!==d||s.getAttribute(TG)!==b)){n.setAttribute(t,b),s&&n.removeChild(s);var C=vbe(),w=C.extra;w.attributes[wk]=e,Bk(x,d).then(function(E){var L=LG(xt(xt({},C),{},{icons:{main:E,mask:Lre()},prefix:d,iconName:b,extra:w,watchable:!0})),P=fr.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(P,n.firstChild):n.appendChild(P),P.outerHTML=L.map(function(I){return _C(I)}).join(`
`),n.removeAttribute(t),i()}).catch(r)}else i()}else i()})}function Dbe(n){return Promise.all([$7(n,"::before"),$7(n,"::after")])}function Rbe(n){return n.parentNode!==document.head&&!~p1e.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(wk)&&(!n.parentNode||n.parentNode.tagName!=="svg")}var Lbe=function(e){return!!e&&dre.some(function(t){return e.includes(t)})},Nbe=function(e){if(!e)return[];var t=new Set,i=e.split(/,(?![^()]*\))/).map(function(l){return l.trim()});i=i.flatMap(function(l){return l.includes("(")?l:l.split(",").map(function(u){return u.trim()})});var r=QR(i),a;try{for(r.s();!(a=r.n()).done;){var s=a.value;if(Lbe(s)){var o=dre.reduce(function(l,u){return l.replace(u,"")},s);o!==""&&o!=="*"&&t.add(o)}}}catch(l){r.e(l)}finally{r.f()}return t};function eW(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Rp){var t;if(e)t=n;else if(un.searchPseudoElementsFullScan)t=n.querySelectorAll("*");else{var i=new Set,r=QR(document.styleSheets),a;try{for(r.s();!(a=r.n()).done;){var s=a.value;try{var o=QR(s.cssRules),l;try{for(o.s();!(l=o.n()).done;){var u=l.value,c=Nbe(u.selectorText),f=QR(c),h;try{for(f.s();!(h=f.n()).done;){var d=h.value;i.add(d)}}catch(m){f.e(m)}finally{f.f()}}}catch(m){o.e(m)}finally{o.f()}}catch(m){un.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(s.href," (").concat(m.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(m){r.e(m)}finally{r.f()}if(!i.size)return;var v=Array.from(i).join(", ");try{t=n.querySelectorAll(v)}catch{}}return new Promise(function(m,y){var x=Zb(t).filter(Rbe).map(Dbe),b=NG.begin("searchPseudoElements");Ore(),Promise.all(x).then(function(){b(),zk(),m()}).catch(function(){b(),zk(),y()})})}}var Ibe={hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=eW,t}}},provides:function(e){e.pseudoElements2svg=function(t){var i=t.node,r=i===void 0?fr:i;un.searchPseudoElements&&eW(r)}}},tW=!1,Pbe={mixout:function(){return{dom:{unwatch:function(){Ore(),tW=!0}}}},hooks:function(){return{bootstrap:function(){q7(Nk("mutationObserverCallbacks",{}))},noAuto:function(){fbe()},watch:function(t){var i=t.observeMutationsRoot;tW?zk():q7(Nk("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},nW=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(i,r){var a=r.toLowerCase().split("-"),s=a[0],o=a.slice(1).join("-");if(s&&o==="h")return i.flipX=!0,i;if(s&&o==="v")return i.flipY=!0,i;if(o=parseFloat(o),isNaN(o))return i;switch(s){case"grow":i.size=i.size+o;break;case"shrink":i.size=i.size-o;break;case"left":i.x=i.x-o;break;case"right":i.x=i.x+o;break;case"up":i.y=i.y-o;break;case"down":i.y=i.y+o;break;case"rotate":i.rotate=i.rotate+o;break}return i},t)},Bbe={mixout:function(){return{parse:{transform:function(t){return nW(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-transform");return r&&(t.transform=nW(r)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var i=t.main,r=t.transform,a=t.containerWidth,s=t.iconWidth,o={transform:"translate(".concat(a/2," 256)")},l="translate(".concat(r.x*32,", ").concat(r.y*32,") "),u="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),c="rotate(".concat(r.rotate," 0 0)"),f={transform:"".concat(l," ").concat(u," ").concat(c)},h={transform:"translate(".concat(s/2*-1," -256)")},d={outer:o,inner:f,path:h};return{tag:"g",attributes:xt({},d.outer),children:[{tag:"g",attributes:xt({},d.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:xt(xt({},i.icon.attributes),d.path)}]}]}}}},$B={x:0,y:0,width:"100%",height:"100%"};function iW(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function Obe(n){return n.tag==="g"?n.children:[n]}var zbe={hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-mask"),a=r?yI(r.split(" ").map(function(s){return s.trim()})):Lre();return a.prefix||(a.prefix=pm()),t.mask=a,t.maskId=i.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var i=t.children,r=t.attributes,a=t.main,s=t.mask,o=t.maskId,l=t.transform,u=a.width,c=a.icon,f=s.width,h=s.icon,d=E1e({transform:l,containerWidth:f,iconWidth:u}),v={tag:"rect",attributes:xt(xt({},$B),{},{fill:"white"})},m=c.children?{children:c.children.map(iW)}:{},y={tag:"g",attributes:xt({},d.inner),children:[iW(xt({tag:c.tag,attributes:xt(xt({},c.attributes),d.path)},m))]},x={tag:"g",attributes:xt({},d.outer),children:[y]},b="mask-".concat(o||z7()),M="clip-".concat(o||z7()),C={tag:"mask",attributes:xt(xt({},$B),{},{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[v,x]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:M},children:Obe(h)},C]};return i.push(w,{tag:"rect",attributes:xt({fill:"currentColor","clip-path":"url(#".concat(M,")"),mask:"url(#".concat(b,")")},$B)}),{children:i,attributes:r}}}},kbe={provides:function(e){var t=!1;dm.matchMedia&&(t=dm.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:xt(xt({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var s=xt(xt({},a),{},{attributeName:"opacity"}),o={tag:"circle",attributes:xt(xt({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:xt(xt({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:xt(xt({},s),{},{values:"1;0;1;1;0;1;"})}),i.push(o),i.push({tag:"path",attributes:xt(xt({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:xt(xt({},s),{},{values:"1;0;0;0;0;1;"})}]}),t||i.push({tag:"path",attributes:xt(xt({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:xt(xt({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},Fbe={hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-symbol"),a=r===null?!1:r===""?!0:r;return t.symbol=a,t}}}},Ube=[L1e,bbe,Sbe,Abe,Mbe,Ibe,Pbe,Bbe,zbe,kbe,Fbe];Y1e(Ube,{mixoutsTo:ru});ru.noAuto;var fT=ru.config;ru.library;ru.dom;var Fre=ru.parse;ru.findIconDefinition;ru.toHtml;var Gbe=ru.icon;ru.layer;ru.text;ru.counter;function Vbe(n){return n=n-0,n===n}function Ure(n){return Vbe(n)?n:(n=n.replace(/[_-]+(.)?/g,(e,t)=>t?t.toUpperCase():""),n.charAt(0).toLowerCase()+n.slice(1))}function jbe(n){return n.charAt(0).toUpperCase()+n.slice(1)}var p_=new Map,Hbe=1e3;function Wbe(n){if(p_.has(n))return p_.get(n);const e={};let t=0;const i=n.length;for(;t<i;){const r=n.indexOf(";",t),a=r===-1?i:r,s=n.slice(t,a).trim();if(s){const o=s.indexOf(":");if(o>0){const l=s.slice(0,o).trim(),u=s.slice(o+1).trim();if(l&&u){const c=Ure(l);e[c.startsWith("webkit")?jbe(c):c]=u}}}t=a+1}if(p_.size===Hbe){const r=p_.keys().next().value;r&&p_.delete(r)}return p_.set(n,e),e}function Gre(n,e,t={}){if(typeof e=="string")return e;const i=(e.children||[]).map(u=>Gre(n,u)),r=e.attributes||{},a={};for(const[u,c]of Object.entries(r))switch(!0){case u==="class":{a.className=c;break}case u==="style":{a.style=Wbe(String(c));break}case u.startsWith("aria-"):case u.startsWith("data-"):{a[u.toLowerCase()]=c;break}default:a[Ure(u)]=c}const{style:s,"aria-label":o,...l}=t;return s&&(a.style=a.style?{...a.style,...s}:s),o&&(a["aria-label"]=o,a["aria-hidden"]="false"),n(e.tag,{...l,...a},...i)}var Xbe=Gre.bind(null,Ps.createElement),rW=(n,e)=>{const t=Y.useId();return n||(e?t:void 0)},Ybe=class{constructor(n="react-fontawesome"){this.enabled=!1;let e=!1;try{e=typeof process<"u"&&!1}catch{}this.scope=n,this.enabled=e}log(...n){this.enabled&&console.log(`[${this.scope}]`,...n)}warn(...n){this.enabled&&console.warn(`[${this.scope}]`,...n)}error(...n){this.enabled&&console.error(`[${this.scope}]`,...n)}},qbe="searchPseudoElementsFullScan"in fT?"7.0.0":"6.0.0",Zbe=Number.parseInt(qbe)>=7,M2="fa",bd={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},Kbe={left:"fa-pull-left",right:"fa-pull-right"},Jbe={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},Qbe={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},Sd={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function $be(n){const e=fT.cssPrefix||fT.familyPrefix||M2;return e===M2?n:n.replace(new RegExp(`(?<=^|\\s)${M2}-`,"g"),`${e}-`)}function eSe(n){const{beat:e,fade:t,beatFade:i,bounce:r,shake:a,spin:s,spinPulse:o,spinReverse:l,pulse:u,fixedWidth:c,inverse:f,border:h,flip:d,size:v,rotation:m,pull:y,swapOpacity:x,rotateBy:b,widthAuto:M,className:C}=n,w=[];return C&&w.push(...C.split(" ")),e&&w.push(bd.beat),t&&w.push(bd.fade),i&&w.push(bd.beatFade),r&&w.push(bd.bounce),a&&w.push(bd.shake),s&&w.push(bd.spin),l&&w.push(bd.spinReverse),o&&w.push(bd.spinPulse),u&&w.push(bd.pulse),c&&w.push(Sd.fixedWidth),f&&w.push(Sd.inverse),h&&w.push(Sd.border),d===!0&&w.push(Sd.flip),(d==="horizontal"||d==="both")&&w.push(Sd.flipHorizontal),(d==="vertical"||d==="both")&&w.push(Sd.flipVertical),v!=null&&w.push(Qbe[v]),m!=null&&m!==0&&w.push(Jbe[m]),y!=null&&w.push(Kbe[y]),x&&w.push(Sd.swapOpacity),Zbe?(b&&w.push(Sd.rotateBy),M&&w.push(Sd.widthAuto),(fT.cssPrefix||fT.familyPrefix||M2)===M2?w:w.map($be)):w}var tSe=n=>typeof n=="object"&&"icon"in n&&!!n.icon;function aW(n){if(n)return tSe(n)?n:Fre.icon(n)}function nSe(n){return Object.keys(n)}var sW=new Ybe("FontAwesomeIcon"),Vre={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},iSe=new Set(Object.keys(Vre)),t3=Ps.forwardRef((n,e)=>{const t={...Vre,...n},{icon:i,mask:r,symbol:a,title:s,titleId:o,maskId:l,transform:u}=t,c=rW(l,!!r),f=rW(o,!!s),h=aW(i);if(!h)return sW.error("Icon lookup is undefined",i),null;const d=eSe(t),v=typeof u=="string"?Fre.transform(u):u,m=aW(r),y=Gbe(h,{...d.length>0&&{classes:d},...v&&{transform:v},...m&&{mask:m},symbol:a,title:s,titleId:f,maskId:c});if(!y)return sW.error("Could not find icon",h),null;const{abstract:x}=y,b={ref:e};for(const M of nSe(t))iSe.has(M)||(b[M]=t[M]);return Xbe(x[0],b)});t3.displayName="FontAwesomeIcon";var rSe={prefix:"fas",iconName:"dna",icon:[384,512,[129516],"f471","M352 0c17.7 0 32 14.3 32 32 0 57.8-24.4 104.8-57.4 144.5-24.1 28.9-53.8 55.1-83.6 79.5 29.8 24.5 59.5 50.6 83.6 79.5 33 39.6 57.4 86.7 57.4 144.5 0 17.7-14.3 32-32 32s-32-14.3-32-32L64 480c0 17.7-14.3 32-32 32S0 497.7 0 480C0 422.2 24.4 375.2 57.4 335.5 81.5 306.6 111.2 280.5 141 256 111.2 231.5 81.5 205.4 57.4 176.5 24.4 136.8 0 89.8 0 32 0 14.3 14.3 0 32 0S64 14.3 64 32l256 0c0-17.7 14.3-32 32-32zM283.5 384l-182.9 0c-8.2 10.5-15.1 21.1-20.6 32l224.2 0c-5.6-10.9-12.5-21.5-20.6-32zM238 336c-14.3-13-29.8-25.8-46-39-16.2 13.1-31.7 26-46 39l92 0zM100.5 128l182.9 0c8.2-10.5 15.1-21.1 20.6-32L79.9 96c5.6 10.9 12.5 21.5 20.6 32zM146 176c14.3 13 29.8 25.8 46 39 16.2-13.1 31.7-26 46-39l-92 0z"]},aSe={prefix:"fas",iconName:"notes-medical",icon:[512,512,[],"f481","M96 352c0 35.3 28.7 64 64 64l181.5 0c17 0 33.3-6.7 45.3-18.7L493.3 290.7c12-12 18.7-28.3 18.7-45.3L512 64c0-35.3-28.7-64-64-64L160 0C124.7 0 96 28.7 96 64l0 288zM288 112l32 0c8.8 0 16 7.2 16 16l0 48 48 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-48 0 0 48c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-48-48 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16l48 0 0-48c0-8.8 7.2-16 16-16zM48 120c0-13.3-10.7-24-24-24S0 106.7 0 120L0 448c0 35.3 28.7 64 64 64l264 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L64 464c-8.8 0-16-7.2-16-16l0-328z"]},sSe={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M351.9 280l-190.9 0c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zM160.9 232l190.9 0C349 167.5 334.7 108.1 314.4 64.6 303 40.2 290.7 22.8 279.3 12.2 268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4zm-48 0C116.4 146.4 138.5 66.9 170.8 14.7 78.7 47.3 10.9 131.2 1.5 232l111.4 0zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3L1.5 280zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3l-111.4 0zm111.4-48C501.9 131.2 434.1 47.3 342 14.7 374.3 66.9 396.4 146.4 399.9 232l111.4 0z"]};function oSe(){const n=Y.useRef(null),e="/";return Y.useEffect(()=>{window.matchMedia("(prefers-reduced-motion: reduce)").matches&&n.current&&n.current.pause()},[]),T.jsxs("section",{className:"hero","data-nav-theme":"dark",id:"inicio",children:[T.jsxs("div",{className:"hero-media",children:[T.jsx("video",{ref:n,className:"hero-video",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,src:`${e}HelixDNA.webm`}),T.jsx("div",{className:"hero-overlay"})]}),T.jsxs("div",{className:"hero-bl",children:[T.jsxs("div",{className:"hero-rail",children:[T.jsx("button",{className:"rail-btn","data-label":"ADN",children:T.jsx(t3,{icon:rSe,size:"lg"})}),T.jsx("button",{className:"rail-btn","data-label":"Mundo",children:T.jsx(t3,{icon:sSe,size:"lg"})}),T.jsx("button",{className:"rail-btn","data-label":"Salud",children:T.jsx(t3,{icon:aSe,size:"lg"})})]}),T.jsxs("h1",{className:"hero-title",children:["Descubre la historia que tu",T.jsx("br",{}),"ADN tiene para contarte."]})]}),T.jsxs("div",{className:"hero-br",children:[T.jsx("p",{className:"hero-kicker",children:"Explora tu mapa gentico de manera clara, confiable e interactiva."}),T.jsxs("a",{href:"login",className:"cta",children:["Ingresa Aqu ",T.jsx("span",{"aria-hidden":!0,children:""})]})]})]})}function Fd(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function jre(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var Jl={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},tb={duration:.5,overwrite:!1,delay:0},PG,Ls,br,ju=1e8,ir=1/ju,Fk=Math.PI*2,lSe=Fk/4,uSe=0,Hre=Math.sqrt,cSe=Math.cos,fSe=Math.sin,gs=function(e){return typeof e=="string"},Zr=function(e){return typeof e=="function"},pp=function(e){return typeof e=="number"},BG=function(e){return typeof e>"u"},Dh=function(e){return typeof e=="object"},dl=function(e){return e!==!1},OG=function(){return typeof window<"u"},NE=function(e){return Zr(e)||gs(e)},Wre=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},uo=Array.isArray,Uk=/(?:-?\.?\d|\.)+/gi,Xre=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,b1=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,eO=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Yre=/[+-]=-?[.\d]+/,qre=/[^,'"\[\]\s]+/gi,hSe=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Nr,sh,Gk,zG,tu={},H3={},Zre,Kre=function(e){return(H3=nb(e,tu))&&yl},kG=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},hT=function(e,t){return!t&&console.warn(e)},Jre=function(e,t){return e&&(tu[e]=t)&&H3&&(H3[e]=t)||tu},dT=function(){return 0},dSe={suppressEvents:!0,isStart:!0,kill:!1},n3={suppressEvents:!0,kill:!1},pSe={suppressEvents:!0},FG={},nm=[],Vk={},Qre,Fl={},tO={},oW=30,i3=[],UG="",GG=function(e){var t=e[0],i,r;if(Dh(t)||Zr(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=i3.length;r--&&!i3[r].targetTest(t););i=i3[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new Sae(e[r],i)))||e.splice(r,1);return e},ay=function(e){return e._gsap||GG(Hu(e))[0]._gsap},$re=function(e,t,i){return(i=e[t])&&Zr(i)?e[t]():BG(i)&&e.getAttribute&&e.getAttribute(t)||i},pl=function(e,t){return(e=e.split(",")).forEach(t)||e},fa=function(e){return Math.round(e*1e5)/1e5||0},Ca=function(e){return Math.round(e*1e7)/1e7||0},G1=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},vSe=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},W3=function(){var e=nm.length,t=nm.slice(0),i,r;for(Vk={},nm.length=0,i=0;i<e;i++)r=t[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},VG=function(e){return!!(e._initted||e._startAt||e.add)},eae=function(e,t,i,r){nm.length&&!Ls&&W3(),e.render(t,i,!!(Ls&&t<0&&VG(e))),nm.length&&!Ls&&W3()},tae=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(qre).length<2?t:gs(e)?e.trim():e},nae=function(e){return e},nu=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},mSe=function(e){return function(t,i){for(var r in i)r in t||r==="duration"&&e||r==="ease"||(t[r]=i[r])}},nb=function(e,t){for(var i in t)e[i]=t[i];return e},lW=function n(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=Dh(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},X3=function(e,t){var i={},r;for(r in e)r in t||(i[r]=e[r]);return i},T2=function(e){var t=e.parent||Nr,i=e.keyframes?mSe(uo(e.keyframes)):nu;if(dl(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},gSe=function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0},iae=function(e,t,i,r,a){var s=e[r],o;if(a)for(o=t[a];s&&s[a]>o;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=s,t.parent=t._dp=e,t},_I=function(e,t,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var a=t._prev,s=t._next;a?a._next=s:e[i]===t&&(e[i]=s),s?s._prev=a:e[r]===t&&(e[r]=a),t._next=t._prev=t.parent=null},mm=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},sy=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},ySe=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},jk=function(e,t,i,r){return e._startAt&&(Ls?e._startAt.revert(n3):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},xSe=function n(e){return!e||e._ts&&n(e.parent)},uW=function(e){return e._repeat?ib(e._tTime,e=e.duration()+e._rDelay)*e:0},ib=function(e,t){var i=Math.floor(e=Ca(e/t));return e&&i===e?i-1:i},Y3=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},bI=function(e){return e._end=Ca(e._start+(e._tDur/Math.abs(e._ts||e._rts||ir)||0))},SI=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Ca(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),bI(e),i._dirty||sy(i,e)),e},rae=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=Y3(e.rawTime(),t),(!t._dur||bC(0,t.totalDuration(),i)-t._tTime>ir)&&t.render(i,!0)),sy(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-ir}},uh=function(e,t,i,r){return t.parent&&mm(t),t._start=Ca((pp(i)?i:i||e!==Nr?Iu(e,i,t):e._time)+t._delay),t._end=Ca(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),iae(e,t,"_first","_last",e._sort?"_start":0),Hk(t)||(e._recent=t),r||rae(e,t),e._ts<0&&SI(e,e._tTime),e},aae=function(e,t){return(tu.ScrollTrigger||kG("scrollTrigger",t))&&tu.ScrollTrigger.create(t,e)},sae=function(e,t,i,r,a){if(HG(e,t,a),!e._initted)return 1;if(!i&&e._pt&&!Ls&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Qre!==Gl.frame)return nm.push(e),e._lazy=[a,r],1},_Se=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},Hk=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},bSe=function(e,t,i,r){var a=e.ratio,s=t<0||!t&&(!e._start&&_Se(e)&&!(!e._initted&&Hk(e))||(e._ts<0||e._dp._ts<0)&&!Hk(e))?0:1,o=e._rDelay,l=0,u,c,f;if(o&&e._repeat&&(l=bC(0,e._tDur,t),c=ib(l,o),e._yoyo&&c&1&&(s=1-s),c!==ib(e._tTime,o)&&(a=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),s!==a||Ls||r||e._zTime===ir||!t&&e._zTime){if(!e._initted&&sae(e,t,r,i,l))return;for(f=e._zTime,e._zTime=t||(i?ir:0),i||(i=t&&!f),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=l,u=e._pt;u;)u.r(s,u.d),u=u._next;t<0&&jk(e,t,i,!0),e._onUpdate&&!i&&Hl(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&Hl(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===s&&(s&&mm(e,1),!i&&!Ls&&(Hl(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},SSe=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},rb=function(e,t,i,r){var a=e._repeat,s=Ca(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=s/e._dur),e._dur=s,e._tDur=a?a<0?1e10:Ca(s*(a+1)+e._rDelay*a):s,o>0&&!r&&SI(e,e._tTime=e._tDur*o),e.parent&&bI(e),i||sy(e.parent,e),e},cW=function(e){return e instanceof Uo?sy(e):rb(e,e._dur)},ASe={_start:0,endTime:dT,totalDuration:dT},Iu=function n(e,t,i){var r=e.labels,a=e._recent||ASe,s=e.duration()>=ju?a.endTime(!1):e._dur,o,l,u;return gs(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),u=t.substr(-1)==="%",o=t.indexOf("="),l==="<"||l===">"?(o>=0&&(t=t.replace(/=/,"")),(l==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(t.substr(1))||0)*(u?(o<0?a:i).totalDuration()/100:1)):o<0?(t in r||(r[t]=s),r[t]):(l=parseFloat(t.charAt(o-1)+t.substr(o+1)),u&&i&&(l=l/100*(uo(i)?i[0]:i).totalDuration()),o>1?n(e,t.substr(0,o-1),i)+l:s+l)):t==null?s:+t},C2=function(e,t,i){var r=pp(t[1]),a=(r?2:1)+(e<2?0:1),s=t[a],o,l;if(r&&(s.duration=t[1]),s.parent=i,e){for(o=s,l=i;l&&!("immediateRender"in o);)o=l.vars.defaults||{},l=dl(l.vars.inherit)&&l.parent;s.immediateRender=dl(o.immediateRender),e<2?s.runBackwards=1:s.startAt=t[a-1]}return new Ta(t[0],s,t[a+1])},Lm=function(e,t){return e||e===0?t(e):t},bC=function(e,t,i){return i<e?e:i>t?t:i},oo=function(e,t){return!gs(e)||!(t=hSe.exec(e))?"":t[1]},MSe=function(e,t,i){return Lm(i,function(r){return bC(e,t,r)})},Wk=[].slice,oae=function(e,t){return e&&Dh(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Dh(e[0]))&&!e.nodeType&&e!==sh},TSe=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(r){var a;return gs(r)&&!t||oae(r,1)?(a=i).push.apply(a,Hu(r)):i.push(r)})||i},Hu=function(e,t,i){return br&&!t&&br.selector?br.selector(e):gs(e)&&!i&&(Gk||!ab())?Wk.call((t||zG).querySelectorAll(e),0):uo(e)?TSe(e,i):oae(e)?Wk.call(e,0):e?[e]:[]},Xk=function(e){return e=Hu(e)[0]||hT("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Hu(t,i.querySelectorAll?i:i===e?hT("Invalid scope")||zG.createElement("div"):e)}},lae=function(e){return e.sort(function(){return .5-Math.random()})},uae=function(e){if(Zr(e))return e;var t=Dh(e)?e:{each:e},i=oy(t.ease),r=t.from||0,a=parseFloat(t.base)||0,s={},o=r>0&&r<1,l=isNaN(r)||o,u=t.axis,c=r,f=r;return gs(r)?c=f={center:.5,edges:.5,end:1}[r]||0:!o&&l&&(c=r[0],f=r[1]),function(h,d,v){var m=(v||t).length,y=s[m],x,b,M,C,w,E,L,P,I;if(!y){if(I=t.grid==="auto"?0:(t.grid||[1,ju])[1],!I){for(L=-ju;L<(L=v[I++].getBoundingClientRect().left)&&I<m;);I<m&&I--}for(y=s[m]=[],x=l?Math.min(I,m)*c-.5:r%I,b=I===ju?0:l?m*f/I-.5:r/I|0,L=0,P=ju,E=0;E<m;E++)M=E%I-x,C=b-(E/I|0),y[E]=w=u?Math.abs(u==="y"?C:M):Hre(M*M+C*C),w>L&&(L=w),w<P&&(P=w);r==="random"&&lae(y),y.max=L-P,y.min=P,y.v=m=(parseFloat(t.amount)||parseFloat(t.each)*(I>m?m-1:u?u==="y"?m/I:I:Math.max(I,m/I))||0)*(r==="edges"?-1:1),y.b=m<0?a-m:a,y.u=oo(t.amount||t.each)||0,i=i&&m<0?xae(i):i}return m=(y[h]-y.min)/y.max||0,Ca(y.b+(i?i(m):m)*y.v)+y.u}},Yk=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=Ca(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(pp(i)?0:oo(i))}},cae=function(e,t){var i=uo(e),r,a;return!i&&Dh(e)&&(r=i=e.radius||ju,e.values?(e=Hu(e.values),(a=!pp(e[0]))&&(r*=r)):e=Yk(e.increment)),Lm(t,i?Zr(e)?function(s){return a=e(s),Math.abs(a-s)<=r?a:s}:function(s){for(var o=parseFloat(a?s.x:s),l=parseFloat(a?s.y:0),u=ju,c=0,f=e.length,h,d;f--;)a?(h=e[f].x-o,d=e[f].y-l,h=h*h+d*d):h=Math.abs(e[f]-o),h<u&&(u=h,c=f);return c=!r||u<=r?e[c]:s,a||c===s||pp(s)?c:c+oo(s)}:Yk(e))},fae=function(e,t,i,r){return Lm(uo(e)?!t:i===!0?!!(i=0):!r,function(){return uo(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*r)/r})},CSe=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(a,s){return s(a)},r)}},wSe=function(e,t){return function(i){return e(parseFloat(i))+(t||oo(i))}},ESe=function(e,t,i){return dae(e,t,0,1,i)},hae=function(e,t,i){return Lm(i,function(r){return e[~~t(r)]})},DSe=function n(e,t,i){var r=t-e;return uo(e)?hae(e,n(0,e.length),t):Lm(i,function(a){return(r+(a-e)%r)%r+e})},RSe=function n(e,t,i){var r=t-e,a=r*2;return uo(e)?hae(e,n(0,e.length-1),t):Lm(i,function(s){return s=(a+(s-e)%a)%a||0,e+(s>r?a-s:s)})},pT=function(e){for(var t=0,i="",r,a,s,o;~(r=e.indexOf("random(",t));)s=e.indexOf(")",r),o=e.charAt(r+7)==="[",a=e.substr(r+7,s-r-7).match(o?qre:Uk),i+=e.substr(t,r-t)+fae(o?a:+a[0],o?0:+a[1],+a[2]||1e-5),t=s+1;return i+e.substr(t,e.length-t)},dae=function(e,t,i,r,a){var s=t-e,o=r-i;return Lm(a,function(l){return i+((l-e)/s*o||0)})},LSe=function n(e,t,i,r){var a=isNaN(e+t)?0:function(d){return(1-d)*e+d*t};if(!a){var s=gs(e),o={},l,u,c,f,h;if(i===!0&&(r=1)&&(i=null),s)e={p:e},t={p:t};else if(uo(e)&&!uo(t)){for(c=[],f=e.length,h=f-2,u=1;u<f;u++)c.push(n(e[u-1],e[u]));f--,a=function(v){v*=f;var m=Math.min(h,~~v);return c[m](v-m)},i=t}else r||(e=nb(uo(e)?[]:{},e));if(!c){for(l in t)jG.call(o,e,l,"get",t[l]);a=function(v){return YG(v,o)||(s?e.p:e)}}}return Lm(i,a)},fW=function(e,t,i){var r=e.labels,a=ju,s,o,l;for(s in r)o=r[s]-t,o<0==!!i&&o&&a>(o=Math.abs(o))&&(l=s,a=o);return l},Hl=function(e,t,i){var r=e.vars,a=r[t],s=br,o=e._ctx,l,u,c;if(a)return l=r[t+"Params"],u=r.callbackScope||e,i&&nm.length&&W3(),o&&(br=o),c=l?a.apply(u,l):a.call(u),br=s,c},t2=function(e){return mm(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Ls),e.progress()<1&&Hl(e,"onInterrupt"),e},S1,pae=[],vae=function(e){if(e)if(e=!e.name&&e.default||e,OG()||e.headless){var t=e.name,i=Zr(e),r=t&&!i&&e.init?function(){this._props=[]}:e,a={init:dT,render:YG,add:jG,kill:YSe,modifier:XSe,rawVars:0},s={targetTest:0,get:0,getSetter:XG,aliases:{},register:0};if(ab(),e!==r){if(Fl[t])return;nu(r,nu(X3(e,a),s)),nb(r.prototype,nb(a,X3(e,s))),Fl[r.prop=t]=r,e.targetTest&&(i3.push(r),FG[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Jre(t,r),e.register&&e.register(yl,r,vl)}else pae.push(e)},nr=255,n2={aqua:[0,nr,nr],lime:[0,nr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,nr],navy:[0,0,128],white:[nr,nr,nr],olive:[128,128,0],yellow:[nr,nr,0],orange:[nr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[nr,0,0],pink:[nr,192,203],cyan:[0,nr,nr],transparent:[nr,nr,nr,0]},nO=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*nr+.5|0},mae=function(e,t,i){var r=e?pp(e)?[e>>16,e>>8&nr,e&nr]:0:n2.black,a,s,o,l,u,c,f,h,d,v;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),n2[e])r=n2[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),s=e.charAt(2),o=e.charAt(3),e="#"+a+a+s+s+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&nr,r&nr,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&nr,e&nr]}else if(e.substr(0,3)==="hsl"){if(r=v=e.match(Uk),!t)l=+r[0]%360/360,u=+r[1]/100,c=+r[2]/100,s=c<=.5?c*(u+1):c+u-c*u,a=c*2-s,r.length>3&&(r[3]*=1),r[0]=nO(l+1/3,a,s),r[1]=nO(l,a,s),r[2]=nO(l-1/3,a,s);else if(~e.indexOf("="))return r=e.match(Xre),i&&r.length<4&&(r[3]=1),r}else r=e.match(Uk)||n2.transparent;r=r.map(Number)}return t&&!v&&(a=r[0]/nr,s=r[1]/nr,o=r[2]/nr,f=Math.max(a,s,o),h=Math.min(a,s,o),c=(f+h)/2,f===h?l=u=0:(d=f-h,u=c>.5?d/(2-f-h):d/(f+h),l=f===a?(s-o)/d+(s<o?6:0):f===s?(o-a)/d+2:(a-s)/d+4,l*=60),r[0]=~~(l+.5),r[1]=~~(u*100+.5),r[2]=~~(c*100+.5)),i&&r.length<4&&(r[3]=1),r},gae=function(e){var t=[],i=[],r=-1;return e.split(im).forEach(function(a){var s=a.match(b1)||[];t.push.apply(t,s),i.push(r+=s.length+1)}),t.c=i,t},hW=function(e,t,i){var r="",a=(e+r).match(im),s=t?"hsla(":"rgba(",o=0,l,u,c,f;if(!a)return e;if(a=a.map(function(h){return(h=mae(h,t,1))&&s+(t?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),i&&(c=gae(e),l=i.c,l.join(r)!==c.c.join(r)))for(u=e.replace(im,"1").split(b1),f=u.length-1;o<f;o++)r+=u[o]+(~l.indexOf(o)?a.shift()||s+"0,0,0,0)":(c.length?c:a.length?a:i).shift());if(!u)for(u=e.split(im),f=u.length-1;o<f;o++)r+=u[o]+a[o];return r+u[f]},im=(function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in n2)n+="|"+e+"\\b";return new RegExp(n+")","gi")})(),NSe=/hsl[a]?\(/,yae=function(e){var t=e.join(" "),i;if(im.lastIndex=0,im.test(t))return i=NSe.test(t),e[1]=hW(e[1],i),e[0]=hW(e[0],i,gae(e[1])),!0},vT,Gl=(function(){var n=Date.now,e=500,t=33,i=n(),r=i,a=1e3/240,s=a,o=[],l,u,c,f,h,d,v=function m(y){var x=n()-r,b=y===!0,M,C,w,E;if((x>e||x<0)&&(i+=x-t),r+=x,w=r-i,M=w-s,(M>0||b)&&(E=++f.frame,h=w-f.time*1e3,f.time=w=w/1e3,s+=M+(M>=a?4:a-M),C=1),b||(l=u(m)),C)for(d=0;d<o.length;d++)o[d](w,h,E,y)};return f={time:0,frame:0,tick:function(){v(!0)},deltaRatio:function(y){return h/(1e3/(y||60))},wake:function(){Zre&&(!Gk&&OG()&&(sh=Gk=window,zG=sh.document||{},tu.gsap=yl,(sh.gsapVersions||(sh.gsapVersions=[])).push(yl.version),Kre(H3||sh.GreenSockGlobals||!sh.gsap&&sh||{}),pae.forEach(vae)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&f.sleep(),u=c||function(y){return setTimeout(y,s-f.time*1e3+1|0)},vT=1,v(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(l),vT=0,u=dT},lagSmoothing:function(y,x){e=y||1/0,t=Math.min(x||33,e)},fps:function(y){a=1e3/(y||240),s=f.time*1e3+a},add:function(y,x,b){var M=x?function(C,w,E,L){y(C,w,E,L),f.remove(M)}:y;return f.remove(y),o[b?"unshift":"push"](M),ab(),M},remove:function(y,x){~(x=o.indexOf(y))&&o.splice(x,1)&&d>=x&&d--},_listeners:o},f})(),ab=function(){return!vT&&Gl.wake()},yi={},ISe=/^[\d.\-M][\d.\-,\s]/,PSe=/["']/g,BSe=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),r=i[0],a=1,s=i.length,o,l,u;a<s;a++)l=i[a],o=a!==s-1?l.lastIndexOf(","):l.length,u=l.substr(0,o),t[r]=isNaN(u)?u.replace(PSe,"").trim():+u,r=l.substr(o+1).trim();return t},OSe=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)},zSe=function(e){var t=(e+"").split("("),i=yi[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[BSe(t[1])]:OSe(e).split(",").map(tae)):yi._CE&&ISe.test(e)?yi._CE("",e):i},xae=function(e){return function(t){return 1-e(1-t)}},_ae=function n(e,t){for(var i=e._first,r;i;)i instanceof Uo?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},oy=function(e,t){return e&&(Zr(e)?e:yi[e]||zSe(e))||t},Xy=function(e,t,i,r){i===void 0&&(i=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var a={easeIn:t,easeOut:i,easeInOut:r},s;return pl(e,function(o){yi[o]=tu[o]=a,yi[s=o.toLowerCase()]=i;for(var l in a)yi[s+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=yi[o+"."+l]=a[l]}),a},bae=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},iO=function n(e,t,i){var r=t>=1?t:1,a=(i||(e?.3:.45))/(t<1?t:1),s=a/Fk*(Math.asin(1/r)||0),o=function(c){return c===1?1:r*Math.pow(2,-10*c)*fSe((c-s)*a)+1},l=e==="out"?o:e==="in"?function(u){return 1-o(1-u)}:bae(o);return a=Fk/a,l.config=function(u,c){return n(e,u,c)},l},rO=function n(e,t){t===void 0&&(t=1.70158);var i=function(s){return s?--s*s*((t+1)*s+t)+1:0},r=e==="out"?i:e==="in"?function(a){return 1-i(1-a)}:bae(i);return r.config=function(a){return n(e,a)},r};pl("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Xy(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});yi.Linear.easeNone=yi.none=yi.Linear.easeIn;Xy("Elastic",iO("in"),iO("out"),iO());(function(n,e){var t=1/e,i=2*t,r=2.5*t,a=function(o){return o<t?n*o*o:o<i?n*Math.pow(o-1.5/e,2)+.75:o<r?n*(o-=2.25/e)*o+.9375:n*Math.pow(o-2.625/e,2)+.984375};Xy("Bounce",function(s){return 1-a(1-s)},a)})(7.5625,2.75);Xy("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});Xy("Circ",function(n){return-(Hre(1-n*n)-1)});Xy("Sine",function(n){return n===1?1:-cSe(n*lSe)+1});Xy("Back",rO("in"),rO("out"),rO());yi.SteppedEase=yi.steps=tu.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,r=e+(t?0:1),a=t?1:0,s=1-ir;return function(o){return((r*bC(0,s,o)|0)+a)*i}}};tb.ease=yi["quad.out"];pl("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return UG+=n+","+n+"Params,"});var Sae=function(e,t){this.id=uSe++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:$re,this.set=t?t.getSetter:XG},mT=(function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,rb(this,+t.duration,1,1),this.data=t.data,br&&(this._ctx=br,br.data.push(this)),vT||Gl.wake()}var e=n.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,rb(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(ab(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(SI(this,i),!a._dp||a.parent||rae(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&uh(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===ir||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),eae(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+uW(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+uW(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,r){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*a,r):this._repeat?ib(this._tTime,a)+1:1},e.timeScale=function(i,r){if(!arguments.length)return this._rts===-ir?0:this._rts;if(this._rts===i)return this;var a=this.parent&&this._ts?Y3(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-ir?0:this._rts,this.totalTime(bC(-Math.abs(this._delay),this.totalDuration(),a),r!==!1),bI(this),ySe(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ab(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ir&&(this._tTime-=ir)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&uh(r,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(dl(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Y3(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=pSe);var r=Ls;return Ls=i,VG(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Ls=r,this},e.globalTime=function(i){for(var r=this,a=arguments.length?i:r.rawTime();r;)a=r._start+a/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):a},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,cW(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,cW(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(Iu(this,i),dl(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,dl(r)),this._dur||(this._zTime=-ir),this},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-ir:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-ir,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,a;return!!(!i||this._ts&&this._initted&&i.isActive()&&(a=i.rawTime(!0))>=r&&a<this.endTime(!0)-ir)},e.eventCallback=function(i,r,a){var s=this.vars;return arguments.length>1?(r?(s[i]=r,a&&(s[i+"Params"]=a),i==="onUpdate"&&(this._onUpdate=r)):delete s[i],this):s[i]},e.then=function(i){var r=this;return new Promise(function(a){var s=Zr(i)?i:nae,o=function(){var u=r.then;r.then=null,Zr(s)&&(s=s(r))&&(s.then||s===r)&&(r.then=u),a(s),r.then=u};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?o():r._prom=o})},e.kill=function(){t2(this)},n})();nu(mT.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ir,_prom:0,_ps:!1,_rts:1});var Uo=(function(n){jre(e,n);function e(i,r){var a;return i===void 0&&(i={}),a=n.call(this,i)||this,a.labels={},a.smoothChildTiming=!!i.smoothChildTiming,a.autoRemoveChildren=!!i.autoRemoveChildren,a._sort=dl(i.sortChildren),Nr&&uh(i.parent||Nr,Fd(a),r),i.reversed&&a.reverse(),i.paused&&a.paused(!0),i.scrollTrigger&&aae(Fd(a),i.scrollTrigger),a}var t=e.prototype;return t.to=function(r,a,s){return C2(0,arguments,this),this},t.from=function(r,a,s){return C2(1,arguments,this),this},t.fromTo=function(r,a,s,o){return C2(2,arguments,this),this},t.set=function(r,a,s){return a.duration=0,a.parent=this,T2(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new Ta(r,a,Iu(this,s),1),this},t.call=function(r,a,s){return uh(this,Ta.delayedCall(0,r,a),s)},t.staggerTo=function(r,a,s,o,l,u,c){return s.duration=a,s.stagger=s.stagger||o,s.onComplete=u,s.onCompleteParams=c,s.parent=this,new Ta(r,s,Iu(this,l)),this},t.staggerFrom=function(r,a,s,o,l,u,c){return s.runBackwards=1,T2(s).immediateRender=dl(s.immediateRender),this.staggerTo(r,a,s,o,l,u,c)},t.staggerFromTo=function(r,a,s,o,l,u,c,f){return o.startAt=s,T2(o).immediateRender=dl(o.immediateRender),this.staggerTo(r,a,o,l,u,c,f)},t.render=function(r,a,s){var o=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,c=r<=0?0:Ca(r),f=this._zTime<0!=r<0&&(this._initted||!u),h,d,v,m,y,x,b,M,C,w,E,L;if(this!==Nr&&c>l&&r>=0&&(c=l),c!==this._tTime||s||f){if(o!==this._time&&u&&(c+=this._time-o,r+=this._time-o),h=c,C=this._start,M=this._ts,x=!M,f&&(u||(o=this._zTime),(r||!a)&&(this._zTime=r)),this._repeat){if(E=this._yoyo,y=u+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(y*100+r,a,s);if(h=Ca(c%y),c===l?(m=this._repeat,h=u):(w=Ca(c/y),m=~~w,m&&m===w&&(h=u,m--),h>u&&(h=u)),w=ib(this._tTime,y),!o&&this._tTime&&w!==m&&this._tTime-w*y-this._dur<=0&&(w=m),E&&m&1&&(h=u-h,L=1),m!==w&&!this._lock){var P=E&&w&1,I=P===(E&&m&1);if(m<w&&(P=!P),o=P?0:c%u?u:c,this._lock=1,this.render(o||(L?0:Ca(m*y)),a,!u)._lock=0,this._tTime=c,!a&&this.parent&&Hl(this,"onRepeat"),this.vars.repeatRefresh&&!L&&(this.invalidate()._lock=1),o&&o!==this._time||x!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,I&&(this._lock=2,o=P?u:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!L&&this.invalidate()),this._lock=0,!this._ts&&!x)return this;_ae(this,L)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(b=SSe(this,Ca(o),Ca(h)),b&&(c-=h-(h=b._start))),this._tTime=c,this._time=h,this._act=!M,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&c&&!a&&!w&&(Hl(this,"onStart"),this._tTime!==c))return this;if(h>=o&&r>=0)for(d=this._first;d;){if(v=d._next,(d._act||h>=d._start)&&d._ts&&b!==d){if(d.parent!==this)return this.render(r,a,s);if(d.render(d._ts>0?(h-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(h-d._start)*d._ts,a,s),h!==this._time||!this._ts&&!x){b=0,v&&(c+=this._zTime=-ir);break}}d=v}else{d=this._last;for(var N=r<0?r:h;d;){if(v=d._prev,(d._act||N<=d._end)&&d._ts&&b!==d){if(d.parent!==this)return this.render(r,a,s);if(d.render(d._ts>0?(N-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(N-d._start)*d._ts,a,s||Ls&&VG(d)),h!==this._time||!this._ts&&!x){b=0,v&&(c+=this._zTime=N?-ir:ir);break}}d=v}}if(b&&!a&&(this.pause(),b.render(h>=o?0:-ir)._zTime=h>=o?1:-1,this._ts))return this._start=C,bI(this),this.render(r,a,s);this._onUpdate&&!a&&Hl(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&o)&&(C===this._start||Math.abs(M)!==Math.abs(this._ts))&&(this._lock||((r||!u)&&(c===l&&this._ts>0||!c&&this._ts<0)&&mm(this,1),!a&&!(r<0&&!o)&&(c||o||!l)&&(Hl(this,c===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,a){var s=this;if(pp(a)||(a=Iu(this,a,r)),!(r instanceof mT)){if(uo(r))return r.forEach(function(o){return s.add(o,a)}),this;if(gs(r))return this.addLabel(r,a);if(Zr(r))r=Ta.delayedCall(0,r);else return this}return this!==r?uh(this,r,a):this},t.getChildren=function(r,a,s,o){r===void 0&&(r=!0),a===void 0&&(a=!0),s===void 0&&(s=!0),o===void 0&&(o=-ju);for(var l=[],u=this._first;u;)u._start>=o&&(u instanceof Ta?a&&l.push(u):(s&&l.push(u),r&&l.push.apply(l,u.getChildren(!0,a,s)))),u=u._next;return l},t.getById=function(r){for(var a=this.getChildren(1,1,1),s=a.length;s--;)if(a[s].vars.id===r)return a[s]},t.remove=function(r){return gs(r)?this.removeLabel(r):Zr(r)?this.killTweensOf(r):(r.parent===this&&_I(this,r),r===this._recent&&(this._recent=this._last),sy(this))},t.totalTime=function(r,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ca(Gl.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,a),this._forcing=0,this):this._tTime},t.addLabel=function(r,a){return this.labels[r]=Iu(this,a),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,a,s){var o=Ta.delayedCall(0,a||dT,s);return o.data="isPause",this._hasPause=1,uh(this,o,Iu(this,r))},t.removePause=function(r){var a=this._first;for(r=Iu(this,r);a;)a._start===r&&a.data==="isPause"&&mm(a),a=a._next},t.killTweensOf=function(r,a,s){for(var o=this.getTweensOf(r,s),l=o.length;l--;)Hv!==o[l]&&o[l].kill(r,a);return this},t.getTweensOf=function(r,a){for(var s=[],o=Hu(r),l=this._first,u=pp(a),c;l;)l instanceof Ta?vSe(l._targets,o)&&(u?(!Hv||l._initted&&l._ts)&&l.globalTime(0)<=a&&l.globalTime(l.totalDuration())>a:!a||l.isActive())&&s.push(l):(c=l.getTweensOf(o,a)).length&&s.push.apply(s,c),l=l._next;return s},t.tweenTo=function(r,a){a=a||{};var s=this,o=Iu(s,r),l=a,u=l.startAt,c=l.onStart,f=l.onStartParams,h=l.immediateRender,d,v=Ta.to(s,nu({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:a.duration||Math.abs((o-(u&&"time"in u?u.time:s._time))/s.timeScale())||ir,onStart:function(){if(s.pause(),!d){var y=a.duration||Math.abs((o-(u&&"time"in u?u.time:s._time))/s.timeScale());v._dur!==y&&rb(v,y,0,1).render(v._time,!0,!0),d=1}c&&c.apply(v,f||[])}},a));return h?v.render(0):v},t.tweenFromTo=function(r,a,s){return this.tweenTo(a,nu({startAt:{time:Iu(this,r)}},s))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),fW(this,Iu(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),fW(this,Iu(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+ir)},t.shiftChildren=function(r,a,s){s===void 0&&(s=0);for(var o=this._first,l=this.labels,u;o;)o._start>=s&&(o._start+=r,o._end+=r),o=o._next;if(a)for(u in l)l[u]>=s&&(l[u]+=r);return sy(this)},t.invalidate=function(r){var a=this._first;for(this._lock=0;a;)a.invalidate(r),a=a._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var a=this._first,s;a;)s=a._next,this.remove(a),a=s;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),sy(this)},t.totalDuration=function(r){var a=0,s=this,o=s._last,l=ju,u,c,f;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-r:r));if(s._dirty){for(f=s.parent;o;)u=o._prev,o._dirty&&o.totalDuration(),c=o._start,c>l&&s._sort&&o._ts&&!s._lock?(s._lock=1,uh(s,o,c-o._delay,1)._lock=0):l=c,c<0&&o._ts&&(a-=c,(!f&&!s._dp||f&&f.smoothChildTiming)&&(s._start+=c/s._ts,s._time-=c,s._tTime-=c),s.shiftChildren(-c,!1,-1/0),l=0),o._end>a&&o._ts&&(a=o._end),o=u;rb(s,s===Nr&&s._time>a?s._time:a,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(r){if(Nr._ts&&(eae(Nr,Y3(r,Nr)),Qre=Gl.frame),Gl.frame>=oW){oW+=Jl.autoSleep||120;var a=Nr._first;if((!a||!a._ts)&&Jl.autoSleep&&Gl._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||Gl.sleep()}}},e})(mT);nu(Uo.prototype,{_lock:0,_hasPause:0,_forcing:0});var kSe=function(e,t,i,r,a,s,o){var l=new vl(this._pt,e,t,0,1,Eae,null,a),u=0,c=0,f,h,d,v,m,y,x,b;for(l.b=i,l.e=r,i+="",r+="",(x=~r.indexOf("random("))&&(r=pT(r)),s&&(b=[i,r],s(b,e,t),i=b[0],r=b[1]),h=i.match(eO)||[];f=eO.exec(r);)v=f[0],m=r.substring(u,f.index),d?d=(d+1)%5:m.substr(-5)==="rgba("&&(d=1),v!==h[c++]&&(y=parseFloat(h[c-1])||0,l._pt={_next:l._pt,p:m||c===1?m:",",s:y,c:v.charAt(1)==="="?G1(y,v)-y:parseFloat(v)-y,m:d&&d<4?Math.round:0},u=eO.lastIndex);return l.c=u<r.length?r.substring(u,r.length):"",l.fp=o,(Yre.test(r)||x)&&(l.e=0),this._pt=l,l},jG=function(e,t,i,r,a,s,o,l,u,c){Zr(r)&&(r=r(a||0,e,s));var f=e[t],h=i!=="get"?i:Zr(f)?u?e[t.indexOf("set")||!Zr(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():f,d=Zr(f)?u?jSe:Cae:WG,v;if(gs(r)&&(~r.indexOf("random(")&&(r=pT(r)),r.charAt(1)==="="&&(v=G1(h,r)+(oo(h)||0),(v||v===0)&&(r=v))),!c||h!==r||qk)return!isNaN(h*r)&&r!==""?(v=new vl(this._pt,e,t,+h||0,r-(h||0),typeof f=="boolean"?WSe:wae,0,d),u&&(v.fp=u),o&&v.modifier(o,this,e),this._pt=v):(!f&&!(t in e)&&kG(t,r),kSe.call(this,e,t,h,r,d,l||Jl.stringFilter,u))},FSe=function(e,t,i,r,a){if(Zr(e)&&(e=w2(e,a,t,i,r)),!Dh(e)||e.style&&e.nodeType||uo(e)||Wre(e))return gs(e)?w2(e,a,t,i,r):e;var s={},o;for(o in e)s[o]=w2(e[o],a,t,i,r);return s},Aae=function(e,t,i,r,a,s){var o,l,u,c;if(Fl[e]&&(o=new Fl[e]).init(a,o.rawVars?t[e]:FSe(t[e],r,a,s,i),i,r,s)!==!1&&(i._pt=l=new vl(i._pt,a,e,0,1,o.render,o,0,o.priority),i!==S1))for(u=i._ptLookup[i._targets.indexOf(a)],c=o._props.length;c--;)u[o._props[c]]=l;return o},Hv,qk,HG=function n(e,t,i){var r=e.vars,a=r.ease,s=r.startAt,o=r.immediateRender,l=r.lazy,u=r.onUpdate,c=r.runBackwards,f=r.yoyoEase,h=r.keyframes,d=r.autoRevert,v=e._dur,m=e._startAt,y=e._targets,x=e.parent,b=x&&x.data==="nested"?x.vars.targets:y,M=e._overwrite==="auto"&&!PG,C=e.timeline,w,E,L,P,I,N,z,V,U,j,W,G,X;if(C&&(!h||!a)&&(a="none"),e._ease=oy(a,tb.ease),e._yEase=f?xae(oy(f===!0?a:f,tb.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!C&&!!r.runBackwards,!C||h&&!r.stagger){if(V=y[0]?ay(y[0]).harness:0,G=V&&r[V.prop],w=X3(r,FG),m&&(m._zTime<0&&m.progress(1),t<0&&c&&o&&!d?m.render(-1,!0):m.revert(c&&v?n3:dSe),m._lazy=0),s){if(mm(e._startAt=Ta.set(y,nu({data:"isStart",overwrite:!1,parent:x,immediateRender:!0,lazy:!m&&dl(l),startAt:null,delay:0,onUpdate:u&&function(){return Hl(e,"onUpdate")},stagger:0},s))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ls||!o&&!d)&&e._startAt.revert(n3),o&&v&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(c&&v&&!m){if(t&&(o=!1),L=nu({overwrite:!1,data:"isFromStart",lazy:o&&!m&&dl(l),immediateRender:o,stagger:0,parent:x},w),G&&(L[V.prop]=G),mm(e._startAt=Ta.set(y,L)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ls?e._startAt.revert(n3):e._startAt.render(-1,!0)),e._zTime=t,!o)n(e._startAt,ir,ir);else if(!t)return}for(e._pt=e._ptCache=0,l=v&&dl(l)||l&&!v,E=0;E<y.length;E++){if(I=y[E],z=I._gsap||GG(y)[E]._gsap,e._ptLookup[E]=j={},Vk[z.id]&&nm.length&&W3(),W=b===y?E:b.indexOf(I),V&&(U=new V).init(I,G||w,e,W,b)!==!1&&(e._pt=P=new vl(e._pt,I,U.name,0,1,U.render,U,0,U.priority),U._props.forEach(function(q){j[q]=P}),U.priority&&(N=1)),!V||G)for(L in w)Fl[L]&&(U=Aae(L,w,e,W,I,b))?U.priority&&(N=1):j[L]=P=jG.call(e,I,L,"get",w[L],W,b,0,r.stringFilter);e._op&&e._op[E]&&e.kill(I,e._op[E]),M&&e._pt&&(Hv=e,Nr.killTweensOf(I,j,e.globalTime(t)),X=!e.parent,Hv=0),e._pt&&l&&(Vk[z.id]=1)}N&&Dae(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!X,h&&t<=0&&C.render(ju,!0,!0)},USe=function(e,t,i,r,a,s,o,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,f,h,d;if(!u)for(u=e._ptCache[t]=[],h=e._ptLookup,d=e._targets.length;d--;){if(c=h[d][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return qk=1,e.vars[t]="+=0",HG(e,o),qk=0,l?hT(t+" not eligible for reset"):1;u.push(c)}for(d=u.length;d--;)f=u[d],c=f._pt||f,c.s=(r||r===0)&&!a?r:c.s+(r||0)+s*c.c,c.c=i-c.s,f.e&&(f.e=fa(i)+oo(f.e)),f.b&&(f.b=c.s+oo(f.b))},GSe=function(e,t){var i=e[0]?ay(e[0]).harness:0,r=i&&i.aliases,a,s,o,l;if(!r)return t;a=nb({},t);for(s in r)if(s in a)for(l=r[s].split(","),o=l.length;o--;)a[l[o]]=a[s];return a},VSe=function(e,t,i,r){var a=t.ease||r||"power1.inOut",s,o;if(uo(t))o=i[e]||(i[e]=[]),t.forEach(function(l,u){return o.push({t:u/(t.length-1)*100,v:l,e:a})});else for(s in t)o=i[s]||(i[s]=[]),s==="ease"||o.push({t:parseFloat(e),v:t[s],e:a})},w2=function(e,t,i,r,a){return Zr(e)?e.call(t,i,r,a):gs(e)&&~e.indexOf("random(")?pT(e):e},Mae=UG+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Tae={};pl(Mae+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return Tae[n]=1});var Ta=(function(n){jre(e,n);function e(i,r,a,s){var o;typeof r=="number"&&(a.duration=r,r=a,a=null),o=n.call(this,s?r:T2(r))||this;var l=o.vars,u=l.duration,c=l.delay,f=l.immediateRender,h=l.stagger,d=l.overwrite,v=l.keyframes,m=l.defaults,y=l.scrollTrigger,x=l.yoyoEase,b=r.parent||Nr,M=(uo(i)||Wre(i)?pp(i[0]):"length"in r)?[i]:Hu(i),C,w,E,L,P,I,N,z;if(o._targets=M.length?GG(M):hT("GSAP target "+i+" not found. https://gsap.com",!Jl.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=d,v||h||NE(u)||NE(c)){if(r=o.vars,C=o.timeline=new Uo({data:"nested",defaults:m||{},targets:b&&b.data==="nested"?b.vars.targets:M}),C.kill(),C.parent=C._dp=Fd(o),C._start=0,h||NE(u)||NE(c)){if(L=M.length,N=h&&uae(h),Dh(h))for(P in h)~Mae.indexOf(P)&&(z||(z={}),z[P]=h[P]);for(w=0;w<L;w++)E=X3(r,Tae),E.stagger=0,x&&(E.yoyoEase=x),z&&nb(E,z),I=M[w],E.duration=+w2(u,Fd(o),w,I,M),E.delay=(+w2(c,Fd(o),w,I,M)||0)-o._delay,!h&&L===1&&E.delay&&(o._delay=c=E.delay,o._start+=c,E.delay=0),C.to(I,E,N?N(w,I,M):0),C._ease=yi.none;C.duration()?u=c=0:o.timeline=0}else if(v){T2(nu(C.vars.defaults,{ease:"none"})),C._ease=oy(v.ease||r.ease||"none");var V=0,U,j,W;if(uo(v))v.forEach(function(G){return C.to(M,G,">")}),C.duration();else{E={};for(P in v)P==="ease"||P==="easeEach"||VSe(P,v[P],E,v.easeEach);for(P in E)for(U=E[P].sort(function(G,X){return G.t-X.t}),V=0,w=0;w<U.length;w++)j=U[w],W={ease:j.e,duration:(j.t-(w?U[w-1].t:0))/100*u},W[P]=j.v,C.to(M,W,V),V+=W.duration;C.duration()<u&&C.to({},{duration:u-C.duration()})}}u||o.duration(u=C.duration())}else o.timeline=0;return d===!0&&!PG&&(Hv=Fd(o),Nr.killTweensOf(M),Hv=0),uh(b,Fd(o),a),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(f||!u&&!v&&o._start===Ca(b._time)&&dl(f)&&xSe(Fd(o))&&b.data!=="nested")&&(o._tTime=-ir,o.render(Math.max(0,-c)||0)),y&&aae(Fd(o),y),o}var t=e.prototype;return t.render=function(r,a,s){var o=this._time,l=this._tDur,u=this._dur,c=r<0,f=r>l-ir&&!c?l:r<ir?0:r,h,d,v,m,y,x,b,M,C;if(!u)bSe(this,r,a,s);else if(f!==this._tTime||!r||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c||this._lazy){if(h=f,M=this.timeline,this._repeat){if(m=u+this._rDelay,this._repeat<-1&&c)return this.totalTime(m*100+r,a,s);if(h=Ca(f%m),f===l?(v=this._repeat,h=u):(y=Ca(f/m),v=~~y,v&&v===y?(h=u,v--):h>u&&(h=u)),x=this._yoyo&&v&1,x&&(C=this._yEase,h=u-h),y=ib(this._tTime,m),h===o&&!s&&this._initted&&v===y)return this._tTime=f,this;v!==y&&(M&&this._yEase&&_ae(M,x),this.vars.repeatRefresh&&!x&&!this._lock&&h!==m&&this._initted&&(this._lock=s=1,this.render(Ca(m*v),!0).invalidate()._lock=0))}if(!this._initted){if(sae(this,c?r:h,s,a,f))return this._tTime=0,this;if(o!==this._time&&!(s&&this.vars.repeatRefresh&&v!==y))return this;if(u!==this._dur)return this.render(r,a,s)}if(this._tTime=f,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=b=(C||this._ease)(h/u),this._from&&(this.ratio=b=1-b),!o&&f&&!a&&!y&&(Hl(this,"onStart"),this._tTime!==f))return this;for(d=this._pt;d;)d.r(b,d.d),d=d._next;M&&M.render(r<0?r:M._dur*M._ease(h/this._dur),a,s)||this._startAt&&(this._zTime=r),this._onUpdate&&!a&&(c&&jk(this,r,a,s),Hl(this,"onUpdate")),this._repeat&&v!==y&&this.vars.onRepeat&&!a&&this.parent&&Hl(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(c&&!this._onUpdate&&jk(this,r,!0,!0),(r||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&mm(this,1),!a&&!(c&&!o)&&(f||o||x)&&(Hl(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,a,s,o,l){vT||Gl.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||HG(this,u),c=this._ease(u/this._dur),USe(this,r,a,s,o,c,u,l)?this.resetTo(r,a,s,o,1):(SI(this,0),this.parent||iae(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,a){if(a===void 0&&(a="all"),!r&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?t2(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Ls),this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(r,a,Hv&&Hv.vars.overwrite!==!0)._first||t2(this),this.parent&&s!==this.timeline.totalDuration()&&rb(this,this._dur*this.timeline._tDur/s,0,1),this}var o=this._targets,l=r?Hu(r):o,u=this._ptLookup,c=this._pt,f,h,d,v,m,y,x;if((!a||a==="all")&&gSe(o,l))return a==="all"&&(this._pt=0),t2(this);for(f=this._op=this._op||[],a!=="all"&&(gs(a)&&(m={},pl(a,function(b){return m[b]=1}),a=m),a=GSe(o,a)),x=o.length;x--;)if(~l.indexOf(o[x])){h=u[x],a==="all"?(f[x]=a,v=h,d={}):(d=f[x]=f[x]||{},v=a);for(m in v)y=h&&h[m],y&&((!("kill"in y.d)||y.d.kill(m)===!0)&&_I(this,y,"_pt"),delete h[m]),d!=="all"&&(d[m]=1)}return this._initted&&!this._pt&&c&&t2(this),this},e.to=function(r,a){return new e(r,a,arguments[2])},e.from=function(r,a){return C2(1,arguments)},e.delayedCall=function(r,a,s,o){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:a,onReverseComplete:a,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:o})},e.fromTo=function(r,a,s){return C2(2,arguments)},e.set=function(r,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(r,a)},e.killTweensOf=function(r,a,s){return Nr.killTweensOf(r,a,s)},e})(mT);nu(Ta.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});pl("staggerTo,staggerFrom,staggerFromTo",function(n){Ta[n]=function(){var e=new Uo,t=Wk.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var WG=function(e,t,i){return e[t]=i},Cae=function(e,t,i){return e[t](i)},jSe=function(e,t,i,r){return e[t](r.fp,i)},HSe=function(e,t,i){return e.setAttribute(t,i)},XG=function(e,t){return Zr(e[t])?Cae:BG(e[t])&&e.setAttribute?HSe:WG},wae=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},WSe=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Eae=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},YG=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},XSe=function(e,t,i,r){for(var a=this._pt,s;a;)s=a._next,a.p===r&&a.modifier(e,t,i),a=s},YSe=function(e){for(var t=this._pt,i,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?_I(this,t,"_pt"):t.dep||(i=1),t=r;return!i},qSe=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},Dae=function(e){for(var t=e._pt,i,r,a,s;t;){for(i=t._next,r=a;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:s)?t._prev._next=t:a=t,(t._next=r)?r._prev=t:s=t,t=i}e._pt=a},vl=(function(){function n(t,i,r,a,s,o,l,u,c){this.t=i,this.s=a,this.c=s,this.p=r,this.r=o||wae,this.d=l||this,this.set=u||WG,this.pr=c||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(i,r,a){this.mSet=this.mSet||this.set,this.set=qSe,this.m=i,this.mt=a,this.tween=r},n})();pl(UG+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return FG[n]=1});tu.TweenMax=tu.TweenLite=Ta;tu.TimelineLite=tu.TimelineMax=Uo;Nr=new Uo({sortChildren:!1,defaults:tb,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Jl.stringFilter=yae;var ly=[],r3={},ZSe=[],dW=0,KSe=0,aO=function(e){return(r3[e]||ZSe).map(function(t){return t()})},Zk=function(){var e=Date.now(),t=[];e-dW>2&&(aO("matchMediaInit"),ly.forEach(function(i){var r=i.queries,a=i.conditions,s,o,l,u;for(o in r)s=sh.matchMedia(r[o]).matches,s&&(l=1),s!==a[o]&&(a[o]=s,u=1);u&&(i.revert(),l&&t.push(i))}),aO("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),dW=e,aO("matchMedia"))},Rae=(function(){function n(t,i){this.selector=i&&Xk(i),this.data=[],this._r=[],this.isReverted=!1,this.id=KSe++,t&&this.add(t)}var e=n.prototype;return e.add=function(i,r,a){Zr(i)&&(a=r,r=i,i=Zr);var s=this,o=function(){var u=br,c=s.selector,f;return u&&u!==s&&u.data.push(s),a&&(s.selector=Xk(a)),br=s,f=r.apply(s,arguments),Zr(f)&&s._r.push(f),br=u,s.selector=c,s.isReverted=!1,f};return s.last=o,i===Zr?o(s,function(l){return s.add(null,l)}):i?s[i]=o:o},e.ignore=function(i){var r=br;br=null,i(this),br=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof n?i.push.apply(i,r.getTweens()):r instanceof Ta&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var a=this;if(i?(function(){for(var o=a.getTweens(),l=a.data.length,u;l--;)u=a.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}));for(o.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,f){return f.g-c.g||-1/0}).forEach(function(c){return c.t.revert(i)}),l=a.data.length;l--;)u=a.data[l],u instanceof Uo?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof Ta)&&u.revert&&u.revert(i);a._r.forEach(function(c){return c(i,a)}),a.isReverted=!0})():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),r)for(var s=ly.length;s--;)ly[s].id===this.id&&ly.splice(s,1)},e.revert=function(i){this.kill(i||{})},n})(),JSe=(function(){function n(t){this.contexts=[],this.scope=t,br&&br.data.push(this)}var e=n.prototype;return e.add=function(i,r,a){Dh(i)||(i={matches:i});var s=new Rae(0,a||this.scope),o=s.conditions={},l,u,c;br&&!s.selector&&(s.selector=br.selector),this.contexts.push(s),r=s.add("onMatch",r),s.queries=i;for(u in i)u==="all"?c=1:(l=sh.matchMedia(i[u]),l&&(ly.indexOf(s)<0&&ly.push(s),(o[u]=l.matches)&&(c=1),l.addListener?l.addListener(Zk):l.addEventListener("change",Zk)));return c&&r(s,function(f){return s.add(null,f)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},n})(),q3={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return vae(r)})},timeline:function(e){return new Uo(e)},getTweensOf:function(e,t){return Nr.getTweensOf(e,t)},getProperty:function(e,t,i,r){gs(e)&&(e=Hu(e)[0]);var a=ay(e||{}).get,s=i?nae:tae;return i==="native"&&(i=""),e&&(t?s((Fl[t]&&Fl[t].get||a)(e,t,i,r)):function(o,l,u){return s((Fl[o]&&Fl[o].get||a)(e,o,l,u))})},quickSetter:function(e,t,i){if(e=Hu(e),e.length>1){var r=e.map(function(c){return yl.quickSetter(c,t,i)}),a=r.length;return function(c){for(var f=a;f--;)r[f](c)}}e=e[0]||{};var s=Fl[t],o=ay(e),l=o.harness&&(o.harness.aliases||{})[t]||t,u=s?function(c){var f=new s;S1._pt=0,f.init(e,i?c+i:c,S1,0,[e]),f.render(1,f),S1._pt&&YG(1,S1)}:o.set(e,l);return s?u:function(c){return u(e,l,i?c+i:c,o,1)}},quickTo:function(e,t,i){var r,a=yl.to(e,nu((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),i||{})),s=function(l,u,c){return a.resetTo(t,l,u,c)};return s.tween=a,s},isTweening:function(e){return Nr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=oy(e.ease,tb.ease)),lW(tb,e||{})},config:function(e){return lW(Jl,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,r=e.plugins,a=e.defaults,s=e.extendTimeline;(r||"").split(",").forEach(function(o){return o&&!Fl[o]&&!tu[o]&&hT(t+" effect requires "+o+" plugin.")}),tO[t]=function(o,l,u){return i(Hu(o),nu(l||{},a),u)},s&&(Uo.prototype[t]=function(o,l,u){return this.add(tO[t](o,Dh(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,t){yi[e]=oy(t)},parseEase:function(e,t){return arguments.length?oy(e,t):yi},getById:function(e){return Nr.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new Uo(e),r,a;for(i.smoothChildTiming=dl(e.smoothChildTiming),Nr.remove(i),i._dp=0,i._time=i._tTime=Nr._time,r=Nr._first;r;)a=r._next,(t||!(!r._dur&&r instanceof Ta&&r.vars.onComplete===r._targets[0]))&&uh(i,r,r._start-r._delay),r=a;return uh(Nr,i,0),i},context:function(e,t){return e?new Rae(e,t):br},matchMedia:function(e){return new JSe(e)},matchMediaRefresh:function(){return ly.forEach(function(e){var t=e.conditions,i,r;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||Zk()},addEventListener:function(e,t){var i=r3[e]||(r3[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=r3[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:DSe,wrapYoyo:RSe,distribute:uae,random:fae,snap:cae,normalize:ESe,getUnit:oo,clamp:MSe,splitColor:mae,toArray:Hu,selector:Xk,mapRange:dae,pipe:CSe,unitize:wSe,interpolate:LSe,shuffle:lae},install:Kre,effects:tO,ticker:Gl,updateRoot:Uo.updateRoot,plugins:Fl,globalTimeline:Nr,core:{PropTween:vl,globals:Jre,Tween:Ta,Timeline:Uo,Animation:mT,getCache:ay,_removeLinkedListItem:_I,reverting:function(){return Ls},context:function(e){return e&&br&&(br.data.push(e),e._ctx=br),br},suppressOverwrites:function(e){return PG=e}}};pl("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return q3[n]=Ta[n]});Gl.add(Uo.updateRoot);S1=q3.to({},{duration:0});var QSe=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},$Se=function(e,t){var i=e._targets,r,a,s;for(r in t)for(a=i.length;a--;)s=e._ptLookup[a][r],s&&(s=s.d)&&(s._pt&&(s=QSe(s,r)),s&&s.modifier&&s.modifier(t[r],e,i[a],r))},sO=function(e,t){return{name:e,headless:1,rawVars:1,init:function(r,a,s){s._onInit=function(o){var l,u;if(gs(a)&&(l={},pl(a,function(c){return l[c]=1}),a=l),t){l={};for(u in a)l[u]=t(a[u]);a=l}$Se(o,a)}}}},yl=q3.registerPlugin({name:"attr",init:function(e,t,i,r,a){var s,o,l;this.tween=i;for(s in t)l=e.getAttribute(s)||"",o=this.add(e,"setAttribute",(l||0)+"",t[s],r,a,0,0,s),o.op=s,o.b=l,this._props.push(s)},render:function(e,t){for(var i=t._pt;i;)Ls?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",headless:1,init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},sO("roundProps",Yk),sO("modifiers"),sO("snap",cae))||q3;Ta.version=Uo.version=yl.version="3.13.0";Zre=1;OG()&&ab();yi.Power0;yi.Power1;yi.Power2;yi.Power3;yi.Power4;yi.Linear;yi.Quad;yi.Cubic;yi.Quart;yi.Quint;yi.Strong;yi.Elastic;yi.Back;yi.SteppedEase;yi.Bounce;yi.Sine;yi.Expo;yi.Circ;var pW,Wv,V1,qG,V0,vW,ZG,eAe=function(){return typeof window<"u"},vp={},T0=180/Math.PI,j1=Math.PI/180,v_=Math.atan2,mW=1e8,KG=/([A-Z])/g,tAe=/(left|right|width|margin|padding|x)/i,nAe=/[\s,\(]\S/,ph={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Kk=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},iAe=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},rAe=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},aAe=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},Lae=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Nae=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},sAe=function(e,t,i){return e.style[t]=i},oAe=function(e,t,i){return e.style.setProperty(t,i)},lAe=function(e,t,i){return e._gsap[t]=i},uAe=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},cAe=function(e,t,i,r,a){var s=e._gsap;s.scaleX=s.scaleY=i,s.renderTransform(a,s)},fAe=function(e,t,i,r,a){var s=e._gsap;s[t]=i,s.renderTransform(a,s)},Ir="transform",ml=Ir+"Origin",hAe=function n(e,t){var i=this,r=this.target,a=r.style,s=r._gsap;if(e in vp&&a){if(this.tfm=this.tfm||{},e!=="transform")e=ph[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return i.tfm[o]=Hd(r,o)}):this.tfm[e]=s.x?s[e]:Hd(r,e),e===ml&&(this.tfm.zOrigin=s.zOrigin);else return ph.transform.split(",").forEach(function(o){return n.call(i,o,t)});if(this.props.indexOf(Ir)>=0)return;s.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(ml,t,"")),e=Ir}(a||t)&&this.props.push(e,t,a[e])},Iae=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},dAe=function(){var e=this.props,t=this.target,i=t.style,r=t._gsap,a,s;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?t[e[a]](e[a+2]):t[e[a]]=e[a+2]:e[a+2]?i[e[a]]=e[a+2]:i.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(KG,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)r[s]=this.tfm[s];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),a=ZG(),(!a||!a.isStart)&&!i[Ir]&&(Iae(i),r.zOrigin&&i[ml]&&(i[ml]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},Pae=function(e,t){var i={target:e,props:[],revert:dAe,save:hAe};return e._gsap||yl.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return i.save(r)}),i},Bae,Jk=function(e,t){var i=Wv.createElementNS?Wv.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Wv.createElement(e);return i&&i.style?i:Wv.createElement(e)},Wu=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(KG,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,sb(t)||t,1)||""},gW="O,Moz,ms,Ms,Webkit".split(","),sb=function(e,t,i){var r=t||V0,a=r.style,s=5;if(e in a&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);s--&&!(gW[s]+e in a););return s<0?null:(s===3?"ms":s>=0?gW[s]:"")+e},Qk=function(){eAe()&&window.document&&(pW=window,Wv=pW.document,V1=Wv.documentElement,V0=Jk("div")||{style:{}},Jk("div"),Ir=sb(Ir),ml=Ir+"Origin",V0.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Bae=!!sb("perspective"),ZG=yl.core.reverting,qG=1)},yW=function(e){var t=e.ownerSVGElement,i=Jk("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),a;r.style.display="block",i.appendChild(r),V1.appendChild(i);try{a=r.getBBox()}catch{}return i.removeChild(r),V1.removeChild(i),a},xW=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},Oae=function(e){var t,i;try{t=e.getBBox()}catch{t=yW(e),i=1}return t&&(t.width||t.height)||i||(t=yW(e)),t&&!t.width&&!t.x&&!t.y?{x:+xW(e,["x","cx","x1"])||0,y:+xW(e,["y","cy","y1"])||0,width:0,height:0}:t},zae=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Oae(e))},Cy=function(e,t){if(t){var i=e.style,r;t in vp&&t!==ml&&(t=Ir),i.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(r==="--"?t:t.replace(KG,"-$1").toLowerCase())):i.removeAttribute(t)}},Xv=function(e,t,i,r,a,s){var o=new vl(e._pt,t,i,0,1,s?Nae:Lae);return e._pt=o,o.b=r,o.e=a,e._props.push(i),o},_W={deg:1,rad:1,turn:1},pAe={grid:1,flex:1},gm=function n(e,t,i,r){var a=parseFloat(i)||0,s=(i+"").trim().substr((a+"").length)||"px",o=V0.style,l=tAe.test(t),u=e.tagName.toLowerCase()==="svg",c=(u?"client":"offset")+(l?"Width":"Height"),f=100,h=r==="px",d=r==="%",v,m,y,x;if(r===s||!a||_W[r]||_W[s])return a;if(s!=="px"&&!h&&(a=n(e,t,i,"px")),x=e.getCTM&&zae(e),(d||s==="%")&&(vp[t]||~t.indexOf("adius")))return v=x?e.getBBox()[l?"width":"height"]:e[c],fa(d?a/v*f:a/100*v);if(o[l?"width":"height"]=f+(h?s:r),m=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!u?e:e.parentNode,x&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===Wv||!m.appendChild)&&(m=Wv.body),y=m._gsap,y&&d&&y.width&&l&&y.time===Gl.time&&!y.uncache)return fa(a/y.width*f);if(d&&(t==="height"||t==="width")){var b=e.style[t];e.style[t]=f+r,v=e[c],b?e.style[t]=b:Cy(e,t)}else(d||s==="%")&&!pAe[Wu(m,"display")]&&(o.position=Wu(e,"position")),m===e&&(o.position="static"),m.appendChild(V0),v=V0[c],m.removeChild(V0),o.position="absolute";return l&&d&&(y=ay(m),y.time=Gl.time,y.width=m[c]),fa(h?v*a/f:v&&a?f/v*a:0)},Hd=function(e,t,i,r){var a;return qG||Qk(),t in ph&&t!=="transform"&&(t=ph[t],~t.indexOf(",")&&(t=t.split(",")[0])),vp[t]&&t!=="transform"?(a=yT(e,r),a=t!=="transformOrigin"?a[t]:a.svg?a.origin:K3(Wu(e,ml))+" "+a.zOrigin+"px"):(a=e.style[t],(!a||a==="auto"||r||~(a+"").indexOf("calc("))&&(a=Z3[t]&&Z3[t](e,t,i)||Wu(e,t)||$re(e,t)||(t==="opacity"?1:0))),i&&!~(a+"").trim().indexOf(" ")?gm(e,t,a,i)+i:a},vAe=function(e,t,i,r){if(!i||i==="none"){var a=sb(t,e,1),s=a&&Wu(e,a,1);s&&s!==i?(t=a,i=s):t==="borderColor"&&(i=Wu(e,"borderTopColor"))}var o=new vl(this._pt,e.style,t,0,1,Eae),l=0,u=0,c,f,h,d,v,m,y,x,b,M,C,w;if(o.b=i,o.e=r,i+="",r+="",r.substring(0,6)==="var(--"&&(r=Wu(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(m=e.style[t],e.style[t]=r,r=Wu(e,t)||r,m?e.style[t]=m:Cy(e,t)),c=[i,r],yae(c),i=c[0],r=c[1],h=i.match(b1)||[],w=r.match(b1)||[],w.length){for(;f=b1.exec(r);)y=f[0],b=r.substring(l,f.index),v?v=(v+1)%5:(b.substr(-5)==="rgba("||b.substr(-5)==="hsla(")&&(v=1),y!==(m=h[u++]||"")&&(d=parseFloat(m)||0,C=m.substr((d+"").length),y.charAt(1)==="="&&(y=G1(d,y)+C),x=parseFloat(y),M=y.substr((x+"").length),l=b1.lastIndex-M.length,M||(M=M||Jl.units[t]||C,l===r.length&&(r+=M,o.e+=M)),C!==M&&(d=gm(e,t,m,M)||0),o._pt={_next:o._pt,p:b||u===1?b:",",s:d,c:x-d,m:v&&v<4||t==="zIndex"?Math.round:0});o.c=l<r.length?r.substring(l,r.length):""}else o.r=t==="display"&&r==="none"?Nae:Lae;return Yre.test(r)&&(o.e=0),this._pt=o,o},bW={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},mAe=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),t[0]=bW[i]||i,t[1]=bW[r]||r,t.join(" ")},gAe=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,r=i.style,a=t.u,s=i._gsap,o,l,u;if(a==="all"||a===!0)r.cssText="",l=1;else for(a=a.split(","),u=a.length;--u>-1;)o=a[u],vp[o]&&(l=1,o=o==="transformOrigin"?ml:Ir),Cy(i,o);l&&(Cy(i,Ir),s&&(s.svg&&i.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",yT(i,1),s.uncache=1,Iae(r)))}},Z3={clearProps:function(e,t,i,r,a){if(a.data!=="isFromStart"){var s=e._pt=new vl(e._pt,t,i,0,0,gAe);return s.u=r,s.pr=-10,s.tween=a,e._props.push(i),1}}},gT=[1,0,0,1,0,0],kae={},Fae=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},SW=function(e){var t=Wu(e,Ir);return Fae(t)?gT:t.substr(7).match(Xre).map(fa)},JG=function(e,t){var i=e._gsap||ay(e),r=e.style,a=SW(e),s,o,l,u;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,a=[l.a,l.b,l.c,l.d,l.e,l.f],a.join(",")==="1,0,0,1,0,0"?gT:a):(a===gT&&!e.offsetParent&&e!==V1&&!i.svg&&(l=r.display,r.display="block",s=e.parentNode,(!s||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,o=e.nextElementSibling,V1.appendChild(e)),a=SW(e),l?r.display=l:Cy(e,"display"),u&&(o?s.insertBefore(e,o):s?s.appendChild(e):V1.removeChild(e))),t&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},$k=function(e,t,i,r,a,s){var o=e._gsap,l=a||JG(e,!0),u=o.xOrigin||0,c=o.yOrigin||0,f=o.xOffset||0,h=o.yOffset||0,d=l[0],v=l[1],m=l[2],y=l[3],x=l[4],b=l[5],M=t.split(" "),C=parseFloat(M[0])||0,w=parseFloat(M[1])||0,E,L,P,I;i?l!==gT&&(L=d*y-v*m)&&(P=C*(y/L)+w*(-m/L)+(m*b-y*x)/L,I=C*(-v/L)+w*(d/L)-(d*b-v*x)/L,C=P,w=I):(E=Oae(e),C=E.x+(~M[0].indexOf("%")?C/100*E.width:C),w=E.y+(~(M[1]||M[0]).indexOf("%")?w/100*E.height:w)),r||r!==!1&&o.smooth?(x=C-u,b=w-c,o.xOffset=f+(x*d+b*m)-x,o.yOffset=h+(x*v+b*y)-b):o.xOffset=o.yOffset=0,o.xOrigin=C,o.yOrigin=w,o.smooth=!!r,o.origin=t,o.originIsAbsolute=!!i,e.style[ml]="0px 0px",s&&(Xv(s,o,"xOrigin",u,C),Xv(s,o,"yOrigin",c,w),Xv(s,o,"xOffset",f,o.xOffset),Xv(s,o,"yOffset",h,o.yOffset)),e.setAttribute("data-svg-origin",C+" "+w)},yT=function(e,t){var i=e._gsap||new Sae(e);if("x"in i&&!t&&!i.uncache)return i;var r=e.style,a=i.scaleX<0,s="px",o="deg",l=getComputedStyle(e),u=Wu(e,ml)||"0",c,f,h,d,v,m,y,x,b,M,C,w,E,L,P,I,N,z,V,U,j,W,G,X,q,$,te,J,Q,se,ce,ue;return c=f=h=m=y=x=b=M=C=0,d=v=1,i.svg=!!(e.getCTM&&zae(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[Ir]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Ir]!=="none"?l[Ir]:"")),r.scale=r.rotate=r.translate="none"),L=JG(e,i.svg),i.svg&&(i.uncache?(q=e.getBBox(),u=i.xOrigin-q.x+"px "+(i.yOrigin-q.y)+"px",X=""):X=!t&&e.getAttribute("data-svg-origin"),$k(e,X||u,!!X||i.originIsAbsolute,i.smooth!==!1,L)),w=i.xOrigin||0,E=i.yOrigin||0,L!==gT&&(z=L[0],V=L[1],U=L[2],j=L[3],c=W=L[4],f=G=L[5],L.length===6?(d=Math.sqrt(z*z+V*V),v=Math.sqrt(j*j+U*U),m=z||V?v_(V,z)*T0:0,b=U||j?v_(U,j)*T0+m:0,b&&(v*=Math.abs(Math.cos(b*j1))),i.svg&&(c-=w-(w*z+E*U),f-=E-(w*V+E*j))):(ue=L[6],se=L[7],te=L[8],J=L[9],Q=L[10],ce=L[11],c=L[12],f=L[13],h=L[14],P=v_(ue,Q),y=P*T0,P&&(I=Math.cos(-P),N=Math.sin(-P),X=W*I+te*N,q=G*I+J*N,$=ue*I+Q*N,te=W*-N+te*I,J=G*-N+J*I,Q=ue*-N+Q*I,ce=se*-N+ce*I,W=X,G=q,ue=$),P=v_(-U,Q),x=P*T0,P&&(I=Math.cos(-P),N=Math.sin(-P),X=z*I-te*N,q=V*I-J*N,$=U*I-Q*N,ce=j*N+ce*I,z=X,V=q,U=$),P=v_(V,z),m=P*T0,P&&(I=Math.cos(P),N=Math.sin(P),X=z*I+V*N,q=W*I+G*N,V=V*I-z*N,G=G*I-W*N,z=X,W=q),y&&Math.abs(y)+Math.abs(m)>359.9&&(y=m=0,x=180-x),d=fa(Math.sqrt(z*z+V*V+U*U)),v=fa(Math.sqrt(G*G+ue*ue)),P=v_(W,G),b=Math.abs(P)>2e-4?P*T0:0,C=ce?1/(ce<0?-ce:ce):0),i.svg&&(X=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!Fae(Wu(e,Ir)),X&&e.setAttribute("transform",X))),Math.abs(b)>90&&Math.abs(b)<270&&(a?(d*=-1,b+=m<=0?180:-180,m+=m<=0?180:-180):(v*=-1,b+=b<=0?180:-180)),t=t||i.uncache,i.x=c-((i.xPercent=c&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+s,i.y=f-((i.yPercent=f&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+s,i.z=h+s,i.scaleX=fa(d),i.scaleY=fa(v),i.rotation=fa(m)+o,i.rotationX=fa(y)+o,i.rotationY=fa(x)+o,i.skewX=b+o,i.skewY=M+o,i.transformPerspective=C+s,(i.zOrigin=parseFloat(u.split(" ")[2])||!t&&i.zOrigin||0)&&(r[ml]=K3(u)),i.xOffset=i.yOffset=0,i.force3D=Jl.force3D,i.renderTransform=i.svg?xAe:Bae?Uae:yAe,i.uncache=0,i},K3=function(e){return(e=e.split(" "))[0]+" "+e[1]},oO=function(e,t,i){var r=oo(t);return fa(parseFloat(t)+parseFloat(gm(e,"x",i+"px",r)))+r},yAe=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Uae(e,t)},Bg="0deg",tM="0px",Og=") ",Uae=function(e,t){var i=t||this,r=i.xPercent,a=i.yPercent,s=i.x,o=i.y,l=i.z,u=i.rotation,c=i.rotationY,f=i.rotationX,h=i.skewX,d=i.skewY,v=i.scaleX,m=i.scaleY,y=i.transformPerspective,x=i.force3D,b=i.target,M=i.zOrigin,C="",w=x==="auto"&&e&&e!==1||x===!0;if(M&&(f!==Bg||c!==Bg)){var E=parseFloat(c)*j1,L=Math.sin(E),P=Math.cos(E),I;E=parseFloat(f)*j1,I=Math.cos(E),s=oO(b,s,L*I*-M),o=oO(b,o,-Math.sin(E)*-M),l=oO(b,l,P*I*-M+M)}y!==tM&&(C+="perspective("+y+Og),(r||a)&&(C+="translate("+r+"%, "+a+"%) "),(w||s!==tM||o!==tM||l!==tM)&&(C+=l!==tM||w?"translate3d("+s+", "+o+", "+l+") ":"translate("+s+", "+o+Og),u!==Bg&&(C+="rotate("+u+Og),c!==Bg&&(C+="rotateY("+c+Og),f!==Bg&&(C+="rotateX("+f+Og),(h!==Bg||d!==Bg)&&(C+="skew("+h+", "+d+Og),(v!==1||m!==1)&&(C+="scale("+v+", "+m+Og),b.style[Ir]=C||"translate(0, 0)"},xAe=function(e,t){var i=t||this,r=i.xPercent,a=i.yPercent,s=i.x,o=i.y,l=i.rotation,u=i.skewX,c=i.skewY,f=i.scaleX,h=i.scaleY,d=i.target,v=i.xOrigin,m=i.yOrigin,y=i.xOffset,x=i.yOffset,b=i.forceCSS,M=parseFloat(s),C=parseFloat(o),w,E,L,P,I;l=parseFloat(l),u=parseFloat(u),c=parseFloat(c),c&&(c=parseFloat(c),u+=c,l+=c),l||u?(l*=j1,u*=j1,w=Math.cos(l)*f,E=Math.sin(l)*f,L=Math.sin(l-u)*-h,P=Math.cos(l-u)*h,u&&(c*=j1,I=Math.tan(u-c),I=Math.sqrt(1+I*I),L*=I,P*=I,c&&(I=Math.tan(c),I=Math.sqrt(1+I*I),w*=I,E*=I)),w=fa(w),E=fa(E),L=fa(L),P=fa(P)):(w=f,P=h,E=L=0),(M&&!~(s+"").indexOf("px")||C&&!~(o+"").indexOf("px"))&&(M=gm(d,"x",s,"px"),C=gm(d,"y",o,"px")),(v||m||y||x)&&(M=fa(M+v-(v*w+m*L)+y),C=fa(C+m-(v*E+m*P)+x)),(r||a)&&(I=d.getBBox(),M=fa(M+r/100*I.width),C=fa(C+a/100*I.height)),I="matrix("+w+","+E+","+L+","+P+","+M+","+C+")",d.setAttribute("transform",I),b&&(d.style[Ir]=I)},_Ae=function(e,t,i,r,a){var s=360,o=gs(a),l=parseFloat(a)*(o&&~a.indexOf("rad")?T0:1),u=l-r,c=r+u+"deg",f,h;return o&&(f=a.split("_")[1],f==="short"&&(u%=s,u!==u%(s/2)&&(u+=u<0?s:-s)),f==="cw"&&u<0?u=(u+s*mW)%s-~~(u/s)*s:f==="ccw"&&u>0&&(u=(u-s*mW)%s-~~(u/s)*s)),e._pt=h=new vl(e._pt,t,i,r,u,iAe),h.e=c,h.u="deg",e._props.push(i),h},AW=function(e,t){for(var i in t)e[i]=t[i];return e},bAe=function(e,t,i){var r=AW({},i._gsap),a="perspective,force3D,transformOrigin,svgOrigin",s=i.style,o,l,u,c,f,h,d,v;r.svg?(u=i.getAttribute("transform"),i.setAttribute("transform",""),s[Ir]=t,o=yT(i,1),Cy(i,Ir),i.setAttribute("transform",u)):(u=getComputedStyle(i)[Ir],s[Ir]=t,o=yT(i,1),s[Ir]=u);for(l in vp)u=r[l],c=o[l],u!==c&&a.indexOf(l)<0&&(d=oo(u),v=oo(c),f=d!==v?gm(i,l,u,v):parseFloat(u),h=parseFloat(c),e._pt=new vl(e._pt,o,l,f,h-f,Kk),e._pt.u=v||0,e._props.push(l));AW(o,r)};pl("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",a="Left",s=(e<3?[t,i,r,a]:[t+a,t+i,r+i,r+a]).map(function(o){return e<2?n+o:"border"+o+n});Z3[e>1?"border"+n:n]=function(o,l,u,c,f){var h,d;if(arguments.length<4)return h=s.map(function(v){return Hd(o,v,u)}),d=h.join(" "),d.split(h[0]).length===5?h[0]:d;h=(c+"").split(" "),d={},s.forEach(function(v,m){return d[v]=h[m]=h[m]||h[(m-1)/2|0]}),o.init(l,d,f)}});var Gae={name:"css",register:Qk,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,a){var s=this._props,o=e.style,l=i.vars.startAt,u,c,f,h,d,v,m,y,x,b,M,C,w,E,L,P;qG||Qk(),this.styles=this.styles||Pae(e),P=this.styles.props,this.tween=i;for(m in t)if(m!=="autoRound"&&(c=t[m],!(Fl[m]&&Aae(m,t,i,r,e,a)))){if(d=typeof c,v=Z3[m],d==="function"&&(c=c.call(i,r,e,a),d=typeof c),d==="string"&&~c.indexOf("random(")&&(c=pT(c)),v)v(this,e,m,c,i)&&(L=1);else if(m.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(m)+"").trim(),c+="",im.lastIndex=0,im.test(u)||(y=oo(u),x=oo(c)),x?y!==x&&(u=gm(e,m,u,x)+x):y&&(c+=y),this.add(o,"setProperty",u,c,r,a,0,0,m),s.push(m),P.push(m,0,o[m]);else if(d!=="undefined"){if(l&&m in l?(u=typeof l[m]=="function"?l[m].call(i,r,e,a):l[m],gs(u)&&~u.indexOf("random(")&&(u=pT(u)),oo(u+"")||u==="auto"||(u+=Jl.units[m]||oo(Hd(e,m))||""),(u+"").charAt(1)==="="&&(u=Hd(e,m))):u=Hd(e,m),h=parseFloat(u),b=d==="string"&&c.charAt(1)==="="&&c.substr(0,2),b&&(c=c.substr(2)),f=parseFloat(c),m in ph&&(m==="autoAlpha"&&(h===1&&Hd(e,"visibility")==="hidden"&&f&&(h=0),P.push("visibility",0,o.visibility),Xv(this,o,"visibility",h?"inherit":"hidden",f?"inherit":"hidden",!f)),m!=="scale"&&m!=="transform"&&(m=ph[m],~m.indexOf(",")&&(m=m.split(",")[0]))),M=m in vp,M){if(this.styles.save(m),d==="string"&&c.substring(0,6)==="var(--"&&(c=Wu(e,c.substring(4,c.indexOf(")"))),f=parseFloat(c)),C||(w=e._gsap,w.renderTransform&&!t.parseTransform||yT(e,t.parseTransform),E=t.smoothOrigin!==!1&&w.smooth,C=this._pt=new vl(this._pt,o,Ir,0,1,w.renderTransform,w,0,-1),C.dep=1),m==="scale")this._pt=new vl(this._pt,w,"scaleY",w.scaleY,(b?G1(w.scaleY,b+f):f)-w.scaleY||0,Kk),this._pt.u=0,s.push("scaleY",m),m+="X";else if(m==="transformOrigin"){P.push(ml,0,o[ml]),c=mAe(c),w.svg?$k(e,c,0,E,0,this):(x=parseFloat(c.split(" ")[2])||0,x!==w.zOrigin&&Xv(this,w,"zOrigin",w.zOrigin,x),Xv(this,o,m,K3(u),K3(c)));continue}else if(m==="svgOrigin"){$k(e,c,1,E,0,this);continue}else if(m in kae){_Ae(this,w,m,h,b?G1(h,b+c):c);continue}else if(m==="smoothOrigin"){Xv(this,w,"smooth",w.smooth,c);continue}else if(m==="force3D"){w[m]=c;continue}else if(m==="transform"){bAe(this,c,e);continue}}else m in o||(m=sb(m)||m);if(M||(f||f===0)&&(h||h===0)&&!nAe.test(c)&&m in o)y=(u+"").substr((h+"").length),f||(f=0),x=oo(c)||(m in Jl.units?Jl.units[m]:y),y!==x&&(h=gm(e,m,u,x)),this._pt=new vl(this._pt,M?w:o,m,h,(b?G1(h,b+f):f)-h,!M&&(x==="px"||m==="zIndex")&&t.autoRound!==!1?aAe:Kk),this._pt.u=x||0,y!==x&&x!=="%"&&(this._pt.b=u,this._pt.r=rAe);else if(m in o)vAe.call(this,e,m,u,b?b+c:c);else if(m in e)this.add(e,m,u||e[m],b?b+c:c,r,a);else if(m!=="parseTransform"){kG(m,c);continue}M||(m in o?P.push(m,0,o[m]):typeof e[m]=="function"?P.push(m,2,e[m]()):P.push(m,1,u||e[m])),s.push(m)}}L&&Dae(this)},render:function(e,t){if(t.tween._time||!ZG())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:Hd,aliases:ph,getSetter:function(e,t,i){var r=ph[t];return r&&r.indexOf(",")<0&&(t=r),t in vp&&t!==ml&&(e._gsap.x||Hd(e,"x"))?i&&vW===i?t==="scale"?uAe:lAe:(vW=i||{})&&(t==="scale"?cAe:fAe):e.style&&!BG(e.style[t])?sAe:~t.indexOf("-")?oAe:XG(e,t)},core:{_removeProperty:Cy,_getMatrix:JG}};yl.utils.checkPrefix=sb;yl.core.getStyleSaver=Pae;(function(n,e,t,i){var r=pl(n+","+e+","+t,function(a){vp[a]=1});pl(e,function(a){Jl.units[a]="deg",kae[a]=1}),ph[r[13]]=n+","+e,pl(i,function(a){var s=a.split(":");ph[s[1]]=r[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");pl("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Jl.units[n]="px"});yl.registerPlugin(Gae);var Wr=yl.registerPlugin(Gae)||yl;Wr.core.Tween;const SAe=({text:n,as:e="div",typingSpeed:t=50,initialDelay:i=0,pauseDuration:r=2e3,deletingSpeed:a=30,loop:s=!0,className:o="",showCursor:l=!0,hideCursorWhileTyping:u=!1,cursorCharacter:c="|",cursorClassName:f="",cursorBlinkDuration:h=.5,textColors:d=[],variableSpeed:v,onSentenceComplete:m,startOnVisible:y=!1,reverseMode:x=!1,...b})=>{const[M,C]=Y.useState(""),[w,E]=Y.useState(0),[L,P]=Y.useState(!1),[I,N]=Y.useState(0),[z,V]=Y.useState(!y),U=Y.useRef(null),j=Y.useRef(null),W=Y.useMemo(()=>Array.isArray(n)?n:[n],[n]),G=Y.useCallback(()=>{if(!v)return t;const{min:$,max:te}=v;return Math.random()*(te-$)+$},[v,t]),X=()=>d.length===0?"#ffffff":d[I%d.length];Y.useEffect(()=>{if(!y||!j.current)return;const $=new IntersectionObserver(te=>{te.forEach(J=>{J.isIntersecting&&V(!0)})},{threshold:.1});return $.observe(j.current),()=>$.disconnect()},[y]),Y.useEffect(()=>{l&&U.current&&(Wr.set(U.current,{opacity:1}),Wr.to(U.current,{opacity:0,duration:h,repeat:-1,yoyo:!0,ease:"power2.inOut"}))},[l,h]),Y.useEffect(()=>{if(!z)return;let $;const te=W[I],J=x?te.split("").reverse().join(""):te,Q=()=>{if(L)if(M===""){if(P(!1),I===W.length-1&&!s)return;m&&m(W[I],I),N(se=>(se+1)%W.length),E(0),$=setTimeout(()=>{},r)}else $=setTimeout(()=>{C(se=>se.slice(0,-1))},a);else w<J.length?$=setTimeout(()=>{C(se=>se+J[w]),E(se=>se+1)},v?G():t):W.length>1&&($=setTimeout(()=>{P(!0)},r))};return w===0&&!L&&M===""?$=setTimeout(Q,i):Q(),()=>clearTimeout($)},[w,M,L,t,a,r,W,I,s,i,z,x,v,m]);const q=u&&(w<W[I].length||L);return Y.createElement(e,{ref:j,className:`text-type ${o}`,...b},T.jsx("span",{className:"text-type__content",style:{color:X()},children:M}),l&&T.jsx("span",{ref:U,className:`text-type__cursor ${f} ${q?"text-type__cursor--hidden":""}`,children:c}))},AAe=()=>{const n=Y.useRef(null),[e,t]=Y.useState(!1);return Y.useEffect(()=>{const i=new IntersectionObserver(([r])=>{r.isIntersecting&&t(!0)},{threshold:.3});return n.current&&i.observe(n.current),()=>i.disconnect()},[]),T.jsx("section",{ref:n,className:"descubre","data-nav-theme":"light",id:"learn-more","aria-label":"Seccin Descubre",children:T.jsx("div",{className:"descubre-container",children:T.jsxs("div",{className:"descubre-content",children:[T.jsxs("div",{className:`descubre-header ${e?"animate":""}`,children:[T.jsx("div",{className:"breadcrumb breadcrumb--blue",children:"Descubre"}),T.jsxs("h2",{className:"descubre-title",children:["Descubre tus"," ",T.jsx(SAe,{text:["Enfermedades","Ancestros","Biomtricas","Rasgos Genticos","Biomarcadores"],typingSpeed:75,pauseDuration:1500,showCursor:!0,cursorCharacter:"|",className:"text-type-spacing"})]}),T.jsx("p",{className:"descubre-subtitle",children:"Transformamos tu ADN en reportes claros que revelan tu salud, rasgos, biometra y ancestra"})]}),T.jsxs("div",{className:`features-grid ${e?"animate":""}`,children:[T.jsxs("article",{className:"feature-card",children:[T.jsxs("div",{className:"card-content",children:[T.jsx("h3",{className:"card-title",children:"Farmacogentica"}),T.jsx("p",{className:"card-description",children:"Optimiza tratamientos segn tu gentica para mayor eficacia y menor riesgo de efectos adversos."})]}),T.jsx("div",{className:"card-image",children:T.jsx("img",{src:"/Descubree/Farmacogen.png",alt:"Farmacogentica"})})]}),T.jsxs("article",{className:"feature-card",children:[T.jsxs("div",{className:"card-content",children:[T.jsx("h3",{className:"card-title",children:"Enfermedades"}),T.jsx("p",{className:"card-description",children:"Reportes claros de predisposicin gentica para apoyar la prevencin y el cuidado personal."})]}),T.jsx("div",{className:"card-image",children:T.jsx("img",{src:"/Descubree/Enfermedades.png",alt:"Farmacogentica"})})]}),T.jsxs("article",{className:"feature-card card-origenes",children:[T.jsxs("header",{className:"origenes-head",children:[T.jsx("h3",{className:"card-title",children:"Explora tus Orgenes"}),T.jsx("p",{className:"card-description",children:"Traza tus orgenes y la diversidad gentica que compone tu historia familiar."})]}),T.jsx("div",{className:"origenes-art",children:T.jsx("img",{src:"/Descubree/Ancestry.png",alt:"Distribucin de ancestra",loading:"lazy"})})]}),T.jsxs("article",{className:"feature-card",children:[T.jsxs("div",{className:"card-content",children:[T.jsx("h3",{className:"card-title",children:"Biomtricas"}),T.jsx("p",{className:"card-description",children:"Indicadores corporales influenciados por tus genes: metabolismo, peso, altura y ms."})]}),T.jsx("div",{className:"card-image",children:T.jsx("img",{src:"/Descubree/Biometric.png",alt:"Farmacogentica"})})]}),T.jsxs("article",{className:"feature-card",children:[T.jsxs("div",{className:"card-content",children:[T.jsx("h3",{className:"card-title",children:"Rasgos"}),T.jsx("p",{className:"card-description",children:"Caractersticas determinadas por tu ADN: sueo, sabores, energa y otros rasgos."})]}),T.jsx("div",{className:"card-image",children:T.jsx("img",{src:"/Descubree/Rasgos.png",alt:"Farmacogentica"})})]})]})]})})})};function MAe(){const n=Y.useRef(null),[e,t]=Y.useState(!1);Y.useEffect(()=>{const a=new IntersectionObserver(([s])=>{s.isIntersecting&&t(!0)},{threshold:.3});return n.current&&a.observe(n.current),()=>a.disconnect()},[]);const i=[{number:"1",title:"Realiza tu registro en el sistema",description:"Aqu obtendrs tus credenciales para acceder a tus resultados",icon:"register",delay:"0.2s"},{number:"2",title:"Ve al laboratorio a muestrearte",description:"Se te tomar una pequea muestra de saliva para recolectar tu ADN",icon:"lab",delay:"0.4s"},{number:"3",title:"Espera el correo de afirmacin",description:"Llegar un mensaje de confirmacin a tu correo cuando tu test est listo.",icon:"email",delay:"0.6s"},{number:"4",title:"Revisa en la web tus resultados",description:"Inicia sesin y revisa todo lo que tu gentica tiene que decirte.",icon:"results",delay:"0.8s"}],r=a=>{const s={width:"60",height:"60",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true"};switch(a){case"register":return T.jsx("svg",{...s,viewBox:"0 0 24 24",children:T.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});case"lab":return T.jsx("svg",{...s,viewBox:"0 0 24 24",children:T.jsx("path",{d:"M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})});case"email":return T.jsx("svg",{...s,viewBox:"0 0 24 24",children:T.jsx("path",{d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})});case"results":return T.jsx("svg",{...s,viewBox:"0 0 24 24",children:T.jsx("path",{d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})});default:return null}};return T.jsx("section",{id:"conoce",className:"conoce-section","data-nav-theme":"brand",ref:n,children:T.jsx("div",{className:"conoce-container",children:T.jsxs("div",{className:"conoce-content",children:[T.jsxs("div",{className:`conoce-header ${e?"animate":""}`,children:[T.jsx("div",{className:"breadcrumb breadcrumb--white",children:"Conoce"}),T.jsx("h2",{className:"conoce-title",children:"Cmo funciona el mapeo?"}),T.jsx("p",{className:"conoce-subtitle",children:"Si quieres realizar un muestreo de tu ADN para conocer tu ancestra y la genmica de las enfermedades, rasgos y todo lo que te hace nico, sigue lo siguiente:"})]}),T.jsx("div",{className:"conoce-steps-grid",children:i.map((a,s)=>T.jsxs("div",{className:`conoce-step ${e?"animate":""}`,style:{"--delay":a.delay},children:[T.jsx("div",{className:"conoce-step-icon",children:r(a.icon)}),T.jsxs("div",{className:"conoce-step-badge",children:["Paso ",a.number]}),T.jsx("h3",{className:"conoce-step-title",children:a.title}),T.jsx("div",{className:"conoce-step-underline"}),T.jsx("p",{className:"conoce-step-description",children:a.description})]},s))})]})})})}const Ua="https://pds-7idd.onrender.com/api/auth",ai={BASE_URL:Ua.replace("/api/auth",""),LOGIN:`${Ua}/login/`,REGISTER:`${Ua}/register/`,PASSWORD_RESET:`${Ua}/password-reset/`,PASSWORD_RESET_CONFIRM:`${Ua}/password-reset-confirm/`,ME:`${Ua}/me/`,DELETE_ACCOUNT:`${Ua}/me/delete-account/`,LOGOUT:`${Ua}/logout/`,DASHBOARD:`${Ua}/dashboard/`,CONTACT:`${Ua}/contact/`,GET_USERS:`${Ua}/users/`,UPLOAD_GENETIC_FILE:`${Ua}/upload-genetic-file/`,DELETE_GENETIC_FILE:`${Ua}/delete-genetic-file/`,UPDATE_SERVICE_STATUS:`${Ua}/service/status/`,DISEASES:`${Ua}/diseases/`,PATIENT_VARIANTS:n=>`${Ua}/patient-variants/${n}/`,VARIANTS:`${Ua}/variantes/`,ANCESTRY:`${Ua}/ancestry/`,INDIGENOUS:`${Ua}/indigenous/`},QG=()=>localStorage.getItem("token"),TAe=n=>localStorage.setItem("token",n),ff=()=>localStorage.removeItem("token"),hi=async(n,e={})=>{const t=QG(),i={"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},a={...{headers:i,mode:"cors"},...e,headers:{...i,...e.headers||{}}};try{const s=await fetch(n,a),u=(s.headers.get("Content-Type")||"").includes("application/json")?await s.json():{};return{ok:s.ok,status:s.status,data:u}}catch(s){return console.error("API request error:",s),{ok:!1,status:0,data:{error:"Error de conexin con el servidor"}}}},MW=({message:n="Error - Credenciales Incorrectas.",className:e="",small:t=!0})=>T.jsxs("div",{role:"alert",style:{backgroundColor:"#fee2e2",borderLeft:"4px solid #f87171",color:"#991b1b",borderRadius:"8px",display:"flex",alignItems:"center",transition:"all 0.2s ease-in-out",padding:t?"8px":"12px",fontSize:t?"12px":"14px"},className:e,children:[T.jsx("svg",{stroke:"currentColor",viewBox:"0 0 24 24",fill:"none",style:{height:"20px",width:"20px",flexShrink:0,marginRight:"8px",color:"#f87171"},xmlns:"http://www.w3.org/2000/svg",children:T.jsx("path",{d:"M13 16h-1v-4h1m0-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:2,strokeLinejoin:"round",strokeLinecap:"round"})}),T.jsx("p",{style:{fontWeight:600,margin:0},children:n})]}),CAe=({isOpen:n,onClose:e})=>{const[t,i]=Y.useState(""),[r,a]=Y.useState(!1),[s,o]=Y.useState(""),[l,u]=Y.useState(""),[c,f]=Y.useState("form"),h=async v=>{v.preventDefault(),a(!0),u(""),o("");try{const m=await hi(ai.PASSWORD_RESET,{method:"POST",body:JSON.stringify({email:t})});m.ok?(f("success"),o(m.data.message)):u(m.data.error||"Error al enviar el correo de recuperacin")}catch(m){console.error("Error de conexin:",m),u("Error de conexin con el servidor. Verifica que el backend est ejecutndose.")}finally{a(!1)}},d=()=>{i(""),o(""),u(""),f("form"),e()};return n?T.jsxs("div",{className:"forgot-password-overlay",children:[T.jsxs("div",{className:"forgot-password-modal",children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h2",{className:"modal-title",children:c==="form"?"Olvidaste tu contrasea?":"Correo enviado"}),T.jsx("button",{className:"modal-close-btn",onClick:d,"aria-label":"Cerrar modal",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",children:T.jsx("path",{d:"M6 6l12 12M18 6l-12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),T.jsx("div",{className:"modal-content",children:c==="form"?T.jsxs(T.Fragment,{children:[T.jsx("p",{className:"modal-description",children:"Ingresa tu correo electrnico y te enviaremos un enlace para restablecer tu contrasea."}),T.jsxs("form",{onSubmit:h,className:"forgot-password-form",children:[T.jsxs("div",{className:"uv-field",children:[T.jsx("span",{className:"uv-icon","aria-hidden":"true",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:T.jsx("path",{d:"M20 8l-8 5-8-5V6l8 5 8-5v2zm0 3v7H4v-7l8 5 8-5z",fill:"currentColor"})})}),T.jsx("input",{className:"uv-input",type:"email",value:t,onChange:v=>i(v.target.value),placeholder:" ",required:!0,disabled:r}),T.jsx("label",{className:"uv-label",children:"Correo electrnico"}),T.jsx("span",{className:"uv-focus-bg"})]}),l&&T.jsx("div",{className:"modal-error",children:l}),T.jsx("button",{type:"submit",className:"modal-submit-btn",disabled:r||!t.trim(),children:r?"Enviando...":"Enviar enlace de recuperacin"})]})]}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"success-icon",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"48",height:"48",children:T.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})}),T.jsx("p",{className:"success-message",children:s}),T.jsxs("div",{className:"success-note",children:[T.jsx("strong",{children:"Nota:"})," Revisa tu bandeja de entrada y carpeta de spam. El enlace expirar en 24 horas por seguridad."]}),T.jsx("button",{className:"modal-submit-btn",onClick:d,children:"Entendido"})]})})]}),T.jsx("style",{jsx:!0,children:`
        .forgot-password-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.6);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .forgot-password-modal {
          background: white;
          border-radius: 16px;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
          max-width: 480px;
          width: 100%;
          max-height: 90vh;
          overflow: auto;
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 24px 24px 0;
          margin-bottom: 16px;
        }

        .modal-title {
          font-size: 24px;
          font-weight: 600;
          color: #1f2937;
          margin: 0;
        }

        .modal-close-btn {
          background: none;
          border: none;
          padding: 8px;
          border-radius: 8px;
          cursor: pointer;
          color: #6b7280;
          transition: all 0.2s ease;
        }

        .modal-close-btn:hover {
          background: #f3f4f6;
          color: #374151;
        }

        .modal-content {
          padding: 0 24px 24px;
        }

        .modal-description {
          color: #6b7280;
          font-size: 16px;
          line-height: 1.5;
          margin: 0 0 24px 0;
        }

        .forgot-password-form {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .modal-error {
          color: #dc2626;
          background: #fef2f2;
          border: 1px solid #fecaca;
          border-radius: 8px;
          padding: 12px 16px;
          font-size: 14px;
          text-align: center;
        }

        .modal-submit-btn {
          background: linear-gradient(135deg, #4A90E2 0%, #277EAF 100%);
          color: white;
          border: none;
          border-radius: 12px;
          padding: 16px 24px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
          box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);
        }

        .modal-submit-btn:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 6px 16px rgba(74, 144, 226, 0.4);
        }

        .modal-submit-btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }

        .success-icon {
          text-align: center;
          margin-bottom: 20px;
          color: #059669;
        }

        .success-message {
          color: #1f2937;
          font-size: 16px;
          line-height: 1.5;
          text-align: center;
          margin: 0 0 20px 0;
        }

        .success-note {
          background: #fef3c7;
          border: 1px solid #fbbf24;
          border-radius: 8px;
          padding: 16px;
          font-size: 14px;
          color: #92400e;
          margin-bottom: 24px;
        }

        /* Reutilizar estilos de campos del login */
        .uv-field {
          position: relative;
          margin-bottom: 0;
        }

        .uv-input {
          width: 100%;
          padding: 16px 50px 16px 48px;
          border: 2px solid #e5e7eb;
          border-radius: 12px;
          font-size: 16px;
          background: #fafafa;
          color: #374151;
          transition: all 0.3s ease;
          font-family: inherit;
        }

        .uv-input:focus {
          outline: none;
          border-color: #4A90E2;
          background: white;
          box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1);
        }

        .uv-input:not(:placeholder-shown) {
          background: white;
        }

        .uv-label {
          position: absolute;
          left: 48px;
          top: 50%;
          transform: translateY(-50%);
          font-size: 16px;
          color: #9ca3af;
          pointer-events: none;
          transition: all 0.3s ease;
          background: linear-gradient(to bottom, transparent 0%, transparent 45%, #fafafa 45%, #fafafa 55%, transparent 55%);
          padding: 0 8px;
        }

        .uv-input:focus + .uv-label,
        .uv-input:not(:placeholder-shown) + .uv-label {
          top: 0;
          font-size: 14px;
          color: #4A90E2;
          font-weight: 500;
          background: linear-gradient(to bottom, transparent 0%, transparent 45%, white 45%, white 55%, transparent 55%);
        }

        .uv-icon {
          position: absolute;
          left: 16px;
          top: 50%;
          transform: translateY(-50%);
          color: #9ca3af;
          z-index: 1;
        }

        .uv-input:focus ~ .uv-icon {
          color: #4A90E2;
        }

        .uv-focus-bg {
          position: absolute;
          top: 2px;
          left: 2px;
          right: 2px;
          bottom: 2px;
          background: transparent;
          border-radius: 10px;
          pointer-events: none;
          transition: all 0.3s ease;
        }

        @media (max-width: 480px) {
          .forgot-password-modal {
            margin: 0 10px;
          }

          .modal-header {
            padding: 20px 20px 0;
          }

          .modal-content {
            padding: 0 20px 20px;
          }

          .modal-title {
            font-size: 20px;
          }
        }
      `})]}):null},wAe=({isOpen:n,onClose:e,token:t})=>{const[i,r]=Y.useState({password:"",confirmPassword:""}),[a,s]=Y.useState(!1),[o,l]=Y.useState(!1),[u,c]=Y.useState(!1),[f,h]=Y.useState(!1),[d,v]=Y.useState(""),[m,y]=Y.useState(!1),x=Y.useMemo(()=>{const L=i.password;return{minLength:L.length>=10,hasUppercase:/[A-Z]/.test(L),hasNumber:/[0-9]/.test(L),hasSymbol:/[!@#$%^&*(),.?":{}|<>]/.test(L)}},[i.password]),b=Object.values(x).every(Boolean),M=i.password===i.confirmPassword&&i.confirmPassword!=="",C=L=>{const{name:P,value:I}=L.target;r(N=>({...N,[P]:I}))},w=async L=>{if(L.preventDefault(),!b){v("La contrasea no cumple con todos los requisitos");return}if(!M){v("Las contraseas no coinciden");return}h(!0),v("");try{const P=await hi(ai.PASSWORD_RESET_CONFIRM,{method:"POST",body:JSON.stringify({token:t,password:i.password,confirmPassword:i.confirmPassword})});P.ok?(y(!0),setTimeout(()=>{e(),window.location.reload()},2e3)):v(P.data.error||"Error al restablecer la contrasea")}catch(P){console.error("Error de conexin:",P),v("Error de conexin con el servidor. Verifica que el backend est ejecutndose.")}finally{h(!1)}},E=()=>{r({password:"",confirmPassword:""}),v(""),y(!1),s(!1),l(!1),c(!1),e()};return n?T.jsxs("div",{className:"forgot-password-overlay",children:[T.jsxs("div",{className:"forgot-password-modal",style:{maxWidth:"550px"},children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h2",{className:"modal-title",children:m?"Contrasea actualizada!":"Nueva Contrasea"}),T.jsx("button",{className:"modal-close-btn",onClick:E,"aria-label":"Cerrar modal",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",children:T.jsx("path",{d:"M6 6l12 12M18 6l-12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),T.jsx("div",{className:"modal-content",children:m?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"success-icon",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"48",height:"48",children:T.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})}),T.jsx("p",{className:"success-message",children:"Tu contrasea ha sido actualizada exitosamente. La pgina se recargar automticamente."})]}):T.jsxs(T.Fragment,{children:[T.jsx("p",{className:"modal-description",children:"Crea una nueva contrasea segura para tu cuenta."}),T.jsxs("form",{onSubmit:w,className:"forgot-password-form",children:[T.jsxs("div",{className:"uv-field",children:[T.jsx("span",{className:"uv-icon","aria-hidden":"true",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:T.jsx("path",{d:"M17 10h-1V7a4 4 0 10-8 0v3H7a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2v-7a2 2 0 00-2-2zm-6 0V7a3 3 0 016 0v3h-6z",fill:"currentColor"})})}),T.jsx("input",{className:"uv-input",type:a?"text":"password",name:"password",value:i.password,onChange:C,onFocus:()=>c(!0),placeholder:" ",required:!0,disabled:f}),T.jsx("label",{className:"uv-label",children:"Nueva Contrasea"}),T.jsx("span",{className:"uv-focus-bg"}),T.jsx("button",{type:"button",className:"pwd-toggle",onClick:()=>s(L=>!L),"aria-label":a?"Ocultar contrasea":"Mostrar contrasea",children:a?T.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",children:T.jsx("path",{d:"M12 5c-5 0-9 4.5-10 7 1 2.5 5 7 10 7s9-4.5 10-7c-1-2.5-5-7-10-7zm0 11a4 4 0 110-8 4 4 0 010 8z",fill:"currentColor"})}):T.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",children:[T.jsx("path",{d:"M12 5c-5 0-9 4.5-10 7 1 2.5 5 7 10 7s9-4.5 10-7c-1-2.5-5-7-10-7zm0 11a4 4 0 110-8 4 4 0 010 8z",fill:"currentColor"}),T.jsx("path",{d:"M4 4l16 16",stroke:"currentColor",strokeWidth:"2"})]})})]}),T.jsxs("div",{className:"password-validator",style:{display:"block",visibility:"visible",opacity:1,position:"relative",left:0,right:0,width:"100%",marginTop:"12px",marginBottom:"12px"},children:[T.jsxs("div",{className:`validator-item ${x.minLength?"valid":"invalid"}`,children:[T.jsx("span",{className:"validator-icon",children:x.minLength?"":""}),T.jsx("span",{children:"Mnimo 10 caracteres"})]}),T.jsxs("div",{className:`validator-item ${x.hasUppercase?"valid":"invalid"}`,children:[T.jsx("span",{className:"validator-icon",children:x.hasUppercase?"":""}),T.jsx("span",{children:"Una mayscula"})]}),T.jsxs("div",{className:`validator-item ${x.hasNumber?"valid":"invalid"}`,children:[T.jsx("span",{className:"validator-icon",children:x.hasNumber?"":""}),T.jsx("span",{children:"Un nmero"})]}),T.jsxs("div",{className:`validator-item ${x.hasSymbol?"valid":"invalid"}`,children:[T.jsx("span",{className:"validator-icon",children:x.hasSymbol?"":""}),T.jsx("span",{children:"Un smbolo especial"})]})]}),T.jsxs("div",{className:"uv-field",children:[T.jsx("span",{className:"uv-icon","aria-hidden":"true",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:T.jsx("path",{d:"M17 10h-1V7a4 4 0 10-8 0v3H7a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2v-7a2 2 0 00-2-2zm-6 0V7a3 3 0 016 0v3h-6z",fill:"currentColor"})})}),T.jsx("input",{className:"uv-input",type:o?"text":"password",name:"confirmPassword",value:i.confirmPassword,onChange:C,placeholder:" ",required:!0,disabled:f}),T.jsx("label",{className:"uv-label",children:"Confirmar Contrasea"}),T.jsx("span",{className:"uv-focus-bg"}),T.jsx("button",{type:"button",className:"pwd-toggle",onClick:()=>l(L=>!L),"aria-label":o?"Ocultar contrasea":"Mostrar contrasea",children:o?T.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",children:T.jsx("path",{d:"M12 5c-5 0-9 4.5-10 7 1 2.5 5 7 10 7s9-4.5 10-7c-1-2.5-5-7-10-7zm0 11a4 4 0 110-8 4 4 0 010 8z",fill:"currentColor"})}):T.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",children:[T.jsx("path",{d:"M12 5c-5 0-9 4.5-10 7 1 2.5 5 7 10 7s9-4.5 10-7c-1-2.5-5-7-10-7zm0 11a4 4 0 110-8 4 4 0 010 8z",fill:"currentColor"}),T.jsx("path",{d:"M4 4l16 16",stroke:"currentColor",strokeWidth:"2"})]})})]}),i.confirmPassword&&T.jsxs("div",{className:`password-match ${M?"valid":"invalid"}`,children:[T.jsx("span",{className:"validator-icon",children:M?"":""}),T.jsx("span",{children:M?"Las contraseas coinciden":"Las contraseas no coinciden"})]}),d&&T.jsx("div",{className:"modal-error",children:d}),T.jsx("button",{type:"submit",className:"modal-submit-btn",disabled:f||!b||!M,children:f?"Actualizando...":"Actualizar Contrasea"})]})]})})]}),T.jsx("style",{jsx:!0,children:`
        .forgot-password-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.6);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .forgot-password-modal {
          background: white;
          border-radius: 16px;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
          max-width: 550px;
          width: 100%;
          max-height: 90vh;
          overflow-y: auto;
          overflow-x: visible;
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 24px 24px 0;
          margin-bottom: 16px;
        }

        .modal-title {
          font-size: 24px;
          font-weight: 600;
          color: #1f2937;
          margin: 0;
        }

        .modal-close-btn {
          background: none;
          border: none;
          padding: 8px;
          border-radius: 8px;
          cursor: pointer;
          color: #6b7280;
          transition: all 0.2s ease;
        }

        .modal-close-btn:hover {
          background: #f3f4f6;
          color: #374151;
        }

        .modal-content {
          padding: 0 24px 24px;
        }

        .modal-description {
          color: #6b7280;
          font-size: 16px;
          line-height: 1.5;
          margin: 0 0 24px 0;
        }

        .forgot-password-form {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .modal-error {
          color: #dc2626;
          background: #fef2f2;
          border: 1px solid #fecaca;
          border-radius: 8px;
          padding: 12px 16px;
          font-size: 14px;
          text-align: center;
        }

        .modal-submit-btn {
          background: linear-gradient(135deg, #4A90E2 0%, #277EAF 100%);
          color: white;
          border: none;
          border-radius: 12px;
          padding: 16px 24px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
          box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);
        }

        .modal-submit-btn:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 6px 16px rgba(74, 144, 226, 0.4);
        }

        .modal-submit-btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }

        .success-icon {
          text-align: center;
          margin-bottom: 20px;
          color: #059669;
        }

        .success-message {
          color: #1f2937;
          font-size: 16px;
          line-height: 1.5;
          text-align: center;
          margin: 0 0 20px 0;
        }

        /* Reutilizar estilos de campos del login */
        .uv-field {
          position: relative;
          margin-bottom: 0;
        }

        .uv-input {
          width: 100%;
          padding: 16px 50px 16px 48px;
          border: 2px solid #e5e7eb;
          border-radius: 12px;
          font-size: 16px;
          background: #fafafa;
          color: #374151;
          transition: all 0.3s ease;
          font-family: inherit;
        }

        .uv-input:focus {
          outline: none;
          border-color: #4A90E2;
          background: white;
          box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1);
        }

        .uv-input:not(:placeholder-shown) {
          background: white;
        }

        .uv-label {
          position: absolute;
          left: 48px;
          top: 50%;
          transform: translateY(-50%);
          font-size: 16px;
          color: #9ca3af;
          pointer-events: none;
          transition: all 0.3s ease;
          background: linear-gradient(to bottom, transparent 0%, transparent 45%, #fafafa 45%, #fafafa 55%, transparent 55%);
          padding: 0 8px;
        }

        .uv-input:focus + .uv-label,
        .uv-input:not(:placeholder-shown) + .uv-label {
          top: 0;
          font-size: 14px;
          color: #4A90E2;
          font-weight: 500;
          background: linear-gradient(to bottom, transparent 0%, transparent 45%, white 45%, white 55%, transparent 55%);
        }

        .uv-icon {
          position: absolute;
          left: 16px;
          top: 50%;
          transform: translateY(-50%);
          color: #9ca3af;
          z-index: 1;
        }

        .uv-input:focus ~ .uv-icon {
          color: #4A90E2;
        }

        .uv-focus-bg {
          position: absolute;
          top: 2px;
          left: 2px;
          right: 2px;
          bottom: 2px;
          background: transparent;
          border-radius: 10px;
          pointer-events: none;
          transition: all 0.3s ease;
        }

        .pwd-toggle {
          position: absolute;
          right: 16px;
          top: 50%;
          transform: translateY(-50%);
          background: none;
          border: none;
          color: #9ca3af;
          cursor: pointer;
          padding: 4px;
          border-radius: 4px;
          transition: all 0.2s ease;
        }

        .pwd-toggle:hover {
          color: #4A90E2;
          background: rgba(74, 144, 226, 0.1);
        }

        .pwd-toggle:focus {
          outline: none;
          color: #4A90E2;
        }

        /* Estilos para validadores de contrasea */
        .password-validator {
          background: #f8fafc;
          border: 1px solid #e2e8f0;
          border-radius: 8px;
          padding: 12px;
          margin: 12px 0 !important;
          font-size: 14px;
          display: block !important;
          visibility: visible !important;
          opacity: 1 !important;
          position: relative !important;
          left: 0 !important;
          right: 0 !important;
          width: 100% !important;
          z-index: 10;
        }

        .validator-item {
          display: flex;
          align-items: center;
          margin-bottom: 6px;
          transition: all 0.3s ease;
        }

        .validator-item:last-child {
          margin-bottom: 0;
        }

        .validator-icon {
          width: 18px;
          height: 18px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-right: 8px;
          border-radius: 50%;
          font-size: 12px;
          font-weight: bold;
          transition: all 0.3s ease;
        }

        .validator-item.valid .validator-icon {
          background: #10b981;
          color: white;
        }

        .validator-item.invalid .validator-icon {
          background: #ef4444;
          color: white;
        }

        .validator-item.valid {
          color: #065f46;
        }

        .validator-item.invalid {
          color: #991b1b;
        }

        /* Password match indicator */
        .password-match {
          display: flex;
          align-items: center;
          font-size: 14px;
          margin: 8px 0;
          padding: 8px 12px;
          border-radius: 6px;
          transition: all 0.3s ease;
        }

        .password-match.valid {
          background: #dcfce7;
          border: 1px solid #bbf7d0;
          color: #065f46;
        }

        .password-match.invalid {
          background: #fef2f2;
          border: 1px solid #fecaca;
          color: #991b1b;
        }

        .password-match .validator-icon {
          width: 16px;
          height: 16px;
          margin-right: 8px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 10px;
          font-weight: bold;
        }

        .password-match.valid .validator-icon {
          background: #10b981;
          color: white;
        }

        .password-match.invalid .validator-icon {
          background: #ef4444;
          color: white;
        }

        @media (max-width: 480px) {
          .forgot-password-modal {
            margin: 0 10px;
          }

          .modal-header {
            padding: 20px 20px 0;
          }

          .modal-content {
            padding: 0 20px 20px;
          }

          .modal-title {
            font-size: 20px;
          }
        }
      `})]}):null},Vae=({isOpen:n,onClose:e,message:t,title:i="Verificacin de cuenta"})=>{if(!n)return null;const r=Y.useMemo(()=>{if(!t)return"Tu cuenta fue verificada correctamente.";let a=t;try{a=decodeURIComponent(a)}catch{}return(a.startsWith('"')&&a.endsWith('"')||a.startsWith("'")&&a.endsWith("'"))&&(a=a.slice(1,-1)),a},[t]);return T.jsxs("div",{className:"forgot-password-overlay",children:[T.jsxs("div",{className:"forgot-password-modal",style:{maxWidth:"520px"},children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h2",{className:"modal-title",children:i}),T.jsx("button",{className:"modal-close-btn",onClick:e,"aria-label":"Cerrar modal",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",children:T.jsx("path",{d:"M6 6l12 12M18 6l-12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),T.jsxs("div",{className:"modal-content",children:[T.jsx("p",{className:"modal-description",style:{textAlign:"center"},children:r}),T.jsx("button",{className:"modal-submit-btn",onClick:e,style:{display:"block",margin:"0 auto"},children:"Entendido"})]})]}),T.jsx("style",{children:`
        .forgot-password-overlay {
          position: fixed;
          top: 0; left: 0; right: 0; bottom: 0;
          background: rgba(0, 0, 0, 0.6);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }
        .forgot-password-modal {
          background: white;
          border-radius: 16px;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
          max-width: 480px;
          width: 100%;
          max-height: 90vh;
          overflow: auto;
        }
        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 24px 24px 0;
          margin-bottom: 16px;
        }
        .modal-title {
          font-size: 24px;
          font-weight: 600;
          color: #1f2937;
          margin: 0;
        }
        .modal-close-btn {
          background: none;
          border: none;
          padding: 8px;
          border-radius: 8px;
          cursor: pointer;
          color: #6b7280;
          transition: all 0.2s ease;
        }
        .modal-close-btn:hover { background: #f3f4f6; color: #374151; }
        .modal-content { padding: 0 24px 24px; }
        .modal-description { color: #6b7280; font-size: 16px; line-height: 1.5; margin: 0 0 24px 0; }
        .modal-submit-btn {
          background: linear-gradient(135deg, #4A90E2 0%, #277EAF 100%);
          color: white;
          border: none;
          border-radius: 12px;
          padding: 16px 24px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
          box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);
        }
        .modal-submit-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(74, 144, 226, 0.4); }
        @media (max-width: 480px) {
          .forgot-password-modal { margin: 0 10px; }
          .modal-header { padding: 20px 20px 0; }
          .modal-content { padding: 0 20px 20px; }
          .modal-title { font-size: 20px; }
        }
      `})]})},$G="/cNormal.png",jae="/login.png";function EAe(){const[n,e]=Y.useState({email:"",password:""}),[t,i]=Y.useState(!1),[r,a]=Y.useState(!1),[s,o]=Y.useState(!1),[l]=mxe(),u=va(),c=U=>{const{name:j,value:W}=U.target;e(G=>({...G,[j]:W})),h(G=>({...G,[j==="email"?"email":j]:""}))};Y.useEffect(()=>{QG()&&ff()},[]),Y.useEffect(()=>{const U=l.get("token"),j=l.get("forgot");U?(E(U),C(!0),window.history.replaceState({},document.title,"/login")):j==="true"&&(b(!0),window.history.replaceState({},document.title,"/login"))},[l]),Y.useEffect(()=>{l.get("forgot")&&(b(!0),window.history.replaceState({},document.title,"/login"))},[l]),Y.useEffect(()=>{const U=X=>{const $=document.cookie.split("; ").find(te=>te.startsWith(X+"="));return $?$.split("=")[1]:null},j=l.get("verified"),W=U("verification_status");let G=U("verification_message");if(console.log("[Verification Check]",{verifiedParam:j,status:W,message:G,allCookies:document.cookie}),j==="1"||W==="1"){let X="Tu cuenta fue verificada correctamente. Ya puedes iniciar sesin.";if(G)try{X=decodeURIComponent(G),(X.startsWith('"')&&X.endsWith('"')||X.startsWith("'")&&X.endsWith("'"))&&(X=X.slice(1,-1))}catch(q){console.error("Error decoding message:",q)}N(X),P(!0),document.cookie="verification_status=; Max-Age=0; Path=/; SameSite=Lax",document.cookie="verification_message=; Max-Age=0; Path=/; SameSite=Lax",j&&window.history.replaceState({},document.title,"/login")}else if(W==="0"){let X="Ocurri un error al verificar la cuenta.";if(G)try{X=decodeURIComponent(G),(X.startsWith('"')&&X.endsWith('"')||X.startsWith("'")&&X.endsWith("'"))&&(X=X.slice(1,-1))}catch{}N(X),P(!0),document.cookie="verification_status=; Max-Age=0; Path=/; SameSite=Lax",document.cookie="verification_message=; Max-Age=0; Path=/; SameSite=Lax"}},[l]);const[f,h]=Y.useState({email:"",password:"",global:""}),[d,v]=Y.useState(!1),[m,y]=Y.useState(!1),[x,b]=Y.useState(!1),[M,C]=Y.useState(!1),[w,E]=Y.useState(""),[L,P]=Y.useState(!1),[I,N]=Y.useState(""),z=async U=>{U.preventDefault(),a(!0),h({email:"",password:"",global:""});try{const j=await hi(ai.LOGIN,{method:"POST",body:JSON.stringify({username:n.email,password:n.password})});if(j.ok&&j.data.success&&j.data.token)TAe(j.data.token),v(!0),y(!0),setTimeout(()=>{const G=(()=>{const X=Date.now().toString(36),q=Math.random().toString(36).substring(2,9);return`${X}${q}`.toUpperCase()})();u(`/dashboard?session=${G}`)},600);else{const{status:W,data:G}=j;let X={email:"",password:"",global:""};const q=[];G&&(G.username&&(X.email=Array.isArray(G.username)?G.username.join(" "):String(G.username)),G.email&&(X.email=Array.isArray(G.email)?G.email.join(" "):String(G.email)),G.password&&(X.password=Array.isArray(G.password)?G.password.join(" "):String(G.password)),G.detail&&q.push(G.detail),G.error&&q.push(G.error)),(W===400||W===401)&&!X.email&&!X.password&&(X.email="error",X.password="error");const $=q.join(" ").trim()||"No se pudo iniciar sesin";!X.email&&!X.password&&(X.global=$),console.log("[Login Error Debug]",{status:W,data:G,fieldErrors:X}),h(X)}}catch(j){console.error("Error de conexin:",j),h({email:"",password:"",global:"Error de conexin con el servidor. Verifica que el backend est ejecutndose."})}finally{a(!1)}},V=U=>{U.preventDefault(),o(!0),setTimeout(()=>{u("/register")},150)};return T.jsxs("div",{className:`auth login-page ${s?"page-exit":"page-enter"}`,children:[T.jsx("section",{className:"auth-left",children:T.jsxs("div",{className:"left-inner",children:[T.jsx("div",{className:"logo-container",children:T.jsx("button",{type:"button",onClick:()=>u("/"),style:{background:"none",border:"none",padding:0,cursor:"pointer"},children:T.jsx("img",{src:$G,alt:"Logo cNormal",className:"welcome-logo",draggable:"false"})})}),T.jsx("h1",{className:"title",children:"Bienvenido!"}),T.jsx("p",{className:"subtitle",children:"Ingresa tu correo y contrasea para acceder a tu cuenta."}),T.jsx("div",{className:"title-underline"}),T.jsxs("form",{onSubmit:z,className:"login-form login-card form-container",children:[T.jsxs("div",{className:"field-with-error-wrapper",children:[T.jsxs("div",{className:`uv-field ${f.email?"has-error":""}`,children:[T.jsx("span",{className:"uv-icon","aria-hidden":"true",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:T.jsx("path",{d:"M20 8l-8 5-8-5V6l8 5 8-5v2zm0 3v7H4v-7l8 5 8-5z",fill:"currentColor"})})}),T.jsx("input",{className:`uv-input ${f.email?"error":""}`,type:"email",name:"email",value:n.email,onChange:c,autoComplete:"username",placeholder:" ",required:!0,"aria-invalid":!!f.email,"aria-describedby":f.email?"email-error":void 0}),T.jsx("label",{className:"uv-label",children:"Correo"}),T.jsx("span",{className:"uv-focus-bg"})]}),f.email&&f.email!=="error"&&T.jsx("div",{className:"error-message-right",children:T.jsx(MW,{message:f.email,small:!0})})]}),T.jsxs("div",{className:"field-with-error-wrapper",children:[T.jsxs("div",{className:`uv-field ${f.password?"has-error":""}`,children:[T.jsx("span",{className:"uv-icon","aria-hidden":"true",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:T.jsx("path",{d:"M17 10h-1V7a4 4 0 10-8 0v3H7a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2v-7a2 2 0 00-2-2zm-6 0V7a3 3 0 016 0v3h-6z",fill:"currentColor"})})}),T.jsx("input",{className:`uv-input ${f.password?"error":""}`,type:t?"text":"password",name:"password",value:n.password,onChange:c,autoComplete:"current-password",placeholder:" ",required:!0,"aria-invalid":!!f.password,"aria-describedby":f.password?"password-error":void 0}),T.jsx("label",{className:"uv-label",children:"Contrasea"}),T.jsx("span",{className:"uv-focus-bg"}),T.jsx("button",{type:"button",className:"pwd-toggle",onClick:()=>i(U=>!U),"aria-label":t?"Ocultar contrasea":"Mostrar contrasea",tabIndex:"-1",children:t?T.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),T.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):T.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8-4 8-11 8-11-8-11-8z"}),T.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})})]}),f.password&&f.password!=="error"&&T.jsx("div",{className:"error-message-right",children:T.jsx(MW,{message:f.password,small:!0})})]}),T.jsx("button",{className:"login-button",type:"submit",disabled:r,children:r?"Ingresando...":"Ingresa tu cuenta"}),T.jsxs("p",{className:"login-help",children:["No tienes cuenta?"," ",T.jsx("a",{className:"login-link",href:"#",onClick:V,children:"Regstrate"})]}),T.jsx("button",{type:"button",className:"login-link subtle",onClick:()=>b(!0),children:"Olvidaste tu contrasea?"})]})]})}),T.jsx("section",{className:"auth-right",children:T.jsx("img",{src:jae,alt:"imagen de cromosomas"})}),m&&T.jsx("div",{className:"success-modal-overlay",children:T.jsxs("div",{className:"success-modal",children:[T.jsx("div",{className:"success-icon",children:T.jsxs("svg",{viewBox:"0 0 24 24",width:"64",height:"64",fill:"none",children:[T.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#10b981",strokeWidth:"2.5",strokeDasharray:"63",strokeDashoffset:"63",className:"success-circle"}),T.jsx("path",{d:"M9 12l2 2 4-4",stroke:"#10b981",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"8",strokeDashoffset:"8",className:"success-check"})]})}),T.jsx("h2",{className:"success-title",children:"Login exitoso"}),T.jsx("p",{className:"success-message",children:"Redirigiendo al dashboard..."})]})}),T.jsx(CAe,{isOpen:x,onClose:()=>b(!1)}),T.jsx(wAe,{isOpen:M,onClose:()=>{C(!1),E("")},token:w}),T.jsx(Vae,{isOpen:L,onClose:()=>P(!1),message:I||"Tu cuenta fue verificada correctamente."})]})}let DAe=0;const RAe=()=>{const[n,e]=Y.useState([]),t=Y.useCallback((l,u="info",c={})=>{const f=DAe++,h={id:f,message:l,type:u,duration:c.duration??5e3,action:c.action};return e(d=>[...d,h]),f},[]),i=Y.useCallback(l=>{e(u=>u.filter(c=>c.id!==l))},[]),r=Y.useCallback((l,u)=>t(l,"success",u),[t]),a=Y.useCallback((l,u)=>t(l,"error",u),[t]),s=Y.useCallback((l,u)=>t(l,"warning",u),[t]),o=Y.useCallback((l,u)=>t(l,"info",u),[t]);return{toasts:n,addToast:t,removeToast:i,success:r,error:a,warning:s,info:o}},LAe=({message:n,type:e="info",onClose:t,duration:i=5e3,action:r})=>{Y.useEffect(()=>{if(i>0){const s=setTimeout(()=>{t()},i);return()=>clearTimeout(s)}},[i,t]);const a=()=>{switch(e){case"success":return T.jsxs("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("circle",{cx:"12",cy:"12",r:"10"}),T.jsx("path",{d:"M9 12l2 2 4-4",strokeLinecap:"round",strokeLinejoin:"round"})]});case"error":return T.jsxs("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("circle",{cx:"12",cy:"12",r:"10"}),T.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15",strokeLinecap:"round"}),T.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15",strokeLinecap:"round"})]});case"warning":return T.jsxs("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"M12 2L2 20h20L12 2z",strokeLinecap:"round",strokeLinejoin:"round"}),T.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13",strokeLinecap:"round"}),T.jsx("circle",{cx:"12",cy:"17",r:"0.5",fill:"currentColor"})]});default:return T.jsxs("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("circle",{cx:"12",cy:"12",r:"10"}),T.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12",strokeLinecap:"round"}),T.jsx("circle",{cx:"12",cy:"8",r:"0.5",fill:"currentColor"})]})}};return T.jsxs("div",{className:`toast toast--${e}`,children:[T.jsx("div",{className:"toast__icon",children:a()}),T.jsxs("div",{className:"toast__content",children:[T.jsx("div",{className:"toast__message",children:n}),r&&T.jsx("button",{onClick:r.onClick,className:"toast__action",children:r.label})]}),T.jsx("button",{className:"toast__close",onClick:t,"aria-label":"Cerrar notificacin",children:T.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18",strokeLinecap:"round"}),T.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18",strokeLinecap:"round"})]})})]})},NAe=({toasts:n,removeToast:e})=>T.jsx("div",{className:"toast-container",children:n.map(t=>T.jsx(LAe,{message:t.message,type:t.type,duration:t.duration,action:t.action,onClose:()=>e(t.id)},t.id))}),eV=Y.createContext({});function SC(n){const e=Y.useRef(null);return e.current===null&&(e.current=n()),e.current}const tV=typeof window<"u",nV=tV?Y.useLayoutEffect:Y.useEffect,AI=Y.createContext(null);function iV(n,e){n.indexOf(e)===-1&&n.push(e)}function rV(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const mp=(n,e,t)=>t>e?e:t<n?n:t;let aV=()=>{};const gp={},Hae=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Wae(n){return typeof n=="object"&&n!==null}const Xae=n=>/^0[^.\s]+$/u.test(n);function sV(n){let e;return()=>(e===void 0&&(e=n()),e)}const qu=n=>n,IAe=(n,e)=>t=>e(n(t)),AC=(...n)=>n.reduce(IAe),xT=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class oV{constructor(){this.subscriptions=[]}add(e){return iV(this.subscriptions,e),()=>rV(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let a=0;a<r;a++){const s=this.subscriptions[a];s&&s(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sh=n=>n*1e3,Xu=n=>n/1e3;function Yae(n,e){return e?n*(1e3/e):0}const qae=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,PAe=1e-7,BAe=12;function OAe(n,e,t,i,r){let a,s,o=0;do s=e+(t-e)/2,a=qae(s,i,r)-n,a>0?t=s:e=s;while(Math.abs(a)>PAe&&++o<BAe);return s}function MC(n,e,t,i){if(n===e&&t===i)return qu;const r=a=>OAe(a,0,1,n,t);return a=>a===0||a===1?a:qae(r(a),e,i)}const Zae=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Kae=n=>e=>1-n(1-e),Jae=MC(.33,1.53,.69,.99),lV=Kae(Jae),Qae=Zae(lV),$ae=n=>(n*=2)<1?.5*lV(n):.5*(2-Math.pow(2,-10*(n-1))),uV=n=>1-Math.sin(Math.acos(n)),ese=Kae(uV),tse=Zae(uV),zAe=MC(.42,0,1,1),kAe=MC(0,0,.58,1),nse=MC(.42,0,.58,1),FAe=n=>Array.isArray(n)&&typeof n[0]!="number",ise=n=>Array.isArray(n)&&typeof n[0]=="number",UAe={linear:qu,easeIn:zAe,easeInOut:nse,easeOut:kAe,circIn:uV,circInOut:tse,circOut:ese,backIn:lV,backInOut:Qae,backOut:Jae,anticipate:$ae},GAe=n=>typeof n=="string",TW=n=>{if(ise(n)){aV(n.length===4);const[e,t,i,r]=n;return MC(e,t,i,r)}else if(GAe(n))return UAe[n];return n},IE=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function VAe(n,e){let t=new Set,i=new Set,r=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(c){s.has(c)&&(u.schedule(c),n()),c(o)}const u={schedule:(c,f=!1,h=!1)=>{const v=h&&r?t:i;return f&&s.add(c),v.has(c)||v.add(c),c},cancel:c=>{i.delete(c),s.delete(c)},process:c=>{if(o=c,r){a=!0;return}r=!0,[t,i]=[i,t],t.forEach(l),t.clear(),r=!1,a&&(a=!1,u.process(c))}};return u}const jAe=40;function rse(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,s=IE.reduce((M,C)=>(M[C]=VAe(a),M),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:f,preRender:h,render:d,postRender:v}=s,m=()=>{const M=gp.useManualTiming?r.timestamp:performance.now();t=!1,gp.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(M-r.timestamp,jAe),1)),r.timestamp=M,r.isProcessing=!0,o.process(r),l.process(r),u.process(r),c.process(r),f.process(r),h.process(r),d.process(r),v.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(m))},y=()=>{t=!0,i=!0,r.isProcessing||n(m)};return{schedule:IE.reduce((M,C)=>{const w=s[C];return M[C]=(E,L=!1,P=!1)=>(t||y(),w.schedule(E,L,P)),M},{}),cancel:M=>{for(let C=0;C<IE.length;C++)s[IE[C]].cancel(M)},state:r,steps:s}}const{schedule:sr,cancel:yp,state:Es,steps:lO}=rse(typeof requestAnimationFrame<"u"?requestAnimationFrame:qu,!0);let a3;function HAe(){a3=void 0}const fl={now:()=>(a3===void 0&&fl.set(Es.isProcessing||gp.useManualTiming?Es.timestamp:performance.now()),a3),set:n=>{a3=n,queueMicrotask(HAe)}},ase=n=>e=>typeof e=="string"&&e.startsWith(n),cV=ase("--"),WAe=ase("var(--"),fV=n=>WAe(n)?XAe.test(n.split("/*")[0].trim()):!1,XAe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Kb={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},_T={...Kb,transform:n=>mp(0,1,n)},PE={...Kb,default:1},E2=n=>Math.round(n*1e5)/1e5,hV=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YAe(n){return n==null}const qAe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dV=(n,e)=>t=>!!(typeof t=="string"&&qAe.test(t)&&t.startsWith(n)||e&&!YAe(t)&&Object.prototype.hasOwnProperty.call(t,e)),sse=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,a,s,o]=i.match(hV);return{[n]:parseFloat(r),[e]:parseFloat(a),[t]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},ZAe=n=>mp(0,255,n),uO={...Kb,transform:n=>Math.round(ZAe(n))},j0={test:dV("rgb","red"),parse:sse("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+uO.transform(n)+", "+uO.transform(e)+", "+uO.transform(t)+", "+E2(_T.transform(i))+")"};function KAe(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const eF={test:dV("#"),parse:KAe,transform:j0.transform},TC=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Bv=TC("deg"),Ah=TC("%"),Mn=TC("px"),JAe=TC("vh"),QAe=TC("vw"),CW={...Ah,parse:n=>Ah.parse(n)/100,transform:n=>Ah.transform(n*100)},A1={test:dV("hsl","hue"),parse:sse("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Ah.transform(E2(e))+", "+Ah.transform(E2(t))+", "+E2(_T.transform(i))+")"},Ma={test:n=>j0.test(n)||eF.test(n)||A1.test(n),parse:n=>j0.test(n)?j0.parse(n):A1.test(n)?A1.parse(n):eF.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?j0.transform(n):A1.transform(n),getAnimatableNone:n=>{const e=Ma.parse(n);return e.alpha=0,Ma.transform(e)}},$Ae=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eMe(n){return isNaN(n)&&typeof n=="string"&&(n.match(hV)?.length||0)+(n.match($Ae)?.length||0)>0}const ose="number",lse="color",tMe="var",nMe="var(",wW="${}",iMe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bT(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let a=0;const o=e.replace(iMe,l=>(Ma.test(l)?(i.color.push(a),r.push(lse),t.push(Ma.parse(l))):l.startsWith(nMe)?(i.var.push(a),r.push(tMe),t.push(l)):(i.number.push(a),r.push(ose),t.push(parseFloat(l))),++a,wW)).split(wW);return{values:t,split:o,indexes:i,types:r}}function use(n){return bT(n).values}function cse(n){const{split:e,types:t}=bT(n),i=e.length;return r=>{let a="";for(let s=0;s<i;s++)if(a+=e[s],r[s]!==void 0){const o=t[s];o===ose?a+=E2(r[s]):o===lse?a+=Ma.transform(r[s]):a+=r[s]}return a}}const rMe=n=>typeof n=="number"?0:Ma.test(n)?Ma.getAnimatableNone(n):n;function aMe(n){const e=use(n);return cse(n)(e.map(rMe))}const ym={test:eMe,parse:use,createTransformer:cse,getAnimatableNone:aMe};function cO(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function sMe({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,a=0,s=0;if(!e)r=a=s=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;r=cO(l,o,n+1/3),a=cO(l,o,n),s=cO(l,o,n-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:i}}function J3(n,e){return t=>t>0?e:n}const Pr=(n,e,t)=>n+(e-n)*t,fO=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},oMe=[eF,j0,A1],lMe=n=>oMe.find(e=>e.test(n));function EW(n){const e=lMe(n);if(!e)return!1;let t=e.parse(n);return e===A1&&(t=sMe(t)),t}const DW=(n,e)=>{const t=EW(n),i=EW(e);if(!t||!i)return J3(n,e);const r={...t};return a=>(r.red=fO(t.red,i.red,a),r.green=fO(t.green,i.green,a),r.blue=fO(t.blue,i.blue,a),r.alpha=Pr(t.alpha,i.alpha,a),j0.transform(r))},tF=new Set(["none","hidden"]);function uMe(n,e){return tF.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function cMe(n,e){return t=>Pr(n,e,t)}function pV(n){return typeof n=="number"?cMe:typeof n=="string"?fV(n)?J3:Ma.test(n)?DW:dMe:Array.isArray(n)?fse:typeof n=="object"?Ma.test(n)?DW:fMe:J3}function fse(n,e){const t=[...n],i=t.length,r=n.map((a,s)=>pV(a)(a,e[s]));return a=>{for(let s=0;s<i;s++)t[s]=r[s](a);return t}}function fMe(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=pV(n[r])(n[r],e[r]));return r=>{for(const a in i)t[a]=i[a](r);return t}}function hMe(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],s=n.indexes[a][i[a]],o=n.values[s]??0;t[r]=o,i[a]++}return t}const dMe=(n,e)=>{const t=ym.createTransformer(e),i=bT(n),r=bT(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?tF.has(n)&&!r.values.length||tF.has(e)&&!i.values.length?uMe(n,e):AC(fse(hMe(i,r),r.values),t):J3(n,e)};function hse(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Pr(n,e,t):pV(n)(n,e)}const pMe=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>sr.update(e,t),stop:()=>yp(e),now:()=>Es.isProcessing?Es.timestamp:fl.now()}},dse=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let a=0;a<r;a++)i+=Math.round(n(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Q3=2e4;function vV(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Q3;)e+=t,i=n.next(e);return e>=Q3?1/0:e}function vMe(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(vV(i),Q3);return{type:"keyframes",ease:a=>i.next(r*a).value/e,duration:Xu(r)}}const mMe=5;function pse(n,e,t){const i=Math.max(e-mMe,0);return Yae(t-n(i),e-i)}const Xr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hO=.001;function gMe({duration:n=Xr.duration,bounce:e=Xr.bounce,velocity:t=Xr.velocity,mass:i=Xr.mass}){let r,a,s=1-e;s=mp(Xr.minDamping,Xr.maxDamping,s),n=mp(Xr.minDuration,Xr.maxDuration,Xu(n)),s<1?(r=u=>{const c=u*s,f=c*n,h=c-t,d=nF(u,s),v=Math.exp(-f);return hO-h/d*v},a=u=>{const f=u*s*n,h=f*t+t,d=Math.pow(s,2)*Math.pow(u,2)*n,v=Math.exp(-f),m=nF(Math.pow(u,2),s);return(-r(u)+hO>0?-1:1)*((h-d)*v)/m}):(r=u=>{const c=Math.exp(-u*n),f=(u-t)*n+1;return-hO+c*f},a=u=>{const c=Math.exp(-u*n),f=(t-u)*(n*n);return c*f});const o=5/n,l=xMe(r,a,o);if(n=Sh(n),isNaN(l))return{stiffness:Xr.stiffness,damping:Xr.damping,duration:n};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:s*2*Math.sqrt(i*u),duration:n}}}const yMe=12;function xMe(n,e,t){let i=t;for(let r=1;r<yMe;r++)i=i-n(i)/e(i);return i}function nF(n,e){return n*Math.sqrt(1-e*e)}const _Me=["duration","bounce"],bMe=["stiffness","damping","mass"];function RW(n,e){return e.some(t=>n[t]!==void 0)}function SMe(n){let e={velocity:Xr.velocity,stiffness:Xr.stiffness,damping:Xr.damping,mass:Xr.mass,isResolvedFromDuration:!1,...n};if(!RW(n,bMe)&&RW(n,_Me))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,a=2*mp(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:Xr.mass,stiffness:r,damping:a}}else{const t=gMe(n);e={...e,...t,mass:Xr.mass},e.isResolvedFromDuration=!0}return e}function $3(n=Xr.visualDuration,e=Xr.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const a=t.keyframes[0],s=t.keyframes[t.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:u,mass:c,duration:f,velocity:h,isResolvedFromDuration:d}=SMe({...t,velocity:-Xu(t.velocity||0)}),v=h||0,m=u/(2*Math.sqrt(l*c)),y=s-a,x=Xu(Math.sqrt(l/c)),b=Math.abs(y)<5;i||(i=b?Xr.restSpeed.granular:Xr.restSpeed.default),r||(r=b?Xr.restDelta.granular:Xr.restDelta.default);let M;if(m<1){const w=nF(x,m);M=E=>{const L=Math.exp(-m*x*E);return s-L*((v+m*x*y)/w*Math.sin(w*E)+y*Math.cos(w*E))}}else if(m===1)M=w=>s-Math.exp(-x*w)*(y+(v+x*y)*w);else{const w=x*Math.sqrt(m*m-1);M=E=>{const L=Math.exp(-m*x*E),P=Math.min(w*E,300);return s-L*((v+m*x*y)*Math.sinh(P)+w*y*Math.cosh(P))/w}}const C={calculatedDuration:d&&f||null,next:w=>{const E=M(w);if(d)o.done=w>=f;else{let L=w===0?v:0;m<1&&(L=w===0?Sh(v):pse(M,w,E));const P=Math.abs(L)<=i,I=Math.abs(s-E)<=r;o.done=P&&I}return o.value=o.done?s:E,o},toString:()=>{const w=Math.min(vV(C),Q3),E=dse(L=>C.next(w*L).value,w,30);return w+"ms "+E},toTransition:()=>{}};return C}$3.applyToOptions=n=>{const e=vMe(n,100,$3);return n.ease=e.ease,n.duration=Sh(e.duration),n.type="keyframes",n};function iF({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:c}){const f=n[0],h={done:!1,value:f},d=P=>o!==void 0&&P<o||l!==void 0&&P>l,v=P=>o===void 0?l:l===void 0||Math.abs(o-P)<Math.abs(l-P)?o:l;let m=t*e;const y=f+m,x=s===void 0?y:s(y);x!==y&&(m=x-f);const b=P=>-m*Math.exp(-P/i),M=P=>x+b(P),C=P=>{const I=b(P),N=M(P);h.done=Math.abs(I)<=u,h.value=h.done?x:N};let w,E;const L=P=>{d(h.value)&&(w=P,E=$3({keyframes:[h.value,v(h.value)],velocity:pse(M,P,h.value),damping:r,stiffness:a,restDelta:u,restSpeed:c}))};return L(0),{calculatedDuration:null,next:P=>{let I=!1;return!E&&w===void 0&&(I=!0,C(P),L(P)),w!==void 0&&P>=w?E.next(P-w):(!I&&C(P),h)}}}function AMe(n,e,t){const i=[],r=t||gp.mix||hse,a=n.length-1;for(let s=0;s<a;s++){let o=r(n[s],n[s+1]);if(e){const l=Array.isArray(e)?e[s]||qu:e;o=AC(l,o)}i.push(o)}return i}function vse(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const a=n.length;if(aV(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=AMe(e,i,r),l=o.length,u=c=>{if(s&&c<n[0])return e[0];let f=0;if(l>1)for(;f<n.length-2&&!(c<n[f+1]);f++);const h=xT(n[f],n[f+1],c);return o[f](h)};return t?c=>u(mp(n[0],n[a-1],c)):u}function MMe(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=xT(0,e,i);n.push(Pr(t,1,r))}}function TMe(n){const e=[0];return MMe(e,n.length-1),e}function CMe(n,e){return n.map(t=>t*e)}function wMe(n,e){return n.map(()=>e||nse).splice(0,n.length-1)}function D2({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=FAe(i)?i.map(TW):TW(i),a={done:!1,value:e[0]},s=CMe(t&&t.length===e.length?t:TMe(e),n),o=vse(s,e,{ease:Array.isArray(r)?r:wMe(e,r)});return{calculatedDuration:n,next:l=>(a.value=o(l),a.done=l>=n,a)}}const EMe=n=>n!==null;function mV(n,{repeat:e,repeatType:t="loop"},i,r=1){const a=n.filter(EMe),o=r<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!o||i===void 0?a[o]:i}const DMe={decay:iF,inertia:iF,tween:D2,keyframes:D2,spring:$3};function mse(n){typeof n.type=="string"&&(n.type=DMe[n.type])}class gV{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const RMe=n=>n/100;class MI extends gV{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==fl.now()&&this.tick(fl.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;mse(e);const{type:t=D2,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:s=0}=e;let{keyframes:o}=e;const l=t||D2;l!==D2&&typeof o[0]!="number"&&(this.mixKeyframes=AC(RMe,hse(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});a==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=vV(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=u}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:u=0,keyframes:c,repeat:f,repeatType:h,repeatDelay:d,type:v,onUpdate:m,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?x<0:x>r;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let M=this.currentTime,C=i;if(f){const P=Math.min(this.currentTime,r)/o;let I=Math.floor(P),N=P%1;!N&&P>=1&&(N=1),N===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(h==="reverse"?(N=1-N,d&&(N-=d/o)):h==="mirror"&&(C=s)),M=mp(0,1,N)*o}const w=b?{done:!1,value:c[0]}:C.next(M);a&&(w.value=a(w.value));let{done:E}=w;!b&&l!==null&&(E=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return L&&v!==iF&&(w.value=mV(c,this.options,y,this.speed)),m&&m(w.value),L&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return Xu(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xu(e)}get time(){return Xu(this.currentTime)}set time(e){e=Sh(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fl.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Xu(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=pMe,startTime:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fl.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function LMe(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const H0=n=>n*180/Math.PI,rF=n=>{const e=H0(Math.atan2(n[1],n[0]));return aF(e)},NMe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:rF,rotateZ:rF,skewX:n=>H0(Math.atan(n[1])),skewY:n=>H0(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},aF=n=>(n=n%360,n<0&&(n+=360),n),LW=rF,NW=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),IW=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),IMe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:NW,scaleY:IW,scale:n=>(NW(n)+IW(n))/2,rotateX:n=>aF(H0(Math.atan2(n[6],n[5]))),rotateY:n=>aF(H0(Math.atan2(-n[2],n[0]))),rotateZ:LW,rotate:LW,skewX:n=>H0(Math.atan(n[4])),skewY:n=>H0(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function sF(n){return n.includes("scale")?1:0}function oF(n,e){if(!n||n==="none")return sF(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=IMe,r=t;else{const o=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=NMe,r=o}if(!r)return sF(e);const a=i[e],s=r[1].split(",").map(BMe);return typeof a=="function"?a(s):s[a]}const PMe=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return oF(t,e)};function BMe(n){return parseFloat(n.trim())}const Jb=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qb=new Set(Jb),PW=n=>n===Kb||n===Mn,OMe=new Set(["x","y","z"]),zMe=Jb.filter(n=>!OMe.has(n));function kMe(n){const e=[];return zMe.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const uy={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>oF(e,"x"),y:(n,{transform:e})=>oF(e,"y")};uy.translateX=uy.x;uy.translateY=uy.y;const cy=new Set;let lF=!1,uF=!1,cF=!1;function gse(){if(uF){const n=Array.from(cy).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=kMe(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([a,s])=>{i.getValue(a)?.set(s)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}uF=!1,lF=!1,cy.forEach(n=>n.complete(cF)),cy.clear()}function yse(){cy.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(uF=!0)})}function FMe(){cF=!0,yse(),gse(),cF=!1}class yV{constructor(e,t,i,r,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(cy.add(this),lF||(lF=!0,sr.read(yse),sr.resolveKeyframes(gse))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const a=r?.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&t){const o=i.readValue(t,s);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=s),r&&a===void 0&&r.set(e[0])}LMe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),cy.delete(this)}cancel(){this.state==="scheduled"&&(cy.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const UMe=n=>n.startsWith("--");function GMe(n,e,t){UMe(e)?n.style.setProperty(e,t):n.style[e]=t}const VMe=sV(()=>window.ScrollTimeline!==void 0),jMe={};function HMe(n,e){const t=sV(n);return()=>jMe[e]??t()}const xse=HMe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),i2=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,BW={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:i2([0,.65,.55,1]),circOut:i2([.55,0,1,.45]),backIn:i2([.31,.01,.66,-.59]),backOut:i2([.33,1.53,.69,.99])};function _se(n,e){if(n)return typeof n=="function"?xse()?dse(n,e):"ease-out":ise(n)?i2(n):Array.isArray(n)?n.map(t=>_se(t,e)||BW.easeOut):BW[n]}function WMe(n,e,t,{delay:i=0,duration:r=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:l}={},u=void 0){const c={[e]:t};l&&(c.offset=l);const f=_se(o,r);Array.isArray(f)&&(c.easing=f);const h={delay:i,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),n.animate(c,h)}function bse(n){return typeof n=="function"&&"applyToOptions"in n}function XMe({type:n,...e}){return bse(n)&&xse()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class YMe extends gV{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,aV(typeof e.type!="string");const u=XMe(e);this.animation=WMe(t,i,r,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const c=mV(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):GMe(t,i,c),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Xu(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xu(e)}get time(){return Xu(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Sh(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&VMe()?(this.animation.timeline=e,qu):t(this)}}const Sse={anticipate:$ae,backInOut:Qae,circInOut:tse};function qMe(n){return n in Sse}function ZMe(n){typeof n.ease=="string"&&qMe(n.ease)&&(n.ease=Sse[n.ease])}const OW=10;class KMe extends YMe{constructor(e){ZMe(e),mse(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:a,...s}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const o=new MI({...s,autoplay:!1}),l=Sh(this.finishedTime??this.time);t.setWithVelocity(o.sample(l-OW).value,o.sample(l).value,OW),o.stop()}}const zW=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ym.test(n)||n==="0")&&!n.startsWith("url("));function JMe(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function QMe(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],s=zW(r,e),o=zW(a,e);return!s||!o?!1:JMe(n)||(t==="spring"||bse(t))&&i}function fF(n){n.duration=0,n.type="keyframes"}const $Me=new Set(["opacity","clipPath","filter","transform"]),e2e=sV(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function t2e(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:a,type:s}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return e2e()&&t&&$Me.has(t)&&(t!=="transform"||!u)&&!l&&!i&&r!=="mirror"&&a!==0&&s!=="inertia"}const n2e=40;class i2e extends gV{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:s="loop",keyframes:o,name:l,motionValue:u,element:c,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=fl.now();const h={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:a,repeatType:s,name:l,motionValue:u,element:c,...f},d=c?.KeyframeResolver||yV;this.keyframeResolver=new d(o,(v,m,y)=>this.onKeyframesResolved(v,m,h,!y),l,u,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:a,type:s,velocity:o,delay:l,isHandoff:u,onUpdate:c}=i;this.resolvedAt=fl.now(),QMe(e,a,s,o)||((gp.instantAnimations||!l)&&c?.(mV(e,i,t)),e[0]=e[e.length-1],fF(i),i.repeat=0);const h={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>n2e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},d=!u&&t2e(h)?new KMe({...h,element:h.motionValue.owner.current}):new MI(h);d.finished.then(()=>this.notifyFinished()).catch(qu),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),FMe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const r2e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function a2e(n){const e=r2e.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function Ase(n,e,t=1){const[i,r]=a2e(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const s=a.trim();return Hae(s)?parseFloat(s):s}return fV(r)?Ase(r,e,t+1):r}function xV(n,e){return n?.[e]??n?.default??n}const Mse=new Set(["width","height","top","left","right","bottom",...Jb]),s2e={test:n=>n==="auto",parse:n=>n},Tse=n=>e=>e.test(n),Cse=[Kb,Mn,Ah,Bv,QAe,JAe,s2e],kW=n=>Cse.find(Tse(n));function o2e(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Xae(n):!0}const l2e=new Set(["brightness","contrast","saturate","opacity"]);function u2e(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(hV)||[];if(!i)return n;const r=t.replace(i,"");let a=l2e.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+r+")"}const c2e=/\b([a-z-]*)\(.*?\)/gu,hF={...ym,getAnimatableNone:n=>{const e=n.match(c2e);return e?e.map(u2e).join(" "):n}},FW={...Kb,transform:Math.round},f2e={rotate:Bv,rotateX:Bv,rotateY:Bv,rotateZ:Bv,scale:PE,scaleX:PE,scaleY:PE,scaleZ:PE,skew:Bv,skewX:Bv,skewY:Bv,distance:Mn,translateX:Mn,translateY:Mn,translateZ:Mn,x:Mn,y:Mn,z:Mn,perspective:Mn,transformPerspective:Mn,opacity:_T,originX:CW,originY:CW,originZ:Mn},_V={borderWidth:Mn,borderTopWidth:Mn,borderRightWidth:Mn,borderBottomWidth:Mn,borderLeftWidth:Mn,borderRadius:Mn,radius:Mn,borderTopLeftRadius:Mn,borderTopRightRadius:Mn,borderBottomRightRadius:Mn,borderBottomLeftRadius:Mn,width:Mn,maxWidth:Mn,height:Mn,maxHeight:Mn,top:Mn,right:Mn,bottom:Mn,left:Mn,padding:Mn,paddingTop:Mn,paddingRight:Mn,paddingBottom:Mn,paddingLeft:Mn,margin:Mn,marginTop:Mn,marginRight:Mn,marginBottom:Mn,marginLeft:Mn,backgroundPositionX:Mn,backgroundPositionY:Mn,...f2e,zIndex:FW,fillOpacity:_T,strokeOpacity:_T,numOctaves:FW},h2e={..._V,color:Ma,backgroundColor:Ma,outlineColor:Ma,fill:Ma,stroke:Ma,borderColor:Ma,borderTopColor:Ma,borderRightColor:Ma,borderBottomColor:Ma,borderLeftColor:Ma,filter:hF,WebkitFilter:hF},wse=n=>h2e[n];function Ese(n,e){let t=wse(n);return t!==hF&&(t=ym),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const d2e=new Set(["auto","none","0"]);function p2e(n,e,t){let i=0,r;for(;i<n.length&&!r;){const a=n[i];typeof a=="string"&&!d2e.has(a)&&bT(a).values.length&&(r=n[i]),i++}if(r&&t)for(const a of e)n[a]=Ese(t,r)}class v2e extends yV{constructor(e,t,i,r,a){super(e,t,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),fV(u))){const c=Ase(u,t.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Mse.has(i)||e.length!==2)return;const[r,a]=e,s=kW(r),o=kW(a);if(s!==o)if(PW(s)&&PW(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else uy[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||o2e(e[r]))&&i.push(r);i.length&&p2e(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=uy[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,s=i[a];i[a]=uy[t](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,l])=>{e.getValue(o).set(l)}),this.resolveNoneKeyframes()}}function m2e(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=t?.[n]??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const Dse=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Rse(n){return Wae(n)&&"offsetHeight"in n}const UW=30,g2e=n=>!isNaN(parseFloat(n)),R2={current:void 0};class y2e{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=fl.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=fl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=g2e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new oV);const i=this.events[e].add(t);return e==="change"?()=>{i(),sr.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return R2.current&&R2.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=fl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>UW)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,UW);return Yae(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wy(n,e){return new y2e(n,e)}const{schedule:bV}=rse(queueMicrotask,!1),Fc={x:!1,y:!1};function Lse(){return Fc.x||Fc.y}function x2e(n){return n==="x"||n==="y"?Fc[n]?null:(Fc[n]=!0,()=>{Fc[n]=!1}):Fc.x||Fc.y?null:(Fc.x=Fc.y=!0,()=>{Fc.x=Fc.y=!1})}function Nse(n,e){const t=m2e(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function GW(n){return!(n.pointerType==="touch"||Lse())}function _2e(n,e,t={}){const[i,r,a]=Nse(n,t),s=o=>{if(!GW(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const c=f=>{GW(f)&&(u(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,r)};return i.forEach(o=>{o.addEventListener("pointerenter",s,r)}),a}const Ise=(n,e)=>e?n===e?!0:Ise(n,e.parentElement):!1,SV=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,b2e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function S2e(n){return b2e.has(n.tagName)||n.tabIndex!==-1}const s3=new WeakSet;function VW(n){return e=>{e.key==="Enter"&&n(e)}}function dO(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const A2e=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=VW(()=>{if(s3.has(t))return;dO(t,"down");const r=VW(()=>{dO(t,"up")}),a=()=>dO(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function jW(n){return SV(n)&&!Lse()}function M2e(n,e,t={}){const[i,r,a]=Nse(n,t),s=o=>{const l=o.currentTarget;if(!jW(o))return;s3.add(l);const u=e(l,o),c=(d,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),s3.has(l)&&s3.delete(l),jW(d)&&typeof u=="function"&&u(d,{success:v})},f=d=>{c(d,l===window||l===document||t.useGlobalTarget||Ise(l,d.target))},h=d=>{c(d,!1)};window.addEventListener("pointerup",f,r),window.addEventListener("pointercancel",h,r)};return i.forEach(o=>{(t.useGlobalTarget?window:o).addEventListener("pointerdown",s,r),Rse(o)&&(o.addEventListener("focus",u=>A2e(u,r)),!S2e(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function Pse(n){return Wae(n)&&"ownerSVGElement"in n}function T2e(n){return Pse(n)&&n.tagName==="svg"}function C2e(...n){const e=!Array.isArray(n[0]),t=e?0:-1,i=n[0+t],r=n[1+t],a=n[2+t],s=n[3+t],o=vse(r,a,s);return e?o(i):o}const hs=n=>!!(n&&n.getVelocity);function w2e(n,e,t){const i=n.get();let r=null,a=i,s;const o=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,l=()=>{r&&(r.stop(),r=null)},u=()=>{l(),r=new MI({keyframes:[WW(n.get()),WW(a)],velocity:n.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:s})};if(n.attach((c,f)=>{a=c,s=h=>f(HW(h,o)),sr.postRender(u)},l),hs(e)){const c=e.on("change",h=>n.set(HW(h,o))),f=n.on("destroy",c);return()=>{c(),f()}}return l}function HW(n,e){return e?n+e:n}function WW(n){return typeof n=="number"?n:parseFloat(n)}const E2e=[...Cse,Ma,ym],D2e=n=>E2e.find(Tse(n)),CC=Y.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function XW(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function R2e(...n){return e=>{let t=!1;const i=n.map(r=>{const a=XW(r,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let r=0;r<i.length;r++){const a=i[r];typeof a=="function"?a():XW(n[r],null)}}}}function L2e(...n){return Y.useCallback(R2e(...n),n)}class N2e extends Y.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,r=Rse(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function I2e({children:n,isPresent:e,anchorX:t,root:i}){const r=Y.useId(),a=Y.useRef(null),s=Y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=Y.useContext(CC),l=L2e(a,n?.ref);return Y.useInsertionEffect(()=>{const{width:u,height:c,top:f,left:h,right:d}=s.current;if(e||!a.current||!u||!c)return;const v=t==="left"?`left: ${h}`:`right: ${d}`;a.current.dataset.motionPopId=r;const m=document.createElement("style");o&&(m.nonce=o);const y=i??document.head;return y.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{y.contains(m)&&y.removeChild(m)}},[e]),T.jsx(N2e,{isPresent:e,childRef:a,sizeRef:s,children:Y.cloneElement(n,{ref:l})})}const P2e=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:a,mode:s,anchorX:o,root:l})=>{const u=SC(B2e),c=Y.useId();let f=!0,h=Y.useMemo(()=>(f=!1,{id:c,initial:e,isPresent:t,custom:r,onExitComplete:d=>{u.set(d,!0);for(const v of u.values())if(!v)return;i&&i()},register:d=>(u.set(d,!1),()=>u.delete(d))}),[t,u,i]);return a&&f&&(h={...h}),Y.useMemo(()=>{u.forEach((d,v)=>u.set(v,!1))},[t]),Y.useEffect(()=>{!t&&!u.size&&i&&i()},[t]),s==="popLayout"&&(n=T.jsx(I2e,{isPresent:t,anchorX:o,root:l,children:n})),T.jsx(AI.Provider,{value:h,children:n})};function B2e(){return new Map}function Bse(n=!0){const e=Y.useContext(AI);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,a=Y.useId();Y.useEffect(()=>{if(n)return r(a)},[n]);const s=Y.useCallback(()=>n&&i&&i(a),[a,i,n]);return!t&&i?[!1,s]:[!0]}const BE=n=>n.key||"";function YW(n){const e=[];return Y.Children.forEach(n,t=>{Y.isValidElement(t)&&e.push(t)}),e}const O2e=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:a="sync",propagate:s=!1,anchorX:o="left",root:l})=>{const[u,c]=Bse(s),f=Y.useMemo(()=>YW(n),[n]),h=s&&!u?[]:f.map(BE),d=Y.useRef(!0),v=Y.useRef(f),m=SC(()=>new Map),[y,x]=Y.useState(f),[b,M]=Y.useState(f);nV(()=>{d.current=!1,v.current=f;for(let E=0;E<b.length;E++){const L=BE(b[E]);h.includes(L)?m.delete(L):m.get(L)!==!0&&m.set(L,!1)}},[b,h.length,h.join("-")]);const C=[];if(f!==y){let E=[...f];for(let L=0;L<b.length;L++){const P=b[L],I=BE(P);h.includes(I)||(E.splice(L,0,P),C.push(P))}return a==="wait"&&C.length&&(E=C),M(YW(E)),x(f),null}const{forceRender:w}=Y.useContext(eV);return T.jsx(T.Fragment,{children:b.map(E=>{const L=BE(E),P=s&&!u?!1:f===b||h.includes(L),I=()=>{if(m.has(L))m.set(L,!0);else return;let N=!0;m.forEach(z=>{z||(N=!1)}),N&&(w?.(),M(v.current),s&&c?.(),i&&i())};return T.jsx(P2e,{isPresent:P,initial:!d.current||t?void 0:!1,custom:e,presenceAffectsLayout:r,mode:a,root:l,onExitComplete:P?void 0:I,anchorX:o,children:E},L)})})},Ose=Y.createContext({strict:!1}),qW={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ob={};for(const n in qW)ob[n]={isEnabled:e=>qW[n].some(t=>!!e[t])};function z2e(n){for(const e in n)ob[e]={...ob[e],...n[e]}}const k2e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function eL(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||k2e.has(n)}let zse=n=>!eL(n);function F2e(n){typeof n=="function"&&(zse=e=>e.startsWith("on")?!eL(e):n(e))}try{F2e(require("@emotion/is-prop-valid").default)}catch{}function U2e(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(zse(r)||t===!0&&eL(r)||!e&&!eL(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}const TI=Y.createContext({});function CI(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function ST(n){return typeof n=="string"||Array.isArray(n)}const AV=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],MV=["initial",...AV];function wI(n){return CI(n.animate)||MV.some(e=>ST(n[e]))}function kse(n){return!!(wI(n)||n.variants)}function G2e(n,e){if(wI(n)){const{initial:t,animate:i}=n;return{initial:t===!1||ST(t)?t:void 0,animate:ST(i)?i:void 0}}return n.inherit!==!1?e:{}}function V2e(n){const{initial:e,animate:t}=G2e(n,Y.useContext(TI));return Y.useMemo(()=>({initial:e,animate:t}),[ZW(e),ZW(t)])}function ZW(n){return Array.isArray(n)?n.join(" "):n}const AT={};function j2e(n){for(const e in n)AT[e]=n[e],cV(e)&&(AT[e].isCSSVariable=!0)}function Fse(n,{layout:e,layoutId:t}){return Qb.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!AT[n]||n==="opacity")}const H2e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},W2e=Jb.length;function X2e(n,e,t){let i="",r=!0;for(let a=0;a<W2e;a++){const s=Jb[a],o=n[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||t){const u=Dse(o,_V[s]);if(!l){r=!1;const c=H2e[s]||s;i+=`${c}(${u}) `}t&&(e[s]=u)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function TV(n,e,t){const{style:i,vars:r,transformOrigin:a}=n;let s=!1,o=!1;for(const l in e){const u=e[l];if(Qb.has(l)){s=!0;continue}else if(cV(l)){r[l]=u;continue}else{const c=Dse(u,_V[l]);l.startsWith("origin")?(o=!0,a[l]=c):i[l]=c}}if(e.transform||(s||t?i.transform=X2e(e,n.transform,t):i.transform&&(i.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=a;i.transformOrigin=`${l} ${u} ${c}`}}const CV=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Use(n,e,t){for(const i in e)!hs(e[i])&&!Fse(i,t)&&(n[i]=e[i])}function Y2e({transformTemplate:n},e){return Y.useMemo(()=>{const t=CV();return TV(t,e,n),Object.assign({},t.vars,t.style)},[e])}function q2e(n,e){const t=n.style||{},i={};return Use(i,t,n),Object.assign(i,Y2e(n,e)),i}function Z2e(n,e){const t={},i=q2e(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const K2e={offset:"stroke-dashoffset",array:"stroke-dasharray"},J2e={offset:"strokeDashoffset",array:"strokeDasharray"};function Q2e(n,e,t=1,i=0,r=!0){n.pathLength=1;const a=r?K2e:J2e;n[a.offset]=Mn.transform(-i);const s=Mn.transform(e),o=Mn.transform(t);n[a.array]=`${s} ${o}`}function Gse(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:s=0,...o},l,u,c){if(TV(n,o,u),l){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:f,style:h}=n;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=c?.transformBox??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),t!==void 0&&(f.y=t),i!==void 0&&(f.scale=i),r!==void 0&&Q2e(f,r,a,s,!1)}const Vse=()=>({...CV(),attrs:{}}),jse=n=>typeof n=="string"&&n.toLowerCase()==="svg";function $2e(n,e,t,i){const r=Y.useMemo(()=>{const a=Vse();return Gse(a,e,jse(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};Use(a,n.style,n),r.style={...a,...r.style}}return r}const eTe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wV(n){return typeof n!="string"||n.includes("-")?!1:!!(eTe.indexOf(n)>-1||/[A-Z]/u.test(n))}function tTe(n,e,t,{latestValues:i},r,a=!1){const o=(wV(n)?$2e:Z2e)(e,i,r,n),l=U2e(e,typeof n=="string",a),u=n!==Y.Fragment?{...l,...o,ref:t}:{},{children:c}=e,f=Y.useMemo(()=>hs(c)?c.get():c,[c]);return Y.createElement(n,{...u,children:f})}function KW(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function EV(n,e,t,i){if(typeof e=="function"){const[r,a]=KW(i);e=e(t!==void 0?t:n.custom,r,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,a]=KW(i);e=e(t!==void 0?t:n.custom,r,a)}return e}function o3(n){return hs(n)?n.get():n}function nTe({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:iTe(t,i,r,n),renderState:e()}}function iTe(n,e,t,i){const r={},a=i(n,{});for(const h in a)r[h]=o3(a[h]);let{initial:s,animate:o}=n;const l=wI(n),u=kse(n);e&&u&&!l&&n.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let c=t?t.initial===!1:!1;c=c||s===!1;const f=c?o:s;if(f&&typeof f!="boolean"&&!CI(f)){const h=Array.isArray(f)?f:[f];for(let d=0;d<h.length;d++){const v=EV(n,h[d]);if(v){const{transitionEnd:m,transition:y,...x}=v;for(const b in x){let M=x[b];if(Array.isArray(M)){const C=c?M.length-1:0;M=M[C]}M!==null&&(r[b]=M)}for(const b in m)r[b]=m[b]}}}return r}const Hse=n=>(e,t)=>{const i=Y.useContext(TI),r=Y.useContext(AI),a=()=>nTe(n,e,i,r);return t?a():SC(a)};function DV(n,e,t){const{style:i}=n,r={};for(const a in i)(hs(i[a])||e.style&&hs(e.style[a])||Fse(a,n)||t?.getValue(a)?.liveStyle!==void 0)&&(r[a]=i[a]);return r}const rTe=Hse({scrapeMotionValuesFromProps:DV,createRenderState:CV});function Wse(n,e,t){const i=DV(n,e,t);for(const r in n)if(hs(n[r])||hs(e[r])){const a=Jb.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=n[r]}return i}const aTe=Hse({scrapeMotionValuesFromProps:Wse,createRenderState:Vse}),sTe=Symbol.for("motionComponentSymbol");function M1(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function oTe(n,e,t){return Y.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):M1(t)&&(t.current=i))},[e])}const RV=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lTe="framerAppearId",Xse="data-"+RV(lTe),Yse=Y.createContext({});function uTe(n,e,t,i,r){const{visualElement:a}=Y.useContext(TI),s=Y.useContext(Ose),o=Y.useContext(AI),l=Y.useContext(CC).reducedMotion,u=Y.useRef(null);i=i||s.renderer,!u.current&&i&&(u.current=i(n,{visualState:e,parent:a,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,f=Y.useContext(Yse);c&&!c.projection&&r&&(c.type==="html"||c.type==="svg")&&cTe(u.current,t,r,f);const h=Y.useRef(!1);Y.useInsertionEffect(()=>{c&&h.current&&c.update(t,o)});const d=t[Xse],v=Y.useRef(!!d&&!window.MotionHandoffIsComplete?.(d)&&window.MotionHasOptimisedAnimation?.(d));return nV(()=>{c&&(h.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),v.current&&c.animationState&&c.animationState.animateChanges())}),Y.useEffect(()=>{c&&(!v.current&&c.animationState&&c.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(d)}),v.current=!1),c.enteringChildren=void 0)}),c}function cTe(n,e,t,i){const{layoutId:r,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:qse(n.parent)),n.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!s||o&&M1(o),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:c,layoutScroll:l,layoutRoot:u})}function qse(n){if(n)return n.options.allowProjection!==!1?n.projection:qse(n.parent)}function pO(n,{forwardMotionProps:e=!1}={},t,i){t&&z2e(t);const r=wV(n)?aTe:rTe;function a(o,l){let u;const c={...Y.useContext(CC),...o,layoutId:fTe(o)},{isStatic:f}=c,h=V2e(o),d=r(o,f);if(!f&&tV){hTe();const v=dTe(c);u=v.MeasureLayout,h.visualElement=uTe(n,d,c,i,v.ProjectionNode)}return T.jsxs(TI.Provider,{value:h,children:[u&&h.visualElement?T.jsx(u,{visualElement:h.visualElement,...c}):null,tTe(n,o,oTe(d,h.visualElement,l),d,f,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const s=Y.forwardRef(a);return s[sTe]=n,s}function fTe({layoutId:n}){const e=Y.useContext(eV).id;return e&&n!==void 0?e+"-"+n:n}function hTe(n,e){Y.useContext(Ose).strict}function dTe(n){const{drag:e,layout:t}=ob;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function pTe(n,e){if(typeof Proxy>"u")return pO;const t=new Map,i=(a,s)=>pO(a,s,n,e),r=(a,s)=>i(a,s);return new Proxy(r,{get:(a,s)=>s==="create"?i:(t.has(s)||t.set(s,pO(s,void 0,n,e)),t.get(s))})}function Zse({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function vTe({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function mTe(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function vO(n){return n===void 0||n===1}function dF({scale:n,scaleX:e,scaleY:t}){return!vO(n)||!vO(e)||!vO(t)}function C0(n){return dF(n)||Kse(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Kse(n){return JW(n.x)||JW(n.y)}function JW(n){return n&&n!=="0%"}function tL(n,e,t){const i=n-t,r=e*i;return t+r}function QW(n,e,t,i,r){return r!==void 0&&(n=tL(n,r,i)),tL(n,t,i)+e}function pF(n,e=0,t=1,i,r){n.min=QW(n.min,e,t,i,r),n.max=QW(n.max,e,t,i,r)}function Jse(n,{x:e,y:t}){pF(n.x,e.translate,e.scale,e.originPoint),pF(n.y,t.translate,t.scale,t.originPoint)}const $W=.999999999999,eX=1.0000000000001;function gTe(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let a,s;for(let o=0;o<r;o++){a=t[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&C1(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,Jse(n,s)),i&&C0(a.latestValues)&&C1(n,a.latestValues))}e.x<eX&&e.x>$W&&(e.x=1),e.y<eX&&e.y>$W&&(e.y=1)}function T1(n,e){n.min=n.min+e,n.max=n.max+e}function tX(n,e,t,i,r=.5){const a=Pr(n.min,n.max,r);pF(n,e,t,a,i)}function C1(n,e){tX(n.x,e.x,e.scaleX,e.scale,e.originX),tX(n.y,e.y,e.scaleY,e.scale,e.originY)}function Qse(n,e){return Zse(mTe(n.getBoundingClientRect(),e))}function yTe(n,e,t){const i=Qse(n,t),{scroll:r}=e;return r&&(T1(i.x,r.offset.x),T1(i.y,r.offset.y)),i}const nX=()=>({translate:0,scale:1,origin:0,originPoint:0}),w1=()=>({x:nX(),y:nX()}),iX=()=>({min:0,max:0}),la=()=>({x:iX(),y:iX()}),vF={current:null},$se={current:!1};function xTe(){if($se.current=!0,!!tV)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>vF.current=n.matches;n.addEventListener("change",e),e()}else vF.current=!1}const _Te=new WeakMap;function bTe(n,e,t){for(const i in e){const r=e[i],a=t[i];if(hs(r))n.addValue(i,r);else if(hs(a))n.addValue(i,wy(r,{owner:n}));else if(a!==r)if(n.hasValue(i)){const s=n.getValue(i);s.liveStyle===!0?s.jump(r):s.hasAnimated||s.set(r)}else{const s=n.getStaticValue(i);n.addValue(i,wy(s!==void 0?s:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const rX=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class STe{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yV,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=fl.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,sr.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=wI(t),this.isVariantNode=kse(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(t,{},this);for(const h in f){const d=f[h];l[h]!==void 0&&hs(d)&&d.set(l[h])}}mount(e){this.current=e,_Te.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),$se.current||xTe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vF.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),yp(this.notifyUpdate),yp(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Qb.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&sr.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ob){const t=ob[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):la()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<rX.length;i++){const r=rX[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,s=e[a];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=bTe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=wy(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Hae(i)||Xae(i))?i=parseFloat(i):!D2e(i)&&ym.test(t)&&(i=Ese(e,t)),this.setBaseTarget(e,hs(i)?i.get():i)),hs(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const a=EV(this.props,t,this.presenceContext?.custom);a&&(i=a[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!hs(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new oV),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){bV.render(this.render)}}class eoe extends STe{constructor(){super(...arguments),this.KeyframeResolver=v2e}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function toe(n,{style:e,vars:t},i,r){const a=n.style;let s;for(s in e)a[s]=e[s];r?.applyProjectionStyles(a,i);for(s in t)a.setProperty(s,t[s])}function ATe(n){return window.getComputedStyle(n)}class MTe extends eoe{constructor(){super(...arguments),this.type="html",this.renderInstance=toe}readValueFromInstance(e,t){if(Qb.has(t))return this.projection?.isProjecting?sF(t):PMe(e,t);{const i=ATe(e),r=(cV(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Qse(e,t)}build(e,t,i){TV(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return DV(e,t,i)}}const noe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TTe(n,e,t,i){toe(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(noe.has(r)?r:RV(r),e.attrs[r])}class CTe extends eoe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=la}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Qb.has(t)){const i=wse(t);return i&&i.default||0}return t=noe.has(t)?t:RV(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return Wse(e,t,i)}build(e,t,i){Gse(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){TTe(e,t,i,r)}mount(e){this.isSVGTag=jse(e.tagName),super.mount(e)}}const wTe=(n,e)=>wV(n)?new CTe(e):new MTe(e,{allowProjection:n!==Y.Fragment});function H1(n,e,t){const i=n.getProps();return EV(i,e,t!==void 0?t:i.custom,n)}const mF=n=>Array.isArray(n);function ETe(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,wy(t))}function DTe(n){return mF(n)?n[n.length-1]||0:n}function RTe(n,e){const t=H1(n,e);let{transitionEnd:i={},transition:r={},...a}=t||{};a={...a,...i};for(const s in a){const o=DTe(a[s]);ETe(n,s,o)}}function LTe(n){return!!(hs(n)&&n.add)}function gF(n,e){const t=n.getValue("willChange");if(LTe(t))return t.add(e);if(!t&&gp.WillChange){const i=new gp.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function ioe(n){return n.props[Xse]}const NTe=n=>n!==null;function ITe(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(NTe),a=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[a]}const PTe={type:"spring",stiffness:500,damping:25,restSpeed:10},BTe=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),OTe={type:"keyframes",duration:.8},zTe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kTe=(n,{keyframes:e})=>e.length>2?OTe:Qb.has(n)?n.startsWith("scale")?BTe(e[1]):PTe:zTe;function FTe({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const LV=(n,e,t,i={},r,a)=>s=>{const o=xV(i,n)||{},l=o.delay||i.delay||0;let{elapsed:u=0}=i;u=u-Sh(l);const c={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:n,motionValue:e,element:a?void 0:r};FTe(o)||Object.assign(c,kTe(n,c)),c.duration&&(c.duration=Sh(c.duration)),c.repeatDelay&&(c.repeatDelay=Sh(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(fF(c),c.delay===0&&(f=!0)),(gp.instantAnimations||gp.skipAnimations)&&(f=!0,fF(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,f&&!a&&e.get()!==void 0){const h=ITe(c.keyframes,o);if(h!==void 0){sr.update(()=>{c.onUpdate(h),c.onComplete()});return}}return o.isSync?new MI(c):new i2e(c)};function UTe({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function roe(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:s,...o}=e;i&&(a=i);const l=[],u=r&&n.animationState&&n.animationState.getState()[r];for(const c in o){const f=n.getValue(c,n.latestValues[c]??null),h=o[c];if(h===void 0||u&&UTe(u,c))continue;const d={delay:t,...xV(a||{},c)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===v&&!d.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const x=ioe(n);if(x){const b=window.MotionHandoffAnimation(x,c,sr);b!==null&&(d.startTime=b,m=!0)}}gF(n,c),f.start(LV(c,f,h,n.shouldReduceMotion&&Mse.has(c)?{type:!1}:d,n,m));const y=f.animation;y&&l.push(y)}return s&&Promise.all(l).then(()=>{sr.update(()=>{s&&RTe(n,s)})}),l}function aoe(n,e,t,i=0,r=1){const a=Array.from(n).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),s=n.size,o=(s-1)*i;return typeof t=="function"?t(a,s):r===1?a*i:o-a*i}function yF(n,e,t={}){const i=H1(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const a=i?()=>Promise.all(roe(n,i,t)):()=>Promise.resolve(),s=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:f}=r;return GTe(n,e,l,u,c,f,t)}:()=>Promise.resolve(),{when:o}=r;if(o){const[l,u]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>u())}else return Promise.all([a(),s(t.delay)])}function GTe(n,e,t=0,i=0,r=0,a=1,s){const o=[];for(const l of n.variantChildren)l.notify("AnimationStart",e),o.push(yF(l,e,{...s,delay:t+(typeof i=="function"?0:i)+aoe(n.variantChildren,l,i,r,a)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function VTe(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>yF(n,a,t));i=Promise.all(r)}else if(typeof e=="string")i=yF(n,e,t);else{const r=typeof e=="function"?H1(n,e,t.custom):e;i=Promise.all(roe(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function soe(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const jTe=MV.length;function ooe(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?ooe(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<jTe;t++){const i=MV[t],r=n.props[i];(ST(r)||r===!1)&&(e[i]=r)}return e}const HTe=[...AV].reverse(),WTe=AV.length;function XTe(n){return e=>Promise.all(e.map(({animation:t,options:i})=>VTe(n,t,i)))}function YTe(n){let e=XTe(n),t=aX(),i=!0;const r=l=>(u,c)=>{const f=H1(n,c,l==="exit"?n.presenceContext?.custom:void 0);if(f){const{transition:h,transitionEnd:d,...v}=f;u={...u,...v,...d}}return u};function a(l){e=l(n)}function s(l){const{props:u}=n,c=ooe(n.parent)||{},f=[],h=new Set;let d={},v=1/0;for(let y=0;y<WTe;y++){const x=HTe[y],b=t[x],M=u[x]!==void 0?u[x]:c[x],C=ST(M),w=x===l?b.isActive:null;w===!1&&(v=y);let E=M===c[x]&&M!==u[x]&&C;if(E&&i&&n.manuallyAnimateOnMount&&(E=!1),b.protectedKeys={...d},!b.isActive&&w===null||!M&&!b.prevProp||CI(M)||typeof M=="boolean")continue;const L=qTe(b.prevProp,M);let P=L||x===l&&b.isActive&&!E&&C||y>v&&C,I=!1;const N=Array.isArray(M)?M:[M];let z=N.reduce(r(x),{});w===!1&&(z={});const{prevResolvedValues:V={}}=b,U={...V,...z},j=X=>{P=!0,h.has(X)&&(I=!0,h.delete(X)),b.needsAnimating[X]=!0;const q=n.getValue(X);q&&(q.liveStyle=!1)};for(const X in U){const q=z[X],$=V[X];if(d.hasOwnProperty(X))continue;let te=!1;mF(q)&&mF($)?te=!soe(q,$):te=q!==$,te?q!=null?j(X):h.add(X):q!==void 0&&h.has(X)?j(X):b.protectedKeys[X]=!0}b.prevProp=M,b.prevResolvedValues=z,b.isActive&&(d={...d,...z}),i&&n.blockInitialAnimation&&(P=!1);const W=E&&L;P&&(!W||I)&&f.push(...N.map(X=>{const q={type:x};if(typeof X=="string"&&i&&!W&&n.manuallyAnimateOnMount&&n.parent){const{parent:$}=n,te=H1($,X);if($.enteringChildren&&te){const{delayChildren:J}=te.transition||{};q.delay=aoe($.enteringChildren,n,J)}}return{animation:X,options:q}}))}if(h.size){const y={};if(typeof u.initial!="boolean"){const x=H1(n,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(y.transition=x.transition)}h.forEach(x=>{const b=n.getBaseTarget(x),M=n.getValue(x);M&&(M.liveStyle=!0),y[x]=b??null}),f.push({animation:y})}let m=!!f.length;return i&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(m=!1),i=!1,m?e(f):Promise.resolve()}function o(l,u){if(t[l].isActive===u)return Promise.resolve();n.variantChildren?.forEach(f=>f.animationState?.setActive(l,u)),t[l].isActive=u;const c=s(l);for(const f in t)t[f].protectedKeys={};return c}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>t,reset:()=>{t=aX()}}}function qTe(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!soe(e,n):!1}function zg(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aX(){return{animate:zg(!0),whileInView:zg(),whileHover:zg(),whileTap:zg(),whileDrag:zg(),whileFocus:zg(),exit:zg()}}class Nm{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ZTe extends Nm{constructor(e){super(e),e.animationState||(e.animationState=YTe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();CI(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let KTe=0;class JTe extends Nm{constructor(){super(...arguments),this.id=KTe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const QTe={animation:{Feature:ZTe},exit:{Feature:JTe}};function MT(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function wC(n){return{point:{x:n.pageX,y:n.pageY}}}const $Te=n=>e=>SV(e)&&n(e,wC(e));function L2(n,e,t,i){return MT(n,e,$Te(t),i)}const loe=1e-4,eCe=1-loe,tCe=1+loe,uoe=.01,nCe=0-uoe,iCe=0+uoe;function Vo(n){return n.max-n.min}function rCe(n,e,t){return Math.abs(n-e)<=t}function sX(n,e,t,i=.5){n.origin=i,n.originPoint=Pr(e.min,e.max,n.origin),n.scale=Vo(t)/Vo(e),n.translate=Pr(t.min,t.max,n.origin)-n.originPoint,(n.scale>=eCe&&n.scale<=tCe||isNaN(n.scale))&&(n.scale=1),(n.translate>=nCe&&n.translate<=iCe||isNaN(n.translate))&&(n.translate=0)}function N2(n,e,t,i){sX(n.x,e.x,t.x,i?i.originX:void 0),sX(n.y,e.y,t.y,i?i.originY:void 0)}function oX(n,e,t){n.min=t.min+e.min,n.max=n.min+Vo(e)}function aCe(n,e,t){oX(n.x,e.x,t.x),oX(n.y,e.y,t.y)}function lX(n,e,t){n.min=e.min-t.min,n.max=n.min+Vo(e)}function I2(n,e,t){lX(n.x,e.x,t.x),lX(n.y,e.y,t.y)}function Pu(n){return[n("x"),n("y")]}const coe=({current:n})=>n?n.ownerDocument.defaultView:null,uX=(n,e)=>Math.abs(n-e);function sCe(n,e){const t=uX(n.x,e.x),i=uX(n.y,e.y);return Math.sqrt(t**2+i**2)}class foe{constructor(e,t,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=gO(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,v=sCe(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!d&&!v)return;const{point:m}=h,{timestamp:y}=Es;this.history.push({...m,timestamp:y});const{onStart:x,onMove:b}=this.handlers;d||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,d)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=mO(d,this.transformPagePoint),sr.update(this.updatePoint,!0)},this.handlePointerUp=(h,d)=>{this.end();const{onEnd:v,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=gO(h.type==="pointercancel"?this.lastMoveEventInfo:mO(d,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,x),m&&m(h,x)},!SV(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=s,this.contextWindow=r||window;const o=wC(e),l=mO(o,this.transformPagePoint),{point:u}=l,{timestamp:c}=Es;this.history=[{...u,timestamp:c}];const{onSessionStart:f}=t;f&&f(e,gO(l,this.history)),this.removeListeners=AC(L2(this.contextWindow,"pointermove",this.handlePointerMove),L2(this.contextWindow,"pointerup",this.handlePointerUp),L2(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),yp(this.updatePoint)}}function mO(n,e){return e?{point:e(n.point)}:n}function cX(n,e){return{x:n.x-e.x,y:n.y-e.y}}function gO({point:n},e){return{point:n,delta:cX(n,hoe(e)),offset:cX(n,oCe(e)),velocity:lCe(e,.1)}}function oCe(n){return n[0]}function hoe(n){return n[n.length-1]}function lCe(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=hoe(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Sh(e)));)t--;if(!i)return{x:0,y:0};const a=Xu(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const s={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function uCe(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Pr(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Pr(t,n,i.max):Math.min(n,t)),n}function fX(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function cCe(n,{top:e,left:t,bottom:i,right:r}){return{x:fX(n.x,t,r),y:fX(n.y,e,i)}}function hX(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function fCe(n,e){return{x:hX(n.x,e.x),y:hX(n.y,e.y)}}function hCe(n,e){let t=.5;const i=Vo(n),r=Vo(e);return r>i?t=xT(e.min,e.max-i,n.min):i>r&&(t=xT(n.min,n.max-r,e.min)),mp(0,1,t)}function dCe(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const xF=.35;function pCe(n=xF){return n===!1?n=0:n===!0&&(n=xF),{x:dX(n,"left","right"),y:dX(n,"top","bottom")}}function dX(n,e,t){return{min:pX(n,e),max:pX(n,t)}}function pX(n,e){return typeof n=="number"?n:n[e]||0}const vCe=new WeakMap;class mCe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=la(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(wC(f).point)},s=(f,h)=>{const{drag:d,dragPropagation:v,onDragStart:m}=this.getProps();if(d&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=x2e(d),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pu(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Ah.test(b)){const{projection:M}=this.visualElement;if(M&&M.layout){const C=M.layout.layoutBox[x];C&&(b=Vo(C)*(parseFloat(b)/100))}}this.originPoint[x]=b}),m&&sr.postRender(()=>m(f,h)),gF(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:d,dragDirectionLock:v,onDirectionLock:m,onDrag:y}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:x}=h;if(v&&this.currentDirection===null){this.currentDirection=gCe(x),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),y&&y(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Pu(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new foe(e,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:i,contextWindow:coe(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,r=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&sr.postRender(()=>o(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!OE(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(s=uCe(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&M1(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=cCe(i.layoutBox,e):this.constraints=!1,this.elastic=pCe(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Pu(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=dCe(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!M1(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=yTe(i,r.root,this.visualElement.getTransformPagePoint());let s=fCe(r.layout.layoutBox,a);if(t){const o=t(vTe(s));this.hasMutatedConstraints=!!o,o&&(s=Zse(o))}return s}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Pu(c=>{if(!OE(c,t,this.currentDirection))return;let f=l&&l[c]||{};s&&(f={min:0,max:0});const h=r?200:1e6,d=r?40:1e7,v={type:"inertia",velocity:i?e[c]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(o)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return gF(this.visualElement,e),i.start(LV(e,i,0,t,this.visualElement,!1))}stopAnimation(){Pu(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Pu(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Pu(t=>{const{drag:i}=this.getProps();if(!OE(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:s,max:o}=r.layout.layoutBox[t];a.set(e[t]-Pr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!M1(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Pu(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();r[s]=hCe({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Pu(s=>{if(!OE(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(Pr(l,u,r[s]))})}addListeners(){if(!this.visualElement.current)return;vCe.set(this.visualElement,this);const e=this.visualElement.current,t=L2(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();M1(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),sr.read(i);const s=MT(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Pu(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())}));return()=>{s(),t(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:s=xF,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function OE(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function gCe(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class yCe extends Nm{constructor(e){super(e),this.removeGroupControls=qu,this.removeListeners=qu,this.controls=new mCe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qu}unmount(){this.removeGroupControls(),this.removeListeners()}}const vX=n=>(e,t)=>{n&&sr.postRender(()=>n(e,t))};class xCe extends Nm{constructor(){super(...arguments),this.removePointerDownListener=qu}onPointerDown(e){this.session=new foe(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:coe(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:vX(e),onStart:vX(t),onMove:i,onEnd:(a,s)=>{delete this.session,r&&sr.postRender(()=>r(a,s))}}}mount(){this.removePointerDownListener=L2(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const l3={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mX(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const nM={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Mn.test(n))n=parseFloat(n);else return n;const t=mX(n,e.target.x),i=mX(n,e.target.y);return`${t}% ${i}%`}},_Ce={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=ym.parse(n);if(r.length>5)return i;const a=ym.createTransformer(n),s=typeof r[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;r[0+s]/=o,r[1+s]/=l;const u=Pr(o,l,.5);return typeof r[2+s]=="number"&&(r[2+s]/=u),typeof r[3+s]=="number"&&(r[3+s]/=u),a(r)}};let yO=!1;class bCe extends Y.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;j2e(SCe),a&&(t.group&&t.group.add(a),i&&i.register&&r&&i.register(a),yO&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),l3.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:a}=this.props,{projection:s}=i;return s&&(s.isPresent=a,yO=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||sr.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),bV.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;yO=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function doe(n){const[e,t]=Bse(),i=Y.useContext(eV);return T.jsx(bCe,{...n,layoutGroup:i,switchLayoutGroup:Y.useContext(Yse),isPresent:e,safeToRemove:t})}const SCe={borderRadius:{...nM,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nM,borderTopRightRadius:nM,borderBottomLeftRadius:nM,borderBottomRightRadius:nM,boxShadow:_Ce};function ACe(n,e,t){const i=hs(n)?n:wy(n);return i.start(LV("",i,e,t)),i.animation}const MCe=(n,e)=>n.depth-e.depth;class TCe{constructor(){this.children=[],this.isDirty=!1}add(e){iV(this.children,e),this.isDirty=!0}remove(e){rV(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(MCe),this.isDirty=!1,this.children.forEach(e)}}function CCe(n,e){const t=fl.now(),i=({timestamp:r})=>{const a=r-t;a>=e&&(yp(i),n(a-e))};return sr.setup(i,!0),()=>yp(i)}const poe=["TopLeft","TopRight","BottomLeft","BottomRight"],wCe=poe.length,gX=n=>typeof n=="string"?parseFloat(n):n,yX=n=>typeof n=="number"||Mn.test(n);function ECe(n,e,t,i,r,a){r?(n.opacity=Pr(0,t.opacity??1,DCe(i)),n.opacityExit=Pr(e.opacity??1,0,RCe(i))):a&&(n.opacity=Pr(e.opacity??1,t.opacity??1,i));for(let s=0;s<wCe;s++){const o=`border${poe[s]}Radius`;let l=xX(e,o),u=xX(t,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||yX(l)===yX(u)?(n[o]=Math.max(Pr(gX(l),gX(u),i),0),(Ah.test(u)||Ah.test(l))&&(n[o]+="%")):n[o]=u}(e.rotate||t.rotate)&&(n.rotate=Pr(e.rotate||0,t.rotate||0,i))}function xX(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const DCe=voe(0,.5,ese),RCe=voe(.5,.95,qu);function voe(n,e,t){return i=>i<n?0:i>e?1:t(xT(n,e,i))}function _X(n,e){n.min=e.min,n.max=e.max}function wu(n,e){_X(n.x,e.x),_X(n.y,e.y)}function bX(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function SX(n,e,t,i,r){return n-=e,n=tL(n,1/t,i),r!==void 0&&(n=tL(n,1/r,i)),n}function LCe(n,e=0,t=1,i=.5,r,a=n,s=n){if(Ah.test(e)&&(e=parseFloat(e),e=Pr(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=Pr(a.min,a.max,i);n===a&&(o-=e),n.min=SX(n.min,e,t,o,r),n.max=SX(n.max,e,t,o,r)}function AX(n,e,[t,i,r],a,s){LCe(n,e[t],e[i],e[r],e.scale,a,s)}const NCe=["x","scaleX","originX"],ICe=["y","scaleY","originY"];function MX(n,e,t,i){AX(n.x,e,NCe,t?t.x:void 0,i?i.x:void 0),AX(n.y,e,ICe,t?t.y:void 0,i?i.y:void 0)}function TX(n){return n.translate===0&&n.scale===1}function moe(n){return TX(n.x)&&TX(n.y)}function CX(n,e){return n.min===e.min&&n.max===e.max}function PCe(n,e){return CX(n.x,e.x)&&CX(n.y,e.y)}function wX(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function goe(n,e){return wX(n.x,e.x)&&wX(n.y,e.y)}function EX(n){return Vo(n.x)/Vo(n.y)}function DX(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class BCe{constructor(){this.members=[]}add(e){iV(this.members,e),e.scheduleRender()}remove(e){if(rV(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OCe(n,e,t){let i="";const r=n.x.translate/e.x,a=n.y.translate/e.y,s=t?.z||0;if((r||a||s)&&(i=`translate3d(${r}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:h,skewX:d,skewY:v}=t;u&&(i=`perspective(${u}px) ${i}`),c&&(i+=`rotate(${c}deg) `),f&&(i+=`rotateX(${f}deg) `),h&&(i+=`rotateY(${h}deg) `),d&&(i+=`skewX(${d}deg) `),v&&(i+=`skewY(${v}deg) `)}const o=n.x.scale*e.x,l=n.y.scale*e.y;return(o!==1||l!==1)&&(i+=`scale(${o}, ${l})`),i||"none"}const xO=["","X","Y","Z"],zCe=1e3;let kCe=0;function _O(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function yoe(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=ioe(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",sr,!(r||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&yoe(i)}function xoe({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(s={},o=e?.()){this.id=kCe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(GCe),this.nodes.forEach(WCe),this.nodes.forEach(XCe),this.nodes.forEach(VCe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new TCe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new oV),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=Pse(s)&&!T2e(s),this.instance=s;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),n){let c,f=0;const h=()=>this.root.updateBlockedByResize=!1;sr.read(()=>{f=window.innerWidth}),n(s,()=>{const d=window.innerWidth;d!==f&&(f=d,this.root.updateBlockedByResize=!0,c&&c(),c=CCe(h,250),l3.hasAnimatedSinceResize&&(l3.hasAnimatedSinceResize=!1,this.nodes.forEach(NX)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||JCe,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=u.getProps(),x=!this.targetLayout||!goe(this.targetLayout,d),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...xV(v,"layout"),onPlay:m,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(c,b)}else f||NX(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),yp(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YCe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yoe(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(RX);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(LX);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(HCe),this.nodes.forEach(FCe),this.nodes.forEach(UCe)):this.nodes.forEach(LX),this.clearAllSnapshots();const o=fl.now();Es.delta=mp(0,1e3/60,o-Es.timestamp),Es.timestamp=o,Es.isProcessing=!0,lO.update.process(Es),lO.preRender.process(Es),lO.render.process(Es),Es.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bV.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jCe),this.sharedNodes.forEach(qCe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vo(this.snapshot.measuredBox.x)&&!Vo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=la(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!moe(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&this.instance&&(o||C0(this.latestValues)||c)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),QCe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return la();const o=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some($Ce))){const{scroll:u}=this.root;u&&(T1(o.x,u.offset.x),T1(o.y,u.offset.y))}return o}removeElementScroll(s){const o=la();if(wu(o,s),this.scroll?.wasRoot)return o;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:f}=u;u!==this.root&&c&&f.layoutScroll&&(c.wasRoot&&wu(o,s),T1(o.x,c.offset.x),T1(o.y,c.offset.y))}return o}applyTransform(s,o=!1){const l=la();wu(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&C1(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),C0(c.latestValues)&&C1(l,c.latestValues)}return C0(this.latestValues)&&C1(l,this.latestValues),l}removeTransform(s){const o=la();wu(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!C0(u.latestValues))continue;dF(u.latestValues)&&u.updateSnapshot();const c=la(),f=u.measurePageBox();wu(c,f),MX(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return C0(this.latestValues)&&MX(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Es.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=Es.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=la(),this.relativeTargetOrigin=la(),I2(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),wu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=la(),this.targetWithTransforms=la()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aCe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wu(this.target,this.layout.layoutBox),Jse(this.target,this.targetDelta)):wu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=la(),this.relativeTargetOrigin=la(),I2(this.relativeTargetOrigin,this.target,h.target),wu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||dF(this.parent.latestValues)||Kse(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Es.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;wu(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;gTe(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=la());const{target:d}=s;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bX(this.prevProjectionDelta.x,this.projectionDelta.x),bX(this.prevProjectionDelta.y,this.projectionDelta.y)),N2(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!DX(this.projectionDelta.x,this.prevProjectionDelta.x)||!DX(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=w1(),this.projectionDelta=w1(),this.projectionDeltaWithTransform=w1()}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=w1();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=la(),d=l?l.source:void 0,v=this.layout?this.layout.source:void 0,m=d!==v,y=this.getStack(),x=!y||y.members.length<=1,b=!!(m&&!x&&this.options.crossfade===!0&&!this.path.some(KCe));this.animationProgress=0;let M;this.mixTargetDelta=C=>{const w=C/1e3;IX(f.x,s.x,w),IX(f.y,s.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(I2(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZCe(this.relativeTarget,this.relativeTargetOrigin,h,w),M&&PCe(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=la()),wu(M,this.relativeTarget)),m&&(this.animationValues=c,ECe(c,u,this.latestValues,w,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(yp(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sr.update(()=>{l3.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wy(0)),this.currentAnimation=ACe(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zCe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&_oe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||la();const f=Vo(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Vo(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}wu(o,l),C1(o,c),N2(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new BCe),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&_O("z",s,u,this.animationValues);for(let c=0;c<xO.length;c++)_O(`rotate${xO[c]}`,s,u,this.animationValues),_O(`skew${xO[c]}`,s,u,this.animationValues);s.render();for(const c in u)s.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=o3(o?.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=o3(o?.pointerEvents)||""),this.hasProjected&&!C0(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=OCe(this.projectionDeltaWithTransform,this.treeScale,c);l&&(f=l(c,f)),s.transform=f;const{x:h,y:d}=this.projectionDelta;s.transformOrigin=`${h.origin*100}% ${d.origin*100}% 0`,u.animationValues?s.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:s.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const v in AT){if(c[v]===void 0)continue;const{correct:m,applyTo:y,isCSSVariable:x}=AT[v],b=f==="none"?c[v]:m(c[v],u);if(y){const M=y.length;for(let C=0;C<M;C++)s[y[C]]=b}else x?this.options.visualElement.renderState.vars[v]=b:s[v]=b}this.options.layoutId&&(s.pointerEvents=u===this?o3(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(RX),this.root.sharedNodes.clear()}}}function FCe(n){n.updateLayout()}function UCe(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:r}=n.options,a=e.source!==n.layout.source;r==="size"?Pu(c=>{const f=a?e.measuredBox[c]:e.layoutBox[c],h=Vo(f);f.min=t[c].min,f.max=f.min+h}):_oe(r,e.layoutBox,t)&&Pu(c=>{const f=a?e.measuredBox[c]:e.layoutBox[c],h=Vo(t[c]);f.max=f.min+h,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[c].max=n.relativeTarget[c].min+h)});const s=w1();N2(s,t,e.layoutBox);const o=w1();a?N2(o,n.applyTransform(i,!0),e.measuredBox):N2(o,t,e.layoutBox);const l=!moe(s);let u=!1;if(!n.resumeFrom){const c=n.getClosestProjectingParent();if(c&&!c.resumeFrom){const{snapshot:f,layout:h}=c;if(f&&h){const d=la();I2(d,e.layoutBox,f.layoutBox);const v=la();I2(v,t,h.layoutBox),goe(d,v)||(u=!0),c.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=d,n.relativeParent=c)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function GCe(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function VCe(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function jCe(n){n.clearSnapshot()}function RX(n){n.clearMeasurements()}function LX(n){n.isLayoutDirty=!1}function HCe(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function NX(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function WCe(n){n.resolveTargetDelta()}function XCe(n){n.calcProjection()}function YCe(n){n.resetSkewAndRotation()}function qCe(n){n.removeLeadSnapshot()}function IX(n,e,t){n.translate=Pr(e.translate,0,t),n.scale=Pr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function PX(n,e,t,i){n.min=Pr(e.min,t.min,i),n.max=Pr(e.max,t.max,i)}function ZCe(n,e,t,i){PX(n.x,e.x,t.x,i),PX(n.y,e.y,t.y,i)}function KCe(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const JCe={duration:.45,ease:[.4,0,.1,1]},BX=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),OX=BX("applewebkit/")&&!BX("chrome/")?Math.round:qu;function zX(n){n.min=OX(n.min),n.max=OX(n.max)}function QCe(n){zX(n.x),zX(n.y)}function _oe(n,e,t){return n==="position"||n==="preserve-aspect"&&!rCe(EX(e),EX(t),.2)}function $Ce(n){return n!==n.root&&n.scroll?.wasRoot}const ewe=xoe({attachResizeListener:(n,e)=>MT(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bO={current:void 0},boe=xoe({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!bO.current){const n=new ewe({});n.mount(window),n.setOptions({layoutScroll:!0}),bO.current=n}return bO.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),twe={pan:{Feature:xCe},drag:{Feature:yCe,ProjectionNode:boe,MeasureLayout:doe}};function kX(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,a=i[r];a&&sr.postRender(()=>a(e,wC(e)))}class nwe extends Nm{mount(){const{current:e}=this.node;e&&(this.unmount=_2e(e,(t,i)=>(kX(this.node,i,"Start"),r=>kX(this.node,r,"End"))))}unmount(){}}class iwe extends Nm{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=AC(MT(this.node.current,"focus",()=>this.onFocus()),MT(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function FX(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),a=i[r];a&&sr.postRender(()=>a(e,wC(e)))}class rwe extends Nm{mount(){const{current:e}=this.node;e&&(this.unmount=M2e(e,(t,i)=>(FX(this.node,i,"Start"),(r,{success:a})=>FX(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _F=new WeakMap,SO=new WeakMap,awe=n=>{const e=_F.get(n.target);e&&e(n)},swe=n=>{n.forEach(awe)};function owe({root:n,...e}){const t=n||document;SO.has(t)||SO.set(t,{});const i=SO.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(swe,{root:n,...e})),i[r]}function lwe(n,e,t){const i=owe(e);return _F.set(n,t),i.observe(n),()=>{_F.delete(n),i.unobserve(n)}}const uwe={some:0,all:1};class cwe extends Nm{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:uwe[r]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),h=u?c:f;h&&h(l)};return lwe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(fwe(e,t))&&this.startObserver()}unmount(){}}function fwe({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const hwe={inView:{Feature:cwe},tap:{Feature:rwe},focus:{Feature:iwe},hover:{Feature:nwe}},dwe={layout:{ProjectionNode:boe,MeasureLayout:doe}},pwe={...QTe,...hwe,...twe,...dwe},vh=pTe(pwe,wTe);function E1(n){const e=SC(()=>wy(n)),{isStatic:t}=Y.useContext(CC);if(t){const[,i]=Y.useState(n);Y.useEffect(()=>e.on("change",i),[])}return e}function Soe(n,e){const t=E1(e()),i=()=>t.set(e());return i(),nV(()=>{const r=()=>sr.preRender(i,!1,!0),a=n.map(s=>s.on("change",r));return()=>{a.forEach(s=>s()),yp(i)}}),t}function vwe(n){R2.current=[],n();const e=Soe(R2.current,n);return R2.current=void 0,e}function mwe(n,e,t,i){if(typeof n=="function")return vwe(n);const r=C2e(e,t,i);return Array.isArray(n)?UX(n,r):UX([n],([a])=>r(a))}function UX(n,e){const t=SC(()=>[]);return Soe(n,()=>{t.length=0;const i=n.length;for(let r=0;r<i;r++)t[r]=n[r].get();return e(t)})}function iM(n,e={}){const{isStatic:t}=Y.useContext(CC),i=()=>hs(n)?n.get():n;if(t)return mwe(i);const r=E1(i());return Y.useInsertionEffect(()=>w2e(r,n,e),[r,JSON.stringify(e)]),r}function gwe({children:n,initialStep:e=1,onStepChange:t=()=>{},onFinalStepCompleted:i=()=>{},validateStep:r=()=>!0,stepCircleContainerClassName:a="",stepContainerClassName:s="",contentClassName:o="",footerClassName:l="",backButtonProps:u={},nextButtonProps:c={},backButtonText:f="Back",nextButtonText:h="Continue",disableStepIndicators:d=!1,renderStepIndicator:v,...m}){const[y,x]=Y.useState(e),[b,M]=Y.useState(0),[C,w]=Y.useState(!1),E=Y.Children.toArray(n),L=E.length,P=y>L,I=y===L,N=j=>{x(j),j>L||t(j)},z=()=>{y>1&&(M(-1),N(y-1))},V=()=>{I||r(y)&&(M(1),N(y+1))},U=async()=>{if(r(y))try{const j=i();(typeof j=="boolean"?j:typeof j?.then=="function"?await j:!0)!==!1&&(M(1),N(L+1))}catch{}};return T.jsx("div",{className:"outer-container",...m,children:T.jsxs("div",{className:`step-circle-container step-${y} ${a}`,children:[T.jsx("div",{className:`step-indicator-row ${s}`,children:E.map((j,W)=>{const G=W+1,X=W<L-1;return T.jsxs(Ps.Fragment,{children:[v?v({step:G,currentStep:y,onStepClick:q=>{M(q>y?1:-1),N(q)}}):T.jsx(bwe,{step:G,disableStepIndicators:d,currentStep:y,onClickStep:q=>{M(q>y?1:-1),N(q)}}),X&&T.jsx(Swe,{isComplete:y>G})]},G)})}),T.jsx(ywe,{isCompleted:P,currentStep:y,direction:b,className:`step-content-default ${o}`,children:E[y-1]}),!P&&T.jsx("div",{className:`footer-container ${l}`,children:T.jsxs("div",{className:`footer-nav ${y!==1?"spread":"end"}`,children:[y!==1&&T.jsx("button",{onClick:z,className:`back-button ${y===1?"inactive":""}`,...u,children:f}),T.jsx("button",{onClick:I?U:V,className:"next-button",disabled:C,...c,children:C?"Procesando...":I?"Registrar":h})]})})]})})}function ywe({isCompleted:n,currentStep:e,direction:t,children:i,className:r}){const[a,s]=Y.useState(0);return T.jsx(vh.div,{className:r,style:{position:"relative",overflow:"visible"},animate:{height:n?0:a},transition:{type:"spring",duration:.4},children:T.jsx(O2e,{initial:!1,mode:"sync",custom:t,children:!n&&T.jsx(xwe,{direction:t,onHeightReady:o=>s(o),children:i},e)})})}function xwe({children:n,direction:e,onHeightReady:t}){const i=Y.useRef(null);return Y.useLayoutEffect(()=>{i.current&&t(i.current.offsetHeight)},[n,t]),T.jsx(vh.div,{ref:i,custom:e,variants:_we,initial:"enter",animate:"center",exit:"exit",transition:{duration:.4},style:{position:"absolute",left:0,right:0,top:0},children:n})}const _we={enter:n=>({x:n>=0?"-100%":"100%",opacity:0}),center:{x:"0%",opacity:1},exit:n=>({x:n>=0?"50%":"-50%",opacity:0})};function AO({children:n}){return T.jsx("div",{className:"step-default",children:n})}function bwe({step:n,currentStep:e,onClickStep:t,disableStepIndicators:i}){const r=e===n?"active":e<n?"inactive":"complete",a=()=>{n!==e&&!i&&t(n)};return T.jsx(vh.div,{onClick:a,className:"step-indicator",animate:r,initial:!1,style:{cursor:i?"default":"pointer"},children:T.jsx(vh.div,{variants:{inactive:{scale:1,backgroundColor:"#e2e8f0",color:"#94a3b8"},active:{scale:1,backgroundColor:"#4A90E2",color:"#4A90E2"},complete:{scale:1,backgroundColor:"#4A90E2",color:"#ffffff"}},transition:{duration:.3},className:"step-indicator-inner",children:r==="complete"?T.jsx(Awe,{className:"check-icon"}):r==="active"?T.jsx("div",{className:"active-dot"}):T.jsx("span",{className:"step-number",children:n})})})}function Swe({isComplete:n}){const e={incomplete:{width:0,backgroundColor:"transparent"},complete:{width:"100%",backgroundColor:"#4A90E2"}};return T.jsx("div",{className:"step-connector",children:T.jsx(vh.div,{className:"step-connector-inner",variants:e,initial:!1,animate:n?"complete":"incomplete",transition:{duration:.4}})})}function Awe(n){return T.jsx("svg",{...n,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:T.jsx(vh.path,{initial:{pathLength:0},animate:{pathLength:1},transition:{delay:.1,type:"tween",ease:"easeOut",duration:.3},strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}const Mwe=()=>{const[n,e]=Y.useState({nombre:"",apellido:"",contrasea:"",repetirContrasea:"",correo:"",rut:"",telefono:"",terminos:!1}),[t,i]=Y.useState(!1),[r,a]=Y.useState(!1),[s,o]=Y.useState(!1),[l,u]=Y.useState(!1),[c,f]=Y.useState(!1),[h,d]=Y.useState(!1),[v,m]=Y.useState(null),[y,x]=Y.useState({}),[b,M]=Y.useState(!1),C=va(),w=Y.useMemo(()=>{const _e=n.contrasea;return{minLength:_e.length>=10,hasUppercase:/[A-Z]/.test(_e),hasNumber:/[0-9]/.test(_e),hasSymbol:/[!@#$%^&*(),.?":{}|<>]/.test(_e)}},[n.contrasea]),E=Object.values(w).every(Boolean),L=n.contrasea===n.repetirContrasea&&n.repetirContrasea!=="";Y.useMemo(()=>{const _e=(n.telefono||"").trim();return{format:/^\+569\d{8}$/.test(_e)}},[n.telefono]).format||n.telefono.length,Y.useMemo(()=>{const _e=(n.rut||"").trim();return{format:/^\d{8}-[0-9Kk]$/.test(_e)}},[n.rut]).format||n.rut.length;const N=_e=>{const{name:ke,value:dt,type:De,checked:ae}=_e.target;e(Fe=>({...Fe,[ke]:De==="checkbox"?ae:dt}))},[z,V]=Y.useState(!1),[U,j]=Y.useState(!1),[W,G]=Y.useState(!1),[X,q]=Y.useState(!1),[$,te]=Y.useState(!1),[J,Q]=Y.useState(""),se=RAe(),ce=async()=>{if(!E)return alert("La contrasea no cumple con todos los requisitos"),!1;if(!/^\+569\d{8}$/.test((n.telefono||"").trim()))return alert("El telfono debe tener formato +569XXXXXXXX"),!1;if(!/^\d{8}-[0-9Kk]$/.test((n.rut||"").trim()))return alert("El RUT debe tener formato 12345678-9 (8 dgitos, guin y dgito verificador 0-9 o K)"),!1;if(!L)return alert("Las contraseas no coinciden"),!1;if(!n.terminos)return alert("Debes aceptar los trminos y condiciones"),!1;try{const _e=await hi(ai.REGISTER,{method:"POST",body:JSON.stringify({nombre:n.nombre,apellido:n.apellido,correo:n.correo,rut:n.rut.toUpperCase(),telefono:n.telefono,contrasea:n.contrasea,repetirContrasea:n.repetirContrasea,terminos:n.terminos})});if(_e.ok&&_e.data.success){const ke=!!_e.data.requires_verification,dt=_e.data.mensaje||"Usuario registrado exitosamente.";return ke?(Q(dt),te(!0)):(j(!0),G(!0),setTimeout(()=>{C("/login")},2e3)),!0}else{const ke=_e.data.error||"Error en el registro";return _e.data.email_exists?(se.error(ke,{duration:7e3,action:{label:"Olvidaste tu contrasea?",onClick:()=>{C("/login?forgot=true")}}}),!1):_e.data.rut_exists?(se.error(ke,{duration:7e3}),!1):(se.error(ke),!1)}}catch(_e){return console.error("Error de conexin:",_e),se.error("Error de conexin con el servidor. Verifica tu conexin a internet."),!1}},ue=_e=>{_e.preventDefault(),i(!0),setTimeout(()=>{C("/login")},150)},fe=_e=>{_e.preventDefault(),q(!0)},ge=()=>{q(!1)},Se=()=>{a(!0)},Ee=()=>{setTimeout(()=>{(n.contrasea.length===0||E)&&a(!1)},150)},Ue=_e=>{const ke={};switch(_e){case 1:n.nombre.trim()||(ke.nombre="El nombre es requerido"),n.apellido.trim()||(ke.apellido="El apellido es requerido");break;case 2:n.correo.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.correo)||(ke.correo="El correo no es vlido"):ke.correo="El correo es requerido",n.rut.trim()?/^\d{8}-[0-9Kk]$/.test(n.rut)||(ke.rut="El formato debe ser 12345678-9"):ke.rut="El RUT es requerido",n.telefono.trim()?/^\+569\d{8}$/.test(n.telefono)||(ke.telefono="El formato debe ser +569XXXXXXXX"):ke.telefono="El telfono es requerido";break;case 3:n.contrasea?E||(ke.contrasea="La contrasea no cumple con los requisitos"):ke.contrasea="La contrasea es requerida",n.repetirContrasea?L||(ke.repetirContrasea="Las contraseas no coinciden"):ke.repetirContrasea="Debe repetir la contrasea",n.terminos||(ke.terminos="Debe aceptar los trminos y condiciones");break}return x(ke),Object.keys(ke).length===0};return Ps.useEffect(()=>{const _e=ke=>{r&&!ke.target.closest(".password-field-container")&&!ke.target.closest(".password-validator")&&a(!1)};if(r)return document.addEventListener("mousedown",_e),()=>document.removeEventListener("mousedown",_e)},[r]),T.jsxs("div",{className:`auth register-page register-layout mirror ${t?"page-exit":"page-enter"}`,children:[T.jsx("section",{className:"auth-left register-left",children:T.jsxs("div",{className:"left-inner register-inner",children:[T.jsx("div",{className:"logo-container",children:T.jsx("button",{type:"button",onClick:()=>C("/"),style:{background:"none",border:"none",padding:0,cursor:"pointer"},children:T.jsx("img",{src:$G,alt:"Logo",className:"welcome-logo",draggable:"false"})})}),T.jsx("h1",{className:"title register-title",children:"Crea tu cuenta"}),T.jsx("p",{className:"subtitle register-subtitle",children:"Regstrate para acceder a tu perfil gentico."}),T.jsx("div",{className:"title-underline"}),T.jsx("div",{className:"login-form login-card register-form form-container",children:T.jsxs(gwe,{initialStep:1,onStepChange:_e=>{console.log("Paso actual:",_e),x({})},onFinalStepCompleted:ce,validateStep:Ue,disableStepIndicators:!0,backButtonText:"Anterior",nextButtonText:"Siguiente",children:[T.jsxs(AO,{children:[T.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1.5rem",color:"#333"},children:"Informacin Personal"}),T.jsxs("div",{className:"form-row",children:[T.jsxs("div",{className:`uv-field ${y.nombre?"uv-field-error":""}`,children:[T.jsx("span",{className:"uv-icon","aria-hidden":"true",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:T.jsx("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2M12 11a4 4 0 100-8 4 4 0 000 8z",fill:"currentColor"})})}),T.jsx("input",{className:"uv-input",type:"text",name:"nombre",value:n.nombre,onChange:N,onFocus:()=>m("nombre"),onBlur:()=>m(null),placeholder:" ",required:!0,autoComplete:"given-name"}),T.jsx("label",{className:"uv-label",children:"Nombre *"}),T.jsx("span",{className:"uv-focus-bg"}),v==="nombre"&&!n.nombre&&T.jsx("div",{className:"input-hint",children:"Ej: Mara"}),y.nombre&&T.jsx("div",{className:"field-error-message",children:y.nombre})]}),T.jsxs("div",{className:`uv-field ${y.apellido?"uv-field-error":""}`,children:[T.jsx("span",{className:"uv-icon","aria-hidden":"true",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:T.jsx("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2M12 11a4 4 0 100-8 4 4 0 000 8z",fill:"currentColor"})})}),T.jsx("input",{className:"uv-input",type:"text",name:"apellido",value:n.apellido,onChange:N,onFocus:()=>m("apellido"),onBlur:()=>m(null),placeholder:" ",required:!0,autoComplete:"family-name"}),T.jsx("label",{className:"uv-label",children:"Apellido *"}),T.jsx("span",{className:"uv-focus-bg"}),v==="apellido"&&!n.apellido&&T.jsx("div",{className:"input-hint",children:"Ej: Gonzlez"}),y.apellido&&T.jsx("div",{className:"field-error-message",children:y.apellido})]})]}),T.jsx("div",{className:"step-spacer"}),T.jsxs("p",{className:"login-help",style:{marginTop:"1.5rem",textAlign:"center"},children:["Ya tienes cuenta? "," ",T.jsx("a",{className:"login-link",href:"#login",onClick:ue,children:"Inicia sesin"})]})]}),T.jsxs(AO,{children:[T.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1.5rem",color:"#333"},children:"Informacin de Contacto"}),T.jsxs("div",{className:`uv-field ${y.correo?"uv-field-error":""}`,style:{marginBottom:"1.5rem"},children:[T.jsx("span",{className:"uv-icon","aria-hidden":"true",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:T.jsx("path",{d:"M20 8l-8 5-8-5V6l8 5 8-5v2zm0 3v7H4v-7l8 5 8-5z",fill:"currentColor"})})}),T.jsx("input",{className:"uv-input",type:"email",name:"correo",value:n.correo,onChange:N,onFocus:()=>m("correo"),onBlur:()=>m(null),placeholder:" ",required:!0}),T.jsx("label",{className:"uv-label",children:"Correo *"}),T.jsx("span",{className:"uv-focus-bg"}),v==="correo"&&!n.correo&&T.jsx("div",{className:"input-hint",children:"ejemplo@correo.com"}),y.correo&&T.jsx("div",{className:"field-error-message",children:y.correo})]}),T.jsxs("div",{className:"rut-wrapper",style:{marginBottom:"1.5rem"},children:[T.jsxs("div",{className:`uv-field ${y.rut?"uv-field-error":""}`,children:[T.jsx("span",{className:"uv-icon","aria-hidden":"true",children:T.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:[T.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6z",fill:"currentColor"}),T.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8",stroke:"white",strokeWidth:"1",fill:"none"})]})}),T.jsx("input",{className:"uv-input",type:"text",name:"rut",value:n.rut,inputMode:"text",pattern:"^\\\\d{8}-[0-9Kk]$",onChange:_e=>{const ke=_e.target.value.toUpperCase();/^[\d\-K]*$/.test(ke)&&ke.length<=10&&N({target:{name:"rut",value:ke,type:"text"}})},onFocus:()=>{m("rut"),u(!0)},onBlur:()=>{m(null),u(!1)},placeholder:" ",required:!0,"aria-describedby":"rut-hint"}),T.jsx("label",{className:"uv-label",children:"RUT *"}),T.jsx("span",{className:"uv-focus-bg"}),v==="rut"&&!n.rut&&T.jsx("div",{className:"input-hint",children:"12345678-K"}),y.rut&&T.jsx("div",{className:"field-error-message",children:y.rut})]}),l&&T.jsxs("div",{className:"phone-validator",children:[T.jsx("div",{className:"validator-header",children:T.jsx("span",{className:"validator-title",children:"Formato:"})}),T.jsx("div",{className:"validator-rules",children:T.jsxs("div",{className:`validator-rule ${/^\d{8}-[0-9Kk]$/.test(n.rut)?"valid":"invalid"}`,children:[T.jsx("span",{className:"validator-icon",children:/^\d{8}-[0-9Kk]$/.test(n.rut)?"":""}),T.jsx("span",{className:"validator-text",children:"Formato: 12345678-K"})]})})]})]}),T.jsxs("div",{className:"phone-wrapper",children:[T.jsxs("div",{className:`uv-field ${y.telefono?"uv-field-error":""}`,children:[T.jsx("span",{className:"uv-icon","aria-hidden":"true",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:T.jsx("path",{d:"M22 16.92v3a2 2 0 01-2.18 2 19.8 19.8 0 01-8.63-3.07 19.5 19.5 0 01-6-6A19.8 19.8 0 012.1 4.1A2 2 0 014.1 2h3a2 2 0 012 1.72c.07.96.27 1.9.7 2.81a2 2 0 01-.45 2.11L8.1 9.9a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.91.43 1.85.63 2.81.7A2 2 0 0122 16.92z",fill:"currentColor"})})}),T.jsx("input",{className:"uv-input",type:"tel",name:"telefono",value:n.telefono,inputMode:"tel",pattern:"^\\+569\\d{8}$",onChange:_e=>{const ke=_e.target.value;/^[+\d]*$/.test(ke)&&ke.length<=12&&N(_e)},onFocus:()=>{m("telefono"),o(!0)},onBlur:()=>{m(null),o(!1)},placeholder:" ",required:!0,"aria-describedby":"phone-hint"}),T.jsx("label",{className:"uv-label",children:"Telfono *"}),T.jsx("span",{className:"uv-focus-bg"}),v==="telefono"&&!n.telefono&&T.jsx("div",{className:"input-hint",children:"+569XXXXXXXX"}),y.telefono&&T.jsx("div",{className:"field-error-message",children:y.telefono})]}),s&&T.jsxs("div",{className:"phone-validator",children:[T.jsx("div",{className:"validator-header",children:T.jsx("span",{className:"validator-title",children:"Formato:"})}),T.jsx("div",{className:"validator-rules",children:T.jsxs("div",{className:`validator-rule ${/^\+569\d{8}$/.test(n.telefono)?"valid":"invalid"}`,children:[T.jsx("span",{className:"validator-icon",children:/^\+569\d{8}$/.test(n.telefono)?"":""}),T.jsx("span",{className:"validator-text",children:"Debe comenzar con +569"})]})})]})]})]}),T.jsxs(AO,{children:[T.jsx("h2",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#333"},children:"Seguridad"}),T.jsxs("div",{className:"password-wrapper",style:{marginBottom:"1rem"},children:[T.jsxs("div",{className:`uv-field password-field-container ${y.contrasea?"uv-field-error":""}`,children:[T.jsx("span",{className:"uv-icon","aria-hidden":"true",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:T.jsx("path",{d:"M17 10h-1V7a4 4 0 10-8 0v3H7a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2v-7a2 2 0 00-2-2zm-6 0V7a3 3 0 616 0v3h-6z",fill:"currentColor"})})}),T.jsx("input",{className:"uv-input",type:c?"text":"password",name:"contrasea",value:n.contrasea,onChange:N,onFocus:Se,onBlur:Ee,placeholder:" ",required:!0}),T.jsx("label",{className:"uv-label",children:"Contrasea *"}),T.jsx("span",{className:"uv-focus-bg"}),T.jsx("button",{type:"button",className:"pwd-toggle",onClick:()=>f(_e=>!_e),"aria-label":c?"Ocultar contrasea":"Mostrar contrasea",tabIndex:"-1",children:c?T.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),T.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):T.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),T.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})}),y.contrasea&&T.jsx("div",{className:"field-error-message",children:y.contrasea})]}),(r||n.contrasea.length>0)&&T.jsxs("div",{className:"password-validator password-validator-responsive",children:[T.jsx("div",{className:"validator-header",children:T.jsx("span",{className:"validator-title",children:"Requisitos:"})}),T.jsxs("div",{className:"validator-rules",children:[T.jsxs("div",{className:`validator-rule ${w.minLength?"valid":"invalid"}`,children:[T.jsx("span",{className:"validator-icon",children:w.minLength?"":""}),T.jsx("span",{className:"validator-text",children:"Mnimo 10 caracteres"})]}),T.jsxs("div",{className:`validator-rule ${w.hasUppercase?"valid":"invalid"}`,children:[T.jsx("span",{className:"validator-icon",children:w.hasUppercase?"":""}),T.jsx("span",{className:"validator-text",children:"1 letra mayscula"})]}),T.jsxs("div",{className:`validator-rule ${w.hasNumber?"valid":"invalid"}`,children:[T.jsx("span",{className:"validator-icon",children:w.hasNumber?"":""}),T.jsx("span",{className:"validator-text",children:"1 nmero"})]}),T.jsxs("div",{className:`validator-rule ${w.hasSymbol?"valid":"invalid"}`,children:[T.jsx("span",{className:"validator-icon",children:w.hasSymbol?"":""}),T.jsx("span",{className:"validator-text",children:"1 smbolo (!@#$%^&*)"})]})]})]})]}),T.jsxs("div",{className:`uv-field password-field-container ${y.repetirContrasea?"uv-field-error":""}`,children:[T.jsx("span",{className:"uv-icon","aria-hidden":"true",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:T.jsx("path",{d:"M17 10h-1V7a4 4 0 10-8 0v3H7a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2v-7a2 2 0 00-2-2zm-6 0V7a3 3 0 616 0v3h-6z",fill:"currentColor"})})}),T.jsx("input",{className:`uv-input ${n.repetirContrasea&&!L?"input-error":""}`,type:h?"text":"password",name:"repetirContrasea",value:n.repetirContrasea,onChange:N,placeholder:" ",required:!0}),T.jsx("label",{className:"uv-label",children:"Repetir contrasea *"}),T.jsx("span",{className:"uv-focus-bg"}),T.jsx("button",{type:"button",className:"pwd-toggle",onClick:()=>d(_e=>!_e),"aria-label":h?"Ocultar contrasea":"Mostrar contrasea",tabIndex:"-1",children:h?T.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),T.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):T.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),T.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})}),n.repetirContrasea&&!L&&T.jsx("div",{className:"password-error",children:"Las contraseas no coinciden"}),y.repetirContrasea&&T.jsx("div",{className:"field-error-message",children:y.repetirContrasea})]}),T.jsxs("label",{className:`checkbox-line ${y.terminos?"checkbox-error":""}`,style:{marginTop:"1rem"},children:[T.jsx("input",{type:"checkbox",name:"terminos",checked:n.terminos,onChange:N,required:!0}),T.jsxs("span",{children:["Acepto los"," ",T.jsx("a",{href:"#",onClick:fe,className:"terms-link",style:{color:"#007bff",textDecoration:"underline",cursor:"pointer"},children:"trminos y condiciones"})," *"]})]}),y.terminos&&T.jsx("div",{className:"field-error-message",style:{marginTop:"6px"},children:y.terminos}),T.jsx("div",{className:"step-spacer"})]})]})})]})}),T.jsx("section",{className:"auth-right register-right",children:T.jsx("img",{src:jae,alt:"imagen de cromosomas"})}),T.jsx(NAe,{toasts:se.toasts,removeToast:se.removeToast}),T.jsx(Vae,{isOpen:$,onClose:()=>{te(!1),C("/login")},message:J||"Usuario registrado exitosamente. Debes verificar tu cuenta desde tu correo para poder continuar.",title:"Verificacin requerida"}),X&&T.jsx("div",{className:"terms-modal-overlay",onClick:ge,children:T.jsxs("div",{className:"terms-modal",onClick:_e=>_e.stopPropagation(),children:[T.jsxs("div",{className:"terms-modal-header",children:[T.jsx("h2",{children:"Trminos y Condiciones de Genomia"}),T.jsx("button",{className:"terms-modal-close",onClick:ge,"aria-label":"Cerrar",children:""})]}),T.jsxs("div",{className:"terms-modal-content",children:[T.jsx("p",{children:"Bienvenido a Genomia. Al utilizar nuestros servicios, usted acepta los siguientes trminos y condiciones. Por favor, lalos con atencin."}),T.jsx("h3",{children:"1. Aceptacin de los Trminos"}),T.jsx("p",{children:"Al acceder y utilizar nuestro sitio web y servicios, usted confirma que ha ledo, entendido y aceptado estar sujeto a estos Trminos y Condiciones. Si no est de acuerdo con alguna parte de los trminos, no podr utilizar nuestros servicios."}),T.jsx("h3",{children:"2. Descripcin del Servicio"}),T.jsx("p",{children:"Genomia ofrece servicios de anlisis de ADN para determinar la ascendencia gentica de nuestros usuarios, con un enfoque en la poblacin chilena. Utilizamos bases de datos genticas de referencia chilenas para proporcionar informes de ascendencia personalizados."}),T.jsx("h3",{children:"3. Requisitos para el Uso del Servicio"}),T.jsx("p",{children:"Para utilizar nuestros servicios, usted debe:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Ser mayor de 18 aos."}),T.jsx("li",{children:"Proporcionar una muestra de saliva para el anlisis de ADN."}),T.jsx("li",{children:"Garantizar que la muestra de saliva que proporciona es suya."})]}),T.jsx("h3",{children:"4. Consentimiento Informado"}),T.jsx("p",{children:"El anlisis gentico es una decisin personal importante. Antes de utilizar nuestros servicios, usted debe otorgar su consentimiento informado, lo que significa que reconoce y acepta lo siguiente:"}),T.jsx("h4",{children:"Naturaleza de la Informacin Gentica:"}),T.jsx("p",{children:"Su informacin gentica es nica y personal. Los resultados de su anlisis pueden revelar informacin inesperada sobre usted y su familia."}),T.jsx("h4",{children:"Uso de sus Datos:"}),T.jsx("p",{children:"Al aceptar estos trminos, usted autoriza a Genomia a recolectar, procesar y almacenar su muestra de saliva y los datos genticos derivados de ella con el fin de proporcionarle su informe de ascendencia."}),T.jsx("h4",{children:"Investigacin y Desarrollo:"}),T.jsx("p",{children:"Usted puede optar por consentir que sus datos genticos, de forma annima y agregada, sean utilizados para fines de investigacin y desarrollo para mejorar nuestros servicios y contribuir al conocimiento cientfico de la ascendencia chilena. Este consentimiento es voluntario y puede ser revocado en cualquier momento."}),T.jsx("h4",{children:"Riesgos y Limitaciones:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Los resultados de ascendencia son estimaciones basadas en los datos actuales y pueden cambiar a medida que la ciencia y nuestras bases de datos evolucionan."}),T.jsx("li",{children:"La informacin gentica que comparte podra tener implicaciones sociales, legales o econmicas."}),T.jsx("li",{children:"A pesar de nuestras medidas de seguridad, no podemos garantizar al 100% la seguridad de sus datos."})]}),T.jsx("h3",{children:"5. Privacidad y Proteccin de Datos"}),T.jsx("p",{children:"En Genomia, nos tomamos muy en serio su privacidad. Nuestra poltica de privacidad se rige por las Leyes N 19.628 sobre Proteccin de la Vida Privada de Chile y la Ley N 21.719 de Proteccin de datos."}),T.jsx("h4",{children:"Datos Sensibles:"}),T.jsx("p",{children:'Reconocemos que sus datos genticos son "datos sensibles" segn la legislacin chilena. Nos comprometemos a protegerlos con los ms altos estndares de seguridad.'}),T.jsx("h4",{children:"Confidencialidad:"}),T.jsx("p",{children:"No compartiremos sus datos personales ni genticos con terceros sin su consentimiento explcito, a menos que sea requerido por una orden judicial."}),T.jsx("h4",{children:"Derechos del Titular de los Datos:"}),T.jsx("p",{children:"Usted tiene derecho a:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Acceder a sus datos personales y genticos."}),T.jsx("li",{children:"Solicitar la rectificacin o cancelacin de sus datos."}),T.jsx("li",{children:"Oponerse al tratamiento de sus datos para fines que no sean los originalmente consentidos."})]}),T.jsx("p",{children:"Para ejercer estos derechos, puede contactarnos a travs de Contacto."}),T.jsx("h4",{children:"Almacenamiento de Muestras:"}),T.jsx("p",{children:"Su muestra de saliva ser almacenada de forma segura en nuestras instalaciones. Usted puede solicitar la destruccin de su muestra en cualquier momento."}),T.jsx("h3",{children:"6. Cuenta de Usuario y Seguridad"}),T.jsx("p",{children:"Usted es responsable de mantener la confidencialidad de su contrasea y de todas las actividades que ocurran en su cuenta. Notifquenos inmediatamente sobre cualquier uso no autorizado de su cuenta."}),T.jsx("h3",{children:"7. Propiedad Intelectual"}),T.jsx("p",{children:"Todo el contenido de este sitio web, incluyendo textos, grficos, logos e informes, es propiedad de Four Future S.A y est protegido por las leyes de propiedad intelectual."}),T.jsx("h3",{children:"8. Limitacin de Responsabilidad"}),T.jsx("p",{children:'Genomia no ser responsable por ninguna decisin o accin que usted tome basada en los resultados de su anlisis de ascendencia. El servicio se proporciona "tal cual" y no garantizamos que los resultados sean 100% precisos o completos.'}),T.jsx("h3",{children:"9. Modificaciones a los Trminos y Condiciones"}),T.jsx("p",{children:"Nos reservamos el derecho de modificar estos Trminos y Condiciones en cualquier momento. Las modificaciones entrarn en vigencia desde su publicacin en nuestro sitio web. Le recomendamos revisar esta pgina peridicamente."}),T.jsx("h3",{children:"10. Ley Aplicable y Jurisdiccin"}),T.jsx("p",{children:"Estos Trminos y Condiciones se regirn e interpretarn de acuerdo con las leyes de la Repblica de Chile. Cualquier disputa que surja en relacin con estos trminos ser sometida a la jurisdiccin de los tribunales de Rancagua, Chile."}),T.jsx("h3",{children:"11. Contacto"}),T.jsx("p",{children:"Si tiene alguna pregunta sobre estos Trminos y Condiciones, por favor contctenos en: seq@uoh.cl."})]}),T.jsx("div",{className:"terms-modal-footer",children:T.jsx("button",{className:"terms-modal-accept",onClick:ge,children:"Cerrar"})})]})}),W&&T.jsx("div",{className:"success-modal-overlay",children:T.jsxs("div",{className:"success-modal",children:[T.jsx("div",{className:"success-icon",children:T.jsxs("svg",{viewBox:"0 0 24 24",width:"64",height:"64",fill:"none",children:[T.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#10b981",strokeWidth:"2.5",strokeDasharray:"63",strokeDashoffset:"63",className:"success-circle"}),T.jsx("path",{d:"M9 12l2 2 4-4",stroke:"#10b981",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"8",strokeDashoffset:"8",className:"success-check"})]})}),T.jsx("h2",{className:"success-title",children:"Registro exitoso"}),T.jsx("p",{className:"success-message",children:"Redirigiendo al login..."})]})})]})};const Twe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cwe=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),GX=n=>{const e=Cwe(n);return e.charAt(0).toUpperCase()+e.slice(1)},Aoe=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),wwe=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Ewe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Dwe=Y.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:s,...o},l)=>Y.createElement("svg",{ref:l,...Ewe,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:Aoe("lucide",r),...!a&&!wwe(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,c])=>Y.createElement(u,c)),...Array.isArray(a)?a:[a]]));const si=(n,e)=>{const t=Y.forwardRef(({className:i,...r},a)=>Y.createElement(Dwe,{ref:a,iconNode:e,className:Aoe(`lucide-${Twe(GX(n))}`,`lucide-${n}`,i),...r}));return t.displayName=GX(n),t};const Rwe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Moe=si("activity",Rwe);const Lwe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Nwe=si("bot",Lwe);const Iwe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Pwe=si("chart-column",Iwe);const Bwe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],D1=si("chevron-down",Bwe);const Owe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zwe=si("chevron-left",Owe);const kwe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Fwe=si("chevron-right",kwe);const Uwe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zE=si("chevron-up",Uwe);const Gwe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Toe=si("circle-alert",Gwe);const Vwe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],NV=si("database",Vwe);const jwe=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],IV=si("dna",jwe);const Hwe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Coe=si("download",Hwe);const Wwe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xwe=si("eye",Wwe);const Ywe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],P2=si("file-text",Ywe);const qwe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Zwe=si("globe",qwe);const Kwe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Jwe=si("grid-3x3",Kwe);const Qwe=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],$we=si("heart",Qwe);const eEe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],tEe=si("info",eEe);const nEe=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],iEe=si("key-round",nEe);const rEe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],woe=si("log-out",rEe);const aEe=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],xm=si("menu",aEe);const sEe=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],oEe=si("message-circle",sEe);const lEe=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],uEe=si("pill",lEe);const cEe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fEe=si("plus",cEe);const hEe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],PV=si("search",hEe);const dEe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pEe=si("settings",dEe);const vEe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],VX=si("sparkles",vEe);const mEe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gEe=si("square-pen",mEe);const yEe=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],bF=si("test-tube",yEe);const xEe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_Ee=si("trash-2",xEe);const bEe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],SEe=si("trending-up",bEe);const AEe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],MEe=si("triangle-alert",AEe);const TEe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Eoe=si("upload",TEe);const CEe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],wEe=si("user-x",CEe);const EEe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],DEe=si("user",EEe);const REe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],LEe=si("users",REe);const NEe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rh=si("x",NEe);const IEe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],PEe=si("zap",IEe),Doe=12,Roe=300,EI="132, 0, 255",BEe=768,OEe=[{color:"#F0F6FF",title:"Panorama General",description:"Explora una sintesis de tus resultados geneticos.",label:"Resumen"},{color:"#EDF2FA",title:"Salud y Enfermedades",description:"Predisposiciones y recomendaciones preventivas.",label:"Salud"},{color:"#0885D8",title:"Acciones Recomendadas",description:"Guias personalizadas con base en tu informacion genetica.",label:"Accion"},{color:"#E7EEF8",title:"Ancestria",description:"Origen y conexiones con distintas poblaciones.",label:"Origen"},{color:"#E9F1FC",title:"Farmacogenetica",description:"Como responden tus genes a distintos tratamientos.",label:"Cuidado"},{color:"#EDF2FA",title:"Biomarcadores",description:"Indicadores clave para tu bienestar integral.",label:"Indicadores"}],zEe=(n,e,t=EI)=>{const i=document.createElement("div");return i.className="particle",i.style.cssText=`
    position: absolute;
    width: 4px;
    height: 4px;
    border-radius: 50%;
    background: rgba(${t}, 1);
    box-shadow: 0 0 6px rgba(${t}, 0.6);
    pointer-events: none;
    z-index: 100;
    left: ${n}px;
    top: ${e}px;
  `,i},kEe=n=>({proximity:n*.5,fadeDistance:n*.75}),FEe=(n,e,t,i,r)=>{const a=n.getBoundingClientRect(),s=(e-a.left)/a.width*100,o=(t-a.top)/a.height*100;n.style.setProperty("--glow-x",`${s}%`),n.style.setProperty("--glow-y",`${o}%`),n.style.setProperty("--glow-intensity",i.toString()),n.style.setProperty("--glow-radius",`${r}px`)},UEe=({children:n,className:e="",disableAnimations:t=!1,style:i,particleCount:r=Doe,glowColor:a=EI,enableTilt:s=!0,clickEffect:o=!1,enableMagnetism:l=!1,...u})=>{const c=Y.useRef(null),f=Y.useRef([]),h=Y.useRef([]),d=Y.useRef(!1),v=Y.useRef([]),m=Y.useRef(!1),y=Y.useRef(null),x=Y.useCallback(()=>{if(m.current||!c.current)return;const{width:C,height:w}=c.current.getBoundingClientRect();v.current=Array.from({length:r},()=>zEe(Math.random()*C,Math.random()*w,a)),m.current=!0},[r,a]),b=Y.useCallback(()=>{h.current.forEach(clearTimeout),h.current=[],y.current?.kill(),f.current.forEach(C=>{Wr.to(C,{scale:0,opacity:0,duration:.3,ease:"back.in(1.7)",onComplete:()=>{C.parentNode?.removeChild(C)}})}),f.current=[]},[]),M=Y.useCallback(()=>{!c.current||!d.current||(m.current||x(),v.current.forEach((C,w)=>{const E=setTimeout(()=>{if(!d.current||!c.current)return;const L=C.cloneNode(!0);c.current.appendChild(L),f.current.push(L),Wr.fromTo(L,{scale:0,opacity:0},{scale:1,opacity:1,duration:.3,ease:"back.out(1.7)"}),Wr.to(L,{x:(Math.random()-.5)*100,y:(Math.random()-.5)*100,rotation:Math.random()*360,duration:2+Math.random()*2,ease:"none",repeat:-1,yoyo:!0}),Wr.to(L,{opacity:.3,duration:1.5,ease:"power2.inOut",repeat:-1,yoyo:!0})},w*100);h.current.push(E)}))},[x]);return Y.useEffect(()=>{if(t||!c.current)return;const C=c.current,w=()=>{d.current=!0,M(),s&&Wr.to(C,{rotateX:5,rotateY:5,duration:.3,ease:"power2.out",transformPerspective:1e3})},E=()=>{d.current=!1,b(),s&&Wr.to(C,{rotateX:0,rotateY:0,duration:.3,ease:"power2.out"}),l&&Wr.to(C,{x:0,y:0,duration:.3,ease:"power2.out"})},L=I=>{if(!s&&!l)return;const N=C.getBoundingClientRect(),z=I.clientX-N.left,V=I.clientY-N.top,U=N.width/2,j=N.height/2;if(s){const W=(V-j)/j*-10,G=(z-U)/U*10;Wr.to(C,{rotateX:W,rotateY:G,duration:.1,ease:"power2.out",transformPerspective:1e3})}if(l){const W=(z-U)*.05,G=(V-j)*.05;y.current=Wr.to(C,{x:W,y:G,duration:.3,ease:"power2.out"})}},P=I=>{if(!o)return;const N=C.getBoundingClientRect(),z=I.clientX-N.left,V=I.clientY-N.top,U=Math.max(Math.hypot(z,V),Math.hypot(z-N.width,V),Math.hypot(z,V-N.height),Math.hypot(z-N.width,V-N.height)),j=document.createElement("div");j.style.cssText=`
        position: absolute;
        width: ${U*2}px;
        height: ${U*2}px;
        border-radius: 50%;
        background: radial-gradient(circle, rgba(${a}, 0.4) 0%, rgba(${a}, 0.2) 30%, transparent 70%);
        left: ${z-U}px;
        top: ${V-U}px;
        pointer-events: none;
        z-index: 1000;
      `,C.appendChild(j),Wr.fromTo(j,{scale:0,opacity:1},{scale:1,opacity:0,duration:.8,ease:"power2.out",onComplete:()=>j.remove()})};return C.addEventListener("mouseenter",w),C.addEventListener("mouseleave",E),C.addEventListener("mousemove",L),C.addEventListener("click",P),()=>{d.current=!1,C.removeEventListener("mouseenter",w),C.removeEventListener("mouseleave",E),C.removeEventListener("mousemove",L),C.removeEventListener("click",P),b()}},[M,b,t,s,l,o,a]),T.jsx("div",{ref:c,className:`${e} particle-container`,style:{...i,position:"relative",overflow:"hidden"},...u,children:n})},GEe=({gridRef:n,disableAnimations:e=!1,enabled:t=!0,spotlightRadius:i=Roe,glowColor:r=EI})=>{const a=Y.useRef(null),s=Y.useRef(!1);return Y.useEffect(()=>{if(e||!n?.current||!t)return;const o=document.createElement("div");o.className="global-spotlight",o.style.cssText=`
      position: fixed;
      width: 800px;
      height: 800px;
      border-radius: 50%;
      pointer-events: none;
      background: radial-gradient(circle,
        rgba(${r}, 0.15) 0%,
        rgba(${r}, 0.08) 15%,
        rgba(${r}, 0.04) 25%,
        rgba(${r}, 0.02) 40%,
        rgba(${r}, 0.01) 65%,
        transparent 70%
      );
      z-index: 200;
      opacity: 0;
      transform: translate(-50%, -50%);
      mix-blend-mode: screen;
    `,document.body.appendChild(o),a.current=o;const l=c=>{if(!a.current||!n.current)return;const h=n.current.closest(".bento-section")?.getBoundingClientRect(),d=h&&c.clientX>=h.left&&c.clientX<=h.right&&c.clientY>=h.top&&c.clientY<=h.bottom;s.current=d||!1;const v=n.current.querySelectorAll(".card");if(!d){Wr.to(a.current,{opacity:0,duration:.3,ease:"power2.out"}),v.forEach(M=>{M.style.setProperty("--glow-intensity","0")});return}const{proximity:m,fadeDistance:y}=kEe(i);let x=1/0;v.forEach(M=>{const C=M,w=C.getBoundingClientRect(),E=w.left+w.width/2,L=w.top+w.height/2,P=Math.hypot(c.clientX-E,c.clientY-L)-Math.max(w.width,w.height)/2,I=Math.max(0,P);x=Math.min(x,I);let N=0;I<=m?N=1:I<=y&&(N=(y-I)/(y-m)),FEe(C,c.clientX,c.clientY,N,i)}),Wr.to(a.current,{left:c.clientX,top:c.clientY,duration:.1,ease:"power2.out"});const b=x<=m?.8:x<=y?(y-x)/(y-m)*.8:0;Wr.to(a.current,{opacity:b,duration:b>0?.2:.5,ease:"power2.out"})},u=()=>{s.current=!1,n.current?.querySelectorAll(".card").forEach(c=>{c.style.setProperty("--glow-intensity","0")}),a.current&&Wr.to(a.current,{opacity:0,duration:.3,ease:"power2.out"})};return document.addEventListener("mousemove",l),document.addEventListener("mouseleave",u),()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseleave",u),a.current?.parentNode?.removeChild(a.current)}},[n,e,t,i,r]),null},VEe=({children:n,gridRef:e})=>T.jsx("div",{className:"card-grid bento-section",ref:e,children:n}),jEe=()=>{const[n,e]=Y.useState(!1);return Y.useEffect(()=>{const t=()=>e(window.innerWidth<=BEe);return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),n},HEe=({textAutoHide:n=!0,enableStars:e=!0,enableSpotlight:t=!0,enableBorderGlow:i=!0,disableAnimations:r=!1,spotlightRadius:a=Roe,particleCount:s=Doe,enableTilt:o=!1,glowColor:l=EI,clickEffect:u=!0,enableMagnetism:c=!0,cards:f=OEe})=>{const h=Y.useRef(null),d=va(),v=jEe(),m=r||v,y=Y.useCallback(b=>{if(!b||!b.label)return null;if(b.href){const M=b.href.startsWith("/"),C=b.rel??(b.target==="_blank"?"noopener noreferrer":void 0);return M?T.jsx("button",{type:"button",className:"card__cta",onClick:w=>{w.preventDefault(),d(b.href),b.onClick&&b.onClick(w)},"aria-label":b.ariaLabel,children:b.label}):T.jsx("a",{className:"card__cta",href:b.href,target:b.target,rel:C,onClick:b.onClick,"aria-label":b.ariaLabel,children:b.label})}return T.jsx("button",{type:"button",className:"card__cta card__cta--button",onClick:b.onClick,"aria-label":b.ariaLabel,children:b.label})},[d]),x=Y.useCallback(b=>{const M=["card__content"];b.contentAlign&&M.push(`card__content--${b.contentAlign}`),b.contentJustify&&M.push(`card__content-justify-${b.contentJustify}`);const C=b.titleTag||"h2",w=typeof b.description=="string"||typeof b.description=="number"?b.description:null,E=()=>b.description==null?null:w!=null?T.jsx("p",{className:"card__description",children:w}):T.jsx("div",{className:"card__description card__description--rich",children:b.description});return T.jsxs(T.Fragment,{children:[b.label?T.jsxs("div",{className:"card__header",children:[T.jsx("div",{className:"card__label",children:b.label}),b.meta?T.jsx("div",{className:"card__meta",children:b.meta}):null]}):null,T.jsxs("div",{className:M.join(" "),children:[b.title?T.jsx(C,{className:"card__title",children:b.title}):null,E(),y(b.cta)]})]})},[y]);return T.jsxs(T.Fragment,{children:[t&&T.jsx(GEe,{gridRef:h,disableAnimations:m,enabled:t,spotlightRadius:a,glowColor:l}),T.jsx(VEe,{gridRef:h,children:f.map((b,M)=>{const C=["card",n?"card--text-autohide":"",i?"card--border-glow":"",b.className||""].filter(Boolean).join(" "),w={"--glow-color":l,...b.background?{background:b.background}:{},...b.color?{backgroundColor:b.color}:{},...b.textColor?{"--card-text-color":b.textColor}:{},...b.descriptionColor?{"--card-description-color":b.descriptionColor}:{},...b.ctaColor?{"--card-cta-color":b.ctaColor}:{},...b.style},E={className:C,style:w};b.id&&(E.id=b.id),b.ariaLabel&&(E["aria-label"]=b.ariaLabel),b.htmlAttributes&&Object.assign(E,b.htmlAttributes);const L=m||!!b.disableAnimations,P=b.enableTilt??o,I=b.enableMagnetism??c,N=b.clickEffect??u,z=b.particleCount??s,V=b.glowColor??l,U=b.id??b.key??M,j=x(b);return e?T.jsx(UEe,{...E,disableAnimations:L,particleCount:z,glowColor:V,enableTilt:P,clickEffect:N,enableMagnetism:I,children:j},U):T.jsx("div",{...E,ref:W=>{if(!W||W.dataset.gridBentoBound==="true")return;W.dataset.gridBentoBound="true";const G=$=>{if(L)return;const te=W.getBoundingClientRect(),J=$.clientX-te.left,Q=$.clientY-te.top,se=te.width/2,ce=te.height/2;if(P){const ue=(Q-ce)/ce*-10,fe=(J-se)/se*10;Wr.to(W,{rotateX:ue,rotateY:fe,duration:.1,ease:"power2.out",transformPerspective:1e3})}if(I){const ue=(J-se)*.05,fe=(Q-ce)*.05;Wr.to(W,{x:ue,y:fe,duration:.3,ease:"power2.out"})}},X=()=>{L||(P&&Wr.to(W,{rotateX:0,rotateY:0,duration:.3,ease:"power2.out"}),I&&Wr.to(W,{x:0,y:0,duration:.3,ease:"power2.out"}))},q=$=>{if(!N||L)return;const te=W.getBoundingClientRect(),J=$.clientX-te.left,Q=$.clientY-te.top,se=Math.max(Math.hypot(J,Q),Math.hypot(J-te.width,Q),Math.hypot(J,Q-te.height),Math.hypot(J-te.width,Q-te.height)),ce=document.createElement("div");ce.style.cssText=`
                      position: absolute;
                      width: ${se*2}px;
                      height: ${se*2}px;
                      border-radius: 50%;
                      background: radial-gradient(circle, rgba(${V}, 0.4) 0%, rgba(${V}, 0.2) 30%, transparent 70%);
                      left: ${J-se}px;
                      top: ${Q-se}px;
                      pointer-events: none;
                      z-index: 1000;
                    `,W.appendChild(ce),Wr.fromTo(ce,{scale:0,opacity:1},{scale:1,opacity:0,duration:.8,ease:"power2.out",onComplete:()=>ce.remove()})};W.addEventListener("mousemove",G),W.addEventListener("mouseleave",X),W.addEventListener("click",q)},children:j},U)})})]})},WEe=({isOpen:n,onClose:e})=>{const[t,i]=Y.useState({currentPassword:"",password:"",confirmPassword:""}),[r,a]=Y.useState(!1),[s,o]=Y.useState(!1),[l,u]=Y.useState(!1),[c,f]=Y.useState(!1),[h,d]=Y.useState(""),[v,m]=Y.useState(!1),y=Y.useMemo(()=>{const E=t.password;return{minLength:E.length>=10,hasUppercase:/[A-Z]/.test(E),hasNumber:/[0-9]/.test(E),hasSymbol:/[!@#$%^&*(),.?":{}|<>]/.test(E)}},[t.password]),x=Object.values(y).every(Boolean),b=t.password===t.confirmPassword&&t.confirmPassword!=="",M=E=>{const{name:L,value:P}=E.target;i(I=>({...I,[L]:P}))},C=async E=>{if(E.preventDefault(),!x){d("La contrasea no cumple con todos los requisitos");return}if(!b){d("Las contraseas no coinciden");return}f(!0),d("");try{const L=await hi(`${ai.ME}change-password/`,{method:"POST",body:JSON.stringify({current_password:t.currentPassword,new_password:t.password,confirm_password:t.confirmPassword})});L.ok?(m(!0),setTimeout(()=>{w()},2e3)):d(L.data.error||L.data.detail||"Error al cambiar la contrasea")}catch(L){console.error("Error de conexin:",L),d("Error de conexin con el servidor.")}finally{f(!1)}},w=()=>{i({currentPassword:"",password:"",confirmPassword:""}),d(""),m(!1),a(!1),o(!1),u(!1),e()};return n?T.jsxs("div",{className:"forgot-password-overlay",children:[T.jsxs("div",{className:"forgot-password-modal",style:{maxWidth:"550px"},children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h2",{className:"modal-title",children:v?"Contrasea actualizada!":"Cambiar Contrasea"}),T.jsx("button",{className:"modal-close-btn",onClick:w,"aria-label":"Cerrar modal",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",children:T.jsx("path",{d:"M6 6l12 12M18 6l-12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),T.jsx("div",{className:"modal-content",children:v?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"success-icon",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"48",height:"48",children:T.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})}),T.jsx("p",{className:"success-message",children:"Tu contrasea ha sido actualizada exitosamente."})]}):T.jsxs(T.Fragment,{children:[T.jsx("p",{className:"modal-description",children:"Ingresa tu contrasea actual y luego crea una nueva contrasea segura."}),T.jsxs("form",{onSubmit:C,className:"forgot-password-form",children:[T.jsxs("div",{className:"uv-field",children:[T.jsx("span",{className:"uv-icon","aria-hidden":"true",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:T.jsx("path",{d:"M17 10h-1V7a4 4 0 10-8 0v3H7a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2v-7a2 2 0 00-2-2zm-6 0V7a3 3 0 016 0v3h-6z",fill:"currentColor"})})}),T.jsx("input",{className:"uv-input",type:r?"text":"password",name:"currentPassword",value:t.currentPassword,onChange:M,placeholder:" ",required:!0,disabled:c}),T.jsx("label",{className:"uv-label",children:"Contrasea Actual"}),T.jsx("span",{className:"uv-focus-bg"}),T.jsx("button",{type:"button",className:"pwd-toggle",onClick:()=>a(E=>!E),"aria-label":r?"Ocultar contrasea":"Mostrar contrasea",children:r?T.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",children:T.jsx("path",{d:"M12 5c-5 0-9 4.5-10 7 1 2.5 5 7 10 7s9-4.5 10-7c-1-2.5-5-7-10-7zm0 11a4 4 0 110-8 4 4 0 010 8z",fill:"currentColor"})}):T.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",children:[T.jsx("path",{d:"M12 5c-5 0-9 4.5-10 7 1 2.5 5 7 10 7s9-4.5 10-7c-1-2.5-5-7-10-7zm0 11a4 4 0 110-8 4 4 0 010 8z",fill:"currentColor"}),T.jsx("path",{d:"M4 4l16 16",stroke:"currentColor",strokeWidth:"2"})]})})]}),T.jsxs("div",{className:"uv-field",children:[T.jsx("span",{className:"uv-icon","aria-hidden":"true",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:T.jsx("path",{d:"M17 10h-1V7a4 4 0 10-8 0v3H7a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2v-7a2 2 0 00-2-2zm-6 0V7a3 3 0 016 0v3h-6z",fill:"currentColor"})})}),T.jsx("input",{className:"uv-input",type:s?"text":"password",name:"password",value:t.password,onChange:M,placeholder:" ",required:!0,disabled:c}),T.jsx("label",{className:"uv-label",children:"Nueva Contrasea"}),T.jsx("span",{className:"uv-focus-bg"}),T.jsx("button",{type:"button",className:"pwd-toggle",onClick:()=>o(E=>!E),"aria-label":s?"Ocultar contrasea":"Mostrar contrasea",children:s?T.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",children:T.jsx("path",{d:"M12 5c-5 0-9 4.5-10 7 1 2.5 5 7 10 7s9-4.5 10-7c-1-2.5-5-7-10-7zm0 11a4 4 0 110-8 4 4 0 010 8z",fill:"currentColor"})}):T.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",children:[T.jsx("path",{d:"M12 5c-5 0-9 4.5-10 7 1 2.5 5 7 10 7s9-4.5 10-7c-1-2.5-5-7-10-7zm0 11a4 4 0 110-8 4 4 0 010 8z",fill:"currentColor"}),T.jsx("path",{d:"M4 4l16 16",stroke:"currentColor",strokeWidth:"2"})]})})]}),T.jsxs("div",{className:"password-validator",style:{display:"block",visibility:"visible",opacity:1,position:"relative",left:0,right:0,width:"100%",marginTop:"12px",marginBottom:"12px"},children:[T.jsxs("div",{className:`validator-item ${y.minLength?"valid":"invalid"}`,children:[T.jsx("span",{className:"validator-icon",children:y.minLength?"":""}),T.jsx("span",{children:"Mnimo 10 caracteres"})]}),T.jsxs("div",{className:`validator-item ${y.hasUppercase?"valid":"invalid"}`,children:[T.jsx("span",{className:"validator-icon",children:y.hasUppercase?"":""}),T.jsx("span",{children:"Una mayscula"})]}),T.jsxs("div",{className:`validator-item ${y.hasNumber?"valid":"invalid"}`,children:[T.jsx("span",{className:"validator-icon",children:y.hasNumber?"":""}),T.jsx("span",{children:"Un nmero"})]}),T.jsxs("div",{className:`validator-item ${y.hasSymbol?"valid":"invalid"}`,children:[T.jsx("span",{className:"validator-icon",children:y.hasSymbol?"":""}),T.jsx("span",{children:"Un smbolo especial"})]})]}),T.jsxs("div",{className:"uv-field",children:[T.jsx("span",{className:"uv-icon","aria-hidden":"true",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:T.jsx("path",{d:"M17 10h-1V7a4 4 0 10-8 0v3H7a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2v-7a2 2 0 00-2-2zm-6 0V7a3 3 0 016 0v3h-6z",fill:"currentColor"})})}),T.jsx("input",{className:"uv-input",type:l?"text":"password",name:"confirmPassword",value:t.confirmPassword,onChange:M,placeholder:" ",required:!0,disabled:c}),T.jsx("label",{className:"uv-label",children:"Confirmar Nueva Contrasea"}),T.jsx("span",{className:"uv-focus-bg"}),T.jsx("button",{type:"button",className:"pwd-toggle",onClick:()=>u(E=>!E),"aria-label":l?"Ocultar contrasea":"Mostrar contrasea",children:l?T.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",children:T.jsx("path",{d:"M12 5c-5 0-9 4.5-10 7 1 2.5 5 7 10 7s9-4.5 10-7c-1-2.5-5-7-10-7zm0 11a4 4 0 110-8 4 4 0 010 8z",fill:"currentColor"})}):T.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",children:[T.jsx("path",{d:"M12 5c-5 0-9 4.5-10 7 1 2.5 5 7 10 7s9-4.5 10-7c-1-2.5-5-7-10-7zm0 11a4 4 0 110-8 4 4 0 010 8z",fill:"currentColor"}),T.jsx("path",{d:"M4 4l16 16",stroke:"currentColor",strokeWidth:"2"})]})})]}),t.confirmPassword&&T.jsxs("div",{className:`password-match ${b?"valid":"invalid"}`,children:[T.jsx("span",{className:"validator-icon",children:b?"":""}),T.jsx("span",{children:b?"Las contraseas coinciden":"Las contraseas no coinciden"})]}),h&&T.jsx("div",{className:"modal-error",children:h}),T.jsx("button",{type:"submit",className:"modal-submit-btn",disabled:c||!x||!b||!t.currentPassword,children:c?"Actualizando...":"Actualizar Contrasea"})]})]})})]}),T.jsx("style",{jsx:!0,children:`
        .forgot-password-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.6);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .forgot-password-modal {
          background: white;
          border-radius: 16px;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
          max-width: 550px;
          width: 100%;
          max-height: 90vh;
          overflow-y: auto;
          overflow-x: visible;
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 24px 24px 0;
          margin-bottom: 16px;
        }

        .modal-title {
          font-size: 24px;
          font-weight: 600;
          color: #1f2937;
          margin: 0;
        }

        .modal-close-btn {
          background: none;
          border: none;
          padding: 8px;
          border-radius: 8px;
          cursor: pointer;
          color: #6b7280;
          transition: all 0.2s ease;
        }

        .modal-close-btn:hover {
          background: #f3f4f6;
          color: #374151;
        }

        .modal-content {
          padding: 0 24px 24px;
        }

        .modal-description {
          color: #6b7280;
          font-size: 16px;
          line-height: 1.5;
          margin: 0 0 24px 0;
        }

        .forgot-password-form {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .modal-error {
          color: #dc2626;
          background: #fef2f2;
          border: 1px solid #fecaca;
          border-radius: 8px;
          padding: 12px 16px;
          font-size: 14px;
          text-align: center;
        }

        .modal-submit-btn {
          background: linear-gradient(135deg, #4A90E2 0%, #277EAF 100%);
          color: white;
          border: none;
          border-radius: 12px;
          padding: 16px 24px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
          box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);
        }

        .modal-submit-btn:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 6px 16px rgba(74, 144, 226, 0.4);
        }

        .modal-submit-btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }

        .success-icon {
          text-align: center;
          margin-bottom: 20px;
          color: #059669;
        }

        .success-message {
          color: #1f2937;
          font-size: 16px;
          line-height: 1.5;
          text-align: center;
          margin: 0 0 20px 0;
        }

        /* Reutilizar estilos de campos del login */
        .uv-field {
          position: relative;
          margin-bottom: 0;
        }

        .uv-input {
          width: 100%;
          padding: 16px 50px 16px 48px;
          border: 2px solid #e5e7eb;
          border-radius: 12px;
          font-size: 16px;
          background: #fafafa;
          color: #374151;
          transition: all 0.3s ease;
          font-family: inherit;
        }

        .uv-input:focus {
          outline: none;
          border-color: #4A90E2;
          background: white;
          box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1);
        }

        .uv-input:not(:placeholder-shown) {
          background: white;
        }

        .uv-label {
          position: absolute;
          left: 48px;
          top: 50%;
          transform: translateY(-50%);
          font-size: 16px;
          color: #9ca3af;
          pointer-events: none;
          transition: all 0.3s ease;
          background: linear-gradient(to bottom, transparent 0%, transparent 45%, #fafafa 45%, #fafafa 55%, transparent 55%);
          padding: 0 8px;
        }

        .uv-input:focus + .uv-label,
        .uv-input:not(:placeholder-shown) + .uv-label {
          top: 0;
          font-size: 14px;
          color: #4A90E2;
          font-weight: 500;
          background: linear-gradient(to bottom, transparent 0%, transparent 45%, white 45%, white 55%, transparent 55%);
        }

        .uv-icon {
          position: absolute;
          left: 16px;
          top: 50%;
          transform: translateY(-50%);
          color: #9ca3af;
          z-index: 1;
        }

        .uv-input:focus ~ .uv-icon {
          color: #4A90E2;
        }

        .uv-focus-bg {
          position: absolute;
          top: 2px;
          left: 2px;
          right: 2px;
          bottom: 2px;
          background: transparent;
          border-radius: 10px;
          pointer-events: none;
          transition: all 0.3s ease;
        }

        .pwd-toggle {
          position: absolute;
          right: 16px;
          top: 50%;
          transform: translateY(-50%);
          background: none;
          border: none;
          color: #9ca3af;
          cursor: pointer;
          padding: 4px;
          border-radius: 4px;
          transition: all 0.2s ease;
        }

        .pwd-toggle:hover {
          color: #4A90E2;
          background: rgba(74, 144, 226, 0.1);
        }

        .pwd-toggle:focus {
          outline: none;
          color: #4A90E2;
        }

        /* Estilos para validadores de contrasea */
        .password-validator {
          background: #f8fafc;
          border: 1px solid #e2e8f0;
          border-radius: 8px;
          padding: 12px;
          margin: 12px 0 !important;
          font-size: 14px;
          display: block !important;
          visibility: visible !important;
          opacity: 1 !important;
          position: relative !important;
          left: 0 !important;
          right: 0 !important;
          width: 100% !important;
          z-index: 10;
        }

        .validator-item {
          display: flex;
          align-items: center;
          margin-bottom: 6px;
          transition: all 0.3s ease;
        }

        .validator-item:last-child {
          margin-bottom: 0;
        }

        .validator-icon {
          width: 18px;
          height: 18px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-right: 8px;
          border-radius: 50%;
          font-size: 12px;
          font-weight: bold;
          transition: all 0.3s ease;
        }

        .validator-item.valid .validator-icon {
          background: #10b981;
          color: white;
        }

        .validator-item.invalid .validator-icon {
          background: #ef4444;
          color: white;
        }

        .validator-item.valid {
          color: #065f46;
        }

        .validator-item.invalid {
          color: #991b1b;
        }

        /* Password match indicator */
        .password-match {
          display: flex;
          align-items: center;
          font-size: 14px;
          margin: 8px 0;
          padding: 8px 12px;
          border-radius: 6px;
          transition: all 0.3s ease;
        }

        .password-match.valid {
          background: #dcfce7;
          border: 1px solid #bbf7d0;
          color: #065f46;
        }

        .password-match.invalid {
          background: #fef2f2;
          border: 1px solid #fecaca;
          color: #991b1b;
        }

        .password-match .validator-icon {
          width: 16px;
          height: 16px;
          margin-right: 8px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 10px;
          font-weight: bold;
        }

        .password-match.valid .validator-icon {
          background: #10b981;
          color: white;
        }

        .password-match.invalid .validator-icon {
          background: #ef4444;
          color: white;
        }

        @media (max-width: 480px) {
          .forgot-password-modal {
            margin: 0 10px;
          }

          .modal-header {
            padding: 20px 20px 0;
          }

          .modal-content {
            padding: 0 20px 20px;
          }

          .modal-title {
            font-size: 20px;
          }
        }
      `})]}):null},XEe=({isOpen:n,onClose:e,userName:t})=>{const[i,r]=Y.useState(""),[a,s]=Y.useState(!1),[o,l]=Y.useState(""),[u,c]=Y.useState(!1),[f,h]=Y.useState(""),[d,v]=Y.useState(!1),m=va(),y=async b=>{if(b.preventDefault(),!i){h("Debes ingresar tu contrasea");return}if(o.toLowerCase()!=="eliminar"){h('Debes escribir "ELIMINAR" para confirmar');return}c(!0),h("");try{const M=await hi(ai.DELETE_ACCOUNT,{method:"DELETE",body:JSON.stringify({password:i,confirmation:o})});M.ok?(v(!0),setTimeout(()=>{ff(),m("/")},2e3)):h(M.data.error||M.data.detail||"Error al eliminar la cuenta")}catch(M){console.error("Error de conexin:",M),h("Error de conexin con el servidor.")}finally{c(!1)}},x=()=>{u||(r(""),l(""),h(""),v(!1),s(!1),e())};return n?T.jsxs("div",{className:"delete-account-overlay",children:[T.jsxs("div",{className:"delete-account-modal",children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h2",{className:"modal-title",children:d?"Cuenta Eliminada":"Eliminar Cuenta"}),!u&&T.jsx("button",{className:"modal-close-btn",onClick:x,"aria-label":"Cerrar modal",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",children:T.jsx("path",{d:"M6 6l12 12M18 6l-12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),T.jsx("div",{className:"modal-content",children:d?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"success-icon",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"48",height:"48",children:T.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})}),T.jsx("p",{className:"success-message",children:"Tu cuenta ha sido eliminada. Sers redirigido al inicio en un momento."})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"warning-banner",children:[T.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",className:"warning-icon",children:T.jsx("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})}),T.jsxs("div",{children:[T.jsx("h3",{className:"warning-title",children:"Accin Irreversible"}),T.jsx("p",{className:"warning-text",children:"Esta accin eliminar permanentemente tu cuenta y todos tus datos asociados. No podrs recuperar tu informacin."})]})]}),T.jsxs("form",{onSubmit:y,className:"delete-account-form",children:[T.jsxs("div",{className:"uv-field",children:[T.jsx("span",{className:"uv-icon","aria-hidden":"true",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:T.jsx("path",{d:"M17 10h-1V7a4 4 0 10-8 0v3H7a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2v-7a2 2 0 00-2-2zm-6 0V7a3 3 0 016 0v3h-6z",fill:"currentColor"})})}),T.jsx("input",{className:"uv-input",type:a?"text":"password",name:"password",value:i,onChange:b=>r(b.target.value),placeholder:" ",required:!0,disabled:u}),T.jsx("label",{className:"uv-label",children:"Confirma tu Contrasea"}),T.jsx("span",{className:"uv-focus-bg"}),T.jsx("button",{type:"button",className:"pwd-toggle",onClick:()=>s(b=>!b),"aria-label":a?"Ocultar contrasea":"Mostrar contrasea",children:a?T.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),T.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):T.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),T.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})})]}),T.jsxs("div",{className:"confirmation-field",children:[T.jsxs("label",{className:"confirmation-label",children:["Escribe ",T.jsx("strong",{children:"ELIMINAR"})," para confirmar:"]}),T.jsx("input",{className:"confirmation-input",type:"text",value:o,onChange:b=>l(b.target.value),placeholder:"ELIMINAR",required:!0,disabled:u})]}),f&&T.jsx("div",{className:"modal-error",children:f}),T.jsx("button",{type:"submit",className:"modal-delete-btn",disabled:u||!i||o.toLowerCase()!=="eliminar",children:u?"Eliminando cuenta...":"Eliminar Cuenta Permanentemente"}),T.jsxs("p",{className:"disclaimer-text",children:[t&&`Hola ${t}, `,"una vez eliminada tu cuenta, no podrs recuperarla ni acceder a tus datos genticos."]})]})]})})]}),T.jsx("style",{jsx:!0,children:`
        .delete-account-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.7);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .delete-account-modal {
          background: white;
          border-radius: 16px;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
          max-width: 550px;
          width: 100%;
          max-height: 90vh;
          overflow-y: auto;
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 24px 24px 0;
          margin-bottom: 16px;
        }

        .modal-title {
          font-size: 24px;
          font-weight: 600;
          color: #dc2626;
          margin: 0;
        }

        .modal-close-btn {
          background: none;
          border: none;
          padding: 8px;
          border-radius: 8px;
          cursor: pointer;
          color: #6b7280;
          transition: all 0.2s ease;
        }

        .modal-close-btn:hover {
          background: #fee2e2;
          color: #dc2626;
        }

        .modal-content {
          padding: 0 24px 24px;
        }

        .warning-banner {
          display: flex;
          gap: 12px;
          background: #fef2f2;
          border: 2px solid #fecaca;
          border-radius: 12px;
          padding: 16px;
          margin-bottom: 24px;
        }

        .warning-icon {
          color: #dc2626;
          flex-shrink: 0;
        }

        .warning-title {
          font-size: 16px;
          font-weight: 700;
          color: #991b1b;
          margin: 0 0 6px 0;
        }

        .warning-text {
          font-size: 14px;
          color: #7f1d1d;
          line-height: 1.5;
          margin: 0;
        }

        .delete-account-form {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .confirmation-field {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .confirmation-label {
          font-size: 14px;
          font-weight: 600;
          color: #374151;
        }

        .confirmation-label strong {
          color: #dc2626;
          font-weight: 700;
        }

        .confirmation-input {
          width: 100%;
          padding: 12px 16px;
          border: 2px solid #e5e7eb;
          border-radius: 12px;
          font-size: 16px;
          background: #fafafa;
          color: #374151;
          transition: all 0.3s ease;
          font-family: inherit;
          font-weight: 600;
          text-transform: uppercase;
        }

        .confirmation-input:focus {
          outline: none;
          border-color: #dc2626;
          background: white;
          box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
        }

        .modal-error {
          color: #dc2626;
          background: #fef2f2;
          border: 1px solid #fecaca;
          border-radius: 8px;
          padding: 12px 16px;
          font-size: 14px;
          text-align: center;
        }

        .modal-delete-btn {
          background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
          color: white;
          border: none;
          border-radius: 12px;
          padding: 16px 24px;
          font-size: 16px;
          font-weight: 700;
          cursor: pointer;
          transition: all 0.3s ease;
          box-shadow: 0 4px 12px rgba(220, 38, 38, 0.4);
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .modal-delete-btn:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 6px 16px rgba(220, 38, 38, 0.5);
        }

        .modal-delete-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
          transform: none;
        }

        .disclaimer-text {
          font-size: 13px;
          color: #6b7280;
          line-height: 1.5;
          text-align: center;
          margin: 0;
          padding: 12px;
          background: #f9fafb;
          border-radius: 8px;
        }

        .success-icon {
          text-align: center;
          margin-bottom: 20px;
          color: #059669;
        }

        .success-message {
          color: #1f2937;
          font-size: 16px;
          line-height: 1.5;
          text-align: center;
          margin: 0 0 20px 0;
        }

        /* Reutilizar estilos de campos */
        .uv-field {
          position: relative;
          margin-bottom: 0;
        }

        .uv-input {
          width: 100%;
          padding: 16px 50px 16px 48px;
          border: 2px solid #e5e7eb;
          border-radius: 12px;
          font-size: 16px;
          background: #fafafa;
          color: #374151;
          transition: all 0.3s ease;
          font-family: inherit;
        }

        .uv-input:focus {
          outline: none;
          border-color: #dc2626;
          background: white;
          box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
        }

        .uv-input:not(:placeholder-shown) {
          background: white;
        }

        .uv-label {
          position: absolute;
          left: 48px;
          top: 50%;
          transform: translateY(-50%);
          font-size: 16px;
          color: #9ca3af;
          pointer-events: none;
          transition: all 0.3s ease;
          background: linear-gradient(to bottom, transparent 0%, transparent 45%, #fafafa 45%, #fafafa 55%, transparent 55%);
          padding: 0 8px;
        }

        .uv-input:focus + .uv-label,
        .uv-input:not(:placeholder-shown) + .uv-label {
          top: 0;
          font-size: 14px;
          color: #dc2626;
          font-weight: 500;
          background: linear-gradient(to bottom, transparent 0%, transparent 45%, white 45%, white 55%, transparent 55%);
        }

        .uv-icon {
          position: absolute;
          left: 16px;
          top: 50%;
          transform: translateY(-50%);
          color: #9ca3af;
          z-index: 1;
        }

        .uv-input:focus ~ .uv-icon {
          color: #dc2626;
        }

        .uv-focus-bg {
          position: absolute;
          top: 2px;
          left: 2px;
          right: 2px;
          bottom: 2px;
          background: transparent;
          border-radius: 10px;
          pointer-events: none;
          transition: all 0.3s ease;
        }

        .pwd-toggle {
          position: absolute;
          right: 16px;
          top: 50%;
          transform: translateY(-50%);
          background: none;
          border: none;
          color: #9ca3af;
          cursor: pointer;
          padding: 4px;
          border-radius: 4px;
          transition: all 0.2s ease;
        }

        .pwd-toggle:hover {
          color: #dc2626;
          background: rgba(220, 38, 38, 0.1);
        }

        .pwd-toggle:focus {
          outline: none;
          color: #dc2626;
        }

        @media (max-width: 480px) {
          .delete-account-modal {
            margin: 0 10px;
          }

          .modal-header {
            padding: 20px 20px 0;
          }

          .modal-content {
            padding: 0 20px 20px;
          }

          .modal-title {
            font-size: 20px;
          }
        }
      `})]}):null},YEe=({isOpen:n,onClose:e})=>{const[t,i]=Y.useState({userEmail:"",file:null}),[r,a]=Y.useState(!1),[s,o]=Y.useState(""),[l,u]=Y.useState(!1),[c,f]=Y.useState(!1),h=b=>{const{name:M,value:C}=b.target;i(w=>({...w,[M]:C}))},d=b=>{const M=b.target.files[0];if(M){const C=[".vcf",".txt",".csv",".zip",".rar"],w="."+M.name.split(".").pop().toLowerCase();if(!C.includes(w)){o(`Tipo de archivo no permitido. Formatos aceptados: ${C.join(", ")}`);return}const E=100*1024*1024;if(M.size>E){o("El archivo es demasiado grande. Tamao mximo: 100MB");return}i(L=>({...L,file:M})),o("")}},v=b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?f(!0):b.type==="dragleave"&&f(!1)},m=b=>{if(b.preventDefault(),b.stopPropagation(),f(!1),b.dataTransfer.files&&b.dataTransfer.files[0]){const M=b.dataTransfer.files[0];d({target:{files:[M]}})}},y=async b=>{if(b.preventDefault(),!t.userEmail||!t.file){o("Por favor completa todos los campos");return}a(!0),o("");try{const M=new FormData;M.append("file",t.file),M.append("userEmail",t.userEmail);const w="https://pds-7idd.onrender.com/api/auth/upload-genetic-file/",E=localStorage.getItem("token"),L=await fetch(w,{method:"POST",headers:{...E?{Authorization:`Bearer ${E}`}:{}},body:M});if(L.ok)u(!0),setTimeout(()=>{x()},2e3);else{const P=await L.json().catch(()=>({}));o(P.message||P.error||"Error al subir el archivo")}}catch(M){console.error("Error de conexin:",M),o("Error de conexin con el servidor.")}finally{a(!1)}},x=()=>{i({userEmail:"",file:null}),o(""),u(!1),f(!1),e()};return n?T.jsx("div",{className:"upload-modal-overlay",onClick:x,children:T.jsxs("div",{className:"upload-modal",onClick:b=>b.stopPropagation(),children:[T.jsxs("div",{className:"upload-modal__header",children:[T.jsx("h2",{className:"upload-modal__title",children:l?"Archivo Subido!":"Subir Archivo de Usuario"}),T.jsx("button",{className:"upload-modal__close",onClick:x,"aria-label":"Cerrar modal",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",children:T.jsx("path",{d:"M6 6l12 12M18 6l-12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),T.jsx("div",{className:"upload-modal__content",children:l?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"upload-modal__success-icon",children:T.jsx("svg",{viewBox:"0 0 24 24",width:"64",height:"64",children:T.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})}),T.jsx("p",{className:"upload-modal__success-message",children:"El archivo ha sido procesado exitosamente y los datos del usuario se estn actualizando."})]}):T.jsxs(T.Fragment,{children:[T.jsx("p",{className:"upload-modal__description",children:"Sube el archivo gentico del usuario que ha comprado el servicio para procesar su informacin."}),T.jsxs("form",{onSubmit:y,className:"upload-modal__form",children:[T.jsxs("div",{className:"upload-modal__field",children:[T.jsx("label",{className:"upload-modal__label",children:"Email del Usuario"}),T.jsx("input",{className:"upload-modal__input",type:"email",name:"userEmail",value:t.userEmail,onChange:h,placeholder:"usuario@ejemplo.com",required:!0,disabled:r})]}),T.jsxs("div",{className:`upload-modal__dropzone ${c?"upload-modal__dropzone--active":""} ${t.file?"upload-modal__dropzone--has-file":""}`,onDragEnter:v,onDragLeave:v,onDragOver:v,onDrop:m,children:[T.jsx("input",{type:"file",id:"file-input",className:"upload-modal__file-input",onChange:d,disabled:r,accept:".vcf,.txt,.csv,.zip,.rar"}),t.file?T.jsxs("div",{className:"upload-modal__file-info",children:[T.jsx("svg",{viewBox:"0 0 24 24",width:"48",height:"48",children:T.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})}),T.jsx("p",{className:"upload-modal__file-name",children:t.file.name}),T.jsxs("p",{className:"upload-modal__file-size",children:[(t.file.size/1024/1024).toFixed(2)," MB"]}),T.jsx("button",{type:"button",className:"upload-modal__file-remove",onClick:()=>i(b=>({...b,file:null})),children:"Cambiar archivo"})]}):T.jsxs(T.Fragment,{children:[T.jsx("svg",{viewBox:"0 0 24 24",width:"48",height:"48",children:T.jsx("path",{d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})}),T.jsx("p",{className:"upload-modal__dropzone-text",children:"Arrastra y suelta el archivo aqu"}),T.jsx("p",{className:"upload-modal__dropzone-subtext",children:"o"}),T.jsx("label",{htmlFor:"file-input",className:"upload-modal__file-button",children:"Seleccionar archivo"}),T.jsx("p",{className:"upload-modal__dropzone-hint",children:"Formatos: VCF, TXT, CSV, ZIP, RAR (mx. 100MB)"})]})]}),s&&T.jsxs("div",{className:"upload-modal__error",children:[T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:T.jsx("path",{d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round"})}),s]}),T.jsxs("div",{className:"upload-modal__actions",children:[T.jsx("button",{type:"button",className:"upload-modal__button upload-modal__button--secondary",onClick:x,disabled:r,children:"Cancelar"}),T.jsx("button",{type:"submit",className:"upload-modal__button upload-modal__button--primary",disabled:r||!t.file||!t.userEmail,children:r?"Subiendo...":"Subir Archivo"})]})]})]})})]})}):null},jX=[IV,Moe,$we,Zwe,uEe,bF],fy=({items:n=[],onLogout:e,user:t,isMobileMenuOpen:i=!1,setIsMobileMenuOpen:r=()=>{}})=>{const a=va(),[s,o]=Y.useState(!1),[l,u]=Y.useState(!1),[c,f]=Y.useState(!1),[h,d]=Y.useState(!1),[v,m]=Y.useState(!1),[y,x]=Y.useState(!1),[b,M]=Y.useState(!1),[C,w]=Y.useState(!1),[E,L]=Y.useState(!1);Y.useEffect(()=>{const G=()=>{L(window.innerWidth<=1024),window.innerWidth>1024&&r&&r(!1)};return G(),window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[r]),Y.useEffect(()=>{if(!E)return;const G=document.documentElement,X=G.style.overflow;return G.style.overflow=i?"hidden":X||"",()=>{G.style.overflow=X||""}},[i,E]);const P=Y.useMemo(()=>n.map((G,X)=>{const q=jX[X%jX.length];return{label:G.label??String(G),href:G.href??"#",Icon:q}}),[n]),I=Y.useMemo(()=>t?.first_name||t?.firstName||t?.name||"Usuario",[t]),N=G=>{G.preventDefault(),u(!l)},z=G=>{G.preventDefault(),f(!c)},V=G=>{G.preventDefault(),d(!h)},U=G=>{G.preventDefault(),m(!v)},j=G=>X=>{X.preventDefault(),E&&r(!1),a(G)},W=s;return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:`sidebar__overlay ${E&&i?"sidebar__overlay--open":""}`,onClick:()=>r(!1),"aria-hidden":!i}),T.jsxs("aside",{className:`sidebar ${W?"sidebar--unfolded":"sidebar--folded"} ${E&&i?"sidebar--mobile-open":""}`,onMouseEnter:()=>!E&&o(!0),onMouseLeave:()=>!E&&o(!1),children:[T.jsx("div",{className:"sidebar__header",children:T.jsxs("button",{type:"button",className:"sidebar__brand",onClick:()=>{E&&r(!1),a("/dashboard")},"aria-label":"Ir al dashboard",children:[T.jsx("img",{src:"/cSolido.png",alt:"GenomIA Logo",className:"sidebar__logo"}),W&&!E&&T.jsxs("span",{className:"sidebar__brand-text",children:["Genom",T.jsx("span",{className:"sidebar__brand-highlight",children:"IA"}),"."]})]})}),T.jsxs("nav",{className:"sidebar__nav",children:[T.jsxs("div",{className:"sidebar__profile-section",children:[T.jsxs("button",{type:"button",className:"sidebar__nav-item sidebar__profile-toggle",onClick:N,title:!W&&!E?"Perfil":void 0,children:[T.jsx(DEe,{size:20,className:"sidebar__nav-icon"}),(W||E)&&T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"sidebar__nav-label",children:"Perfil"}),l?T.jsx(zE,{size:16}):T.jsx(D1,{size:16})]})]}),l&&(W||E)&&T.jsxs("div",{className:"sidebar__profile-content",children:[T.jsxs("div",{className:"sidebar__profile-greeting",children:["Hola ",I]}),T.jsxs("ul",{className:"sidebar__profile-menu",children:[T.jsx("li",{children:T.jsxs("button",{type:"button",onClick:G=>{G.preventDefault(),x(!0),E&&r(!1)},className:"sidebar__profile-item sidebar__profile-button",children:[T.jsx(iEe,{size:18,className:"sidebar__profile-icon"}),T.jsx("span",{children:"Cambiar contrasea"})]})}),T.jsx("li",{children:T.jsxs("button",{type:"button",onClick:G=>{G.preventDefault(),M(!0),E&&r(!1)},className:"sidebar__profile-item sidebar__profile-item--danger sidebar__profile-button",children:[T.jsx(wEe,{size:18,className:"sidebar__profile-icon"}),T.jsx("span",{children:"Eliminar cuenta"})]})})]})]})]}),(W||E)&&T.jsx("div",{className:"sidebar__divider"}),T.jsxs("div",{className:"sidebar__categories-section",children:[T.jsxs("button",{type:"button",className:"sidebar__nav-item sidebar__categories-toggle",onClick:z,title:!W&&!E?"Categoras":void 0,children:[T.jsx(Jwe,{size:20,className:"sidebar__nav-icon"}),(W||E)&&T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"sidebar__nav-label",children:"Categoras"}),c?T.jsx(zE,{size:16}):T.jsx(D1,{size:16})]})]}),c&&(W||E)&&T.jsx("div",{className:"sidebar__categories-content",children:T.jsx("ul",{className:"sidebar__categories-menu",children:P.map(G=>T.jsx("li",{children:T.jsxs("button",{type:"button",className:"sidebar__categories-item",onClick:j(G.href),children:[T.jsx(G.Icon,{size:18,className:"sidebar__categories-icon"}),T.jsx("span",{children:G.label})]})},G.label))})})]}),(W||E)&&T.jsx("div",{className:"sidebar__divider"}),T.jsxs("div",{className:"sidebar__ai-section",children:[T.jsxs("button",{type:"button",className:"sidebar__nav-item sidebar__ai-toggle",onClick:V,title:!W&&!E?"Pregunta a la IA":void 0,children:[T.jsx(Nwe,{size:20,className:"sidebar__nav-icon"}),(W||E)&&T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"sidebar__nav-label",children:"Pregunta a la IA"}),h?T.jsx(zE,{size:16}):T.jsx(D1,{size:16})]})]}),h&&(W||E)&&T.jsx("div",{className:"sidebar__ai-content",children:T.jsx("ul",{className:"sidebar__ai-menu",children:T.jsx("li",{children:T.jsxs("a",{href:"#chatear-ia",className:"sidebar__ai-item",onClick:j("#chatear-ia"),children:[T.jsx(oEe,{size:18,className:"sidebar__ai-icon"}),T.jsx("span",{children:"Chatea con la IA"})]})})})})]}),t?.is_staff&&T.jsxs(T.Fragment,{children:[(W||E)&&T.jsx("div",{className:"sidebar__divider"}),T.jsxs("div",{className:"sidebar__admin-section",children:[T.jsxs("button",{type:"button",className:"sidebar__nav-item sidebar__admin-toggle",onClick:U,title:!W&&!E?"Administrador":void 0,children:[T.jsx(pEe,{size:20,className:"sidebar__nav-icon"}),(W||E)&&T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"sidebar__nav-label",children:"Administrador"}),v?T.jsx(zE,{size:16}):T.jsx(D1,{size:16})]})]}),v&&(W||E)&&T.jsx("div",{className:"sidebar__admin-content",children:T.jsx("ul",{className:"sidebar__admin-menu",children:T.jsx("li",{children:T.jsxs("button",{type:"button",className:"sidebar__admin-item sidebar__admin-button",onClick:G=>{G.preventDefault(),w(!0),E&&r(!1)},children:[T.jsx(Eoe,{size:18,className:"sidebar__admin-icon"}),T.jsx("span",{children:"Subir Archivo"})]})})})})]})]})]}),T.jsx("div",{className:"sidebar__footer",children:e&&T.jsxs("button",{type:"button",className:"sidebar__logout",onClick:()=>{E&&r(!1),e()},title:!W&&!E?"Cerrar sesin":void 0,children:[T.jsx(woe,{size:20}),(W||E)&&T.jsx("span",{children:"Cerrar sesin"})]})})]}),Sxe.createPortal(T.jsxs(T.Fragment,{children:[T.jsx(WEe,{isOpen:y,onClose:()=>x(!1)}),T.jsx(XEe,{isOpen:b,onClose:()=>{M(!1),u(!1)},userName:I}),T.jsx(YEe,{isOpen:C,onClose:()=>w(!1)})]}),document.body)]})},qEe=({user:n,onLogout:e,onDownload:t})=>{const[i,r]=Y.useState(!1),[a,s]=Y.useState(!1);Y.useEffect(()=>{const f=()=>{const h=window.innerWidth<=1024;s(h),h||r(!1)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]);const o=Y.useMemo(()=>[n?.first_name,n?.firstName,n?.name,n?.username,n?.email].find(Boolean)||"Usuario",[n]),l=Y.useMemo(()=>[{id:"postlogin-ancestria",navLabel:"Ancestra",title:"Ancestra",description:"Descubre tus orgenes genticos y cmo las conexiones con distintas poblaciones han influido en tu historia ancestral.",cta:{label:"Explorar ahora",href:"/dashboard/ancestria",ariaLabel:"Explorar Ancestra"},className:"card--ancestria",contentJustify:"start",textColor:"#4A1C5F",descriptionColor:"#6B2E84",ctaColor:"#4A1C5F",style:{backgroundColor:"#E8D4F0",backgroundImage:"url('/Dashboard/ojo.png')",backgroundSize:"170% auto",backgroundPosition:"center calc(100% + 210px)",backgroundRepeat:"no-repeat"}},{id:"postlogin-rasgos",navLabel:"Rasgos",title:"Rasgos",description:"Conoce los rasgos genticos que influyen en tu apariencia, comportamiento y habilidades nicas.",cta:{label:"Explorar ahora",href:"/dashboard/rasgos",ariaLabel:"Explorar Rasgos"},className:"card--rasgos",textColor:"#29455B",descriptionColor:"#2D5280",ctaColor:"#1E3A5F",style:{backgroundColor:"#D4E8F8",backgroundImage:"url('/Dashboard/semicirculo.png')",backgroundSize:"45% auto",backgroundPosition:"calc(100% + 80px) calc(100% + 30px)",backgroundRepeat:"no-repeat"}},{id:"postlogin-farmacogenetica",navLabel:"Farmacogentica",title:"Farmacogentica",description:"Descubre cmo tu gentica influye en los medicamentos para optimizar tus tratamientos.",cta:{label:"Explorar ahora",href:"/dashboard/farmacogenetica",ariaLabel:"Explorar Farmacogentica"},className:"card--farmacogenetica",textColor:"#3E3A37",descriptionColor:"#5A5450",ctaColor:"#3E3A37",style:{backgroundColor:"#F0EAE4",backgroundImage:"url('/Dashboard/grises.png')",backgroundSize:"35% auto",backgroundPosition:"right bottom -20px",backgroundRepeat:"no-repeat"}},{id:"postlogin-biomarcadores",navLabel:"Biomarcadores",title:"Biomarcadores",description:"Identifica biomarcadores genticos que revelan factores clave de tu salud, bienestar y predisposicin.",cta:{label:"Explorar ahora",href:"/dashboard/biomarcadores",ariaLabel:"Explorar Biomarcadores"},className:"card--biomarcadores",textColor:"#5F3A1C",descriptionColor:"#845C2E",ctaColor:"#5F3A1C",style:{backgroundColor:"#F8E8D4",backgroundImage:"url('/Dashboard/naranjo.png')",backgroundSize:"45% auto",backgroundPosition:"calc(100% + 60px) calc(100% + 15px)",backgroundRepeat:"no-repeat"}},{id:"postlogin-biometricas",navLabel:"Biomtricas",title:"Biomtricas",description:"Analiza tus datos biomtricos para entender cmo tus caractersticas fsicas influyen en tu salud general.",cta:{label:"Explorar ahora",href:"/dashboard/biometricas",ariaLabel:"Explorar Biomtricas"},className:"card--biometricas",textColor:"#5F1C3E",descriptionColor:"#842D5A",ctaColor:"#5F1C3E",style:{backgroundColor:"#f8e0edff",backgroundImage:"url('/Dashboard/estrella.png')",backgroundSize:"47% auto",backgroundPosition:"calc(100% + 120px) calc(100% + 25px)",backgroundRepeat:"no-repeat"}},{id:"postlogin-enfermedades",navLabel:"Enfermedades",title:"Enfermedades",description:"Analiza tu gentica para conocer predisposiciones y mutaciones que pueden influir en tu salud y bienestar.",cta:{label:"Explorar ahora",href:"/dashboard/enfermedades",ariaLabel:"Explorar Enfermedades"},className:"card--enfermedades",textColor:"#3A5F3E",descriptionColor:"#4F7D54",ctaColor:"#3A5F3E",style:{backgroundColor:"#E0F0E4",backgroundImage:"url('/Dashboard/cuadrado.png')",backgroundSize:"25% auto",backgroundPosition:"calc(100% + 50px) calc(100% + 50px)",backgroundRepeat:"no-repeat"}}],[]),u=Y.useMemo(()=>l.map(f=>({label:f.navLabel??f.title??f.label,href:f.cta?.href??"#"})),[l]),c=t??(()=>{});return T.jsxs("div",{className:"dashboard",children:[a&&T.jsx("button",{className:"dashboard__burger",onClick:()=>r(!i),"aria-label":i?"Cerrar men":"Abrir men","aria-expanded":i,children:i?T.jsx(Rh,{size:24,strokeWidth:2.5}):T.jsx(xm,{size:24,strokeWidth:2.5})}),T.jsx("aside",{className:"dashboard__sidebar",children:T.jsx(fy,{items:u,onLogout:e,user:n,isMobileMenuOpen:i,setIsMobileMenuOpen:r})}),T.jsxs("main",{className:"dashboard__main",children:[T.jsxs("header",{className:"dashboard__header",children:[T.jsxs("div",{className:"dashboard__headline",children:[T.jsxs("h1",{className:"dashboard__welcome",children:["Bienvenido/a ",o,"!"]}),T.jsx("p",{className:"dashboard__subtitle",children:"Explora cmo tu informacin gentica se relaciona con distintos aspectos de ti, y descubre anlisis personalizados en cada categora."})]}),T.jsx("div",{className:"dashboard__actions",children:T.jsxs("button",{type:"button",className:"dashboard__download",onClick:c,children:[T.jsx(Coe,{size:18}),"Descargar PDF"]})})]}),T.jsx("section",{className:"dashboard__grid","aria-label":"Resumen postprueba",children:T.jsx(HEe,{cards:l,textAutoHide:!1,enableSpotlight:!1,enableTilt:!1,enableStars:!1,enableBorderGlow:!1,enableMagnetism:!1,clickEffect:!1,glowColor:"8, 133, 216"})})]})]})},nL=({title:n,subtitle:e,icon:t=null})=>T.jsx("header",{className:"section-header",children:T.jsxs("div",{className:"section-header__content",children:[t&&T.jsx("div",{className:"section-header__icon",children:T.jsx(t,{size:28})}),T.jsxs("div",{className:"section-header__text",children:[T.jsx("h1",{className:"section-header__title",children:n}),e&&T.jsx("p",{className:"section-header__subtitle",children:e})]})]})});var SF=function(n,e){return SF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},SF(n,e)};function me(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");SF(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var B2=function(){return B2=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},B2.apply(this,arguments)};function ZEe(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function HX(n,e,t,i){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(c){try{u(i.next(c))}catch(f){s(f)}}function l(c){try{u(i.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):r(c.value).then(o,l)}u((i=i.apply(n,[])).next())})}function WX(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(a=u[0]&2?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,r=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],r=0}finally{i=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var KEe=(function(){function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return n})(),JEe=(function(){function n(){this.browser=new KEe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return n})(),wn=new JEe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(wn.wxa=!0,wn.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?wn.worker=!0:!wn.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Node.js")>-1?(wn.node=!0,wn.svgSupported=!0):QEe(navigator.userAgent,wn);function QEe(n,e){var t=e.browser,i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),a=n.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(n);i&&(t.firefox=!0,t.version=i[1]),r&&(t.ie=!0,t.version=r[1]),a&&(t.edge=!0,t.version=a[1],t.newEdge=+a[1].split(".")[0]>18),s&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11);var o=e.domSupported=typeof document<"u";if(o){var l=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in l||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}}var BV=12,Loe="sans-serif",xp=BV+"px "+Loe,$Ee=20,eDe=100,tDe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function nDe(n){var e={};if(typeof JSON>"u")return e;for(var t=0;t<n.length;t++){var i=String.fromCharCode(t+32),r=(n.charCodeAt(t)-$Ee)/eDe;e[i]=r}return e}var iDe=nDe(tDe),xl={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var n,e;return function(t,i){if(!n){var r=xl.createCanvas();n=r&&r.getContext("2d")}if(n)return e!==i&&(e=n.font=i||xp),n.measureText(t);t=t||"",i=i||xp;var a=/((?:\d+)?\.?\d*)px/.exec(i),s=a&&+a[1]||BV,o=0;if(i.indexOf("mono")>=0)o=s*t.length;else for(var l=0;l<t.length;l++){var u=iDe[t[l]];o+=u==null?s:u*s}return{width:o}}})(),loadImage:function(n,e,t){var i=new Image;return i.onload=e,i.onerror=t,i.src=n,i}};function Noe(n){for(var e in xl)n[e]&&(xl[e]=n[e])}var Ioe=Ju(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),Poe=Ju(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),$b=Object.prototype.toString,DI=Array.prototype,rDe=DI.forEach,aDe=DI.filter,OV=DI.slice,sDe=DI.map,XX=(function(){}).constructor,kE=XX?XX.prototype:null,zV="__proto__",oDe=2311;function kV(){return oDe++}function RI(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];typeof console<"u"&&console.error.apply(console,n)}function Nt(n){if(n==null||typeof n!="object")return n;var e=n,t=$b.call(n);if(t==="[object Array]"){if(!W1(n)){e=[];for(var i=0,r=n.length;i<r;i++)e[i]=Nt(n[i])}}else if(Poe[t]){if(!W1(n)){var a=n.constructor;if(a.from)e=a.from(n);else{e=new a(n.length);for(var i=0,r=n.length;i<r;i++)e[i]=n[i]}}}else if(!Ioe[t]&&!W1(n)&&!Ey(n)){e={};for(var s in n)n.hasOwnProperty(s)&&s!==zV&&(e[s]=Nt(n[s]))}return e}function an(n,e,t){if(!Ot(e)||!Ot(n))return t?Nt(e):n;for(var i in e)if(e.hasOwnProperty(i)&&i!==zV){var r=n[i],a=e[i];Ot(a)&&Ot(r)&&!Ve(a)&&!Ve(r)&&!Ey(a)&&!Ey(r)&&!AF(a)&&!AF(r)&&!W1(a)&&!W1(r)?an(r,a,t):(t||!(i in n))&&(n[i]=Nt(e[i]))}return n}function LI(n,e){for(var t=n[0],i=1,r=n.length;i<r;i++)t=an(t,n[i],e);return t}function Ie(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==zV&&(n[t]=e[t]);return n}function Bt(n,e,t){for(var i=Dn(e),r=0,a=i.length;r<a;r++){var s=i[r];(t?e[s]!=null:n[s]==null)&&(n[s]=e[s])}return n}var lDe=xl.createCanvas;function rn(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,i=n.length;t<i;t++)if(n[t]===e)return t}return-1}function FV(n,e){var t=n.prototype;function i(){}i.prototype=e.prototype,n.prototype=new i;for(var r in t)t.hasOwnProperty(r)&&(n.prototype[r]=t[r]);n.prototype.constructor=n,n.superClass=e}function kr(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var a=i[r];a!=="constructor"&&(t?e[a]!=null:n[a]==null)&&(n[a]=e[a])}else Bt(n,e,t)}function Os(n){return!n||typeof n=="string"?!1:typeof n.length=="number"}function Z(n,e,t){if(n&&e)if(n.forEach&&n.forEach===rDe)n.forEach(e,t);else if(n.length===+n.length)for(var i=0,r=n.length;i<r;i++)e.call(t,n[i],i,n);else for(var a in n)n.hasOwnProperty(a)&&e.call(t,n[a],a,n)}function We(n,e,t){if(!n)return[];if(!e)return NI(n);if(n.map&&n.map===sDe)return n.map(e,t);for(var i=[],r=0,a=n.length;r<a;r++)i.push(e.call(t,n[r],r,n));return i}function Ju(n,e,t,i){if(n&&e){for(var r=0,a=n.length;r<a;r++)t=e.call(i,t,n[r],r,n);return t}}function Zn(n,e,t){if(!n)return[];if(!e)return NI(n);if(n.filter&&n.filter===aDe)return n.filter(e,t);for(var i=[],r=0,a=n.length;r<a;r++)e.call(t,n[r],r,n)&&i.push(n[r]);return i}function Im(n,e,t){if(n&&e){for(var i=0,r=n.length;i<r;i++)if(e.call(t,n[i],i,n))return n[i]}}function Dn(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}function uDe(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return function(){return n.apply(e,t.concat(OV.call(arguments)))}}var ct=kE&&wt(kE.bind)?kE.call.bind(kE.bind):uDe;function $t(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(OV.call(arguments)))}}function Ve(n){return Array.isArray?Array.isArray(n):$b.call(n)==="[object Array]"}function wt(n){return typeof n=="function"}function ot(n){return typeof n=="string"}function iL(n){return $b.call(n)==="[object String]"}function Pn(n){return typeof n=="number"}function Ot(n){var e=typeof n;return e==="function"||!!n&&e==="object"}function AF(n){return!!Ioe[$b.call(n)]}function Yo(n){return!!Poe[$b.call(n)]}function Ey(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function EC(n){return n.colorStops!=null}function Boe(n){return n.image!=null}function Ooe(n){return $b.call(n)==="[object RegExp]"}function Ns(n){return n!==n}function ds(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,i=n.length;t<i;t++)if(n[t]!=null)return n[t]}function At(n,e){return n??e}function gl(n,e,t){return n??e??t}function NI(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return OV.apply(n,e)}function DC(n){if(typeof n=="number")return[n,n,n,n];var e=n.length;return e===2?[n[0],n[1],n[0],n[1]]:e===3?[n[0],n[1],n[2],n[1]]:n}function zs(n,e){if(!n)throw new Error(e)}function Wl(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var zoe="__ec_primitive__";function TT(n){n[zoe]=!0}function W1(n){return n[zoe]}var cDe=(function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return Dn(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},n})(),koe=typeof Map=="function";function fDe(){return koe?new Map:new cDe}var Foe=(function(){function n(e){var t=Ve(e);this.data=fDe();var i=this;e instanceof n?e.each(r):e&&Z(e,r);function r(a,s){t?i.set(a,s):i.set(s,a)}}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(i,r){e.call(t,i,r)})},n.prototype.keys=function(){var e=this.data.keys();return koe?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n})();function bt(n){return new Foe(n)}function lb(n,e){for(var t=new n.constructor(n.length+e.length),i=0;i<n.length;i++)t[i]=n[i];for(var r=n.length,i=0;i<e.length;i++)t[i+r]=e[i];return t}function RC(n,e){var t;if(Object.create)t=Object.create(n);else{var i=function(){};i.prototype=n,t=new i}return e&&Ie(t,e),t}function UV(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function yt(n,e){return n.hasOwnProperty(e)}function Or(){}var O2=180/Math.PI,hDe=Number.EPSILON||Math.pow(2,-52);const dDe=Object.freeze(Object.defineProperty({__proto__:null,EPSILON:hDe,HashMap:Foe,RADIAN_TO_DEGREE:O2,assert:zs,bind:ct,clone:Nt,concatArray:lb,createCanvas:lDe,createHashMap:bt,createObject:RC,curry:$t,defaults:Bt,disableUserSelect:UV,each:Z,eqNaN:Ns,extend:Ie,filter:Zn,find:Im,guid:kV,hasOwn:yt,indexOf:rn,inherits:FV,isArray:Ve,isArrayLike:Os,isBuiltInObject:AF,isDom:Ey,isFunction:wt,isGradientObject:EC,isImagePatternObject:Boe,isNumber:Pn,isObject:Ot,isPrimitive:W1,isRegExp:Ooe,isString:ot,isStringSafe:iL,isTypedArray:Yo,keys:Dn,logError:RI,map:We,merge:an,mergeAll:LI,mixin:kr,noop:Or,normalizeCssArray:DC,reduce:Ju,retrieve:ds,retrieve2:At,retrieve3:gl,setAsPrimitive:TT,slice:NI,trim:Wl},Symbol.toStringTag,{value:"Module"}));function Pm(n,e){return n==null&&(n=0),e==null&&(e=0),[n,e]}function no(n,e){return n[0]=e[0],n[1]=e[1],n}function Mh(n){return[n[0],n[1]]}function II(n,e,t){return n[0]=e,n[1]=t,n}function MF(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function rL(n,e,t,i){return n[0]=e[0]+t[0]*i,n[1]=e[1]+t[1]*i,n}function Yv(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function CT(n){return Math.sqrt(GV(n))}var pDe=CT;function GV(n){return n[0]*n[0]+n[1]*n[1]}var vDe=GV;function mDe(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n}function gDe(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n}function yDe(n,e){return n[0]*e[0]+n[1]*e[1]}function z2(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function Yy(n,e){var t=CT(e);return t===0?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function aL(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var Zd=aL;function Uoe(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])}var rm=Uoe;function xDe(n,e){return n[0]=-e[0],n[1]=-e[1],n}function k2(n,e,t,i){return n[0]=e[0]+i*(t[0]-e[0]),n[1]=e[1]+i*(t[1]-e[1]),n}function zr(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[2]*r+t[4],n[1]=t[1]*i+t[3]*r+t[5],n}function Kd(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function Jd(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}const _De=Object.freeze(Object.defineProperty({__proto__:null,add:MF,applyTransform:zr,clone:Mh,copy:no,create:Pm,dist:Zd,distSquare:rm,distance:aL,distanceSquare:Uoe,div:gDe,dot:yDe,len:CT,lenSquare:GV,length:pDe,lengthSquare:vDe,lerp:k2,max:Jd,min:Kd,mul:mDe,negate:xDe,normalize:Yy,scale:z2,scaleAndAdd:rL,set:II,sub:Yv},Symbol.toStringTag,{value:"Module"}));var m_=(function(){function n(e,t){this.target=e,this.topTarget=t&&t.topTarget}return n})(),bDe=(function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new m_(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var i=e.offsetX,r=e.offsetY,a=i-this._x,s=r-this._y;this._x=i,this._y=r,t.drift(a,s,e),this.handler.dispatchToElement(new m_(t,e),"drag",e.event);var o=this.handler.findHover(i,r,t).target,l=this._dropTarget;this._dropTarget=o,t!==o&&(l&&o!==l&&this.handler.dispatchToElement(new m_(l,e),"dragleave",e.event),o&&o!==l&&this.handler.dispatchToElement(new m_(o,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new m_(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new m_(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n})(),ac=(function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,i,r){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof t=="function"&&(r=i,i=t,t=null),!i||!e)return this;var s=this._$eventProcessor;t!=null&&s&&s.normalizeQuery&&(t=s.normalizeQuery(t)),a[e]||(a[e]=[]);for(var o=0;o<a[e].length;o++)if(a[e][o].h===i)return this;var l={h:i,query:t,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},u=a[e].length-1,c=a[e][u];return c&&c.callAtLast?a[e].splice(u,0,l):a[e].push(l),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var i=this._$handlers;if(!i)return this;if(!e)return this._$handlers={},this;if(t){if(i[e]){for(var r=[],a=0,s=i[e].length;a<s;a++)i[e][a].h!==t&&r.push(i[e][a]);i[e]=r}i[e]&&i[e].length===0&&delete i[e]}else delete i[e];return this},n.prototype.trigger=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],a=this._$eventProcessor;if(r)for(var s=t.length,o=r.length,l=0;l<o;l++){var u=r[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(e,u.query)))switch(s){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,t[0]);break;case 2:u.h.call(u.ctx,t[0],t[1]);break;default:u.h.apply(u.ctx,t);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],a=this._$eventProcessor;if(r)for(var s=t.length,o=t[s-1],l=r.length,u=0;u<l;u++){var c=r[u];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(s){case 0:c.h.call(o);break;case 1:c.h.call(o,t[0]);break;case 2:c.h.call(o,t[0],t[1]);break;default:c.h.apply(o,t.slice(1,s-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n})(),SDe=Math.log(2);function TF(n,e,t,i,r,a){var s=i+"-"+r,o=n.length;if(a.hasOwnProperty(s))return a[s];if(e===1){var l=Math.round(Math.log((1<<o)-1&~r)/SDe);return n[t][l]}for(var u=i|1<<t,c=t+1;i&1<<c;)c++;for(var f=0,h=0,d=0;h<o;h++){var v=1<<h;v&r||(f+=(d%2?-1:1)*n[t][h]*TF(n,e-1,c,u,r|v,a),d++)}return a[s]=f,f}function YX(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],i={},r=TF(t,8,0,0,0,i);if(r!==0){for(var a=[],s=0;s<8;s++)for(var o=0;o<8;o++)a[o]==null&&(a[o]=0),a[o]+=((s+o)%2?-1:1)*TF(t,7,s===0?1:0,1<<s,1<<o,i)/r*e[s];return function(l,u,c){var f=u*a[6]+c*a[7]+1;l[0]=(u*a[0]+c*a[1]+a[2])/f,l[1]=(u*a[3]+c*a[4]+a[5])/f}}}var sL="___zrEVENTSAVED",MO=[];function ADe(n,e,t,i,r){return CF(MO,e,i,r,!0)&&CF(n,t,MO[0],MO[1])}function MDe(n,e){n&&t(n),e&&t(e);function t(i){var r=i[sL];r&&(r.clearMarkers&&r.clearMarkers(),delete i[sL])}}function CF(n,e,t,i,r){if(e.getBoundingClientRect&&wn.domSupported&&!Goe(e)){var a=e[sL]||(e[sL]={}),s=TDe(e,a),o=CDe(s,a,r);if(o)return o(n,t,i),!0}return!1}function TDe(n,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var i=["left","right"],r=["top","bottom"],a=0;a<4;a++){var s=document.createElement("div"),o=s.style,l=a%2,u=(a>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[l]+":0",r[u]+":0",i[1-l]+":auto",r[1-u]+":auto",""].join("!important;"),n.appendChild(s),t.push(s)}return e.clearMarkers=function(){Z(t,function(c){c.parentNode&&c.parentNode.removeChild(c)})},t}function CDe(n,e,t){for(var i=t?"invTrans":"trans",r=e[i],a=e.srcCoords,s=[],o=[],l=!0,u=0;u<4;u++){var c=n[u].getBoundingClientRect(),f=2*u,h=c.left,d=c.top;s.push(h,d),l=l&&a&&h===a[f]&&d===a[f+1],o.push(n[u].offsetLeft,n[u].offsetTop)}return l&&r?r:(e.srcCoords=s,e[i]=t?YX(o,s):YX(s,o))}function Goe(n){return n.nodeName.toUpperCase()==="CANVAS"}var wDe=/([&<>"'])/g,EDe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function so(n){return n==null?"":(n+"").replace(wDe,function(e,t){return EDe[t]})}var DDe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,TO=[],RDe=wn.browser.firefox&&+wn.browser.version.split(".")[0]<39;function wF(n,e,t,i){return t=t||{},i?qX(n,e,t):RDe&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):qX(n,e,t),t}function qX(n,e,t){if(wn.domSupported&&n.getBoundingClientRect){var i=e.clientX,r=e.clientY;if(Goe(n)){var a=n.getBoundingClientRect();t.zrX=i-a.left,t.zrY=r-a.top;return}else if(CF(TO,n,i,r)){t.zrX=TO[0],t.zrY=TO[1];return}}t.zrX=t.zrY=0}function VV(n){return n||window.event}function Bu(n,e,t){if(e=VV(e),e.zrX!=null)return e;var i=e.type,r=i&&i.indexOf("touch")>=0;if(r){var s=i!=="touchend"?e.targetTouches[0]:e.changedTouches[0];s&&wF(n,s,e,t)}else{wF(n,e,e,t);var a=LDe(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var o=e.button;return e.which==null&&o!==void 0&&DDe.test(e.type)&&(e.which=o&1?1:o&2?3:o&4?2:0),e}function LDe(n){var e=n.wheelDelta;if(e)return e;var t=n.deltaX,i=n.deltaY;if(t==null||i==null)return e;var r=Math.abs(i!==0?i:t),a=i>0?-1:i<0?1:t>0?-1:1;return 3*r*a}function EF(n,e,t,i){n.addEventListener(e,t,i)}function NDe(n,e,t,i){n.removeEventListener(e,t,i)}var _p=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function ZX(n){return n.which===2||n.which===3}var IDe=(function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,i){return this._doTrack(e,t,i),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,i){var r=e.touches;if(r){for(var a={points:[],touches:[],target:t,event:e},s=0,o=r.length;s<o;s++){var l=r[s],u=wF(i,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},n.prototype._recognize=function(e){for(var t in CO)if(CO.hasOwnProperty(t)){var i=CO[t](this._track,e);if(i)return i}},n})();function KX(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}function PDe(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var CO={pinch:function(n,e){var t=n.length;if(t){var i=(n[t-1]||{}).points,r=(n[t-2]||{}).points||i;if(r&&r.length>1&&i&&i.length>1){var a=KX(i)/KX(r);!isFinite(a)&&(a=1),e.pinchScale=a;var s=PDe(i);return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:n[0].target,event:e}}}}};function ja(){return[1,0,0,1,0,0]}function LC(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function NC(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Jc(n,e,t){var i=e[0]*t[0]+e[2]*t[1],r=e[1]*t[0]+e[3]*t[1],a=e[0]*t[2]+e[2]*t[3],s=e[1]*t[2]+e[3]*t[3],o=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=i,n[1]=r,n[2]=a,n[3]=s,n[4]=o,n[5]=l,n}function af(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function Lp(n,e,t,i){i===void 0&&(i=[0,0]);var r=e[0],a=e[2],s=e[4],o=e[1],l=e[3],u=e[5],c=Math.sin(t),f=Math.cos(t);return n[0]=r*f+o*c,n[1]=-r*c+o*f,n[2]=a*f+l*c,n[3]=-a*c+f*l,n[4]=f*(s-i[0])+c*(u-i[1])+i[0],n[5]=f*(u-i[1])-c*(s-i[0])+i[1],n}function PI(n,e,t){var i=t[0],r=t[1];return n[0]=e[0]*i,n[1]=e[1]*r,n[2]=e[2]*i,n[3]=e[3]*r,n[4]=e[4]*i,n[5]=e[5]*r,n}function Qu(n,e){var t=e[0],i=e[2],r=e[4],a=e[1],s=e[3],o=e[5],l=t*s-a*i;return l?(l=1/l,n[0]=s*l,n[1]=-a*l,n[2]=-i*l,n[3]=t*l,n[4]=(i*o-s*r)*l,n[5]=(a*r-t*o)*l,n):null}function Voe(n){var e=ja();return NC(e,n),e}const BDe=Object.freeze(Object.defineProperty({__proto__:null,clone:Voe,copy:NC,create:ja,identity:LC,invert:Qu,mul:Jc,rotate:Lp,scale:PI,translate:af},Symbol.toStringTag,{value:"Module"}));var Ft=(function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,i=this.y;return this.x=e[0]*t+e[2]*i+e[4],this.y=e[1]*t+e[3]*i+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,i){e.x=t,e.y=i},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,i){e.x=t.x+i.x,e.y=t.y+i.y},n.sub=function(e,t,i){e.x=t.x-i.x,e.y=t.y-i.y},n.scale=function(e,t,i){e.x=t.x*i,e.y=t.y*i},n.scaleAndAdd=function(e,t,i,r){e.x=t.x+i.x*r,e.y=t.y+i.y*r},n.lerp=function(e,t,i,r){var a=1-r;e.x=a*t.x+r*i.x,e.y=a*t.y+r*i.y},n})(),W0=Math.min,R1=Math.max,DF=Math.abs,JX=["x","y"],ODe=["width","height"],kg=new Ft,Fg=new Ft,Ug=new Ft,Gg=new Ft,Ul=joe(),r2=Ul.minTv,RF=Ul.maxTv,F2=[0,0],Ut=(function(){function n(e,t,i,r){n.set(this,e,t,i,r)}return n.set=function(e,t,i,r,a){return r<0&&(t=t+r,r=-r),a<0&&(i=i+a,a=-a),e.x=t,e.y=i,e.width=r,e.height=a,e},n.prototype.union=function(e){var t=W0(e.x,this.x),i=W0(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=R1(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=R1(e.y+e.height,this.y+this.height)-i:this.height=e.height,this.x=t,this.y=i},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,i=e.width/t.width,r=e.height/t.height,a=ja();return af(a,a,[-t.x,-t.y]),PI(a,a,[i,r]),af(a,a,[e.x,e.y]),a},n.prototype.intersect=function(e,t,i){return n.intersect(this,e,t,i)},n.intersect=function(e,t,i,r){i&&Ft.set(i,0,0);var a=r&&r.outIntersectRect||null,s=r&&r.clamp;if(a&&(a.x=a.y=a.width=a.height=NaN),!e||!t)return!1;e instanceof n||(e=n.set(zDe,e.x,e.y,e.width,e.height)),t instanceof n||(t=n.set(kDe,t.x,t.y,t.width,t.height));var o=!!i;Ul.reset(r,o);var l=Ul.touchThreshold,u=e.x+l,c=e.x+e.width-l,f=e.y+l,h=e.y+e.height-l,d=t.x+l,v=t.x+t.width-l,m=t.y+l,y=t.y+t.height-l;if(u>c||f>h||d>v||m>y)return!1;var x=!(c<d||v<u||h<m||y<f);return(o||a)&&(F2[0]=1/0,F2[1]=0,QX(u,c,d,v,0,o,a,s),QX(f,h,m,y,1,o,a,s),o&&Ft.copy(i,x?Ul.useDir?Ul.dirMinTv:r2:RF)),x},n.contain=function(e,t,i){return t>=e.x&&t<=e.x+e.width&&i>=e.y&&i<=e.y+e.height},n.prototype.contain=function(e,t){return n.contain(this,e,t)},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){return e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,e},n.applyTransform=function(e,t,i){if(!i){e!==t&&n.copy(e,t);return}if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],a=i[3],s=i[4],o=i[5];e.x=t.x*r+s,e.y=t.y*a+o,e.width=t.width*r,e.height=t.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}kg.x=Ug.x=t.x,kg.y=Gg.y=t.y,Fg.x=Gg.x=t.x+t.width,Fg.y=Ug.y=t.y+t.height,kg.transform(i),Gg.transform(i),Fg.transform(i),Ug.transform(i),e.x=W0(kg.x,Fg.x,Ug.x,Gg.x),e.y=W0(kg.y,Fg.y,Ug.y,Gg.y);var l=R1(kg.x,Fg.x,Ug.x,Gg.x),u=R1(kg.y,Fg.y,Ug.y,Gg.y);e.width=l-e.x,e.height=u-e.y},n})(),zDe=new Ut(0,0,0,0),kDe=new Ut(0,0,0,0);function QX(n,e,t,i,r,a,s,o){var l=DF(e-t),u=DF(i-n),c=W0(l,u),f=JX[r],h=JX[1-r],d=ODe[r];e<t||i<n?l<u?(a&&(RF[f]=-l),o&&(s[f]=e,s[d]=0)):(a&&(RF[f]=u),o&&(s[f]=n,s[d]=0)):(s&&(s[f]=R1(n,t),s[d]=W0(e,i)-s[f]),a&&(c<F2[0]||Ul.useDir)&&(F2[0]=W0(c,F2[0]),(l<u||!Ul.bidirectional)&&(r2[f]=l,r2[h]=0,Ul.useDir&&Ul.calcDirMTV()),(l>=u||!Ul.bidirectional)&&(r2[f]=-u,r2[h]=0,Ul.useDir&&Ul.calcDirMTV())))}function joe(){var n=0,e=new Ft,t=new Ft,i={minTv:new Ft,maxTv:new Ft,useDir:!1,dirMinTv:new Ft,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(a,s){i.touchThreshold=0,a&&a.touchThreshold!=null&&(i.touchThreshold=R1(0,a.touchThreshold)),i.negativeSize=!1,s&&(i.minTv.set(1/0,1/0),i.maxTv.set(0,0),i.useDir=!1,a&&a.direction!=null&&(i.useDir=!0,i.dirMinTv.copy(i.minTv),t.copy(i.minTv),n=a.direction,i.bidirectional=a.bidirectional==null||!!a.bidirectional,i.bidirectional||e.set(Math.cos(n),Math.sin(n))))},calcDirMTV:function(){var a=i.minTv,s=i.dirMinTv,o=a.y*a.y+a.x*a.x,l=Math.sin(n),u=Math.cos(n),c=l*a.y+u*a.x;if(r(c)){r(a.x)&&r(a.y)&&s.set(0,0);return}if(t.x=o*u/c,t.y=o*l/c,r(t.x)&&r(t.y)){s.set(0,0);return}(i.bidirectional||e.dot(t)>0)&&t.len()<s.len()&&s.copy(t)}};function r(a){return DF(a)<1e-10}return i}var Hoe="silent";function FDe(n,e,t){return{type:n,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:UDe}}function UDe(){_p(this.event)}var GDe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handler=null,t}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e})(ac),rM=(function(){function n(e,t){this.x=e,this.y=t}return n})(),VDe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],wO=new Ut(0,0,0,0),Woe=(function(n){me(e,n);function e(t,i,r,a,s){var o=n.call(this)||this;return o._hovered=new rM(0,0),o.storage=t,o.painter=i,o.painterRoot=a,o._pointerSize=s,r=r||new GDe,o.proxy=null,o.setHandlerProxy(r),o._draggingMgr=new bDe(o),o}return e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(Z(VDe,function(i){t.on&&t.on(i,this[i],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var i=t.zrX,r=t.zrY,a=Xoe(this,i,r),s=this._hovered,o=s.target;o&&!o.__zr&&(s=this.findHover(s.x,s.y),o=s.target);var l=this._hovered=a?new rM(i,r):this.findHover(i,r),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),o&&u!==o&&this.dispatchToElement(s,"mouseout",t),this.dispatchToElement(l,"mousemove",t),u&&u!==o&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var i=t.zrEventControl;i!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),i!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new rM(0,0)},e.prototype.dispatch=function(t,i){var r=this[t];r&&r.call(this,i)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var i=this.proxy;i.setCursor&&i.setCursor(t)},e.prototype.dispatchToElement=function(t,i,r){t=t||{};var a=t.target;if(!(a&&a.silent)){for(var s="on"+i,o=FDe(i,t,r);a&&(a[s]&&(o.cancelBubble=!!a[s].call(a,o)),a.trigger(i,o),a=a.__hostTarget?a.__hostTarget:a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(i,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[s]=="function"&&l[s].call(l,o),l.trigger&&l.trigger(i,o)}))}},e.prototype.findHover=function(t,i,r){var a=this.storage.getDisplayList(),s=new rM(t,i);if($X(a,s,t,i,r),this._pointerSize&&!s.target){for(var o=[],l=this._pointerSize,u=l/2,c=new Ut(t-u,i-u,l,l),f=a.length-1;f>=0;f--){var h=a[f];h!==r&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(wO.copy(h.getBoundingRect()),h.transform&&wO.applyTransform(h.transform),wO.intersect(c)&&o.push(h))}if(o.length)for(var d=4,v=Math.PI/12,m=Math.PI*2,y=0;y<u;y+=d)for(var x=0;x<m;x+=v){var b=t+y*Math.cos(x),M=i+y*Math.sin(x);if($X(o,s,b,M,r),s.target)return s}}return s},e.prototype.processGesture=function(t,i){this._gestureMgr||(this._gestureMgr=new IDe);var r=this._gestureMgr;i==="start"&&r.clear();var a=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(i==="end"&&r.clear(),a){var s=a.type;t.gestureEvent=s;var o=new rM;o.target=a.target,this.dispatchToElement(o,s,a.event)}},e})(ac);Z(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){Woe.prototype[n]=function(e){var t=e.zrX,i=e.zrY,r=Xoe(this,t,i),a,s;if((n!=="mouseup"||!r)&&(a=this.findHover(t,i),s=a.target),n==="mousedown")this._downEl=s,this._downPoint=[e.zrX,e.zrY],this._upEl=s;else if(n==="mouseup")this._upEl=s;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||Zd(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,n,e)}});function jDe(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var i=n,r=void 0,a=!1;i;){if(i.ignoreClip&&(a=!0),!a){var s=i.getClipPath();if(s&&!s.contain(e,t))return!1}i.silent&&(r=!0);var o=i.__hostTarget;i=o?i.ignoreHostSilent?null:o:i.parent}return r?Hoe:!0}return!1}function $X(n,e,t,i,r){for(var a=n.length-1;a>=0;a--){var s=n[a],o=void 0;if(s!==r&&!s.ignore&&(o=jDe(s,t,i))&&(!e.topTarget&&(e.topTarget=s),o!==Hoe)){e.target=s;break}}}function Xoe(n,e,t){var i=n.painter;return e<0||e>i.getWidth()||t<0||t>i.getHeight()}var Yoe=32,aM=7;function HDe(n){for(var e=0;n>=Yoe;)e|=n&1,n>>=1;return n+e}function eY(n,e,t,i){var r=e+1;if(r===t)return 1;if(i(n[r++],n[e])<0){for(;r<t&&i(n[r],n[r-1])<0;)r++;WDe(n,e,r)}else for(;r<t&&i(n[r],n[r-1])>=0;)r++;return r-e}function WDe(n,e,t){for(t--;e<t;){var i=n[e];n[e++]=n[t],n[t--]=i}}function tY(n,e,t,i,r){for(i===e&&i++;i<t;i++){for(var a=n[i],s=e,o=i,l;s<o;)l=s+o>>>1,r(a,n[l])<0?o=l:s=l+1;var u=i-s;switch(u){case 3:n[s+3]=n[s+2];case 2:n[s+2]=n[s+1];case 1:n[s+1]=n[s];break;default:for(;u>0;)n[s+u]=n[s+u-1],u--}n[s]=a}}function EO(n,e,t,i,r,a){var s=0,o=0,l=1;if(a(n,e[t+r])>0){for(o=i-r;l<o&&a(n,e[t+r+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=r,l+=r}else{for(o=r+1;l<o&&a(n,e[t+r-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=r-l,l=r-u}for(s++;s<l;){var c=s+(l-s>>>1);a(n,e[t+c])>0?s=c+1:l=c}return l}function DO(n,e,t,i,r,a){var s=0,o=0,l=1;if(a(n,e[t+r])<0){for(o=r+1;l<o&&a(n,e[t+r-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=r-l,l=r-u}else{for(o=i-r;l<o&&a(n,e[t+r+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=r,l+=r}for(s++;s<l;){var c=s+(l-s>>>1);a(n,e[t+c])<0?l=c:s=c+1}return l}function XDe(n,e){var t=aM,i,r,a=0,s=[];i=[],r=[];function o(d,v){i[a]=d,r[a]=v,a+=1}function l(){for(;a>1;){var d=a-2;if(d>=1&&r[d-1]<=r[d]+r[d+1]||d>=2&&r[d-2]<=r[d]+r[d-1])r[d-1]<r[d+1]&&d--;else if(r[d]>r[d+1])break;c(d)}}function u(){for(;a>1;){var d=a-2;d>0&&r[d-1]<r[d+1]&&d--,c(d)}}function c(d){var v=i[d],m=r[d],y=i[d+1],x=r[d+1];r[d]=m+x,d===a-3&&(i[d+1]=i[d+2],r[d+1]=r[d+2]),a--;var b=DO(n[y],n,v,m,0,e);v+=b,m-=b,m!==0&&(x=EO(n[v+m-1],n,y,x,x-1,e),x!==0&&(m<=x?f(v,m,y,x):h(v,m,y,x)))}function f(d,v,m,y){var x=0;for(x=0;x<v;x++)s[x]=n[d+x];var b=0,M=m,C=d;if(n[C++]=n[M++],--y===0){for(x=0;x<v;x++)n[C+x]=s[b+x];return}if(v===1){for(x=0;x<y;x++)n[C+x]=n[M+x];n[C+y]=s[b];return}for(var w=t,E,L,P;;){E=0,L=0,P=!1;do if(e(n[M],s[b])<0){if(n[C++]=n[M++],L++,E=0,--y===0){P=!0;break}}else if(n[C++]=s[b++],E++,L=0,--v===1){P=!0;break}while((E|L)<w);if(P)break;do{if(E=DO(n[M],s,b,v,0,e),E!==0){for(x=0;x<E;x++)n[C+x]=s[b+x];if(C+=E,b+=E,v-=E,v<=1){P=!0;break}}if(n[C++]=n[M++],--y===0){P=!0;break}if(L=EO(s[b],n,M,y,0,e),L!==0){for(x=0;x<L;x++)n[C+x]=n[M+x];if(C+=L,M+=L,y-=L,y===0){P=!0;break}}if(n[C++]=s[b++],--v===1){P=!0;break}w--}while(E>=aM||L>=aM);if(P)break;w<0&&(w=0),w+=2}if(t=w,t<1&&(t=1),v===1){for(x=0;x<y;x++)n[C+x]=n[M+x];n[C+y]=s[b]}else{if(v===0)throw new Error;for(x=0;x<v;x++)n[C+x]=s[b+x]}}function h(d,v,m,y){var x=0;for(x=0;x<y;x++)s[x]=n[m+x];var b=d+v-1,M=y-1,C=m+y-1,w=0,E=0;if(n[C--]=n[b--],--v===0){for(w=C-(y-1),x=0;x<y;x++)n[w+x]=s[x];return}if(y===1){for(C-=v,b-=v,E=C+1,w=b+1,x=v-1;x>=0;x--)n[E+x]=n[w+x];n[C]=s[M];return}for(var L=t;;){var P=0,I=0,N=!1;do if(e(s[M],n[b])<0){if(n[C--]=n[b--],P++,I=0,--v===0){N=!0;break}}else if(n[C--]=s[M--],I++,P=0,--y===1){N=!0;break}while((P|I)<L);if(N)break;do{if(P=v-DO(s[M],n,d,v,v-1,e),P!==0){for(C-=P,b-=P,v-=P,E=C+1,w=b+1,x=P-1;x>=0;x--)n[E+x]=n[w+x];if(v===0){N=!0;break}}if(n[C--]=s[M--],--y===1){N=!0;break}if(I=y-EO(n[b],s,0,y,y-1,e),I!==0){for(C-=I,M-=I,y-=I,E=C+1,w=M+1,x=0;x<I;x++)n[E+x]=s[w+x];if(y<=1){N=!0;break}}if(n[C--]=n[b--],--v===0){N=!0;break}L--}while(P>=aM||I>=aM);if(N)break;L<0&&(L=0),L+=2}if(t=L,t<1&&(t=1),y===1){for(C-=v,b-=v,E=C+1,w=b+1,x=v-1;x>=0;x--)n[E+x]=n[w+x];n[C]=s[M]}else{if(y===0)throw new Error;for(w=C-(y-1),x=0;x<y;x++)n[w+x]=s[x]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:o}}function u3(n,e,t,i){t||(t=0),i||(i=n.length);var r=i-t;if(!(r<2)){var a=0;if(r<Yoe){a=eY(n,t,i,e),tY(n,t,i,t+a,e);return}var s=XDe(n,e),o=HDe(r);do{if(a=eY(n,t,i,e),a<o){var l=r;l>o&&(l=o),tY(n,t,t+l,t+a,e),a=l}s.pushRun(t,a),s.mergeRuns(),r-=a,t+=a}while(r!==0);s.forceMergeRuns()}}var Vl=1,a2=2,v1=4,nY=!1;function RO(){nY||(nY=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function iY(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var YDe=(function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=iY}return n.prototype.traverse=function(e,t){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var i=this._displayList;return(e||!i.length)&&this.updateDisplayList(t),i},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,i=this._displayList,r=0,a=t.length;r<a;r++)this._updateAndAddDisplayable(t[r],null,e);i.length=this._displayListLen,u3(i,iY)},n.prototype._updateAndAddDisplayable=function(e,t,i){if(!(e.ignore&&!i)){e.beforeUpdate(),e.update(),e.afterUpdate();var r=e.getClipPath(),a=t&&t.length,s=0,o=e.__clipPaths;if(!e.ignoreClip&&(a||r)){if(o||(o=e.__clipPaths=[]),a)for(var l=0;l<t.length;l++)o[s++]=t[l];for(var u=r,c=e;u;)u.parent=c,u.updateTransform(),o[s++]=u,c=u,u=u.getClipPath()}if(o&&(o.length=s),e.childrenRef){for(var f=e.childrenRef(),h=0;h<f.length;h++){var d=f[h];e.__dirty&&(d.__dirty|=Vl),this._updateAndAddDisplayable(d,o,i)}e.__dirty=0}else{var v=e;isNaN(v.z)&&(RO(),v.z=0),isNaN(v.z2)&&(RO(),v.z2=0),isNaN(v.zlevel)&&(RO(),v.zlevel=0),this._displayList[this._displayListLen++]=v}var m=e.getDecalElement&&e.getDecalElement();m&&this._updateAndAddDisplayable(m,o,i);var y=e.getTextGuideLine();y&&this._updateAndAddDisplayable(y,o,i);var x=e.getTextContent();x&&this._updateAndAddDisplayable(x,o,i)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,i=e.length;t<i;t++)this.delRoot(e[t]);return}var r=rn(this._roots,e);r>=0&&this._roots.splice(r,1)},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n})(),oL;oL=wn.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};var U2={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1,i=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=i/4):e=i*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/i)))},elasticOut:function(n){var e,t=.1,i=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=i/4):e=i*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/i)+1)},elasticInOut:function(n){var e,t=.1,i=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=i/4):e=i*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?-.5*(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/i)):t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/i)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-U2.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?U2.bounceIn(n*2)*.5:U2.bounceOut(n*2-1)*.5+.5}},FE=Math.pow,am=Math.sqrt,lL=1e-8,qoe=1e-4,rY=am(3),UE=1/3,ch=Pm(),Uu=Pm(),X1=Pm();function qv(n){return n>-lL&&n<lL}function Zoe(n){return n>lL||n<-lL}function Ga(n,e,t,i,r){var a=1-r;return a*a*(a*n+3*r*e)+r*r*(r*i+3*a*t)}function aY(n,e,t,i,r){var a=1-r;return 3*(((e-n)*a+2*(t-e)*r)*a+(i-t)*r*r)}function uL(n,e,t,i,r,a){var s=i+3*(e-t)-n,o=3*(t-e*2+n),l=3*(e-n),u=n-r,c=o*o-3*s*l,f=o*l-9*s*u,h=l*l-3*o*u,d=0;if(qv(c)&&qv(f))if(qv(o))a[0]=0;else{var v=-l/o;v>=0&&v<=1&&(a[d++]=v)}else{var m=f*f-4*c*h;if(qv(m)){var y=f/c,v=-o/s+y,x=-y/2;v>=0&&v<=1&&(a[d++]=v),x>=0&&x<=1&&(a[d++]=x)}else if(m>0){var b=am(m),M=c*o+1.5*s*(-f+b),C=c*o+1.5*s*(-f-b);M<0?M=-FE(-M,UE):M=FE(M,UE),C<0?C=-FE(-C,UE):C=FE(C,UE);var v=(-o-(M+C))/(3*s);v>=0&&v<=1&&(a[d++]=v)}else{var w=(2*c*o-3*s*f)/(2*am(c*c*c)),E=Math.acos(w)/3,L=am(c),P=Math.cos(E),v=(-o-2*L*P)/(3*s),x=(-o+L*(P+rY*Math.sin(E)))/(3*s),I=(-o+L*(P-rY*Math.sin(E)))/(3*s);v>=0&&v<=1&&(a[d++]=v),x>=0&&x<=1&&(a[d++]=x),I>=0&&I<=1&&(a[d++]=I)}}return d}function Koe(n,e,t,i,r){var a=6*t-12*e+6*n,s=9*e+3*i-3*n-9*t,o=3*e-3*n,l=0;if(qv(s)){if(Zoe(a)){var u=-o/a;u>=0&&u<=1&&(r[l++]=u)}}else{var c=a*a-4*s*o;if(qv(c))r[0]=-a/(2*s);else if(c>0){var f=am(c),u=(-a+f)/(2*s),h=(-a-f)/(2*s);u>=0&&u<=1&&(r[l++]=u),h>=0&&h<=1&&(r[l++]=h)}}return l}function _m(n,e,t,i,r,a){var s=(e-n)*r+n,o=(t-e)*r+e,l=(i-t)*r+t,u=(o-s)*r+s,c=(l-o)*r+o,f=(c-u)*r+u;a[0]=n,a[1]=s,a[2]=u,a[3]=f,a[4]=f,a[5]=c,a[6]=l,a[7]=i}function Joe(n,e,t,i,r,a,s,o,l,u,c){var f,h=.005,d=1/0,v,m,y,x;ch[0]=l,ch[1]=u;for(var b=0;b<1;b+=.05)Uu[0]=Ga(n,t,r,s,b),Uu[1]=Ga(e,i,a,o,b),y=rm(ch,Uu),y<d&&(f=b,d=y);d=1/0;for(var M=0;M<32&&!(h<qoe);M++)v=f-h,m=f+h,Uu[0]=Ga(n,t,r,s,v),Uu[1]=Ga(e,i,a,o,v),y=rm(Uu,ch),v>=0&&y<d?(f=v,d=y):(X1[0]=Ga(n,t,r,s,m),X1[1]=Ga(e,i,a,o,m),x=rm(X1,ch),m<=1&&x<d?(f=m,d=x):h*=.5);return c&&(c[0]=Ga(n,t,r,s,f),c[1]=Ga(e,i,a,o,f)),am(d)}function qDe(n,e,t,i,r,a,s,o,l){for(var u=n,c=e,f=0,h=1/l,d=1;d<=l;d++){var v=d*h,m=Ga(n,t,r,s,v),y=Ga(e,i,a,o,v),x=m-u,b=y-c;f+=Math.sqrt(x*x+b*b),u=m,c=y}return f}function us(n,e,t,i){var r=1-i;return r*(r*n+2*i*e)+i*i*t}function LF(n,e,t,i){return 2*((1-i)*(e-n)+i*(t-e))}function ZDe(n,e,t,i,r){var a=n-2*e+t,s=2*(e-n),o=n-i,l=0;if(qv(a)){if(Zoe(s)){var u=-o/s;u>=0&&u<=1&&(r[l++]=u)}}else{var c=s*s-4*a*o;if(qv(c)){var u=-s/(2*a);u>=0&&u<=1&&(r[l++]=u)}else if(c>0){var f=am(c),u=(-s+f)/(2*a),h=(-s-f)/(2*a);u>=0&&u<=1&&(r[l++]=u),h>=0&&h<=1&&(r[l++]=h)}}return l}function Qoe(n,e,t){var i=n+t-2*e;return i===0?.5:(n-e)/i}function wT(n,e,t,i,r){var a=(e-n)*i+n,s=(t-e)*i+e,o=(s-a)*i+a;r[0]=n,r[1]=a,r[2]=o,r[3]=o,r[4]=s,r[5]=t}function $oe(n,e,t,i,r,a,s,o,l){var u,c=.005,f=1/0;ch[0]=s,ch[1]=o;for(var h=0;h<1;h+=.05){Uu[0]=us(n,t,r,h),Uu[1]=us(e,i,a,h);var d=rm(ch,Uu);d<f&&(u=h,f=d)}f=1/0;for(var v=0;v<32&&!(c<qoe);v++){var m=u-c,y=u+c;Uu[0]=us(n,t,r,m),Uu[1]=us(e,i,a,m);var d=rm(Uu,ch);if(m>=0&&d<f)u=m,f=d;else{X1[0]=us(n,t,r,y),X1[1]=us(e,i,a,y);var x=rm(X1,ch);y<=1&&x<f?(u=y,f=x):c*=.5}}return l&&(l[0]=us(n,t,r,u),l[1]=us(e,i,a,u)),am(f)}function KDe(n,e,t,i,r,a,s){for(var o=n,l=e,u=0,c=1/s,f=1;f<=s;f++){var h=f*c,d=us(n,t,r,h),v=us(e,i,a,h),m=d-o,y=v-l;u+=Math.sqrt(m*m+y*y),o=d,l=v}return u}var JDe=/cubic-bezier\(([0-9,\.e ]+)\)/;function jV(n){var e=n&&JDe.exec(n);if(e){var t=e[1].split(","),i=+Wl(t[0]),r=+Wl(t[1]),a=+Wl(t[2]),s=+Wl(t[3]);if(isNaN(i+r+a+s))return;var o=[];return function(l){return l<=0?0:l>=1?1:uL(0,i,a,1,l,o)&&Ga(0,r,s,1,o[0])}}}var QDe=(function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Or,this.ondestroy=e.ondestroy||Or,this.onrestart=e.onrestart||Or,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var i=this._life,r=e-this._startTime-this._pausedTime,a=r/i;a<0&&(a=0),a=Math.min(a,1);var s=this.easingFunc,o=s?s(a):a;if(this.onframe(o),a===1)if(this.loop){var l=r%i;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=wt(e)?e:U2[e]||jV(e)},n})(),ele=(function(){function n(e){this.value=e}return n})(),$De=(function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new ele(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,i=e.next;t?t.next=i:this.head=i,i?i.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n})(),ub=(function(){function n(e){this._list=new $De,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var i=this._list,r=this._map,a=null;if(r[e]==null){var s=i.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=i.head;i.remove(l),delete r[l.key],a=l.value,this._lastRemovedEntry=l}o?o.value=t:o=new ele(t),o.key=e,i.insertEntry(o),r[e]=o}return a},n.prototype.get=function(e){var t=this._map[e],i=this._list;if(t!=null)return t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n})(),sY={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Qc(n){return n=Math.round(n),n<0?0:n>255?255:n}function eRe(n){return n=Math.round(n),n<0?0:n>360?360:n}function ET(n){return n<0?0:n>1?1:n}function c3(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?Qc(parseFloat(e)/100*255):Qc(parseInt(e,10))}function np(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?ET(parseFloat(e)/100):ET(parseFloat(e))}function LO(n,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?n+(e-n)*t*6:t*2<1?e:t*3<2?n+(e-n)*(2/3-t)*6:n}function Zv(n,e,t){return n+(e-n)*t}function Nu(n,e,t,i,r){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n}function NF(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var tle=new ub(20),GE=null;function g_(n,e){GE&&NF(GE,e),GE=tle.put(n,GE||e.slice())}function co(n,e){if(n){e=e||[];var t=tle.get(n);if(t)return NF(e,t);n=n+"";var i=n.replace(/ /g,"").toLowerCase();if(i in sY)return NF(e,sY[i]),g_(n,e),e;var r=i.length;if(i.charAt(0)==="#"){if(r===4||r===5){var a=parseInt(i.slice(1,4),16);if(!(a>=0&&a<=4095)){Nu(e,0,0,0,1);return}return Nu(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,r===5?parseInt(i.slice(4),16)/15:1),g_(n,e),e}else if(r===7||r===9){var a=parseInt(i.slice(1,7),16);if(!(a>=0&&a<=16777215)){Nu(e,0,0,0,1);return}return Nu(e,(a&16711680)>>16,(a&65280)>>8,a&255,r===9?parseInt(i.slice(7),16)/255:1),g_(n,e),e}return}var s=i.indexOf("("),o=i.indexOf(")");if(s!==-1&&o+1===r){var l=i.substr(0,s),u=i.substr(s+1,o-(s+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?Nu(e,+u[0],+u[1],+u[2],1):Nu(e,0,0,0,1);c=np(u.pop());case"rgb":if(u.length>=3)return Nu(e,c3(u[0]),c3(u[1]),c3(u[2]),u.length===3?c:np(u[3])),g_(n,e),e;Nu(e,0,0,0,1);return;case"hsla":if(u.length!==4){Nu(e,0,0,0,1);return}return u[3]=np(u[3]),IF(u,e),g_(n,e),e;case"hsl":if(u.length!==3){Nu(e,0,0,0,1);return}return IF(u,e),g_(n,e),e;default:return}}Nu(e,0,0,0,1)}}function IF(n,e){var t=(parseFloat(n[0])%360+360)%360/360,i=np(n[1]),r=np(n[2]),a=r<=.5?r*(i+1):r+i-r*i,s=r*2-a;return e=e||[],Nu(e,Qc(LO(s,a,t+1/3)*255),Qc(LO(s,a,t)*255),Qc(LO(s,a,t-1/3)*255),1),n.length===4&&(e[3]=n[3]),e}function tRe(n){if(n){var e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(e,t,i),a=Math.max(e,t,i),s=a-r,o=(a+r)/2,l,u;if(s===0)l=0,u=0;else{o<.5?u=s/(a+r):u=s/(2-a-r);var c=((a-e)/6+s/2)/s,f=((a-t)/6+s/2)/s,h=((a-i)/6+s/2)/s;e===a?l=h-f:t===a?l=1/3+c-h:i===a&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var d=[l*360,u,o];return n[3]!=null&&d.push(n[3]),d}}function cL(n,e){var t=co(n);if(t){for(var i=0;i<3;i++)e<0?t[i]=t[i]*(1-e)|0:t[i]=(255-t[i])*e+t[i]|0,t[i]>255?t[i]=255:t[i]<0&&(t[i]=0);return Zu(t,t.length===4?"rgba":"rgb")}}function nRe(n){var e=co(n);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function G2(n,e,t){if(!(!(e&&e.length)||!(n>=0&&n<=1))){t=t||[];var i=n*(e.length-1),r=Math.floor(i),a=Math.ceil(i),s=e[r],o=e[a],l=i-r;return t[0]=Qc(Zv(s[0],o[0],l)),t[1]=Qc(Zv(s[1],o[1],l)),t[2]=Qc(Zv(s[2],o[2],l)),t[3]=ET(Zv(s[3],o[3],l)),t}}var iRe=G2;function HV(n,e,t){if(!(!(e&&e.length)||!(n>=0&&n<=1))){var i=n*(e.length-1),r=Math.floor(i),a=Math.ceil(i),s=co(e[r]),o=co(e[a]),l=i-r,u=Zu([Qc(Zv(s[0],o[0],l)),Qc(Zv(s[1],o[1],l)),Qc(Zv(s[2],o[2],l)),ET(Zv(s[3],o[3],l))],"rgba");return t?{color:u,leftIndex:r,rightIndex:a,value:i}:u}}var rRe=HV;function ip(n,e,t,i){var r=co(n);if(n)return r=tRe(r),e!=null&&(r[0]=eRe(wt(e)?e(r[0]):e)),t!=null&&(r[1]=np(wt(t)?t(r[1]):t)),i!=null&&(r[2]=np(wt(i)?i(r[2]):i)),Zu(IF(r),"rgba")}function DT(n,e){var t=co(n);if(t&&e!=null)return t[3]=ET(e),Zu(t,"rgba")}function Zu(n,e){if(!(!n||!n.length)){var t=n[0]+","+n[1]+","+n[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(t+=","+n[3]),e+"("+t+")"}}function RT(n,e){var t=co(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}function aRe(){return Zu([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var oY=new ub(100);function fL(n){if(ot(n)){var e=oY.get(n);return e||(e=cL(n,-.1),oY.put(n,e)),e}else if(EC(n)){var t=Ie({},n);return t.colorStops=We(n.colorStops,function(i){return{offset:i.offset,color:cL(i.color,-.1)}}),t}return n}const sRe=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:G2,fastMapToColor:iRe,lerp:HV,lift:cL,liftColor:fL,lum:RT,mapToColor:rRe,modifyAlpha:DT,modifyHSL:ip,parse:co,parseCssFloat:np,parseCssInt:c3,random:aRe,stringify:Zu,toHex:nRe},Symbol.toStringTag,{value:"Module"}));var hL=Math.round;function LT(n){var e;if(!n||n==="transparent")n="none";else if(typeof n=="string"&&n.indexOf("rgba")>-1){var t=co(n);t&&(n="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}return{color:n,opacity:e??1}}var lY=1e-4;function Kv(n){return n<lY&&n>-lY}function VE(n){return hL(n*1e3)/1e3}function PF(n){return hL(n*1e4)/1e4}function oRe(n){return"matrix("+VE(n[0])+","+VE(n[1])+","+VE(n[2])+","+VE(n[3])+","+PF(n[4])+","+PF(n[5])+")"}var lRe={left:"start",right:"end",center:"middle",middle:"middle"};function uRe(n,e,t){return t==="top"?n+=e/2:t==="bottom"&&(n-=e/2),n}function cRe(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY)}function fRe(n){var e=n.style,t=n.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}function nle(n){return n&&!!n.image}function hRe(n){return n&&!!n.svgElement}function WV(n){return nle(n)||hRe(n)}function ile(n){return n.type==="linear"}function rle(n){return n.type==="radial"}function ale(n){return n&&(n.type==="linear"||n.type==="radial")}function BI(n){return"url(#"+n+")"}function sle(n){var e=n.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function ole(n){var e=n.x||0,t=n.y||0,i=(n.rotation||0)*O2,r=At(n.scaleX,1),a=At(n.scaleY,1),s=n.skewX||0,o=n.skewY||0,l=[];return(e||t)&&l.push("translate("+e+"px,"+t+"px)"),i&&l.push("rotate("+i+")"),(r!==1||a!==1)&&l.push("scale("+r+","+a+")"),(s||o)&&l.push("skew("+hL(s*O2)+"deg, "+hL(o*O2)+"deg)"),l.join(" ")}var dRe=(function(){return wn.hasGlobalWindow&&wt(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null}})(),BF=Array.prototype.slice;function Ud(n,e,t){return(e-n)*t+n}function NO(n,e,t,i){for(var r=e.length,a=0;a<r;a++)n[a]=Ud(e[a],t[a],i);return n}function pRe(n,e,t,i){for(var r=e.length,a=r&&e[0].length,s=0;s<r;s++){n[s]||(n[s]=[]);for(var o=0;o<a;o++)n[s][o]=Ud(e[s][o],t[s][o],i)}return n}function jE(n,e,t,i){for(var r=e.length,a=0;a<r;a++)n[a]=e[a]+t[a]*i;return n}function uY(n,e,t,i){for(var r=e.length,a=r&&e[0].length,s=0;s<r;s++){n[s]||(n[s]=[]);for(var o=0;o<a;o++)n[s][o]=e[s][o]+t[s][o]*i}return n}function vRe(n,e){for(var t=n.length,i=e.length,r=t>i?e:n,a=Math.min(t,i),s=r[a-1]||{color:[0,0,0,0],offset:0},o=a;o<Math.max(t,i);o++)r.push({offset:s.offset,color:s.color.slice()})}function mRe(n,e,t){var i=n,r=e;if(!(!i.push||!r.push)){var a=i.length,s=r.length;if(a!==s){var o=a>s;if(o)i.length=s;else for(var l=a;l<s;l++)i.push(t===1?r[l]:BF.call(r[l]))}for(var u=i[0]&&i[0].length,l=0;l<i.length;l++)if(t===1)isNaN(i[l])&&(i[l]=r[l]);else for(var c=0;c<u;c++)isNaN(i[l][c])&&(i[l][c]=r[l][c])}}function V2(n){if(Os(n)){var e=n.length;if(Os(n[0])){for(var t=[],i=0;i<e;i++)t.push(BF.call(n[i]));return t}return BF.call(n)}return n}function f3(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function gRe(n){return Os(n&&n[0])?2:1}var HE=0,h3=1,lle=2,s2=3,OF=4,zF=5,cY=6;function fY(n){return n===OF||n===zF}function WE(n){return n===h3||n===lle}var sM=[0,0,0,0],yRe=(function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,i){this._needsSort=!0;var r=this.keyframes,a=r.length,s=!1,o=cY,l=t;if(Os(t)){var u=gRe(t);o=u,(u===1&&!Pn(t[0])||u===2&&!Pn(t[0][0]))&&(s=!0)}else if(Pn(t)&&!Ns(t))o=HE;else if(ot(t))if(!isNaN(+t))o=HE;else{var c=co(t);c&&(l=c,o=s2)}else if(EC(t)){var f=Ie({},l);f.colorStops=We(t.colorStops,function(d){return{offset:d.offset,color:co(d.color)}}),ile(t)?o=OF:rle(t)&&(o=zF),l=f}a===0?this.valType=o:(o!==this.valType||o===cY)&&(s=!0),this.discrete=this.discrete||s;var h={time:e,value:l,rawValue:t,percent:0};return i&&(h.easing=i,h.easingFunc=wt(i)?i:U2[i]||jV(i)),r.push(h),h},n.prototype.prepare=function(e,t){var i=this.keyframes;this._needsSort&&i.sort(function(m,y){return m.time-y.time});for(var r=this.valType,a=i.length,s=i[a-1],o=this.discrete,l=WE(r),u=fY(r),c=0;c<a;c++){var f=i[c],h=f.value,d=s.value;f.percent=f.time/e,o||(l&&c!==a-1?mRe(h,d,r):u&&vRe(h.colorStops,d.colorStops))}if(!o&&r!==zF&&t&&this.needsAnimate()&&t.needsAnimate()&&r===t.valType&&!t._finished){this._additiveTrack=t;for(var v=i[0].value,c=0;c<a;c++)r===HE?i[c].additiveValue=i[c].value-v:r===s2?i[c].additiveValue=jE([],i[c].value,v,-1):WE(r)&&(i[c].additiveValue=r===h3?jE([],i[c].value,v,-1):uY([],i[c].value,v,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i=this._additiveTrack!=null,r=i?"additiveValue":"value",a=this.valType,s=this.keyframes,o=s.length,l=this.propName,u=a===s2,c,f=this._lastFr,h=Math.min,d,v;if(o===1)d=v=s[0];else{if(t<0)c=0;else if(t<this._lastFrP){var m=h(f+1,o-1);for(c=m;c>=0&&!(s[c].percent<=t);c--);c=h(c,o-2)}else{for(c=f;c<o&&!(s[c].percent>t);c++);c=h(c-1,o-2)}v=s[c+1],d=s[c]}if(d&&v){this._lastFr=c,this._lastFrP=t;var y=v.percent-d.percent,x=y===0?1:h((t-d.percent)/y,1);v.easingFunc&&(x=v.easingFunc(x));var b=i?this._additiveValue:u?sM:e[l];if((WE(a)||u)&&!b&&(b=this._additiveValue=[]),this.discrete)e[l]=x<1?d.rawValue:v.rawValue;else if(WE(a))a===h3?NO(b,d[r],v[r],x):pRe(b,d[r],v[r],x);else if(fY(a)){var M=d[r],C=v[r],w=a===OF;e[l]={type:w?"linear":"radial",x:Ud(M.x,C.x,x),y:Ud(M.y,C.y,x),colorStops:We(M.colorStops,function(L,P){var I=C.colorStops[P];return{offset:Ud(L.offset,I.offset,x),color:f3(NO([],L.color,I.color,x))}}),global:C.global},w?(e[l].x2=Ud(M.x2,C.x2,x),e[l].y2=Ud(M.y2,C.y2,x)):e[l].r=Ud(M.r,C.r,x)}else if(u)NO(b,d[r],v[r],x),i||(e[l]=f3(b));else{var E=Ud(d[r],v[r],x);i?this._additiveValue=E:e[l]=E}i&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,i=this.propName,r=this._additiveValue;t===HE?e[i]=e[i]+r:t===s2?(co(e[i],sM),jE(sM,sM,r,1),e[i]=f3(sM)):t===h3?jE(e[i],e[i],r,1):t===lle&&uY(e[i],e[i],r,1)},n})(),XV=(function(){function n(e,t,i,r){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&r){RI("Can' use additive animation on looped animation.");return}this._additiveAnimators=r,this._allowDiscrete=i}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,i){return this.whenWithKeys(e,t,Dn(t),i)},n.prototype.whenWithKeys=function(e,t,i,r){for(var a=this._tracks,s=0;s<i.length;s++){var o=i[s],l=a[o];if(!l){l=a[o]=new yRe(o);var u=void 0,c=this._getAdditiveTrack(o);if(c){var f=c.keyframes,h=f[f.length-1];u=h&&h.value,c.valType===s2&&u&&(u=f3(u))}else u=this._target[o];if(u==null)continue;e>0&&l.addKeyframe(0,V2(u),r),this._trackKeys.push(o)}l.addKeyframe(e,V2(t[o]),r)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,i=0;i<t;i++)e[i].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var i=0;i<t.length;i++)t[i].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,i=0;i<t.length;i++)e[t[i]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,i=this._additiveAnimators;if(i)for(var r=0;r<i.length;r++){var a=i[r].getTrack(e);a&&(t=a)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,i=[],r=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var s=this._trackKeys[a],o=this._tracks[s],l=this._getAdditiveTrack(s),u=o.keyframes,c=u.length;if(o.prepare(r,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var f=u[c-1];f&&(t._target[o.propName]=f.rawValue),o.setFinished()}else i.push(o)}if(i.length||this._force){var h=new QDe({life:r,loop:this._loop,delay:this._delay||0,onframe:function(d){t._started=2;var v=t._additiveAnimators;if(v){for(var m=!1,y=0;y<v.length;y++)if(v[y]._clip){m=!0;break}m||(t._additiveAnimators=null)}for(var y=0;y<i.length;y++)i[y].step(t._target,d);var x=t._onframeCbs;if(x)for(var y=0;y<x.length;y++)x[y](t._target,d)},ondestroy:function(){t._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return We(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var i=this._tracks,r=this._trackKeys,a=0;a<e.length;a++){var s=i[e[a]];s&&!s.isFinished()&&(t?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var o=!0,a=0;a<r.length;a++)if(!i[r[a]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},n.prototype.saveTo=function(e,t,i){if(e){t=t||this._trackKeys;for(var r=0;r<t.length;r++){var a=t[r],s=this._tracks[a];if(!(!s||s.isFinished())){var o=s.keyframes,l=o[i?0:o.length-1];l&&(e[a]=V2(l.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||Dn(e);for(var i=0;i<t.length;i++){var r=t[i],a=this._tracks[r];if(a){var s=a.keyframes;if(s.length>1){var o=s.pop();a.addKeyframe(o.time,e[r]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},n})();function L1(){return new Date().getTime()}var xRe=(function(n){me(e,n);function e(t){var i=n.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,t=t||{},i.stage=t.stage||{},i}return e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var i=t.getClip();i&&this.addClip(i)},e.prototype.removeClip=function(t){if(t.animation){var i=t.prev,r=t.next;i?i.next=r:this._head=r,r?r.prev=i:this._tail=i,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var i=t.getClip();i&&this.removeClip(i),t.animation=null},e.prototype.update=function(t){for(var i=L1()-this._pausedTime,r=i-this._time,a=this._head;a;){var s=a.next,o=a.step(i,r);o&&(a.ondestroy(),this.removeClip(a)),a=s}this._time=i,t||(this.trigger("frame",r),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0;function i(){t._running&&(oL(i),!t._paused&&t.update())}oL(i)},e.prototype.start=function(){this._running||(this._time=L1(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=L1(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=L1()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var i=t.next;t.prev=t.next=t.animation=null,t=i}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,i){i=i||{},this.start();var r=new XV(t,i.loop);return this.addAnimator(r),r},e})(ac),_Re=300,IO=wn.domSupported,PO=(function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},i=We(n,function(r){var a=r.replace("mouse","pointer");return t.hasOwnProperty(a)?a:r});return{mouse:n,touch:e,pointer:i}})(),hY={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},dY=!1;function kF(n){var e=n.pointerType;return e==="pen"||e==="touch"}function bRe(n){n.touching=!0,n.touchTimer!=null&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}function BO(n){n&&(n.zrByTouch=!0)}function SRe(n,e){return Bu(n.dom,new ARe(n,e),!0)}function ule(n,e){for(var t=e,i=!1;t&&t.nodeType!==9&&!(i=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return i}var ARe=(function(){function n(e,t){this.stopPropagation=Or,this.stopImmediatePropagation=Or,this.preventDefault=Or,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return n})(),Uc={mousedown:function(n){n=Bu(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=Bu(this.dom,n);var e=this.__mayPointerCapture;e&&(n.zrX!==e[0]||n.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=Bu(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){n=Bu(this.dom,n);var e=n.toElement||n.relatedTarget;ule(this,e)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){dY=!0,n=Bu(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){dY||(n=Bu(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){n=Bu(this.dom,n),BO(n),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),Uc.mousemove.call(this,n),Uc.mousedown.call(this,n)},touchmove:function(n){n=Bu(this.dom,n),BO(n),this.handler.processGesture(n,"change"),Uc.mousemove.call(this,n)},touchend:function(n){n=Bu(this.dom,n),BO(n),this.handler.processGesture(n,"end"),Uc.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<_Re&&Uc.click.call(this,n)},pointerdown:function(n){Uc.mousedown.call(this,n)},pointermove:function(n){kF(n)||Uc.mousemove.call(this,n)},pointerup:function(n){Uc.mouseup.call(this,n)},pointerout:function(n){kF(n)||Uc.mouseout.call(this,n)}};Z(["click","dblclick","contextmenu"],function(n){Uc[n]=function(e){e=Bu(this.dom,e),this.trigger(n,e)}});var FF={pointermove:function(n){kF(n)||FF.mousemove.call(this,n)},pointerup:function(n){FF.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function MRe(n,e){var t=e.domHandlers;wn.pointerEventsSupported?Z(PO.pointer,function(i){d3(e,i,function(r){t[i].call(n,r)})}):(wn.touchEventsSupported&&Z(PO.touch,function(i){d3(e,i,function(r){t[i].call(n,r),bRe(e)})}),Z(PO.mouse,function(i){d3(e,i,function(r){r=VV(r),e.touching||t[i].call(n,r)})}))}function TRe(n,e){wn.pointerEventsSupported?Z(hY.pointer,t):wn.touchEventsSupported||Z(hY.mouse,t);function t(i){function r(a){a=VV(a),ule(n,a.target)||(a=SRe(n,a),e.domHandlers[i].call(n,a))}d3(e,i,r,{capture:!0})}}function d3(n,e,t,i){n.mounted[e]=t,n.listenerOpts[e]=i,EF(n.domTarget,e,t,i)}function OO(n){var e=n.mounted;for(var t in e)e.hasOwnProperty(t)&&NDe(n.domTarget,t,e[t],n.listenerOpts[t]);n.mounted={}}var pY=(function(){function n(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return n})(),CRe=(function(n){me(e,n);function e(t,i){var r=n.call(this)||this;return r.__pointerCapturing=!1,r.dom=t,r.painterRoot=i,r._localHandlerScope=new pY(t,Uc),IO&&(r._globalHandlerScope=new pY(document,FF)),MRe(r,r._localHandlerScope),r}return e.prototype.dispose=function(){OO(this._localHandlerScope),IO&&OO(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,IO&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var i=this._globalHandlerScope;t?TRe(this,i):OO(i)}},e})(ac),cle=1;wn.hasGlobalWindow&&(cle=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var dL=cle,UF=.4,GF="#333",VF="#ccc",wRe="#eee",vY=LC,mY=5e-5;function Vg(n){return n>mY||n<-mY}var jg=[],y_=[],zO=ja(),kO=Math.abs,Qd=(function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return Vg(this.rotation)||Vg(this.x)||Vg(this.y)||Vg(this.scaleX-1)||Vg(this.scaleY-1)||Vg(this.skewX)||Vg(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),i=this.transform;if(!(t||e)){i&&(vY(i),this.invTransform=null);return}i=i||ja(),t?this.getLocalTransform(i):vY(i),e&&(t?Jc(i,e,i):NC(i,e)),this.transform=i,this._resolveGlobalScaleRatio(i)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(jg);var i=jg[0]<0?-1:1,r=jg[1]<0?-1:1,a=((jg[0]-i)*t+i)/jg[0]||0,s=((jg[1]-r)*t+r)/jg[1]||0;e[0]*=a,e[1]*=a,e[2]*=s,e[3]*=s}this.invTransform=this.invTransform||ja(),Qu(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],i=e[2]*e[2]+e[3]*e[3],r=Math.atan2(e[1],e[0]),a=Math.PI/2+r-Math.atan2(e[3],e[2]);i=Math.sqrt(i)*Math.cos(a),t=Math.sqrt(t),this.skewX=a,this.skewY=0,this.rotation=-r,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=i,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||ja(),Jc(y_,e.invTransform,t),t=y_);var i=this.originX,r=this.originY;(i||r)&&(zO[4]=i,zO[5]=r,Jc(y_,t,zO),y_[4]-=i,y_[5]-=r,t=y_),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var i=[e,t],r=this.invTransform;return r&&zr(i,i,r),i},n.prototype.transformCoordToGlobal=function(e,t){var i=[e,t],r=this.transform;return r&&zr(i,i,r),i},n.prototype.getLineScale=function(){var e=this.transform;return e&&kO(e[0]-1)>1e-10&&kO(e[3]-1)>1e-10?Math.sqrt(kO(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){pL(this,e)},n.getLocalTransform=function(e,t){t=t||[];var i=e.originX||0,r=e.originY||0,a=e.scaleX,s=e.scaleY,o=e.anchorX,l=e.anchorY,u=e.rotation||0,c=e.x,f=e.y,h=e.skewX?Math.tan(e.skewX):0,d=e.skewY?Math.tan(-e.skewY):0;if(i||r||o||l){var v=i+o,m=r+l;t[4]=-v*a-h*m*s,t[5]=-m*s-d*v*a}else t[4]=t[5]=0;return t[0]=a,t[3]=s,t[1]=d*a,t[2]=h*s,u&&Lp(t,t,u),t[4]+=i+c,t[5]+=r+f,t},n.initDefaultProps=(function(){var e=n.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0})(),n})(),Lh=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function pL(n,e){for(var t=0;t<Lh.length;t++){var i=Lh[t];n[i]=e[i]}}function Th(n){XE||(XE=new ub(100)),n=n||xp;var e=XE.get(n);return e||(e={font:n,strWidthCache:new ub(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:xl.measureText("",n).width,asciiCharWidth:xl.measureText("a",n).width},XE.put(n,e)),e}var XE;function ERe(n){if(!(FO>=gY)){n=n||xp;for(var e=[],t=+new Date,i=0;i<=127;i++)e[i]=xl.measureText(String.fromCharCode(i),n).width;var r=+new Date-t;return r>16?FO=gY:r>2&&FO++,e}}var FO=0,gY=5;function fle(n,e){return n.asciiWidthMapTried||(n.asciiWidthMap=ERe(n.font),n.asciiWidthMapTried=!0),0<=e&&e<=127?n.asciiWidthMap!=null?n.asciiWidthMap[e]:n.asciiCharWidth:n.stWideCharWidth}function Ch(n,e){var t=n.strWidthCache,i=t.get(e);return i==null&&(i=xl.measureText(e,n.font).width,t.put(e,i)),i}function yY(n,e,t,i){var r=Ch(Th(e),n),a=IC(e),s=cb(0,r,t),o=hy(0,a,i),l=new Ut(s,o,r,a);return l}function OI(n,e,t,i){var r=((n||"")+"").split(`
`),a=r.length;if(a===1)return yY(r[0],e,t,i);for(var s=new Ut(0,0,0,0),o=0;o<r.length;o++){var l=yY(r[o],e,t,i);o===0?s.copy(l):s.union(l)}return s}function cb(n,e,t,i){return t==="right"?i?n+=e:n-=e:t==="center"&&(i?n+=e/2:n-=e/2),n}function hy(n,e,t,i){return t==="middle"?i?n+=e/2:n-=e/2:t==="bottom"&&(i?n+=e:n-=e),n}function IC(n){return Th(n).stWideCharWidth}function sf(n,e){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function vL(n,e,t){var i=e.position||"inside",r=e.distance!=null?e.distance:5,a=t.height,s=t.width,o=a/2,l=t.x,u=t.y,c="left",f="top";if(i instanceof Array)l+=sf(i[0],t.width),u+=sf(i[1],t.height),c=null,f=null;else switch(i){case"left":l-=r,u+=o,c="right",f="middle";break;case"right":l+=r+s,u+=o,f="middle";break;case"top":l+=s/2,u-=r,c="center",f="bottom";break;case"bottom":l+=s/2,u+=a+r,c="center";break;case"inside":l+=s/2,u+=o,c="center",f="middle";break;case"insideLeft":l+=r,u+=o,f="middle";break;case"insideRight":l+=s-r,u+=o,c="right",f="middle";break;case"insideTop":l+=s/2,u+=r,c="center";break;case"insideBottom":l+=s/2,u+=a-r,c="center",f="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=s-r,u+=r,c="right";break;case"insideBottomLeft":l+=r,u+=a-r,f="bottom";break;case"insideBottomRight":l+=s-r,u+=a-r,c="right",f="bottom";break}return n=n||{},n.x=l,n.y=u,n.align=c,n.verticalAlign=f,n}var UO="__zr_normal__",GO=Lh.concat(["ignore"]),DRe=Ju(Lh,function(n,e){return n[e]=!0,n},{ignore:!1}),x_={},RRe=new Ut(0,0,0,0),YE=[],zI=(function(){function n(e){this.id=kV(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,i){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,a=t.innerTransformable,s=void 0,o=void 0,l=!1;a.parent=r?this:null;var u=!1;a.copyTransform(t);var c=i.position!=null,f=i.autoOverflowArea,h=void 0;if((f||c)&&(h=RRe,i.layoutRect?h.copy(i.layoutRect):h.copy(this.getBoundingRect()),r||h.applyTransform(this.transform)),c){this.calculateTextPosition?this.calculateTextPosition(x_,i,h):vL(x_,i,h),a.x=x_.x,a.y=x_.y,s=x_.align,o=x_.verticalAlign;var d=i.origin;if(d&&i.rotation!=null){var v=void 0,m=void 0;d==="center"?(v=h.width*.5,m=h.height*.5):(v=sf(d[0],h.width),m=sf(d[1],h.height)),u=!0,a.originX=-a.x+v+(r?0:h.x),a.originY=-a.y+m+(r?0:h.y)}}i.rotation!=null&&(a.rotation=i.rotation);var y=i.offset;y&&(a.x+=y[0],a.y+=y[1],u||(a.originX=-y[0],a.originY=-y[1]));var x=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(f){var b=x.overflowRect=x.overflowRect||new Ut(0,0,0,0);a.getLocalTransform(YE),Qu(YE,YE),Ut.copy(b,h),b.applyTransform(YE)}else x.overflowRect=null;var M=i.inside==null?typeof i.position=="string"&&i.position.indexOf("inside")>=0:i.inside,C=void 0,w=void 0,E=void 0;M&&this.canBeInsideText()?(C=i.insideFill,w=i.insideStroke,(C==null||C==="auto")&&(C=this.getInsideTextFill()),(w==null||w==="auto")&&(w=this.getInsideTextStroke(C),E=!0)):(C=i.outsideFill,w=i.outsideStroke,(C==null||C==="auto")&&(C=this.getOutsideFill()),(w==null||w==="auto")&&(w=this.getOutsideStroke(C),E=!0)),C=C||"#000",(C!==x.fill||w!==x.stroke||E!==x.autoStroke||s!==x.align||o!==x.verticalAlign)&&(l=!0,x.fill=C,x.stroke=w,x.autoStroke=E,x.align=s,x.verticalAlign=o,t.setDefaultTextStyle(x)),t.__dirty|=Vl,l&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?VF:GF},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),i=typeof t=="string"&&co(t);i||(i=[255,255,255,1]);for(var r=i[3],a=this.__zr.isDarkMode(),s=0;s<3;s++)i[s]=i[s]*r+(a?0:255)*(1-r);return i[3]=1,Zu(i,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},Ie(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(Ot(e))for(var i=e,r=Dn(i),a=0;a<r.length;a++){var s=r[a];this.attrKV(s,e[s])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],a=r.__fromStateTransition;if(!(r.getLoop()||a&&a!==UO)){var s=r.targetName,o=s?t[s]:t;r.saveTo(o)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,GO)},n.prototype._savePrimaryToNormal=function(e,t,i){for(var r=0;r<i.length;r++){var a=i[r];e[a]!=null&&!(a in t)&&(t[a]=this[a])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(UO,!1,e)},n.prototype.useState=function(e,t,i,r){var a=e===UO,s=this.hasState();if(!(!s&&a)){var o=this.currentStates,l=this.stateTransition;if(!(rn(o,e)>=0&&(t||o.length===1))){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),!u&&!a){RI("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||r);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,t,!i&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,h=this._textGuide;return f&&f.useState(e,t,i,c),h&&h.useState(e,t,i,c),a?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Vl),u}}},n.prototype.useStates=function(e,t,i){if(!e.length)this.clearStates();else{var r=[],a=this.currentStates,s=e.length,o=s===a.length;if(o){for(var l=0;l<s;l++)if(e[l]!==a[l]){o=!1;break}}if(o)return;for(var l=0;l<s;l++){var u=e[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,e)),c||(c=this.states[u]),c&&r.push(c)}var f=r[s-1],h=!!(f&&f.hoverLayer||i);h&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(r),v=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(e.join(","),d,this._normalState,!1,!t&&!this.__inHover&&v&&v.duration>0,v);var m=this._textContent,y=this._textGuide;m&&m.useStates(e,t,h),y&&y.useStates(e,t,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Vl)}},n.prototype.isSilent=function(){for(var e=this;e;){if(e.silent)return!0;var t=e.__hostTarget;e=t?e.ignoreHostSilent?null:t:e.parent}return!1},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=rn(this.currentStates,e);if(t>=0){var i=this.currentStates.slice();i.splice(t,1),this.useStates(i)}},n.prototype.replaceState=function(e,t,i){var r=this.currentStates.slice(),a=rn(r,e),s=rn(r,t)>=0;a>=0?s?r.splice(a,1):r[a]=t:i&&!s&&r.push(t),this.useStates(r)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var t={},i,r=0;r<e.length;r++){var a=e[r];Ie(t,a),a.textConfig&&(i=i||{},Ie(i,a.textConfig))}return i&&(t.textConfig=i),t},n.prototype._applyStateObj=function(e,t,i,r,a,s){var o=!(t&&r);t&&t.textConfig?(this.textConfig=Ie({},r?this.textConfig:i.textConfig),Ie(this.textConfig,t.textConfig)):o&&i.textConfig&&(this.textConfig=i.textConfig);for(var l={},u=!1,c=0;c<GO.length;c++){var f=GO[c],h=a&&DRe[f];t&&t[f]!=null?h?(u=!0,l[f]=t[f]):this[f]=t[f]:o&&i[f]!=null&&(h?(u=!0,l[f]=i[f]):this[f]=i[f])}if(!a)for(var c=0;c<this.animators.length;c++){var d=this.animators[c],v=d.targetName;d.getLoop()||d.__changeFinalValue(v?(t||i)[v]:t||i)}u&&this._transitionState(e,l,s)},n.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new Qd,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Ie(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=Vl;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,i=this._textGuide;t&&(t.__inHover=e),i&&(i.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.addAnimator(t[i]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.removeAnimator(t[i]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,i){var r=e?this[e]:this,a=new XV(r,t,i);return e&&(a.targetName=e),this.addAnimator(a,e),a},n.prototype.addAnimator=function(e,t){var i=this.__zr,r=this;e.during(function(){r.updateDuringAnimation(t)}).done(function(){var a=r.animators,s=rn(a,e);s>=0&&a.splice(s,1)}),this.animators.push(e),i&&i.animation.addAnimator(e),i&&i.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var i=this.animators,r=i.length,a=[],s=0;s<r;s++){var o=i[s];!e||e===o.scope?o.stop(t):a.push(o)}return this.animators=a,this},n.prototype.animateTo=function(e,t,i){VO(this,e,t,i)},n.prototype.animateFrom=function(e,t,i){VO(this,e,t,i,!0)},n.prototype._transitionState=function(e,t,i,r){for(var a=VO(this,t,i,r),s=0;s<a.length;s++)a[s].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=(function(){var e=n.prototype;e.type="element",e.name="",e.ignore=e.silent=e.ignoreHostSilent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Vl;function t(i,r,a,s){Object.defineProperty(e,i,{get:function(){if(!this[r]){var l=this[r]=[];o(this,l)}return this[r]},set:function(l){this[a]=l[0],this[s]=l[1],this[r]=l,o(this,l)}});function o(l,u){Object.defineProperty(u,0,{get:function(){return l[a]},set:function(c){l[a]=c}}),Object.defineProperty(u,1,{get:function(){return l[s]},set:function(c){l[s]=c}})}}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))})(),n})();kr(zI,ac);kr(zI,Qd);function VO(n,e,t,i,r){t=t||{};var a=[];hle(n,"",n,e,t,i,a,r);var s=a.length,o=!1,l=t.done,u=t.aborted,c=function(){o=!0,s--,s<=0&&(o?l&&l():u&&u())},f=function(){s--,s<=0&&(o?l&&l():u&&u())};s||l&&l(),a.length>0&&t.during&&a[0].during(function(v,m){t.during(m)});for(var h=0;h<a.length;h++){var d=a[h];c&&d.done(c),f&&d.aborted(f),t.force&&d.duration(t.duration),d.start(t.easing)}return a}function jO(n,e,t){for(var i=0;i<t;i++)n[i]=e[i]}function LRe(n){return Os(n[0])}function NRe(n,e,t){if(Os(e[t]))if(Os(n[t])||(n[t]=[]),Yo(e[t])){var i=e[t].length;n[t].length!==i&&(n[t]=new e[t].constructor(i),jO(n[t],e[t],i))}else{var r=e[t],a=n[t],s=r.length;if(LRe(r))for(var o=r[0].length,l=0;l<s;l++)a[l]?jO(a[l],r[l],o):a[l]=Array.prototype.slice.call(r[l]);else jO(a,r,s);a.length=r.length}else n[t]=e[t]}function IRe(n,e){return n===e||Os(n)&&Os(e)&&PRe(n,e)}function PRe(n,e){var t=n.length;if(t!==e.length)return!1;for(var i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function hle(n,e,t,i,r,a,s,o){for(var l=Dn(i),u=r.duration,c=r.delay,f=r.additive,h=r.setToFinal,d=!Ot(a),v=n.animators,m=[],y=0;y<l.length;y++){var x=l[y],b=i[x];if(b!=null&&t[x]!=null&&(d||a[x]))if(Ot(b)&&!Os(b)&&!EC(b)){if(e){o||(t[x]=b,n.updateDuringAnimation(e));continue}hle(n,x,t[x],b,r,a&&a[x],s,o)}else m.push(x);else o||(t[x]=b,n.updateDuringAnimation(e),m.push(x))}var M=m.length;if(!f&&M)for(var C=0;C<v.length;C++){var w=v[C];if(w.targetName===e){var E=w.stopTracks(m);if(E){var L=rn(v,w);v.splice(L,1)}}}if(r.force||(m=Zn(m,function(z){return!IRe(i[z],t[z])}),M=m.length),M>0||r.force&&!s.length){var P=void 0,I=void 0,N=void 0;if(o){I={},h&&(P={});for(var C=0;C<M;C++){var x=m[C];I[x]=t[x],h?P[x]=i[x]:t[x]=i[x]}}else if(h){N={};for(var C=0;C<M;C++){var x=m[C];N[x]=V2(t[x]),NRe(t,i,x)}}var w=new XV(t,!1,!1,f?Zn(v,function(V){return V.targetName===e}):null);w.targetName=e,r.scope&&(w.scope=r.scope),h&&P&&w.whenWithKeys(0,P,m),N&&w.whenWithKeys(0,N,m),w.whenWithKeys(u??500,o?I:i,m).delay(c||0),n.addAnimator(w,e),s.push(w)}}var It=(function(n){me(e,n);function e(t){var i=n.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(t),i}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var i=this._children,r=0;r<i.length;r++)if(i[r].name===t)return i[r]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,i){if(t&&t!==this&&t.parent!==this&&i&&i.parent===this){var r=this._children,a=r.indexOf(i);a>=0&&(r.splice(a,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,i){var r=rn(this._children,t);return r>=0&&this.replaceAt(i,r),this},e.prototype.replaceAt=function(t,i){var r=this._children,a=r[i];if(t&&t!==this&&t.parent!==this&&t!==a){r[i]=t,a.parent=null;var s=this.__zr;s&&a.removeSelfFromZr(s),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var i=this.__zr;i&&i!==t.__zr&&t.addSelfToZr(i),i&&i.refresh()},e.prototype.remove=function(t){var i=this.__zr,r=this._children,a=rn(r,t);return a<0?this:(r.splice(a,1),t.parent=null,i&&t.removeSelfFromZr(i),i&&i.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,i=this.__zr,r=0;r<t.length;r++){var a=t[r];i&&a.removeSelfFromZr(i),a.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,i){for(var r=this._children,a=0;a<r.length;a++){var s=r[a];t.call(i,s,a)}return this},e.prototype.traverse=function(t,i){for(var r=0;r<this._children.length;r++){var a=this._children[r],s=t.call(i,a);a.isGroup&&!s&&a.traverse(t,i)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++){var r=this._children[i];r.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++){var r=this._children[i];r.removeSelfFromZr(t)}},e.prototype.getBoundingRect=function(t){for(var i=new Ut(0,0,0,0),r=t||this._children,a=[],s=null,o=0;o<r.length;o++){var l=r[o];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(a);c?(Ut.applyTransform(i,u,c),s=s||i.clone(),s.union(i)):(s=s||u.clone(),s.union(u))}}return s||i},e})(zI);It.prototype.type="group";var p3={},X0={};function BRe(n){delete X0[n]}function ORe(n){if(!n)return!1;if(typeof n=="string")return RT(n,1)<UF;if(n.colorStops){for(var e=n.colorStops,t=0,i=e.length,r=0;r<i;r++)t+=RT(e[r].color,1);return t/=i,t<UF}return!1}var zRe=(function(){function n(e,t,i){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=t,this.id=e;var a=new YDe,s=i.renderer||"canvas";p3[s]||(s=Dn(p3)[0]),i.useDirtyRect=i.useDirtyRect==null?!1:i.useDirtyRect;var o=new p3[s](t,a,i,e),l=i.ssr||o.ssrOnly;this.storage=a,this.painter=o;var u=!wn.node&&!wn.worker&&!l?new CRe(o.getViewportRoot(),o.root):null,c=i.useCoarsePointer,f=c==null||c==="auto"?wn.touchEventsSupported:!!c,h=44,d;f&&(d=At(i.pointerSize,h)),this.handler=new Woe(a,o,u,o.root,d),this.animation=new xRe({stage:{update:l?null:function(){return r._flush(!0)}}}),l||this.animation.start()}return n.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh())},n.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=ORe(e))},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},n.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},n.prototype.flush=function(){this._disposed||this._flush(!1)},n.prototype._flush=function(e){var t,i=L1();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var r=L1();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},n.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},n.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},n.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},n.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){if(!this._disposed)return this.handler.findHover(e,t)},n.prototype.on=function(e,t,i){return this._disposed||this.handler.on(e,t,i),this},n.prototype.off=function(e,t){this._disposed||this.handler.off(e,t)},n.prototype.trigger=function(e,t){this._disposed||this.handler.trigger(e,t)},n.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof It&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},n.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,BRe(this.id))},n})();function jF(n,e){var t=new zRe(kV(),n,e);return X0[t.id]=t,t}function kRe(n){n.dispose()}function FRe(){for(var n in X0)X0.hasOwnProperty(n)&&X0[n].dispose();X0={}}function URe(n){return X0[n]}function dle(n,e){p3[n]=e}var HF;function ple(n){if(typeof HF=="function")return HF(n)}function vle(n){HF=n}var GRe="6.0.0";const VRe=Object.freeze(Object.defineProperty({__proto__:null,dispose:kRe,disposeAll:FRe,getElementSSRData:ple,getInstance:URe,init:jF,registerPainter:dle,registerSSRDataGetter:vle,version:GRe},Symbol.toStringTag,{value:"Module"}));var xY=1e-4,mle=20;function jRe(n){return n.replace(/^\s+|\s+$/g,"")}var Ql=Math.min,Kr=Math.max,mh=Math.abs;function ei(n,e,t,i){var r=e[0],a=e[1],s=t[0],o=t[1],l=a-r,u=o-s;if(l===0)return u===0?s:(s+o)/2;if(i)if(l>0){if(n<=r)return s;if(n>=a)return o}else{if(n>=r)return s;if(n<=a)return o}else{if(n===r)return s;if(n===a)return o}return(n-r)/l*u+s}var st=HRe;function HRe(n,e,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%";break}return mL(n,e,t)}function mL(n,e,t){return ot(n)?jRe(n).match(/%$/)?parseFloat(n)/100*e+(t||0):parseFloat(n):n==null?NaN:+n}function Jr(n,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),mle),n=(+n).toFixed(e),t?n:+n}function Xl(n){return n.sort(function(e,t){return e-t}),n}function Yc(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t}return gle(n)}function gle(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),i=t>0?+e.slice(t+1):0,r=t>0?t:e.length,a=e.indexOf("."),s=a<0?0:r-1-a;return Math.max(0,s-i)}function YV(n,e){var t=Math.log,i=Math.LN10,r=Math.floor(t(n[1]-n[0])/i),a=Math.round(t(mh(e[1]-e[0]))/i),s=Math.min(Math.max(-r+a,0),20);return isFinite(s)?s:20}function WRe(n,e,t){if(!n[e])return 0;var i=yle(n,t);return i[e]||0}function yle(n,e){var t=Ju(n,function(d,v){return d+(isNaN(v)?0:v)},0);if(t===0)return[];for(var i=Math.pow(10,e),r=We(n,function(d){return(isNaN(d)?0:d)/t*i*100}),a=i*100,s=We(r,function(d){return Math.floor(d)}),o=Ju(s,function(d,v){return d+v},0),l=We(r,function(d,v){return d-s[v]});o<a;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,h=l.length;f<h;++f)l[f]>u&&(u=l[f],c=f);++s[c],l[c]=0,++o}return We(s,function(d){return d/i})}function XRe(n,e){var t=Math.max(Yc(n),Yc(e)),i=n+e;return t>mle?i:Jr(i,t)}var WF=9007199254740991;function qV(n){var e=Math.PI*2;return(n%e+e)%e}function fb(n){return n>-xY&&n<xY}var YRe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Fh(n){if(n instanceof Date)return n;if(ot(n)){var e=YRe.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(n==null)return new Date(NaN);return new Date(Math.round(n))}function xle(n){return Math.pow(10,kI(n))}function kI(n){if(n===0)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function ZV(n,e){var t=kI(n),i=Math.pow(10,t),r=n/i,a;return e?r<1.5?a=1:r<2.5?a=2:r<4?a=3:r<7?a=5:a=10:r<1?a=1:r<2?a=2:r<3?a=3:r<5?a=5:a=10,n=a*i,t>=-20?+n.toFixed(t<0?-t:0):n}function v3(n,e){var t=(n.length-1)*e+1,i=Math.floor(t),r=+n[i-1],a=t-i;return a?r+a*(n[i]-r):r}function XF(n){n.sort(function(l,u){return o(l,u,0)?-1:1});for(var e=-1/0,t=1,i=0;i<n.length;){for(var r=n[i].interval,a=n[i].close,s=0;s<2;s++)r[s]<=e&&(r[s]=e,a[s]=s?1:1-t),e=r[s],t=a[s];r[0]===r[1]&&a[0]*a[1]!==1?n.splice(i,1):i++}return n;function o(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&o(l,u,1))}}function Nh(n){var e=parseFloat(n);return e==n&&(e!==0||!ot(n)||n.indexOf("x")<=0)?e:NaN}function KV(n){return!isNaN(Nh(n))}function _le(){return Math.round(Math.random()*9)}function ble(n,e){return e===0?n:ble(e,n%e)}function _Y(n,e){return n==null?e:e==null?n:n*e/ble(n,e)}var qRe="[ECharts] ",ZRe=typeof console<"u"&&console.warn&&console.log;function KRe(n,e,t){ZRe&&console[n](qRe+e)}function Sle(n,e){KRe("error",n)}function ti(n){throw new Error(n)}function bY(n,e,t){return(e-n)*t+n}var Ale="series\0",Mle="\0_ec_\0";function Pi(n){return n instanceof Array?n:n==null?[]:[n]}function Dy(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var i=0,r=t.length;i<r;i++){var a=t[i];!n.emphasis[e].hasOwnProperty(a)&&n[e].hasOwnProperty(a)&&(n.emphasis[e][a]=n[e][a])}}}var SY=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function eS(n){return Ot(n)&&!Ve(n)&&!(n instanceof Date)?n.value:n}function JRe(n){return Ot(n)&&!(n instanceof Array)}function Tle(n,e,t){var i=t==="normalMerge",r=t==="replaceMerge",a=t==="replaceAll";n=n||[],e=(e||[]).slice();var s=bt();Z(e,function(l,u){if(!Ot(l)){e[u]=null;return}});var o=QRe(n,s,t);return(i||r)&&$Re(o,n,s,e),i&&e3e(o,e),i||r?t3e(o,e,r):a&&n3e(o,e),i3e(o),o}function QRe(n,e,t){var i=[];if(t==="replaceAll")return i;for(var r=0;r<n.length;r++){var a=n[r];a&&a.id!=null&&e.set(a.id,r),i.push({existing:t==="replaceMerge"||NT(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return i}function $Re(n,e,t,i){Z(i,function(r,a){if(!(!r||r.id==null)){var s=j2(r.id),o=t.get(s);if(o!=null){var l=n[o];zs(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=r,l.existing=e[o],i[a]=null}}})}function e3e(n,e){Z(e,function(t,i){if(!(!t||t.name==null))for(var r=0;r<n.length;r++){var a=n[r].existing;if(!n[r].newOption&&a&&(a.id==null||t.id==null)&&!NT(t)&&!NT(a)&&Cle("name",a,t)){n[r].newOption=t,e[i]=null;return}}})}function t3e(n,e,t){Z(e,function(i){if(i){for(var r,a=0;(r=n[a])&&(r.newOption||NT(r.existing)||r.existing&&i.id!=null&&!Cle("id",i,r.existing));)a++;r?(r.newOption=i,r.brandNew=t):n.push({newOption:i,brandNew:t,existing:null,keyInfo:null}),a++}})}function n3e(n,e){Z(e,function(t){n.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function i3e(n){var e=bt();Z(n,function(t){var i=t.existing;i&&e.set(i.id,t)}),Z(n,function(t){var i=t.newOption;zs(!i||i.id==null||!e.get(i.id)||e.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&i.id!=null&&e.set(i.id,t),!t.keyInfo&&(t.keyInfo={})}),Z(n,function(t,i){var r=t.existing,a=t.newOption,s=t.keyInfo;if(Ot(a)){if(s.name=a.name!=null?j2(a.name):r?r.name:Ale+i,r)s.id=j2(r.id);else if(a.id!=null)s.id=j2(a.id);else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(e.get(s.id))}e.set(s.id,t)}})}function Cle(n,e,t){var i=Ea(e[n],null),r=Ea(t[n],null);return i!=null&&r!=null&&i===r}function j2(n){return Ea(n,"")}function Ea(n,e){return n==null?e:ot(n)?n:Pn(n)||iL(n)?n+"":e}function JV(n){var e=n.name;return!!(e&&e.indexOf(Ale))}function NT(n){return n&&n.id!=null&&j2(n.id).indexOf(Mle)===0}function r3e(n){return Mle+n}function a3e(n,e,t){Z(n,function(i){var r=i.newOption;Ot(r)&&(i.keyInfo.mainType=e,i.keyInfo.subType=s3e(e,r,i.existing,t))})}function s3e(n,e,t,i){var r=e.type?e.type:t?t.subType:i.determineSubType(n,e);return r}function o3e(n,e){var t={},i={};return r(n||[],t),r(e||[],i,t),[a(t),a(i)];function r(s,o,l){for(var u=0,c=s.length;u<c;u++){var f=Ea(s[u].seriesId,null);if(f==null)return;for(var h=Pi(s[u].dataIndex),d=l&&l[f],v=0,m=h.length;v<m;v++){var y=h[v];d&&d[y]?d[y]=null:(o[f]||(o[f]={}))[y]=1}}}function a(s,o){var l=[];for(var u in s)if(s.hasOwnProperty(u)&&s[u]!=null)if(o)l.push(+u);else{var c=a(s[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function Ry(n,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return Ve(e.dataIndex)?We(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex);if(e.name!=null)return Ve(e.name)?We(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name)}function _n(){var n="__ec_inner_"+l3e++;return function(e){return e[n]||(e[n]={})}}var l3e=_le();function Y1(n,e,t){var i=QV(e,t),r=i.mainTypeSpecified,a=i.queryOptionMap,s=i.others,o=s,l=t?t.defaultMainType:null;return!r&&l&&a.set(l,{}),a.each(function(u,c){var f=tS(n,c,u,{useDefault:l===c,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});o[c+"Models"]=f.models,o[c+"Model"]=f.models[0]}),o}function QV(n,e){var t;if(ot(n)){var i={};i[n+"Index"]=0,t=i}else t=n;var r=bt(),a={},s=!1;return Z(t,function(o,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=o;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||e&&e.includeMainTypes&&rn(e.includeMainTypes,c)<0)){s=s||!!c;var h=r.get(c)||r.set(c,{});h[f]=o}}),{mainTypeSpecified:s,queryOptionMap:r,others:a}}var Sr={useDefault:!0,enableAll:!1,enableNone:!1},u3e={useDefault:!1,enableAll:!0,enableNone:!0};function tS(n,e,t,i){i=i||Sr;var r=t.index,a=t.id,s=t.name,o={models:null,specified:r!=null||a!=null||s!=null};if(!o.specified){var l=void 0;return o.models=i.useDefault&&(l=n.getComponent(e))?[l]:[],o}if(r==="none"||r===!1){if(i.enableNone)return o.models=[],o;r=-1}return r==="all"&&(i.enableAll?r=a=s=null:r=-1),o.models=n.queryComponents({mainType:e,index:r,id:a,name:s}),o}function wle(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function c3e(n,e){return n.getAttribute?n.getAttribute(e):n[e]}function f3e(n){return n==="auto"?wn.domSupported?"html":"richText":n||"html"}function YF(n,e){var t=bt(),i=[];return Z(n,function(r){var a=e(r);(t.get(a)||(i.push(a),t.set(a,[]))).push(r)}),{keys:i,buckets:t}}function Ele(n,e,t,i,r){var a=e==null||e==="auto";if(i==null)return i;if(Pn(i)){var s=bY(t||0,i,r);return Jr(s,a?Math.max(Yc(t||0),Yc(i)):e)}else{if(ot(i))return r<1?t:i;for(var o=[],l=t,u=i,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var h=n.getDimensionInfo(f);if(h&&h.type==="ordinal")o[f]=(r<1&&l?l:u)[f];else{var d=l&&l[f]?l[f]:0,v=u[f],s=bY(d,v,r);o[f]=Jr(s,a?Math.max(Yc(d),Yc(v)):e)}}return o}}var sm=(function(){function n(){}return n.prototype.reset=function(e,t,i,r){return this._list=e,this._step=r=r||1,this._idx=t,this._end=i??(r>0?e.length:0),this.item=null,this.key=NaN,this},n.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)?(this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0):!1},n})();function HO(n){n.option=n.parentModel=n.ecModel=null}var h3e=".",Hg="___EC__COMPONENT__CONTAINER___",Dle="___EC__EXTENDED_CLASS___";function gh(n){var e={main:"",sub:""};if(n){var t=n.split(h3e);e.main=t[0]||"",e.sub=t[1]||""}return e}function d3e(n){zs(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function p3e(n){return!!(n&&n[Dle])}function $V(n,e){n.$constructor=n,n.extend=function(t){var i=this,r;return v3e(i)?r=(function(a){me(s,a);function s(){return a.apply(this,arguments)||this}return s})(i):(r=function(){(t.$constructor||i).apply(this,arguments)},FV(r,this)),Ie(r.prototype,t),r[Dle]=!0,r.extend=this.extend,r.superCall=y3e,r.superApply=x3e,r.superClass=i,r}}function v3e(n){return wt(n)&&/^class\s/.test(Function.prototype.toString.call(n))}function Rle(n,e){n.extend=e.extend}var m3e=Math.round(Math.random()*10);function g3e(n){var e=["__\0is_clz",m3e++].join("_");n.prototype[e]=!0,n.isInstance=function(t){return!!(t&&t[e])}}function y3e(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return this.superClass.prototype[e].apply(n,t)}function x3e(n,e,t){return this.superClass.prototype[e].apply(n,t)}function FI(n){var e={};n.registerClass=function(i){var r=i.type||i.prototype.type;if(r){d3e(r),i.prototype.type=r;var a=gh(r);if(!a.sub)e[a.main]=i;else if(a.sub!==Hg){var s=t(a);s[a.sub]=i}}return i},n.getClass=function(i,r,a){var s=e[i];if(s&&s[Hg]&&(s=r?s[r]:null),a&&!s)throw new Error(r?"Component "+i+"."+(r||"")+" is used but not imported.":i+".type should be specified.");return s},n.getClassesByMainType=function(i){var r=gh(i),a=[],s=e[r.main];return s&&s[Hg]?Z(s,function(o,l){l!==Hg&&a.push(o)}):a.push(s),a},n.hasClass=function(i){var r=gh(i);return!!e[r.main]},n.getAllClassMainTypes=function(){var i=[];return Z(e,function(r,a){i.push(a)}),i},n.hasSubTypes=function(i){var r=gh(i),a=e[r.main];return a&&a[Hg]};function t(i){var r=e[i.main];return(!r||!r[Hg])&&(r=e[i.main]={},r[Hg]=!0),r}}function Ly(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(i,r,a){for(var s={},o=0;o<n.length;o++){var l=n[o][1];if(!(r&&rn(r,l)>=0||a&&rn(a,l)<0)){var u=i.getShallow(l,e);u!=null&&(s[n[o][0]]=u)}}return s}}var _3e=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],b3e=Ly(_3e),S3e=(function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return b3e(this,e,t)},n})(),qF=new ub(50);function A3e(n){if(typeof n=="string"){var e=qF.get(n);return e&&e.image}else return n}function e6(n,e,t,i,r){if(n)if(typeof n=="string"){if(e&&e.__zrImageSrc===n||!t)return e;var a=qF.get(n),s={hostEl:t,cb:i,cbPayload:r};return a?(e=a.image,!UI(e)&&a.pending.push(s)):(e=xl.loadImage(n,AY,AY),e.__zrImageSrc=n,qF.put(n,e.__cachedImgObj={image:e,pending:[s]})),e}else return n;else return e}function AY(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],i=t.cb;i&&i(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function UI(n){return n&&n.width&&n.height}var WO=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function M3e(n,e,t,i,r){var a={};return Lle(a,n,e,t,i,r),a.text}function Lle(n,e,t,i,r,a){if(!t){n.text="",n.isTruncated=!1;return}var s=(e+"").split(`
`);a=Nle(t,i,r,a);for(var o=!1,l={},u=0,c=s.length;u<c;u++)Ile(l,s[u],a),s[u]=l.textLine,o=o||l.isTruncated;n.text=s.join(`
`),n.isTruncated=o}function Nle(n,e,t,i){i=i||{};var r=Ie({},i);t=At(t,"..."),r.maxIterations=At(i.maxIterations,2);var a=r.minChar=At(i.minChar,0),s=r.fontMeasureInfo=Th(e),o=s.asciiCharWidth;r.placeholder=At(i.placeholder,"");for(var l=n=Math.max(0,n-1),u=0;u<a&&l>=o;u++)l-=o;var c=Ch(s,t);return c>l&&(t="",c=0),l=n-c,r.ellipsis=t,r.ellipsisWidth=c,r.contentWidth=l,r.containerWidth=n,r}function Ile(n,e,t){var i=t.containerWidth,r=t.contentWidth,a=t.fontMeasureInfo;if(!i){n.textLine="",n.isTruncated=!1;return}var s=Ch(a,e);if(s<=i){n.textLine=e,n.isTruncated=!1;return}for(var o=0;;o++){if(s<=r||o>=t.maxIterations){e+=t.ellipsis;break}var l=o===0?T3e(e,r,a):s>0?Math.floor(e.length*r/s):0;e=e.substr(0,l),s=Ch(a,e)}e===""&&(e=t.placeholder),n.textLine=e,n.isTruncated=!0}function T3e(n,e,t){for(var i=0,r=0,a=n.length;r<a&&i<e;r++)i+=fle(t,n.charCodeAt(r));return r}function C3e(n,e,t,i){var r=t6(n),a=e.overflow,s=e.padding,o=s?s[1]+s[3]:0,l=s?s[0]+s[2]:0,u=e.font,c=a==="truncate",f=IC(u),h=At(e.lineHeight,f),d=e.lineOverflow==="truncate",v=!1,m=e.width;m==null&&t!=null&&(m=t-o);var y=e.height;y==null&&i!=null&&(y=i-l);var x;m!=null&&(a==="break"||a==="breakAll")?x=r?Ple(r,e.font,m,a==="breakAll",0).lines:[]:x=r?r.split(`
`):[];var b=x.length*h;if(y==null&&(y=b),b>y&&d){var M=Math.floor(y/h);v=v||x.length>M,x=x.slice(0,M),b=x.length*h}if(r&&c&&m!=null)for(var C=Nle(m,u,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),w={},E=0;E<x.length;E++)Ile(w,x[E],C),x[E]=w.textLine,v=v||w.isTruncated;for(var L=y,P=0,I=Th(u),E=0;E<x.length;E++)P=Math.max(Ch(I,x[E]),P);m==null&&(m=P);var N=m;return L+=l,N+=o,{lines:x,height:y,outerWidth:N,outerHeight:L,lineHeight:h,calculatedLineHeight:f,contentWidth:P,contentHeight:b,width:m,isTruncated:v}}var w3e=(function(){function n(){}return n})(),MY=(function(){function n(e){this.tokens=[],e&&(this.tokens=e)}return n})(),E3e=(function(){function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return n})();function D3e(n,e,t,i,r){var a=new E3e,s=t6(n);if(!s)return a;var o=e.padding,l=o?o[1]+o[3]:0,u=o?o[0]+o[2]:0,c=e.width;c==null&&t!=null&&(c=t-l);var f=e.height;f==null&&i!=null&&(f=i-u);for(var h=e.overflow,d=(h==="break"||h==="breakAll")&&c!=null?{width:c,accumWidth:0,breakAll:h==="breakAll"}:null,v=WO.lastIndex=0,m;(m=WO.exec(s))!=null;){var y=m.index;y>v&&XO(a,s.substring(v,y),e,d),XO(a,m[2],e,d,m[1]),v=WO.lastIndex}v<s.length&&XO(a,s.substring(v,s.length),e,d);var x=[],b=0,M=0,C=h==="truncate",w=e.lineOverflow==="truncate",E={};function L(fe,ge,Se){fe.width=ge,fe.lineHeight=Se,b+=Se,M=Math.max(M,ge)}e:for(var P=0;P<a.lines.length;P++){for(var I=a.lines[P],N=0,z=0,V=0;V<I.tokens.length;V++){var U=I.tokens[V],j=U.styleName&&e.rich[U.styleName]||{},W=U.textPadding=j.padding,G=W?W[1]+W[3]:0,X=U.font=j.font||e.font;U.contentHeight=IC(X);var q=At(j.height,U.contentHeight);if(U.innerHeight=q,W&&(q+=W[0]+W[2]),U.height=q,U.lineHeight=gl(j.lineHeight,e.lineHeight,q),U.align=j&&j.align||r,U.verticalAlign=j&&j.verticalAlign||"middle",w&&f!=null&&b+U.lineHeight>f){var $=a.lines.length;V>0?(I.tokens=I.tokens.slice(0,V),L(I,z,N),a.lines=a.lines.slice(0,P+1)):a.lines=a.lines.slice(0,P),a.isTruncated=a.isTruncated||a.lines.length<$;break e}var te=j.width,J=te==null||te==="auto";if(typeof te=="string"&&te.charAt(te.length-1)==="%")U.percentWidth=te,x.push(U),U.contentWidth=Ch(Th(X),U.text);else{if(J){var Q=j.backgroundColor,se=Q&&Q.image;se&&(se=A3e(se),UI(se)&&(U.width=Math.max(U.width,se.width*q/se.height)))}var ce=C&&c!=null?c-z:null;ce!=null&&ce<U.width?!J||ce<G?(U.text="",U.width=U.contentWidth=0):(Lle(E,U.text,ce-G,X,e.ellipsis,{minChar:e.truncateMinChar}),U.text=E.text,a.isTruncated=a.isTruncated||E.isTruncated,U.width=U.contentWidth=Ch(Th(X),U.text)):U.contentWidth=Ch(Th(X),U.text)}U.width+=G,z+=U.width,j&&(N=Math.max(N,U.lineHeight))}L(I,z,N)}a.outerWidth=a.width=At(c,M),a.outerHeight=a.height=At(f,b),a.contentHeight=b,a.contentWidth=M,a.outerWidth+=l,a.outerHeight+=u;for(var P=0;P<x.length;P++){var U=x[P],ue=U.percentWidth;U.width=parseInt(ue,10)/100*a.width}return a}function XO(n,e,t,i,r){var a=e==="",s=r&&t.rich[r]||{},o=n.lines,l=s.font||t.font,u=!1,c,f;if(i){var h=s.padding,d=h?h[1]+h[3]:0;if(s.width!=null&&s.width!=="auto"){var v=sf(s.width,i.width)+d;o.length>0&&v+i.accumWidth>i.width&&(c=e.split(`
`),u=!0),i.accumWidth=v}else{var m=Ple(e,l,i.width,i.breakAll,i.accumWidth);i.accumWidth=m.accumWidth+d,f=m.linesWidths,c=m.lines}}c||(c=e.split(`
`));for(var y=Th(l),x=0;x<c.length;x++){var b=c[x],M=new w3e;if(M.styleName=r,M.text=b,M.isLineHolder=!b&&!a,typeof s.width=="number"?M.width=s.width:M.width=f?f[x]:Ch(y,b),!x&&!u){var C=(o[o.length-1]||(o[0]=new MY)).tokens,w=C.length;w===1&&C[0].isLineHolder?C[0]=M:(b||!w||a)&&C.push(M)}else o.push(new MY([M]))}}function R3e(n){var e=n.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var L3e=Ju(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function N3e(n){return R3e(n)?!!L3e[n]:!0}function Ple(n,e,t,i,r){for(var a=[],s=[],o="",l="",u=0,c=0,f=Th(e),h=0;h<n.length;h++){var d=n.charAt(h);if(d===`
`){l&&(o+=l,c+=u),a.push(o),s.push(c),o="",l="",u=0,c=0;continue}var v=fle(f,d.charCodeAt(0)),m=i?!1:!N3e(d);if(a.length?c+v>t:r+c+v>t){c?(o||l)&&(m?(o||(o=l,l="",u=0,c=u),a.push(o),s.push(c-u),l+=d,u+=v,o="",c=u):(l&&(o+=l,l="",u=0),a.push(o),s.push(c),o=d,c=v)):m?(a.push(l),s.push(u),l=d,u=v):(a.push(d),s.push(v));continue}c+=v,m?(l+=d,u+=v):(l&&(o+=l,l="",u=0),o+=d)}return l&&(o+=l),o&&(a.push(o),s.push(c)),a.length===1&&(c+=r),{accumWidth:c,lines:a,linesWidths:s}}function TY(n,e,t,i,r,a){if(n.baseX=t,n.baseY=i,n.outerWidth=n.outerHeight=null,!!e){var s=e.width*2,o=e.height*2;Ut.set(CY,cb(t,s,r),hy(i,o,a),s,o),Ut.intersect(e,CY,null,wY);var l=wY.outIntersectRect;n.outerWidth=l.width,n.outerHeight=l.height,n.baseX=cb(l.x,l.width,r,!0),n.baseY=hy(l.y,l.height,a,!0)}}var CY=new Ut(0,0,0,0),wY={outIntersectRect:{},clamp:!0};function t6(n){return n!=null?n+="":n=""}function I3e(n){var e=t6(n.text),t=n.font,i=Ch(Th(t),e),r=IC(t);return ZF(n,i,r,null)}function ZF(n,e,t,i){var r=new Ut(cb(n.x||0,e,n.textAlign),hy(n.y||0,t,n.textBaseline),e,t),a=i??(Ble(n)?n.lineWidth:0);return a>0&&(r.x-=a/2,r.y-=a/2,r.width+=a,r.height+=a),r}function Ble(n){var e=n.stroke;return e!=null&&e!=="none"&&n.lineWidth>0}var KF="__zr_style_"+Math.round(Math.random()*10),dy={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},GI={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};dy[KF]=!0;var EY=["z","z2","invisible"],P3e=["invisible"],$u=(function(n){me(e,n);function e(t){return n.call(this,t)||this}return e.prototype._init=function(t){for(var i=Dn(t),r=0;r<i.length;r++){var a=i[r];a==="style"?this.useStyle(t[a]):n.prototype.attrKV.call(this,a,t[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,i,r,a){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&B3e(this,t,i)||s&&!s[0]&&!s[3])return!1;if(r&&this.__clipPaths&&this.__clipPaths.length){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,i){return this.rectContain(t,i)},e.prototype.traverse=function(t,i){t.call(i,this)},e.prototype.rectContain=function(t,i){var r=this.transformCoordToLocal(t,i),a=this.getBoundingRect();return a.contain(r[0],r[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var i=this.transform,r=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,o=a.shadowOffsetX||0,l=a.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new Ut(0,0,0,0)),i?Ut.applyTransform(t,r,i):t.copy(r),(s||o||l)&&(t.width+=s*2+Math.abs(o),t.height+=s*2+Math.abs(l),t.x=Math.min(t.x,t.x+o-s),t.y=Math.min(t.y,t.y+l-s));var u=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-u),t.y=Math.floor(t.y-u),t.width=Math.ceil(t.width+1+u*2),t.height=Math.ceil(t.height+1+u*2))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new Ut(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,i){t!=="style"?n.prototype.attrKV.call(this,t,i):this.style?this.setStyle(i):this.useStyle(i)},e.prototype.setStyle=function(t,i){return typeof t=="string"?this.style[t]=i:Ie(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=a2,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&a2)},e.prototype.styleUpdated=function(){this.__dirty&=~a2},e.prototype.createStyle=function(t){return RC(dy,t)},e.prototype.useStyle=function(t){t[KF]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[KF]},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;t.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,i,EY)},e.prototype._applyStateObj=function(t,i,r,a,s,o){n.prototype._applyStateObj.call(this,t,i,r,a,s,o);var l=!(i&&a),u;if(i&&i.style?s?a?u=i.style:(u=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(u,i.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:r.style),this._mergeStyle(u,i.style)):l&&(u=r.style),u)if(s){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=Dn(c),h=0;h<f.length;h++){var d=f[h];d in u&&(u[d]=u[d],this.style[d]=c[d])}for(var v=Dn(u),h=0;h<v.length;h++){var d=v[h];this.style[d]=this.style[d]}this._transitionState(t,{style:u},o,this.getAnimationStyleProps())}else this.useStyle(u);for(var m=this.__inHover?P3e:EY,h=0;h<m.length;h++){var d=m[h];i&&i[d]!=null?this[d]=i[d]:l&&r[d]!=null&&(this[d]=r[d])}},e.prototype._mergeStates=function(t){for(var i=n.prototype._mergeStates.call(this,t),r,a=0;a<t.length;a++){var s=t[a];s.style&&(r=r||{},this._mergeStyle(r,s.style))}return r&&(i.style=r),i},e.prototype._mergeStyle=function(t,i){return Ie(t,i),t},e.prototype.getAnimationStyleProps=function(){return GI},e.initDefaultProps=(function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=Vl|a2})(),e})(zI),YO=new Ut(0,0,0,0),qO=new Ut(0,0,0,0);function B3e(n,e,t){return YO.copy(n.getBoundingRect()),n.transform&&YO.applyTransform(n.transform),qO.width=e,qO.height=t,!YO.intersect(qO)}var ll=Math.min,ul=Math.max,ZO=Math.sin,KO=Math.cos,Wg=Math.PI*2,qE=Pm(),ZE=Pm(),KE=Pm();function VI(n,e,t){if(n.length!==0){for(var i=n[0],r=i[0],a=i[0],s=i[1],o=i[1],l=1;l<n.length;l++)i=n[l],r=ll(r,i[0]),a=ul(a,i[0]),s=ll(s,i[1]),o=ul(o,i[1]);e[0]=r,e[1]=s,t[0]=a,t[1]=o}}function DY(n,e,t,i,r,a){r[0]=ll(n,t),r[1]=ll(e,i),a[0]=ul(n,t),a[1]=ul(e,i)}var RY=[],LY=[];function O3e(n,e,t,i,r,a,s,o,l,u){var c=Koe,f=Ga,h=c(n,t,r,s,RY);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var d=0;d<h;d++){var v=f(n,t,r,s,RY[d]);l[0]=ll(v,l[0]),u[0]=ul(v,u[0])}h=c(e,i,a,o,LY);for(var d=0;d<h;d++){var m=f(e,i,a,o,LY[d]);l[1]=ll(m,l[1]),u[1]=ul(m,u[1])}l[0]=ll(n,l[0]),u[0]=ul(n,u[0]),l[0]=ll(s,l[0]),u[0]=ul(s,u[0]),l[1]=ll(e,l[1]),u[1]=ul(e,u[1]),l[1]=ll(o,l[1]),u[1]=ul(o,u[1])}function z3e(n,e,t,i,r,a,s,o){var l=Qoe,u=us,c=ul(ll(l(n,t,r),1),0),f=ul(ll(l(e,i,a),1),0),h=u(n,t,r,c),d=u(e,i,a,f);s[0]=ll(n,r,h),s[1]=ll(e,a,d),o[0]=ul(n,r,h),o[1]=ul(e,a,d)}function k3e(n,e,t,i,r,a,s,o,l){var u=Kd,c=Jd,f=Math.abs(r-a);if(f%Wg<1e-4&&f>1e-4){o[0]=n-t,o[1]=e-i,l[0]=n+t,l[1]=e+i;return}if(qE[0]=KO(r)*t+n,qE[1]=ZO(r)*i+e,ZE[0]=KO(a)*t+n,ZE[1]=ZO(a)*i+e,u(o,qE,ZE),c(l,qE,ZE),r=r%Wg,r<0&&(r=r+Wg),a=a%Wg,a<0&&(a=a+Wg),r>a&&!s?a+=Wg:r<a&&s&&(r+=Wg),s){var h=a;a=r,r=h}for(var d=0;d<a;d+=Math.PI/2)d>r&&(KE[0]=KO(d)*t+n,KE[1]=ZO(d)*i+e,u(o,KE,o),c(l,KE,l))}var Fi={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Xg=[],Yg=[],Zf=[],xv=[],Kf=[],Jf=[],JO=Math.min,QO=Math.max,qg=Math.cos,Zg=Math.sin,Ad=Math.abs,JF=Math.PI,Ov=JF*2,$O=typeof Float32Array<"u",oM=[];function e5(n){var e=Math.round(n/JF*1e8)/1e8;return e%2*JF}function jI(n,e){var t=e5(n[0]);t<0&&(t+=Ov);var i=t-n[0],r=n[1];r+=i,!e&&r-t>=Ov?r=t+Ov:e&&t-r>=Ov?r=t-Ov:!e&&t>r?r=t+(Ov-e5(t-r)):e&&t<r&&(r=t-(Ov-e5(r-t))),n[0]=t,n[1]=r}var Ih=(function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,i){i=i||0,i>0&&(this._ux=Ad(i/dL/e)||0,this._uy=Ad(i/dL/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(Fi.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var i=Ad(e-this._xi),r=Ad(t-this._yi),a=i>this._ux||r>this._uy;if(this.addData(Fi.L,e,t),this._ctx&&a&&this._ctx.lineTo(e,t),a)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var s=i*i+r*r;s>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=s)}return this},n.prototype.bezierCurveTo=function(e,t,i,r,a,s){return this._drawPendingPt(),this.addData(Fi.C,e,t,i,r,a,s),this._ctx&&this._ctx.bezierCurveTo(e,t,i,r,a,s),this._xi=a,this._yi=s,this},n.prototype.quadraticCurveTo=function(e,t,i,r){return this._drawPendingPt(),this.addData(Fi.Q,e,t,i,r),this._ctx&&this._ctx.quadraticCurveTo(e,t,i,r),this._xi=i,this._yi=r,this},n.prototype.arc=function(e,t,i,r,a,s){this._drawPendingPt(),oM[0]=r,oM[1]=a,jI(oM,s),r=oM[0],a=oM[1];var o=a-r;return this.addData(Fi.A,e,t,i,i,r,o,0,s?0:1),this._ctx&&this._ctx.arc(e,t,i,r,a,s),this._xi=qg(a)*i+e,this._yi=Zg(a)*i+t,this},n.prototype.arcTo=function(e,t,i,r,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,i,r,a),this},n.prototype.rect=function(e,t,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,i,r),this.addData(Fi.R,e,t,i,r),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(Fi.Z);var e=this._ctx,t=this._x0,i=this._y0;return e&&e.closePath(),this._xi=t,this._yi=i,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){if(this._saveData){var t=e.length;!(this.data&&this.data.length===t)&&$O&&(this.data=new Float32Array(t));for(var i=0;i<t;i++)this.data[i]=e[i];this._len=t}},n.prototype.appendPath=function(e){if(this._saveData){e instanceof Array||(e=[e]);for(var t=e.length,i=0,r=this._len,a=0;a<t;a++)i+=e[a].len();var s=this.data;if($O&&(s instanceof Float32Array||!s)&&(this.data=new Float32Array(r+i),r>0&&s))for(var o=0;o<r;o++)this.data[o]=s[o];for(var a=0;a<t;a++)for(var l=e[a].data,o=0;o<l.length;o++)this.data[r++]=l[o];this._len=r}},n.prototype.addData=function(e,t,i,r,a,s,o,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,$O&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){Zf[0]=Zf[1]=Kf[0]=Kf[1]=Number.MAX_VALUE,xv[0]=xv[1]=Jf[0]=Jf[1]=-Number.MAX_VALUE;var e=this.data,t=0,i=0,r=0,a=0,s;for(s=0;s<this._len;){var o=e[s++],l=s===1;switch(l&&(t=e[s],i=e[s+1],r=t,a=i),o){case Fi.M:t=r=e[s++],i=a=e[s++],Kf[0]=r,Kf[1]=a,Jf[0]=r,Jf[1]=a;break;case Fi.L:DY(t,i,e[s],e[s+1],Kf,Jf),t=e[s++],i=e[s++];break;case Fi.C:O3e(t,i,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],Kf,Jf),t=e[s++],i=e[s++];break;case Fi.Q:z3e(t,i,e[s++],e[s++],e[s],e[s+1],Kf,Jf),t=e[s++],i=e[s++];break;case Fi.A:var u=e[s++],c=e[s++],f=e[s++],h=e[s++],d=e[s++],v=e[s++]+d;s+=1;var m=!e[s++];l&&(r=qg(d)*f+u,a=Zg(d)*h+c),k3e(u,c,f,h,d,v,m,Kf,Jf),t=qg(v)*f+u,i=Zg(v)*h+c;break;case Fi.R:r=t=e[s++],a=i=e[s++];var y=e[s++],x=e[s++];DY(r,a,r+y,a+x,Kf,Jf);break;case Fi.Z:t=r,i=a;break}Kd(Zf,Zf,Kf),Jd(xv,xv,Jf)}return s===0&&(Zf[0]=Zf[1]=xv[0]=xv[1]=0),new Ut(Zf[0],Zf[1],xv[0]-Zf[0],xv[1]-Zf[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,i=this._ux,r=this._uy,a=0,s=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,h=0;h<t;){var d=e[h++],v=h===1;v&&(a=e[h],s=e[h+1],o=a,l=s);var m=-1;switch(d){case Fi.M:a=o=e[h++],s=l=e[h++];break;case Fi.L:{var y=e[h++],x=e[h++],b=y-a,M=x-s;(Ad(b)>i||Ad(M)>r||h===t-1)&&(m=Math.sqrt(b*b+M*M),a=y,s=x);break}case Fi.C:{var C=e[h++],w=e[h++],y=e[h++],x=e[h++],E=e[h++],L=e[h++];m=qDe(a,s,C,w,y,x,E,L,10),a=E,s=L;break}case Fi.Q:{var C=e[h++],w=e[h++],y=e[h++],x=e[h++];m=KDe(a,s,C,w,y,x,10),a=y,s=x;break}case Fi.A:var P=e[h++],I=e[h++],N=e[h++],z=e[h++],V=e[h++],U=e[h++],j=U+V;h+=1,v&&(o=qg(V)*N+P,l=Zg(V)*z+I),m=QO(N,z)*JO(Ov,Math.abs(U)),a=qg(j)*N+P,s=Zg(j)*z+I;break;case Fi.R:{o=a=e[h++],l=s=e[h++];var W=e[h++],G=e[h++];m=W*2+G*2;break}case Fi.Z:{var b=o-a,M=l-s;m=Math.sqrt(b*b+M*M),a=o,s=l;break}}m>=0&&(u[f++]=m,c+=m)}return this._pathLen=c,c},n.prototype.rebuildPath=function(e,t){var i=this.data,r=this._ux,a=this._uy,s=this._len,o,l,u,c,f,h,d=t<1,v,m,y=0,x=0,b,M=0,C,w;if(!(d&&(this._pathSegLen||this._calculateLength(),v=this._pathSegLen,m=this._pathLen,b=t*m,!b)))e:for(var E=0;E<s;){var L=i[E++],P=E===1;switch(P&&(u=i[E],c=i[E+1],o=u,l=c),L!==Fi.L&&M>0&&(e.lineTo(C,w),M=0),L){case Fi.M:o=u=i[E++],l=c=i[E++],e.moveTo(u,c);break;case Fi.L:{f=i[E++],h=i[E++];var I=Ad(f-u),N=Ad(h-c);if(I>r||N>a){if(d){var z=v[x++];if(y+z>b){var V=(b-y)/z;e.lineTo(u*(1-V)+f*V,c*(1-V)+h*V);break e}y+=z}e.lineTo(f,h),u=f,c=h,M=0}else{var U=I*I+N*N;U>M&&(C=f,w=h,M=U)}break}case Fi.C:{var j=i[E++],W=i[E++],G=i[E++],X=i[E++],q=i[E++],$=i[E++];if(d){var z=v[x++];if(y+z>b){var V=(b-y)/z;_m(u,j,G,q,V,Xg),_m(c,W,X,$,V,Yg),e.bezierCurveTo(Xg[1],Yg[1],Xg[2],Yg[2],Xg[3],Yg[3]);break e}y+=z}e.bezierCurveTo(j,W,G,X,q,$),u=q,c=$;break}case Fi.Q:{var j=i[E++],W=i[E++],G=i[E++],X=i[E++];if(d){var z=v[x++];if(y+z>b){var V=(b-y)/z;wT(u,j,G,V,Xg),wT(c,W,X,V,Yg),e.quadraticCurveTo(Xg[1],Yg[1],Xg[2],Yg[2]);break e}y+=z}e.quadraticCurveTo(j,W,G,X),u=G,c=X;break}case Fi.A:var te=i[E++],J=i[E++],Q=i[E++],se=i[E++],ce=i[E++],ue=i[E++],fe=i[E++],ge=!i[E++],Se=Q>se?Q:se,Ee=Ad(Q-se)>.001,Ue=ce+ue,_e=!1;if(d){var z=v[x++];y+z>b&&(Ue=ce+ue*(b-y)/z,_e=!0),y+=z}if(Ee&&e.ellipse?e.ellipse(te,J,Q,se,fe,ce,Ue,ge):e.arc(te,J,Se,ce,Ue,ge),_e)break e;P&&(o=qg(ce)*Q+te,l=Zg(ce)*se+J),u=qg(Ue)*Q+te,c=Zg(Ue)*se+J;break;case Fi.R:o=u=i[E],l=c=i[E+1],f=i[E++],h=i[E++];var ke=i[E++],dt=i[E++];if(d){var z=v[x++];if(y+z>b){var De=b-y;e.moveTo(f,h),e.lineTo(f+JO(De,ke),h),De-=ke,De>0&&e.lineTo(f+ke,h+JO(De,dt)),De-=dt,De>0&&e.lineTo(f+QO(ke-De,0),h+dt),De-=ke,De>0&&e.lineTo(f,h+QO(dt-De,0));break e}y+=z}e.rect(f,h,ke,dt);break;case Fi.Z:if(d){var z=v[x++];if(y+z>b){var V=(b-y)/z;e.lineTo(u*(1-V)+o*V,c*(1-V)+l*V);break e}y+=z}e.closePath(),u=o,c=l}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.prototype.canSave=function(){return!!this._saveData},n.CMD=Fi,n.initDefaultProps=(function(){var e=n.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0})(),n})();function Fv(n,e,t,i,r,a,s){if(r===0)return!1;var o=r,l=0,u=n;if(s>e+o&&s>i+o||s<e-o&&s<i-o||a>n+o&&a>t+o||a<n-o&&a<t-o)return!1;if(n!==t)l=(e-i)/(n-t),u=(n*i-t*e)/(n-t);else return Math.abs(a-n)<=o/2;var c=l*a-s+u,f=c*c/(l*l+1);return f<=o/2*o/2}function F3e(n,e,t,i,r,a,s,o,l,u,c){if(l===0)return!1;var f=l;if(c>e+f&&c>i+f&&c>a+f&&c>o+f||c<e-f&&c<i-f&&c<a-f&&c<o-f||u>n+f&&u>t+f&&u>r+f&&u>s+f||u<n-f&&u<t-f&&u<r-f&&u<s-f)return!1;var h=Joe(n,e,t,i,r,a,s,o,u,c,null);return h<=f/2}function Ole(n,e,t,i,r,a,s,o,l){if(s===0)return!1;var u=s;if(l>e+u&&l>i+u&&l>a+u||l<e-u&&l<i-u&&l<a-u||o>n+u&&o>t+u&&o>r+u||o<n-u&&o<t-u&&o<r-u)return!1;var c=$oe(n,e,t,i,r,a,o,l,null);return c<=u/2}var NY=Math.PI*2;function Yl(n){return n%=NY,n<0&&(n+=NY),n}var lM=Math.PI*2;function U3e(n,e,t,i,r,a,s,o,l){if(s===0)return!1;var u=s;o-=n,l-=e;var c=Math.sqrt(o*o+l*l);if(c-u>t||c+u<t)return!1;if(Math.abs(i-r)%lM<1e-4)return!0;if(a){var f=i;i=Yl(r),r=Yl(f)}else i=Yl(i),r=Yl(r);i>r&&(r+=lM);var h=Math.atan2(l,o);return h<0&&(h+=lM),h>=i&&h<=r||h+lM>=i&&h+lM<=r}function Gd(n,e,t,i,r,a){if(a>e&&a>i||a<e&&a<i||i===e)return 0;var s=(a-e)/(i-e),o=i<e?1:-1;(s===1||s===0)&&(o=i<e?.5:-.5);var l=s*(t-n)+n;return l===r?1/0:l>r?o:0}var _v=Ih.CMD,Kg=Math.PI*2,G3e=1e-4;function V3e(n,e){return Math.abs(n-e)<G3e}var Oo=[-1,-1,-1],ku=[-1,-1];function j3e(){var n=ku[0];ku[0]=ku[1],ku[1]=n}function H3e(n,e,t,i,r,a,s,o,l,u){if(u>e&&u>i&&u>a&&u>o||u<e&&u<i&&u<a&&u<o)return 0;var c=uL(e,i,a,o,u,Oo);if(c===0)return 0;for(var f=0,h=-1,d=void 0,v=void 0,m=0;m<c;m++){var y=Oo[m],x=y===0||y===1?.5:1,b=Ga(n,t,r,s,y);b<l||(h<0&&(h=Koe(e,i,a,o,ku),ku[1]<ku[0]&&h>1&&j3e(),d=Ga(e,i,a,o,ku[0]),h>1&&(v=Ga(e,i,a,o,ku[1]))),h===2?y<ku[0]?f+=d<e?x:-x:y<ku[1]?f+=v<d?x:-x:f+=o<v?x:-x:y<ku[0]?f+=d<e?x:-x:f+=o<d?x:-x)}return f}function W3e(n,e,t,i,r,a,s,o){if(o>e&&o>i&&o>a||o<e&&o<i&&o<a)return 0;var l=ZDe(e,i,a,o,Oo);if(l===0)return 0;var u=Qoe(e,i,a);if(u>=0&&u<=1){for(var c=0,f=us(e,i,a,u),h=0;h<l;h++){var d=Oo[h]===0||Oo[h]===1?.5:1,v=us(n,t,r,Oo[h]);v<s||(Oo[h]<u?c+=f<e?d:-d:c+=a<f?d:-d)}return c}else{var d=Oo[0]===0||Oo[0]===1?.5:1,v=us(n,t,r,Oo[0]);return v<s?0:a<e?d:-d}}function X3e(n,e,t,i,r,a,s,o){if(o-=e,o>t||o<-t)return 0;var l=Math.sqrt(t*t-o*o);Oo[0]=-l,Oo[1]=l;var u=Math.abs(i-r);if(u<1e-4)return 0;if(u>=Kg-1e-4){i=0,r=Kg;var c=a?1:-1;return s>=Oo[0]+n&&s<=Oo[1]+n?c:0}if(i>r){var f=i;i=r,r=f}i<0&&(i+=Kg,r+=Kg);for(var h=0,d=0;d<2;d++){var v=Oo[d];if(v+n>s){var m=Math.atan2(o,v),c=a?1:-1;m<0&&(m=Kg+m),(m>=i&&m<=r||m+Kg>=i&&m+Kg<=r)&&(m>Math.PI/2&&m<Math.PI*1.5&&(c=-c),h+=c)}}return h}function zle(n,e,t,i,r){for(var a=n.data,s=n.len(),o=0,l=0,u=0,c=0,f=0,h,d,v=0;v<s;){var m=a[v++],y=v===1;switch(m===_v.M&&v>1&&(t||(o+=Gd(l,u,c,f,i,r))),y&&(l=a[v],u=a[v+1],c=l,f=u),m){case _v.M:c=a[v++],f=a[v++],l=c,u=f;break;case _v.L:if(t){if(Fv(l,u,a[v],a[v+1],e,i,r))return!0}else o+=Gd(l,u,a[v],a[v+1],i,r)||0;l=a[v++],u=a[v++];break;case _v.C:if(t){if(F3e(l,u,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],e,i,r))return!0}else o+=H3e(l,u,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],i,r)||0;l=a[v++],u=a[v++];break;case _v.Q:if(t){if(Ole(l,u,a[v++],a[v++],a[v],a[v+1],e,i,r))return!0}else o+=W3e(l,u,a[v++],a[v++],a[v],a[v+1],i,r)||0;l=a[v++],u=a[v++];break;case _v.A:var x=a[v++],b=a[v++],M=a[v++],C=a[v++],w=a[v++],E=a[v++];v+=1;var L=!!(1-a[v++]);h=Math.cos(w)*M+x,d=Math.sin(w)*C+b,y?(c=h,f=d):o+=Gd(l,u,h,d,i,r);var P=(i-x)*C/M+x;if(t){if(U3e(x,b,C,w,w+E,L,e,P,r))return!0}else o+=X3e(x,b,C,w,w+E,L,P,r);l=Math.cos(w+E)*M+x,u=Math.sin(w+E)*C+b;break;case _v.R:c=l=a[v++],f=u=a[v++];var I=a[v++],N=a[v++];if(h=c+I,d=f+N,t){if(Fv(c,f,h,f,e,i,r)||Fv(h,f,h,d,e,i,r)||Fv(h,d,c,d,e,i,r)||Fv(c,d,c,f,e,i,r))return!0}else o+=Gd(h,f,h,d,i,r),o+=Gd(c,d,c,f,i,r);break;case _v.Z:if(t){if(Fv(l,u,c,f,e,i,r))return!0}else o+=Gd(l,u,c,f,i,r);l=c,u=f;break}}return!t&&!V3e(u,f)&&(o+=Gd(l,u,c,f,i,r)||0),o!==0}function Y3e(n,e,t){return zle(n,0,!1,e,t)}function q3e(n,e,t,i){return zle(n,e,!0,t,i)}var gL=Bt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},dy),Z3e={style:Bt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},GI.style)},t5=Lh.concat(["invisible","culling","z","z2","zlevel","parent"]),An=(function(n){me(e,n);function e(t){return n.call(this,t)||this}return e.prototype.update=function(){var t=this;n.prototype.update.call(this);var i=this.style;if(i.decal){var r=this._decalEl=this._decalEl||new e;r.buildPath===e.prototype.buildPath&&(r.buildPath=function(l){t.buildPath(l,t.shape)}),r.silent=!0;var a=r.style;for(var s in i)a[s]!==i[s]&&(a[s]=i[s]);a.fill=i.fill?i.decal:null,a.decal=null,a.shadowColor=null,i.strokeFirst&&(a.stroke=null);for(var o=0;o<t5.length;++o)r[t5[o]]=this[t5[o]];r.__dirty|=Vl}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var i=Dn(t);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var a=0;a<i.length;a++){var s=i[a],o=t[s];s==="style"?this.style?Ie(this.style,o):this.useStyle(o):s==="shape"?Ie(this.shape,o):n.prototype.attrKV.call(this,s,o)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if(ot(t)){var i=RT(t,0);return i>.5?GF:i>.2?wRe:VF}else if(t)return VF}return GF},e.prototype.getInsideTextStroke=function(t){var i=this.style.fill;if(ot(i)){var r=this.__zr,a=!!(r&&r.isDarkMode()),s=RT(t,0)<UF;if(a===s)return i}},e.prototype.buildPath=function(t,i,r){},e.prototype.pathUpdated=function(){this.__dirty&=~v1},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new Ih(!1)},e.prototype.hasStroke=function(){var t=this.style,i=t.stroke;return!(i==null||i==="none"||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,i=t.fill;return i!=null&&i!=="none"},e.prototype.getBoundingRect=function(){var t=this._rect,i=this.style,r=!t;if(r){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||this.__dirty&v1)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),t=s.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||r){o.copy(t);var l=i.strokeNoScale?this.getLineScale():1,u=i.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(o.width+=u/l,o.height+=u/l,o.x-=u/l/2,o.y-=u/l/2)}return o}return t},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i),a=this.getBoundingRect(),s=this.style;if(t=r[0],i=r[1],a.contain(t,i)){var o=this.path;if(this.hasStroke()){var l=s.lineWidth,u=s.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),q3e(o,l/u,t,i)))return!0}if(this.hasFill())return Y3e(o,t,i)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=v1,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():t==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,i){t==="shape"?this.setShape(i):n.prototype.attrKV.call(this,t,i)},e.prototype.setShape=function(t,i){var r=this.shape;return r||(r=this.shape={}),typeof t=="string"?r[t]=i:Ie(r,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&v1)},e.prototype.createStyle=function(t){return RC(gL,t)},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;t.shape&&!i.shape&&(i.shape=Ie({},this.shape))},e.prototype._applyStateObj=function(t,i,r,a,s,o){n.prototype._applyStateObj.call(this,t,i,r,a,s,o);var l=!(i&&a),u;if(i&&i.shape?s?a?u=i.shape:(u=Ie({},r.shape),Ie(u,i.shape)):(u=Ie({},a?this.shape:r.shape),Ie(u,i.shape)):l&&(u=r.shape),u)if(s){this.shape=Ie({},this.shape);for(var c={},f=Dn(u),h=0;h<f.length;h++){var d=f[h];typeof u[d]=="object"?this.shape[d]=u[d]:c[d]=u[d]}this._transitionState(t,{shape:c},o)}else this.shape=u,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var i=n.prototype._mergeStates.call(this,t),r,a=0;a<t.length;a++){var s=t[a];s.shape&&(r=r||{},this._mergeStyle(r,s.shape))}return r&&(i.shape=r),i},e.prototype.getAnimationStyleProps=function(){return Z3e},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var i=(function(a){me(s,a);function s(o){var l=a.call(this,o)||this;return t.init&&t.init.call(l,o),l}return s.prototype.getDefaultStyle=function(){return Nt(t.style)},s.prototype.getDefaultShape=function(){return Nt(t.shape)},s})(e);for(var r in t)typeof t[r]=="function"&&(i.prototype[r]=t[r]);return i},e.initDefaultProps=(function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=Vl|a2|v1})(),e})($u),K3e=Bt({strokeFirst:!0,font:xp,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},gL),hb=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.hasStroke=function(){return Ble(this.style)},e.prototype.hasFill=function(){var t=this.style,i=t.fill;return i!=null&&i!=="none"},e.prototype.createStyle=function(t){return RC(K3e,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){return this._rect||(this._rect=I3e(this.style)),this._rect},e.initDefaultProps=(function(){var t=e.prototype;t.dirtyRectTolerance=10})(),e})($u);hb.prototype.type="tspan";var J3e=Bt({x:0,y:0},dy),Q3e={style:Bt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},GI.style)};function $3e(n){return!!(n&&typeof n!="string"&&n.width&&n.height)}var Za=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createStyle=function(t){return RC(J3e,t)},e.prototype._getSize=function(t){var i=this.style,r=i[t];if(r!=null)return r;var a=$3e(i.image)?i.image:this.__image;if(!a)return 0;var s=t==="width"?"height":"width",o=i[s];return o==null?a[t]:a[t]/a[s]*o},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return Q3e},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new Ut(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e})($u);Za.prototype.type="image";function eLe(n,e){var t=e.x,i=e.y,r=e.width,a=e.height,s=e.r,o,l,u,c;r<0&&(t=t+r,r=-r),a<0&&(i=i+a,a=-a),typeof s=="number"?o=l=u=c=s:s instanceof Array?s.length===1?o=l=u=c=s[0]:s.length===2?(o=u=s[0],l=c=s[1]):s.length===3?(o=s[0],l=c=s[1],u=s[2]):(o=s[0],l=s[1],u=s[2],c=s[3]):o=l=u=c=0;var f;o+l>r&&(f=o+l,o*=r/f,l*=r/f),u+c>r&&(f=u+c,u*=r/f,c*=r/f),l+u>a&&(f=l+u,l*=a/f,u*=a/f),o+c>a&&(f=o+c,o*=a/f,c*=a/f),n.moveTo(t+o,i),n.lineTo(t+r-l,i),l!==0&&n.arc(t+r-l,i+l,l,-Math.PI/2,0),n.lineTo(t+r,i+a-u),u!==0&&n.arc(t+r-u,i+a-u,u,0,Math.PI/2),n.lineTo(t+c,i+a),c!==0&&n.arc(t+c,i+a-c,c,Math.PI/2,Math.PI),n.lineTo(t,i+o),o!==0&&n.arc(t+o,i+o,o,Math.PI,Math.PI*1.5)}var N1=Math.round;function HI(n,e,t){if(e){var i=e.x1,r=e.x2,a=e.y1,s=e.y2;n.x1=i,n.x2=r,n.y1=a,n.y2=s;var o=t&&t.lineWidth;return o&&(N1(i*2)===N1(r*2)&&(n.x1=n.x2=ql(i,o,!0)),N1(a*2)===N1(s*2)&&(n.y1=n.y2=ql(a,o,!0))),n}}function kle(n,e,t){if(e){var i=e.x,r=e.y,a=e.width,s=e.height;n.x=i,n.y=r,n.width=a,n.height=s;var o=t&&t.lineWidth;return o&&(n.x=ql(i,o,!0),n.y=ql(r,o,!0),n.width=Math.max(ql(i+a,o,!1)-n.x,a===0?0:1),n.height=Math.max(ql(r+s,o,!1)-n.y,s===0?0:1)),n}}function ql(n,e,t){if(!e)return n;var i=N1(n*2);return(i+N1(e))%2===0?i/2:(i+(t?1:-1))/2}var tLe=(function(){function n(){this.x=0,this.y=0,this.width=0,this.height=0}return n})(),nLe={},pn=(function(n){me(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new tLe},e.prototype.buildPath=function(t,i){var r,a,s,o;if(this.subPixelOptimize){var l=kle(nLe,i,this.style);r=l.x,a=l.y,s=l.width,o=l.height,l.r=i.r,i=l}else r=i.x,a=i.y,s=i.width,o=i.height;i.r?eLe(t,i):t.rect(r,a,s,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e})(An);pn.prototype.type="rect";var IY={fill:"#000"},PY=2,Qf={},iLe={style:Bt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},GI.style)},In=(function(n){me(e,n);function e(t){var i=n.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=IY,i.attr(t),i}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var i=this._children[t];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var i=this.innerTransformable;return i?i.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,sLe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new Ut(0,0,0,0),i=this._children,r=[],a=null,s=0;s<i.length;s++){var o=i[s],l=o.getBoundingRect(),u=o.getLocalTransform(r);u?(t.copy(l),t.applyTransform(u),a=a||t.clone(),a.union(t)):(a=a||l.clone(),a.union(l))}this._rect=a||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||IY},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,i){if(!i)return t;var r=i.rich,a=t.rich||r&&{};return Ie(t,i),r&&a?(this._mergeRich(a,r),t.rich=a):a&&(t.rich=a),t},e.prototype._mergeRich=function(t,i){for(var r=Dn(i),a=0;a<r.length;a++){var s=r[a];t[s]=t[s]||{},Ie(t[s],i[s])}},e.prototype.getAnimationStyleProps=function(){return iLe},e.prototype._getOrCreateChild=function(t){var i=this._children[this._childCursor];return(!i||!(i instanceof t))&&(i=new t),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},e.prototype._updatePlainTexts=function(){var t=this.style,i=t.font||xp,r=t.padding,a=this._defaultStyle,s=t.x||0,o=t.y||0,l=t.align||a.align||"left",u=t.verticalAlign||a.verticalAlign||"top";TY(Qf,a.overflowRect,s,o,l,u),s=Qf.baseX,o=Qf.baseY;var c=GY(t),f=C3e(c,t,Qf.outerWidth,Qf.outerHeight),h=n5(t),d=!!t.backgroundColor,v=f.outerHeight,m=f.outerWidth,y=f.lines,x=f.lineHeight;this.isTruncated=!!f.isTruncated;var b=s,M=hy(o,f.contentHeight,u);if(h||r){var C=cb(s,m,l),w=hy(o,v,u);h&&this._renderBackground(t,t,C,w,m,v)}M+=x/2,r&&(b=UY(s,l,r),u==="top"?M+=r[0]:u==="bottom"&&(M-=r[2]));for(var E=0,L=!1,P=!1,I=FY("fill"in t?t.fill:(P=!0,a.fill)),N=kY("stroke"in t?t.stroke:!d&&(!a.autoStroke||P)?(E=PY,L=!0,a.stroke):null),z=t.textShadowBlur>0,V=0;V<y.length;V++){var U=this._getOrCreateChild(hb),j=U.createStyle();U.useStyle(j),j.text=y[V],j.x=b,j.y=M,j.textAlign=l,j.textBaseline="middle",j.opacity=t.opacity,j.strokeFirst=!0,z&&(j.shadowBlur=t.textShadowBlur||0,j.shadowColor=t.textShadowColor||"transparent",j.shadowOffsetX=t.textShadowOffsetX||0,j.shadowOffsetY=t.textShadowOffsetY||0),j.stroke=N,j.fill=I,N&&(j.lineWidth=t.lineWidth||E,j.lineDash=t.lineDash,j.lineDashOffset=t.lineDashOffset||0),j.font=i,OY(j,t),M+=x,U.setBoundingRect(ZF(j,f.contentWidth,f.calculatedLineHeight,L?0:null))}},e.prototype._updateRichTexts=function(){var t=this.style,i=this._defaultStyle,r=t.align||i.align,a=t.verticalAlign||i.verticalAlign,s=t.x||0,o=t.y||0;TY(Qf,i.overflowRect,s,o,r,a),s=Qf.baseX,o=Qf.baseY;var l=GY(t),u=D3e(l,t,Qf.outerWidth,Qf.outerHeight,r),c=u.width,f=u.outerWidth,h=u.outerHeight,d=t.padding;this.isTruncated=!!u.isTruncated;var v=cb(s,f,r),m=hy(o,h,a),y=v,x=m;d&&(y+=d[3],x+=d[0]);var b=y+c;n5(t)&&this._renderBackground(t,t,v,m,f,h);for(var M=!!t.backgroundColor,C=0;C<u.lines.length;C++){for(var w=u.lines[C],E=w.tokens,L=E.length,P=w.lineHeight,I=w.width,N=0,z=y,V=b,U=L-1,j=void 0;N<L&&(j=E[N],!j.align||j.align==="left");)this._placeToken(j,t,P,x,z,"left",M),I-=j.width,z+=j.width,N++;for(;U>=0&&(j=E[U],j.align==="right");)this._placeToken(j,t,P,x,V,"right",M),I-=j.width,V-=j.width,U--;for(z+=(c-(z-y)-(b-V)-I)/2;N<=U;)j=E[N],this._placeToken(j,t,P,x,z+j.width/2,"center",M),z+=j.width,N++;x+=P}},e.prototype._placeToken=function(t,i,r,a,s,o,l){var u=i.rich[t.styleName]||{};u.text=t.text;var c=t.verticalAlign,f=a+r/2;c==="top"?f=a+t.height/2:c==="bottom"&&(f=a+r-t.height/2);var h=!t.isLineHolder&&n5(u);h&&this._renderBackground(u,i,o==="right"?s-t.width:o==="center"?s-t.width/2:s,f-t.height/2,t.width,t.height);var d=!!u.backgroundColor,v=t.textPadding;v&&(s=UY(s,o,v),f-=t.height/2-v[0]-t.innerHeight/2);var m=this._getOrCreateChild(hb),y=m.createStyle();m.useStyle(y);var x=this._defaultStyle,b=!1,M=0,C=!1,w=FY("fill"in u?u.fill:"fill"in i?i.fill:(b=!0,x.fill)),E=kY("stroke"in u?u.stroke:"stroke"in i?i.stroke:!d&&!l&&(!x.autoStroke||b)?(M=PY,C=!0,x.stroke):null),L=u.textShadowBlur>0||i.textShadowBlur>0;y.text=t.text,y.x=s,y.y=f,L&&(y.shadowBlur=u.textShadowBlur||i.textShadowBlur||0,y.shadowColor=u.textShadowColor||i.textShadowColor||"transparent",y.shadowOffsetX=u.textShadowOffsetX||i.textShadowOffsetX||0,y.shadowOffsetY=u.textShadowOffsetY||i.textShadowOffsetY||0),y.textAlign=o,y.textBaseline="middle",y.font=t.font||xp,y.opacity=gl(u.opacity,i.opacity,1),OY(y,u),E&&(y.lineWidth=gl(u.lineWidth,i.lineWidth,M),y.lineDash=At(u.lineDash,i.lineDash),y.lineDashOffset=i.lineDashOffset||0,y.stroke=E),w&&(y.fill=w),m.setBoundingRect(ZF(y,t.contentWidth,t.contentHeight,C?0:null))},e.prototype._renderBackground=function(t,i,r,a,s,o){var l=t.backgroundColor,u=t.borderWidth,c=t.borderColor,f=l&&l.image,h=l&&!f,d=t.borderRadius,v=this,m,y;if(h||t.lineHeight||u&&c){m=this._getOrCreateChild(pn),m.useStyle(m.createStyle()),m.style.fill=null;var x=m.shape;x.x=r,x.y=a,x.width=s,x.height=o,x.r=d,m.dirtyShape()}if(h){var b=m.style;b.fill=l||null,b.fillOpacity=At(t.fillOpacity,1)}else if(f){y=this._getOrCreateChild(Za),y.onload=function(){v.dirtyStyle()};var M=y.style;M.image=l.image,M.x=r,M.y=a,M.width=s,M.height=o}if(u&&c){var b=m.style;b.lineWidth=u,b.stroke=c,b.strokeOpacity=At(t.strokeOpacity,1),b.lineDash=t.borderDash,b.lineDashOffset=t.borderDashOffset||0,m.strokeContainThreshold=0,m.hasFill()&&m.hasStroke()&&(b.strokeFirst=!0,b.lineWidth*=2)}var C=(m||y).style;C.shadowBlur=t.shadowBlur||0,C.shadowColor=t.shadowColor||"transparent",C.shadowOffsetX=t.shadowOffsetX||0,C.shadowOffsetY=t.shadowOffsetY||0,C.opacity=gl(t.opacity,i.opacity,1)},e.makeFont=function(t){var i="";return Ule(t)&&(i=[t.fontStyle,t.fontWeight,Fle(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),i&&Wl(i)||t.textFont||t.font},e})($u),rLe={left:!0,right:1,center:1},aLe={top:1,bottom:1,middle:1},BY=["fontStyle","fontWeight","fontSize","fontFamily"];function Fle(n){return typeof n=="string"&&(n.indexOf("px")!==-1||n.indexOf("rem")!==-1||n.indexOf("em")!==-1)?n:isNaN(+n)?BV+"px":n+"px"}function OY(n,e){for(var t=0;t<BY.length;t++){var i=BY[t],r=e[i];r!=null&&(n[i]=r)}}function Ule(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function sLe(n){return zY(n),Z(n.rich,zY),n}function zY(n){if(n){n.font=In.makeFont(n);var e=n.align;e==="middle"&&(e="center"),n.align=e==null||rLe[e]?e:"left";var t=n.verticalAlign;t==="center"&&(t="middle"),n.verticalAlign=t==null||aLe[t]?t:"top";var i=n.padding;i&&(n.padding=DC(n.padding))}}function kY(n,e){return n==null||e<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function FY(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function UY(n,e,t){return e==="right"?n-t[1]:e==="center"?n+t[3]/2-t[1]/2:n+t[3]}function GY(n){var e=n.text;return e!=null&&(e+=""),e}function n5(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var jt=_n(),QF=function(n,e,t,i){if(i){var r=jt(i);r.dataIndex=t,r.dataType=e,r.seriesIndex=n,r.ssrType="chart",i.type==="group"&&i.traverse(function(a){var s=jt(a);s.seriesIndex=n,s.dataIndex=t,s.dataType=e,s.ssrType="chart"})}},VY=1,jY={},Gle=_n(),n6=_n(),i6=0,PC=1,WI=2,qo=["emphasis","blur","select"],IT=["normal","emphasis","blur","select"],nS=10,oLe=9,py="highlight",m3="downplay",yL="select",$F="unselect",xL="toggleSelect",r6="selectchanged";function __(n){return n!=null&&n!=="none"}function XI(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function Vle(n){XI(n,"emphasis",WI)}function jle(n){n.hoverState===WI&&XI(n,"normal",i6)}function a6(n){XI(n,"blur",PC)}function Hle(n){n.hoverState===PC&&XI(n,"normal",i6)}function lLe(n){n.selected=!0}function uLe(n){n.selected=!1}function HY(n,e,t){e(n,t)}function Np(n,e,t){HY(n,e,t),n.isGroup&&n.traverse(function(i){HY(i,e,t)})}function _L(n,e){switch(e){case"emphasis":n.hoverState=WI;break;case"normal":n.hoverState=i6;break;case"blur":n.hoverState=PC;break;case"select":n.selected=!0}}function cLe(n,e,t,i){for(var r=n.style,a={},s=0;s<e.length;s++){var o=e[s],l=r[o];a[o]=l??(i&&i[o])}for(var s=0;s<n.animators.length;s++){var u=n.animators[s];u.__fromStateTransition&&u.__fromStateTransition.indexOf(t)<0&&u.targetName==="style"&&u.saveTo(a,e)}return a}function fLe(n,e,t,i){var r=t&&rn(t,"select")>=0,a=!1;if(n instanceof An){var s=Gle(n),o=r&&s.selectFill||s.normalFill,l=r&&s.selectStroke||s.normalStroke;if(__(o)||__(l)){i=i||{};var u=i.style||{};u.fill==="inherit"?(a=!0,i=Ie({},i),u=Ie({},u),u.fill=o):!__(u.fill)&&__(o)?(a=!0,i=Ie({},i),u=Ie({},u),u.fill=fL(o)):!__(u.stroke)&&__(l)&&(a||(i=Ie({},i),u=Ie({},u)),u.stroke=fL(l)),i.style=u}}if(i&&i.z2==null){a||(i=Ie({},i));var c=n.z2EmphasisLift;i.z2=n.z2+(c??nS)}return i}function hLe(n,e,t){if(t&&t.z2==null){t=Ie({},t);var i=n.z2SelectLift;t.z2=n.z2+(i??oLe)}return t}function dLe(n,e,t){var i=rn(n.currentStates,e)>=0,r=n.style.opacity,a=i?null:cLe(n,["opacity"],e,{opacity:1});t=t||{};var s=t.style||{};return s.opacity==null&&(t=Ie({},t),s=Ie({opacity:i?r:a.opacity*.1},s),t.style=s),t}function i5(n,e){var t=this.states[n];if(this.style){if(n==="emphasis")return fLe(this,n,e,t);if(n==="blur")return dLe(this,n,t);if(n==="select")return hLe(this,n,t)}return t}function Ny(n){n.stateProxy=i5;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=i5),t&&(t.stateProxy=i5)}function WY(n,e){!qle(n,e)&&!n.__highByOuter&&Np(n,Vle)}function XY(n,e){!qle(n,e)&&!n.__highByOuter&&Np(n,jle)}function bp(n,e){n.__highByOuter|=1<<(e||0),Np(n,Vle)}function Sp(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&Np(n,jle)}function Wle(n){Np(n,a6)}function s6(n){Np(n,Hle)}function Xle(n){Np(n,lLe)}function Yle(n){Np(n,uLe)}function qle(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function Zle(n){var e=n.getModel(),t=[],i=[];e.eachComponent(function(r,a){var s=n6(a),o=r==="series",l=o?n.getViewOfSeriesModel(a):n.getViewOfComponentModel(a);!o&&i.push(l),s.isBlured&&(l.group.traverse(function(u){Hle(u)}),o&&t.push(a)),s.isBlured=!1}),Z(i,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(t,!1,e)})}function eU(n,e,t,i){var r=i.getModel();t=t||"coordinateSystem";function a(u,c){for(var f=0;f<c.length;f++){var h=u.getItemGraphicEl(c[f]);h&&s6(h)}}if(n!=null&&!(!e||e==="none")){var s=r.getSeriesByIndex(n),o=s.coordinateSystem;o&&o.master&&(o=o.master);var l=[];r.eachSeries(function(u){var c=s===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var h=f&&o?f===o:c;if(!(t==="series"&&!c||t==="coordinateSystem"&&!h||e==="series"&&c)){var d=i.getViewOfSeriesModel(u);if(d.group.traverse(function(y){y.__highByOuter&&c&&e==="self"||a6(y)}),Os(e))a(u.getData(),e);else if(Ot(e))for(var v=Dn(e),m=0;m<v.length;m++)a(u.getData(v[m]),e[v[m]]);l.push(u),n6(u).isBlured=!0}}),r.eachComponent(function(u,c){if(u!=="series"){var f=i.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,r)}})}}function tU(n,e,t){if(!(n==null||e==null)){var i=t.getModel().getComponent(n,e);if(i){n6(i).isBlured=!0;var r=t.getViewOfComponentModel(i);!r||!r.focusBlurEnabled||r.group.traverse(function(a){a6(a)})}}}function pLe(n,e,t){var i=n.seriesIndex,r=n.getData(e.dataType);if(r){var a=Ry(r,e);a=(Ve(a)?a[0]:a)||0;var s=r.getItemGraphicEl(a);if(!s)for(var o=r.count(),l=0;!s&&l<o;)s=r.getItemGraphicEl(l++);if(s){var u=jt(s);eU(i,u.focus,u.blurScope,t)}else{var c=n.get(["emphasis","focus"]),f=n.get(["emphasis","blurScope"]);c!=null&&eU(i,c,f,t)}}}function o6(n,e,t,i){var r={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||e==null||t==null)return r;var a=i.getModel().getComponent(n,e);if(!a)return r;var s=i.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return r;for(var o=s.findHighDownDispatchers(t),l,u=0;u<o.length;u++)if(jt(o[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function vLe(n,e,t){var i=jt(n),r=o6(i.componentMainType,i.componentIndex,i.componentHighDownName,t),a=r.dispatchers,s=r.focusSelf;a?(s&&tU(i.componentMainType,i.componentIndex,t),Z(a,function(o){return WY(o,e)})):(eU(i.seriesIndex,i.focus,i.blurScope,t),i.focus==="self"&&tU(i.componentMainType,i.componentIndex,t),WY(n,e))}function mLe(n,e,t){Zle(t);var i=jt(n),r=o6(i.componentMainType,i.componentIndex,i.componentHighDownName,t).dispatchers;r?Z(r,function(a){return XY(a,e)}):XY(n,e)}function gLe(n,e,t){if(iU(e)){var i=e.dataType,r=n.getData(i),a=Ry(r,e);Ve(a)||(a=[a]),n[e.type===xL?"toggleSelect":e.type===yL?"select":"unselect"](a,i)}}function YY(n){var e=n.getAllData();Z(e,function(t){var i=t.data,r=t.type;i.eachItemGraphicEl(function(a,s){n.isSelected(s,r)?Xle(a):Yle(a)})})}function yLe(n){var e=[];return n.eachSeries(function(t){var i=t.getAllData();Z(i,function(r){r.data;var a=r.type,s=t.getSelectedDataIndices();if(s.length>0){var o={dataIndex:s,seriesIndex:t.seriesIndex};a!=null&&(o.dataType=a),e.push(o)}})}),e}function om(n,e,t){Y0(n,!0),Np(n,Ny),nU(n,e,t)}function xLe(n){Y0(n,!1)}function rr(n,e,t,i){i?xLe(n):om(n,e,t)}function nU(n,e,t){var i=jt(n);e!=null?(i.focus=e,i.blurScope=t):i.focus&&(i.focus=null)}var qY=["emphasis","blur","select"],_Le={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Da(n,e,t,i){t=t||"itemStyle";for(var r=0;r<qY.length;r++){var a=qY[r],s=e.getModel([a,t]),o=n.ensureState(a);o.style=i?i(s):s[_Le[t]]()}}function Y0(n,e){var t=e===!1,i=n;n.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!t||i.__highDownDispatcher)&&(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!t)}function PT(n){return!!(n&&n.__highDownDispatcher)}function bLe(n,e,t){var i=jt(n);i.componentMainType=e.mainType,i.componentIndex=e.componentIndex,i.componentHighDownName=t}function SLe(n){var e=jY[n];return e==null&&VY<=32&&(e=jY[n]=VY++),e}function iU(n){var e=n.type;return e===yL||e===$F||e===xL}function ZY(n){var e=n.type;return e===py||e===m3}function ALe(n){var e=Gle(n);e.normalFill=n.style.fill,e.normalStroke=n.style.stroke;var t=n.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}var b_=Ih.CMD,MLe=[[],[],[]],KY=Math.sqrt,TLe=Math.atan2;function Kle(n,e){if(e){var t=n.data,i=n.len(),r,a,s,o,l,u,c=b_.M,f=b_.C,h=b_.L,d=b_.R,v=b_.A,m=b_.Q;for(s=0,o=0;s<i;){switch(r=t[s++],o=s,a=0,r){case c:a=1;break;case h:a=1;break;case f:a=3;break;case m:a=2;break;case v:var y=e[4],x=e[5],b=KY(e[0]*e[0]+e[1]*e[1]),M=KY(e[2]*e[2]+e[3]*e[3]),C=TLe(-e[1]/M,e[0]/b);t[s]*=b,t[s++]+=y,t[s]*=M,t[s++]+=x,t[s++]*=b,t[s++]*=M,t[s++]+=C,t[s++]+=C,s+=2,o=s;break;case d:u[0]=t[s++],u[1]=t[s++],zr(u,u,e),t[o++]=u[0],t[o++]=u[1],u[0]+=t[s++],u[1]+=t[s++],zr(u,u,e),t[o++]=u[0],t[o++]=u[1]}for(l=0;l<a;l++){var w=MLe[l];w[0]=t[s++],w[1]=t[s++],zr(w,w,e),t[o++]=w[0],t[o++]=w[1]}}n.increaseVersion()}}var r5=Math.sqrt,JE=Math.sin,QE=Math.cos,uM=Math.PI;function JY(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function rU(n,e){return(n[0]*e[0]+n[1]*e[1])/(JY(n)*JY(e))}function QY(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(rU(n,e))}function $Y(n,e,t,i,r,a,s,o,l,u,c){var f=l*(uM/180),h=QE(f)*(n-t)/2+JE(f)*(e-i)/2,d=-1*JE(f)*(n-t)/2+QE(f)*(e-i)/2,v=h*h/(s*s)+d*d/(o*o);v>1&&(s*=r5(v),o*=r5(v));var m=(r===a?-1:1)*r5((s*s*(o*o)-s*s*(d*d)-o*o*(h*h))/(s*s*(d*d)+o*o*(h*h)))||0,y=m*s*d/o,x=m*-o*h/s,b=(n+t)/2+QE(f)*y-JE(f)*x,M=(e+i)/2+JE(f)*y+QE(f)*x,C=QY([1,0],[(h-y)/s,(d-x)/o]),w=[(h-y)/s,(d-x)/o],E=[(-1*h-y)/s,(-1*d-x)/o],L=QY(w,E);if(rU(w,E)<=-1&&(L=uM),rU(w,E)>=1&&(L=0),L<0){var P=Math.round(L/uM*1e6)/1e6;L=uM*2+P%2*uM}c.addData(u,b,M,s,o,C,L,f,a)}var CLe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,wLe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function ELe(n){var e=new Ih;if(!n)return e;var t=0,i=0,r=t,a=i,s,o=Ih.CMD,l=n.match(CLe);if(!l)return e;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),h=void 0,d=c.match(wLe)||[],v=d.length,m=0;m<v;m++)d[m]=parseFloat(d[m]);for(var y=0;y<v;){var x=void 0,b=void 0,M=void 0,C=void 0,w=void 0,E=void 0,L=void 0,P=t,I=i,N=void 0,z=void 0;switch(f){case"l":t+=d[y++],i+=d[y++],h=o.L,e.addData(h,t,i);break;case"L":t=d[y++],i=d[y++],h=o.L,e.addData(h,t,i);break;case"m":t+=d[y++],i+=d[y++],h=o.M,e.addData(h,t,i),r=t,a=i,f="l";break;case"M":t=d[y++],i=d[y++],h=o.M,e.addData(h,t,i),r=t,a=i,f="L";break;case"h":t+=d[y++],h=o.L,e.addData(h,t,i);break;case"H":t=d[y++],h=o.L,e.addData(h,t,i);break;case"v":i+=d[y++],h=o.L,e.addData(h,t,i);break;case"V":i=d[y++],h=o.L,e.addData(h,t,i);break;case"C":h=o.C,e.addData(h,d[y++],d[y++],d[y++],d[y++],d[y++],d[y++]),t=d[y-2],i=d[y-1];break;case"c":h=o.C,e.addData(h,d[y++]+t,d[y++]+i,d[y++]+t,d[y++]+i,d[y++]+t,d[y++]+i),t+=d[y-2],i+=d[y-1];break;case"S":x=t,b=i,N=e.len(),z=e.data,s===o.C&&(x+=t-z[N-4],b+=i-z[N-3]),h=o.C,P=d[y++],I=d[y++],t=d[y++],i=d[y++],e.addData(h,x,b,P,I,t,i);break;case"s":x=t,b=i,N=e.len(),z=e.data,s===o.C&&(x+=t-z[N-4],b+=i-z[N-3]),h=o.C,P=t+d[y++],I=i+d[y++],t+=d[y++],i+=d[y++],e.addData(h,x,b,P,I,t,i);break;case"Q":P=d[y++],I=d[y++],t=d[y++],i=d[y++],h=o.Q,e.addData(h,P,I,t,i);break;case"q":P=d[y++]+t,I=d[y++]+i,t+=d[y++],i+=d[y++],h=o.Q,e.addData(h,P,I,t,i);break;case"T":x=t,b=i,N=e.len(),z=e.data,s===o.Q&&(x+=t-z[N-4],b+=i-z[N-3]),t=d[y++],i=d[y++],h=o.Q,e.addData(h,x,b,t,i);break;case"t":x=t,b=i,N=e.len(),z=e.data,s===o.Q&&(x+=t-z[N-4],b+=i-z[N-3]),t+=d[y++],i+=d[y++],h=o.Q,e.addData(h,x,b,t,i);break;case"A":M=d[y++],C=d[y++],w=d[y++],E=d[y++],L=d[y++],P=t,I=i,t=d[y++],i=d[y++],h=o.A,$Y(P,I,t,i,E,L,M,C,w,h,e);break;case"a":M=d[y++],C=d[y++],w=d[y++],E=d[y++],L=d[y++],P=t,I=i,t+=d[y++],i+=d[y++],h=o.A,$Y(P,I,t,i,E,L,M,C,w,h,e);break}}(f==="z"||f==="Z")&&(h=o.Z,e.addData(h),t=r,i=a),s=h}return e.toStatic(),e}var Jle=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.applyTransform=function(t){},e})(An);function Qle(n){return n.setData!=null}function $le(n,e){var t=ELe(n),i=Ie({},e);return i.buildPath=function(r){var a=Qle(r);if(a&&r.canSave()){r.appendPath(t);var s=r.getContext();s&&r.rebuildPath(s,1)}else{var s=a?r.getContext():r;s&&t.rebuildPath(s,1)}},i.applyTransform=function(r){Kle(t,r),this.dirtyShape()},i}function eue(n,e){return new Jle($le(n,e))}function DLe(n,e){var t=$le(n,e),i=(function(r){me(a,r);function a(s){var o=r.call(this,s)||this;return o.applyTransform=t.applyTransform,o.buildPath=t.buildPath,o}return a})(Jle);return i}function RLe(n,e){for(var t=[],i=n.length,r=0;r<i;r++){var a=n[r];t.push(a.getUpdatedPathProxy(!0))}var s=new An(e);return s.createPathProxy(),s.buildPath=function(o){if(Qle(o)){o.appendPath(t);var l=o.getContext();l&&o.rebuildPath(l,1)}},s}function l6(n,e){e=e||{};var t=new An;return n.shape&&t.setShape(n.shape),t.setStyle(n.style),e.bakeTransform?Kle(t.path,n.getComputedTransform()):e.toLocal?t.setLocalTransform(n.getComputedTransform()):t.copyTransform(n),t.buildPath=n.buildPath,t.applyTransform=t.applyTransform,t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel,t}var LLe=(function(){function n(){this.cx=0,this.cy=0,this.r=0}return n})(),Uh=(function(n){me(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new LLe},e.prototype.buildPath=function(t,i){t.moveTo(i.cx+i.r,i.cy),t.arc(i.cx,i.cy,i.r,0,Math.PI*2)},e})(An);Uh.prototype.type="circle";var NLe=(function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n})(),BC=(function(n){me(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new NLe},e.prototype.buildPath=function(t,i){var r=.5522848,a=i.cx,s=i.cy,o=i.rx,l=i.ry,u=o*r,c=l*r;t.moveTo(a-o,s),t.bezierCurveTo(a-o,s-c,a-u,s-l,a,s-l),t.bezierCurveTo(a+u,s-l,a+o,s-c,a+o,s),t.bezierCurveTo(a+o,s+c,a+u,s+l,a,s+l),t.bezierCurveTo(a-u,s+l,a-o,s+c,a-o,s),t.closePath()},e})(An);BC.prototype.type="ellipse";var tue=Math.PI,a5=tue*2,Jg=Math.sin,S_=Math.cos,ILe=Math.acos,Qs=Math.atan2,eq=Math.abs,H2=Math.sqrt,o2=Math.max,$f=Math.min,kc=1e-4;function PLe(n,e,t,i,r,a,s,o){var l=t-n,u=i-e,c=s-r,f=o-a,h=f*l-c*u;if(!(h*h<kc))return h=(c*(e-a)-f*(n-r))/h,[n+h*l,e+h*u]}function $E(n,e,t,i,r,a,s){var o=n-t,l=e-i,u=(s?a:-a)/H2(o*o+l*l),c=u*l,f=-u*o,h=n+c,d=e+f,v=t+c,m=i+f,y=(h+v)/2,x=(d+m)/2,b=v-h,M=m-d,C=b*b+M*M,w=r-a,E=h*m-v*d,L=(M<0?-1:1)*H2(o2(0,w*w*C-E*E)),P=(E*M-b*L)/C,I=(-E*b-M*L)/C,N=(E*M+b*L)/C,z=(-E*b+M*L)/C,V=P-y,U=I-x,j=N-y,W=z-x;return V*V+U*U>j*j+W*W&&(P=N,I=z),{cx:P,cy:I,x0:-c,y0:-f,x1:P*(r/w-1),y1:I*(r/w-1)}}function BLe(n){var e;if(Ve(n)){var t=n.length;if(!t)return n;t===1?e=[n[0],n[0],0,0]:t===2?e=[n[0],n[0],n[1],n[1]]:t===3?e=n.concat(n[2]):e=n}else e=[n,n,n,n];return e}function OLe(n,e){var t,i=o2(e.r,0),r=o2(e.r0||0,0),a=i>0,s=r>0;if(!(!a&&!s)){if(a||(i=r,r=0),r>i){var o=i;i=r,r=o}var l=e.startAngle,u=e.endAngle;if(!(isNaN(l)||isNaN(u))){var c=e.cx,f=e.cy,h=!!e.clockwise,d=eq(u-l),v=d>a5&&d%a5;if(v>kc&&(d=v),!(i>kc))n.moveTo(c,f);else if(d>a5-kc)n.moveTo(c+i*S_(l),f+i*Jg(l)),n.arc(c,f,i,l,u,!h),r>kc&&(n.moveTo(c+r*S_(u),f+r*Jg(u)),n.arc(c,f,r,u,l,h));else{var m=void 0,y=void 0,x=void 0,b=void 0,M=void 0,C=void 0,w=void 0,E=void 0,L=void 0,P=void 0,I=void 0,N=void 0,z=void 0,V=void 0,U=void 0,j=void 0,W=i*S_(l),G=i*Jg(l),X=r*S_(u),q=r*Jg(u),$=d>kc;if($){var te=e.cornerRadius;te&&(t=BLe(te),m=t[0],y=t[1],x=t[2],b=t[3]);var J=eq(i-r)/2;if(M=$f(J,x),C=$f(J,b),w=$f(J,m),E=$f(J,y),I=L=o2(M,C),N=P=o2(w,E),(L>kc||P>kc)&&(z=i*S_(u),V=i*Jg(u),U=r*S_(l),j=r*Jg(l),d<tue)){var Q=PLe(W,G,U,j,z,V,X,q);if(Q){var se=W-Q[0],ce=G-Q[1],ue=z-Q[0],fe=V-Q[1],ge=1/Jg(ILe((se*ue+ce*fe)/(H2(se*se+ce*ce)*H2(ue*ue+fe*fe)))/2),Se=H2(Q[0]*Q[0]+Q[1]*Q[1]);I=$f(L,(i-Se)/(ge+1)),N=$f(P,(r-Se)/(ge-1))}}}if(!$)n.moveTo(c+W,f+G);else if(I>kc){var Ee=$f(x,I),Ue=$f(b,I),_e=$E(U,j,W,G,i,Ee,h),ke=$E(z,V,X,q,i,Ue,h);n.moveTo(c+_e.cx+_e.x0,f+_e.cy+_e.y0),I<L&&Ee===Ue?n.arc(c+_e.cx,f+_e.cy,I,Qs(_e.y0,_e.x0),Qs(ke.y0,ke.x0),!h):(Ee>0&&n.arc(c+_e.cx,f+_e.cy,Ee,Qs(_e.y0,_e.x0),Qs(_e.y1,_e.x1),!h),n.arc(c,f,i,Qs(_e.cy+_e.y1,_e.cx+_e.x1),Qs(ke.cy+ke.y1,ke.cx+ke.x1),!h),Ue>0&&n.arc(c+ke.cx,f+ke.cy,Ue,Qs(ke.y1,ke.x1),Qs(ke.y0,ke.x0),!h))}else n.moveTo(c+W,f+G),n.arc(c,f,i,l,u,!h);if(!(r>kc)||!$)n.lineTo(c+X,f+q);else if(N>kc){var Ee=$f(m,N),Ue=$f(y,N),_e=$E(X,q,z,V,r,-Ue,h),ke=$E(W,G,U,j,r,-Ee,h);n.lineTo(c+_e.cx+_e.x0,f+_e.cy+_e.y0),N<P&&Ee===Ue?n.arc(c+_e.cx,f+_e.cy,N,Qs(_e.y0,_e.x0),Qs(ke.y0,ke.x0),!h):(Ue>0&&n.arc(c+_e.cx,f+_e.cy,Ue,Qs(_e.y0,_e.x0),Qs(_e.y1,_e.x1),!h),n.arc(c,f,r,Qs(_e.cy+_e.y1,_e.cx+_e.x1),Qs(ke.cy+ke.y1,ke.cx+ke.x1),h),Ee>0&&n.arc(c+ke.cx,f+ke.cy,Ee,Qs(ke.y1,ke.x1),Qs(ke.y0,ke.x0),!h))}else n.lineTo(c+X,f+q),n.arc(c,f,r,u,l,h)}n.closePath()}}}var zLe=(function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n})(),ks=(function(n){me(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new zLe},e.prototype.buildPath=function(t,i){OLe(t,i)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e})(An);ks.prototype.type="sector";var kLe=(function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n})(),iS=(function(n){me(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new kLe},e.prototype.buildPath=function(t,i){var r=i.cx,a=i.cy,s=Math.PI*2;t.moveTo(r+i.r,a),t.arc(r,a,i.r,0,s,!1),t.moveTo(r+i.r0,a),t.arc(r,a,i.r0,0,s,!0)},e})(An);iS.prototype.type="ring";function FLe(n,e,t,i){var r=[],a=[],s=[],o=[],l,u,c,f;if(i){c=[1/0,1/0],f=[-1/0,-1/0];for(var h=0,d=n.length;h<d;h++)Kd(c,c,n[h]),Jd(f,f,n[h]);Kd(c,c,i[0]),Jd(f,f,i[1])}for(var h=0,d=n.length;h<d;h++){var v=n[h];if(t)l=n[h?h-1:d-1],u=n[(h+1)%d];else if(h===0||h===d-1){r.push(Mh(n[h]));continue}else l=n[h-1],u=n[h+1];Yv(a,u,l),z2(a,a,e);var m=aL(v,l),y=aL(v,u),x=m+y;x!==0&&(m/=x,y/=x),z2(s,a,-m),z2(o,a,y);var b=MF([],v,s),M=MF([],v,o);i&&(Jd(b,b,c),Kd(b,b,f),Jd(M,M,c),Kd(M,M,f)),r.push(b),r.push(M)}return t&&r.push(r.shift()),r}function nue(n,e,t){var i=e.smooth,r=e.points;if(r&&r.length>=2){if(i){var a=FLe(r,i,t,e.smoothConstraint);n.moveTo(r[0][0],r[0][1]);for(var s=r.length,o=0;o<(t?s:s-1);o++){var l=a[o*2],u=a[o*2+1],c=r[(o+1)%s];n.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{n.moveTo(r[0][0],r[0][1]);for(var o=1,f=r.length;o<f;o++)n.lineTo(r[o][0],r[o][1])}t&&n.closePath()}}var ULe=(function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n})(),Fs=(function(n){me(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new ULe},e.prototype.buildPath=function(t,i){nue(t,i,!0)},e})(An);Fs.prototype.type="polygon";var GLe=(function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n})(),ys=(function(n){me(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new GLe},e.prototype.buildPath=function(t,i){nue(t,i,!1)},e})(An);ys.prototype.type="polyline";var VLe={},jLe=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n})(),Qr=(function(n){me(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new jLe},e.prototype.buildPath=function(t,i){var r,a,s,o;if(this.subPixelOptimize){var l=HI(VLe,i,this.style);r=l.x1,a=l.y1,s=l.x2,o=l.y2}else r=i.x1,a=i.y1,s=i.x2,o=i.y2;var u=i.percent;u!==0&&(t.moveTo(r,a),u<1&&(s=r*(1-u)+s*u,o=a*(1-u)+o*u),t.lineTo(s,o))},e.prototype.pointAt=function(t){var i=this.shape;return[i.x1*(1-t)+i.x2*t,i.y1*(1-t)+i.y2*t]},e})(An);Qr.prototype.type="line";var al=[],HLe=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n})();function tq(n,e,t){var i=n.cpx2,r=n.cpy2;return i!=null||r!=null?[(t?aY:Ga)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?aY:Ga)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?LF:us)(n.x1,n.cpx1,n.x2,e),(t?LF:us)(n.y1,n.cpy1,n.y2,e)]}var rS=(function(n){me(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new HLe},e.prototype.buildPath=function(t,i){var r=i.x1,a=i.y1,s=i.x2,o=i.y2,l=i.cpx1,u=i.cpy1,c=i.cpx2,f=i.cpy2,h=i.percent;h!==0&&(t.moveTo(r,a),c==null||f==null?(h<1&&(wT(r,l,s,h,al),l=al[1],s=al[2],wT(a,u,o,h,al),u=al[1],o=al[2]),t.quadraticCurveTo(l,u,s,o)):(h<1&&(_m(r,l,c,s,h,al),l=al[1],c=al[2],s=al[3],_m(a,u,f,o,h,al),u=al[1],f=al[2],o=al[3]),t.bezierCurveTo(l,u,c,f,s,o)))},e.prototype.pointAt=function(t){return tq(this.shape,t,!1)},e.prototype.tangentAt=function(t){var i=tq(this.shape,t,!0);return Yy(i,i)},e})(An);rS.prototype.type="bezier-curve";var WLe=(function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n})(),OC=(function(n){me(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new WLe},e.prototype.buildPath=function(t,i){var r=i.cx,a=i.cy,s=Math.max(i.r,0),o=i.startAngle,l=i.endAngle,u=i.clockwise,c=Math.cos(o),f=Math.sin(o);t.moveTo(c*s+r,f*s+a),t.arc(r,a,s,o,l,!u)},e})(An);OC.prototype.type="arc";var zC=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="compound",t}return e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,i=this.shapeChanged(),r=0;r<t.length;r++)i=i||t[r].shapeChanged();i&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],i=this.getGlobalScale(),r=0;r<t.length;r++)t[r].path||t[r].createPathProxy(),t[r].path.setScale(i[0],i[1],t[r].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,i){for(var r=i.paths||[],a=0;a<r.length;a++)r[a].buildPath(t,r[a].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],i=0;i<t.length;i++)t[i].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),An.prototype.getBoundingRect.call(this)},e})(An),iue=(function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n})(),qy=(function(n){me(e,n);function e(t,i,r,a,s,o){var l=n.call(this,s)||this;return l.x=t??0,l.y=i??0,l.x2=r??1,l.y2=a??0,l.type="linear",l.global=o||!1,l}return e})(iue),u6=(function(n){me(e,n);function e(t,i,r,a,s){var o=n.call(this,a)||this;return o.x=t??.5,o.y=i??.5,o.r=r??.5,o.type="radial",o.global=s||!1,o}return e})(iue),s5=Math.min,XLe=Math.max,eD=Math.abs,Qg=[0,0],$g=[0,0],ls=joe(),tD=ls.minTv,nD=ls.maxTv,rue=(function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new Ft;for(var i=0;i<2;i++)this._axes[i]=new Ft;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var i=this._corners,r=this._axes,a=e.x,s=e.y,o=a+e.width,l=s+e.height;if(i[0].set(a,s),i[1].set(o,s),i[2].set(o,l),i[3].set(a,l),t)for(var u=0;u<4;u++)i[u].transform(t);Ft.sub(r[0],i[1],i[0]),Ft.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize();for(var u=0;u<2;u++)this._origin[u]=r[u].dot(i[0])},n.prototype.intersect=function(e,t,i){var r=!0,a=!t;return t&&Ft.set(t,0,0),ls.reset(i,!a),!this._intersectCheckOneSide(this,e,a,1)&&(r=!1,a)||!this._intersectCheckOneSide(e,this,a,-1)&&(r=!1,a)||!a&&!ls.negativeSize&&Ft.copy(t,r?ls.useDir?ls.dirMinTv:tD:nD),r},n.prototype._intersectCheckOneSide=function(e,t,i,r){for(var a=!0,s=0;s<2;s++){var o=e._axes[s];if(e._getProjMinMaxOnAxis(s,e._corners,Qg),e._getProjMinMaxOnAxis(s,t._corners,$g),ls.negativeSize||Qg[1]<$g[0]||Qg[0]>$g[1]){if(a=!1,ls.negativeSize||i)return a;var l=eD($g[0]-Qg[1]),u=eD(Qg[0]-$g[1]);s5(l,u)>nD.len()&&(l<u?Ft.scale(nD,o,-l*r):Ft.scale(nD,o,u*r))}else if(!i){var l=eD($g[0]-Qg[1]),u=eD(Qg[0]-$g[1]);(ls.useDir||s5(l,u)<tD.len())&&((l<u||!ls.bidirectional)&&(Ft.scale(tD,o,l*r),ls.useDir&&ls.calcDirMTV()),(l>=u||!ls.bidirectional)&&(Ft.scale(tD,o,-u*r),ls.useDir&&ls.calcDirMTV()))}}return a},n.prototype._getProjMinMaxOnAxis=function(e,t,i){for(var r=this._axes[e],a=this._origin,s=t[0].dot(r)+a[e],o=s,l=s,u=1;u<t.length;u++){var c=t[u].dot(r)+a[e];o=s5(c,o),l=XLe(c,l)}i[0]=o+ls.touchThreshold,i[1]=l-ls.touchThreshold,ls.negativeSize=i[1]<i[0]},n})(),YLe=[],aue=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return e.prototype.traverse=function(t,i){t.call(i,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,i){i?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,i){i=i||!1;for(var r=0;r<t.length;r++)this.addDisplayable(t[r],i)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var i=this._cursor;i<this._displayables.length;i++)t&&t(this._displayables[i]);for(var i=0;i<this._temporaryDisplayables.length;i++)t&&t(this._temporaryDisplayables[i])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var i=this._displayables[t];i.parent=this,i.update(),i.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var i=this._temporaryDisplayables[t];i.parent=this,i.update(),i.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Ut(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var r=this._displayables[i],a=r.getBoundingRect().clone();r.needLocalTransform()&&a.applyTransform(r.getLocalTransform(YLe)),t.union(a)}this._rect=t}return this._rect},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i),a=this.getBoundingRect();if(a.contain(r[0],r[1]))for(var s=0;s<this._displayables.length;s++){var o=this._displayables[s];if(o.contain(t,i))return!0}return!1},e})($u),sue=_n();function aS(n,e,t,i,r){var a;if(e&&e.ecModel){var s=e.ecModel.getUpdatePayload();a=s&&s.animation}var o=e&&e.isAnimationEnabled(),l=n==="update";if(o){var u=void 0,c=void 0,f=void 0;i?(u=At(i.duration,200),c=At(i.easing,"cubicOut"),f=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),c=e.getShallow(l?"animationEasingUpdate":"animationEasing"),f=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(u=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(f=a.delay)),wt(f)&&(f=f(t,r)),wt(u)&&(u=u(t));var h={duration:u||0,delay:f,easing:c};return h}else return null}function c6(n,e,t,i,r,a,s){var o=!1,l;wt(r)?(s=a,a=r,r=null):Ot(r)&&(a=r.cb,s=r.during,o=r.isFrom,l=r.removeOpt,r=r.dataIndex);var u=n==="leave";u||e.stopAnimation("leave");var c=aS(n,i,r,u?l||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null);if(c&&c.duration>0){var f=c.duration,h=c.delay,d=c.easing,v={duration:f,delay:h||0,easing:d,done:a,force:!!a||!!s,setToFinal:!u,scope:n,during:s};o?e.animateFrom(t,v):e.animateTo(t,v)}else e.stopAnimation(),!o&&e.attr(t),s&&s(1),a&&a()}function Gn(n,e,t,i,r,a){c6("update",n,e,t,i,r,a)}function Xi(n,e,t,i,r,a){c6("enter",n,e,t,i,r,a)}function q1(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++){var t=n.animators[e];if(t.scope==="leave")return!0}return!1}function bm(n,e,t,i,r,a){q1(n)||c6("leave",n,e,t,i,r,a)}function nq(n,e,t,i){n.removeTextContent(),n.removeTextGuideLine(),bm(n,{style:{opacity:0}},e,t,i)}function rp(n,e,t){function i(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(r){r.isGroup||nq(r,e,t,i)}):nq(n,e,t,i)}function ec(n){sue(n).oldStyle=n.style}function qLe(n){return sue(n).oldStyle}var aU={},Zt=["x","y"],da=["width","height"];function oue(n){return An.extend(n)}var ZLe=DLe;function lue(n,e){return ZLe(n,e)}function sc(n,e){aU[n]=e}function BT(n){if(aU.hasOwnProperty(n))return aU[n]}function db(n,e,t,i){var r=eue(n,e);return t&&(i==="center"&&(t=uue(t,r.getBoundingRect())),h6(r,t)),r}function f6(n,e,t){var i=new Za({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(r){if(t==="center"){var a={width:r.width,height:r.height};i.setStyle(uue(e,a))}}});return i}function uue(n,e){var t=e.width/e.height,i=n.height*t,r;i<=n.width?r=n.height:(i=n.width,r=i/t);var a=n.x+n.width/2,s=n.y+n.height/2;return{x:a-i/2,y:s-r/2,width:i,height:r}}var jl=RLe;function h6(n,e){if(n.applyTransform){var t=n.getBoundingRect(),i=t.calculateTransform(e);n.applyTransform(i)}}function pb(n,e){return HI(n,n,{lineWidth:e}),n}function KLe(n,e){return kle(n,n,e),n}var g3=ql;function lm(n,e){for(var t=LC([]);n&&n!==e;)Jc(t,n.getLocalTransform(),t),n=n.parent;return t}function $c(n,e,t){return e&&!Os(e)&&(e=Qd.getLocalTransform(e)),t&&(e=Qu([],e)),zr([],n,e)}function YI(n,e,t){var i=e[4]===0||e[5]===0||e[0]===0?1:mh(2*e[4]/e[0]),r=e[4]===0||e[5]===0||e[2]===0?1:mh(2*e[4]/e[2]),a=[n==="left"?-i:n==="right"?i:0,n==="top"?-r:n==="bottom"?r:0];return a=$c(a,e,t),mh(a[0])>mh(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function iq(n){return!n.isGroup}function JLe(n){return n.shape!=null}function kC(n,e,t){if(!n||!e)return;function i(s){var o={};return s.traverse(function(l){iq(l)&&l.anid&&(o[l.anid]=l)}),o}function r(s){var o={x:s.x,y:s.y,rotation:s.rotation};return JLe(s)&&(o.shape=Nt(s.shape)),o}var a=i(n);e.traverse(function(s){if(iq(s)&&s.anid){var o=a[s.anid];if(o){var l=r(s);s.attr(r(o)),Gn(s,l,t,jt(s).dataIndex)}}})}function d6(n,e){return We(n,function(t){var i=t[0];i=Kr(i,e.x),i=Ql(i,e.x+e.width);var r=t[1];return r=Kr(r,e.y),r=Ql(r,e.y+e.height),[i,r]})}function cue(n,e){var t=Kr(n.x,e.x),i=Ql(n.x+n.width,e.x+e.width),r=Kr(n.y,e.y),a=Ql(n.y+n.height,e.y+e.height);if(i>=t&&a>=r)return{x:t,y:r,width:i-t,height:a-r}}function sS(n,e,t){var i=Ie({rectHover:!0},e),r=i.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(r.image=n.slice(8),Bt(r,t),new Za(i)):db(n.replace("path://",""),i,t,"center")}function l2(n,e,t,i,r){for(var a=0,s=r[r.length-1];a<r.length;a++){var o=r[a];if(fue(n,e,t,i,o[0],o[1],s[0],s[1]))return!0;s=o}}function fue(n,e,t,i,r,a,s,o){var l=t-n,u=i-e,c=s-r,f=o-a,h=o5(c,f,l,u);if(QLe(h))return!1;var d=n-r,v=e-a,m=o5(d,v,l,u)/h;if(m<0||m>1)return!1;var y=o5(d,v,c,f)/h;return!(y<0||y>1)}function o5(n,e,t,i){return n*i-t*e}function QLe(n){return n<=1e-6&&n>=-1e-6}function Iy(n,e,t,i,r){return e==null||(Pn(e)?ar[0]=ar[1]=ar[2]=ar[3]=e:(ar[0]=e[0],ar[1]=e[1],ar[2]=e[2],ar[3]=e[3]),i&&(ar[0]=Kr(0,ar[0]),ar[1]=Kr(0,ar[1]),ar[2]=Kr(0,ar[2]),ar[3]=Kr(0,ar[3])),t&&(ar[0]=-ar[0],ar[1]=-ar[1],ar[2]=-ar[2],ar[3]=-ar[3]),rq(n,ar,"x","width",3,1,r&&r[0]||0),rq(n,ar,"y","height",0,2,r&&r[1]||0)),n}var ar=[0,0,0,0];function rq(n,e,t,i,r,a,s){var o=e[a]+e[r],l=n[i];n[i]+=o,s=Kr(0,Ql(s,l)),n[i]<s?(n[i]=s,n[t]+=e[r]>=0?-e[r]:e[a]>=0?l+e[a]:mh(o)>1e-8?(l-s)*e[r]/o:0):n[t]-=e[r]}function Ip(n){var e=n.itemTooltipOption,t=n.componentModel,i=n.itemName,r=ot(e)?{formatter:e}:e,a=t.mainType,s=t.componentIndex,o={componentType:a,name:i,$vars:["name"]};o[a+"Index"]=s;var l=n.formatterParamsExtra;l&&Z(Dn(l),function(c){yt(o,c)||(o[c]=l[c],o.$vars.push(c))});var u=jt(n.el);u.componentMainType=a,u.componentIndex=s,u.tooltipConfig={name:i,option:Bt({content:i,encodeHTMLContent:!0,formatterParams:o},r)}}function sU(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function Bm(n,e){if(n)if(Ve(n))for(var t=0;t<n.length;t++)sU(n[t],e);else sU(n,e)}function p6(n){return!n||mh(n[1])<iD&&mh(n[2])<iD||mh(n[0])<iD&&mh(n[3])<iD}var iD=1e-5;function OT(n,e){return n?Ut.copy(n,e):e.clone()}function v6(n,e){return e?NC(n||ja(),e):void 0}function Py(n){return{z:n.get("z")||0,zlevel:n.get("zlevel")||0}}function hue(n){var e=-1/0,t=1/0;sU(n,function(a){i(a),i(a.getTextContent()),i(a.getTextGuideLine())});function i(a){if(!(!a||a.isGroup)){var s=a.currentStates;if(s.length)for(var o=0;o<s.length;o++)r(a.states[s[o]]);r(a)}}function r(a){if(a){var s=a.z2;s>e&&(e=s),s<t&&(t=s)}}return t>e&&(t=e=0),{min:t,max:e}}function qI(n,e,t){due(n,e,t,-1/0)}function due(n,e,t,i){if(n.ignoreModelZ)return i;var r=n.getTextContent(),a=n.getTextGuideLine(),s=n.isGroup;if(s)for(var o=n.childrenRef(),l=0;l<o.length;l++)i=Kr(due(o[l],e,t,i),i);else n.z=e,n.zlevel=t,i=Kr(n.z2||0,i);if(r&&(r.z=e,r.zlevel=t,isFinite(i)&&(r.z2=i+2)),a){var u=n.textGuideLineConfig;a.z=e,a.zlevel=t,isFinite(i)&&(a.z2=i+(u&&u.showAbove?1:-1))}return i}sc("circle",Uh);sc("ellipse",BC);sc("sector",ks);sc("ring",iS);sc("polygon",Fs);sc("polyline",ys);sc("rect",pn);sc("line",Qr);sc("bezierCurve",rS);sc("arc",OC);const Zy=Object.freeze(Object.defineProperty({__proto__:null,Arc:OC,BezierCurve:rS,BoundingRect:Ut,Circle:Uh,CompoundPath:zC,Ellipse:BC,Group:It,Image:Za,IncrementalDisplayable:aue,Line:Qr,LinearGradient:qy,OrientedBoundingRect:rue,Path:An,Point:Ft,Polygon:Fs,Polyline:ys,RadialGradient:u6,Rect:pn,Ring:iS,Sector:ks,Text:In,WH:da,XY:Zt,applyTransform:$c,calcZ2Range:hue,clipPointsByRect:d6,clipRectByRect:cue,createIcon:sS,ensureCopyRect:OT,ensureCopyTransform:v6,expandOrShrinkRect:Iy,extendPath:lue,extendShape:oue,getShapeClass:BT,getTransform:lm,groupTransition:kC,initProps:Xi,isBoundingRectAxisAligned:p6,isElementRemoved:q1,lineLineIntersect:fue,linePolygonIntersect:l2,makeImage:f6,makePath:db,mergePath:jl,registerShape:sc,removeElement:bm,removeElementWithFadeOut:rp,resizePath:h6,retrieveZInfo:Py,setTooltipConfig:Ip,subPixelOptimize:g3,subPixelOptimizeLine:pb,subPixelOptimizeRect:KLe,transformDirection:YI,traverseElements:Bm,traverseUpdateZ:qI,updateProps:Gn},Symbol.toStringTag,{value:"Module"}));var ZI={};function pue(n,e){for(var t=0;t<qo.length;t++){var i=qo[t],r=e[i],a=n.ensureState(i);a.style=a.style||{},a.style.text=r}var s=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(s,!0)}function oU(n,e,t){var i=n.labelFetcher,r=n.labelDataIndex,a=n.labelDimIndex,s=e.normal,o;i&&(o=i.getFormattedLabel(r,"normal",null,a,s&&s.get("formatter"),t!=null?{interpolatedValue:t}:null)),o==null&&(o=wt(n.defaultText)?n.defaultText(r,n,t):n.defaultText);for(var l={normal:o},u=0;u<qo.length;u++){var c=qo[u],f=e[c];l[c]=At(i?i.getFormattedLabel(r,c,null,a,f&&f.get("formatter")):null,o)}return l}function Xa(n,e,t,i){t=t||ZI;for(var r=n instanceof In,a=!1,s=0;s<IT.length;s++){var o=e[IT[s]];if(o&&o.getShallow("show")){a=!0;break}}var l=r?n:n.getTextContent();if(a){r||(l||(l=new In,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var u=oU(t,e),c=e.normal,f=!!c.getShallow("show"),h=Ii(c,i&&i.normal,t,!1,!r);h.text=u.normal,r||n.setTextConfig(bL(c,t,!1));for(var s=0;s<qo.length;s++){var d=qo[s],o=e[d];if(o){var v=l.ensureState(d),m=!!At(o.getShallow("show"),f);if(m!==f&&(v.ignore=!m),v.style=Ii(o,i&&i[d],t,!0,!r),v.style.text=u[d],!r){var y=n.ensureState(d);y.textConfig=bL(o,t,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(h.x=l.style.x),l.style.y!=null&&(h.y=l.style.y),l.ignore=!f,l.useStyle(h),l.dirty(),t.enableTextSetter&&(oS(l).setLabelText=function(x){var b=oU(t,e,x);pue(l,b)})}else l&&(l.ignore=!0);n.dirty()}function Ra(n,e){e=e||"label";for(var t={normal:n.getModel(e)},i=0;i<qo.length;i++){var r=qo[i];t[r]=n.getModel([r,e])}return t}function Ii(n,e,t,i,r){var a={};return $Le(a,n,t,i,r),e&&Ie(a,e),a}function bL(n,e,t){e=e||{};var i={},r,a=n.getShallow("rotate"),s=At(n.getShallow("distance"),t?null:5),o=n.getShallow("offset");return r=n.getShallow("position")||(t?null:"inside"),r==="outside"&&(r=e.defaultOutsidePosition||"top"),r!=null&&(i.position=r),o!=null&&(i.offset=o),a!=null&&(a*=Math.PI/180,i.rotation=a),s!=null&&(i.distance=s),i.outsideFill=n.get("color")==="inherit"?e.inheritColor||null:"auto",e.autoOverflowArea!=null&&(i.autoOverflowArea=e.autoOverflowArea),e.layoutRect!=null&&(i.layoutRect=e.layoutRect),i}function $Le(n,e,t,i,r){t=t||ZI;var a=e.ecModel,s=a&&a.option.textStyle,o=eNe(e),l;if(o){l={};var u="richInheritPlainLabel",c=At(e.get(u),a?a.get(u):void 0);for(var f in o)if(o.hasOwnProperty(f)){var h=e.getModel(["rich",f]);lq(l[f]={},h,s,e,c,t,i,r,!1,!0)}}l&&(n.rich=l);var d=e.get("overflow");d&&(n.overflow=d);var v=e.get("lineOverflow");v&&(n.lineOverflow=v);var m=n,y=e.get("minMargin");if(y!=null)y=Pn(y)?y/2:0,m.margin=[y,y,y,y],m.__marginType=I1.minMargin;else{var x=e.get("textMargin");x!=null&&(m.margin=DC(x),m.__marginType=I1.textMargin)}lq(n,e,s,null,null,t,i,r,!0,!1)}function eNe(n){for(var e;n&&n!==n.ecModel;){var t=(n.option||ZI).rich;if(t){e=e||{};for(var i=Dn(t),r=0;r<i.length;r++){var a=i[r];e[a]=1}}n=n.parentModel}return e}var aq=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],sq=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],oq=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function lq(n,e,t,i,r,a,s,o,l,u){t=!s&&t||ZI;var c=a&&a.inheritColor,f=e.getShallow("color"),h=e.getShallow("textBorderColor"),d=At(e.getShallow("opacity"),t.opacity);(f==="inherit"||f==="auto")&&(c?f=c:f=null),(h==="inherit"||h==="auto")&&(c?h=c:h=null),o||(f=f||t.color,h=h||t.textBorderColor),f!=null&&(n.fill=f),h!=null&&(n.stroke=h);var v=At(e.getShallow("textBorderWidth"),t.textBorderWidth);v!=null&&(n.lineWidth=v);var m=At(e.getShallow("textBorderType"),t.textBorderType);m!=null&&(n.lineDash=m);var y=At(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);y!=null&&(n.lineDashOffset=y),!s&&d==null&&!u&&(d=a&&a.defaultOpacity),d!=null&&(n.opacity=d),!s&&!o&&n.fill==null&&a.inheritColor&&(n.fill=a.inheritColor);for(var x=0;x<aq.length;x++){var b=aq[x],M=r!==!1&&i?gl(e.getShallow(b),i.getShallow(b),t[b]):At(e.getShallow(b),t[b]);M!=null&&(n[b]=M)}for(var x=0;x<sq.length;x++){var b=sq[x],M=e.getShallow(b);M!=null&&(n[b]=M)}if(n.verticalAlign==null){var C=e.getShallow("baseline");C!=null&&(n.verticalAlign=C)}if(!l||!a.disableBox){for(var x=0;x<oq.length;x++){var b=oq[x],M=e.getShallow(b);M!=null&&(n[b]=M)}var w=e.getShallow("borderType");w!=null&&(n.borderDash=w),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&c&&(n.backgroundColor=c),(n.borderColor==="auto"||n.borderColor==="inherit")&&c&&(n.borderColor=c)}}function m6(n,e){var t=e&&e.getModel("textStyle");return Wl([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var oS=_n();function vue(n,e,t,i){if(n){var r=oS(n);r.prevValue=r.value,r.value=t;var a=e.normal;r.valueAnimation=a.get("valueAnimation"),r.valueAnimation&&(r.precision=a.get("precision"),r.defaultInterpolatedText=i,r.statesModels=e)}}function mue(n,e,t,i,r){var a=oS(n);if(!a.valueAnimation||a.prevValue===a.value)return;var s=a.defaultInterpolatedText,o=At(a.interpolatedValue,a.prevValue),l=a.value;function u(c){var f=Ele(t,a.precision,o,l,c);a.interpolatedValue=c===1?null:f;var h=oU({labelDataIndex:e,labelFetcher:r,defaultText:s?s(f):f+""},a.statesModels,f);pue(n,h)}n.percent=0,(a.prevValue==null?Xi:Gn)(n,{percent:1},i,e,null,u)}var I1={minMargin:1,textMargin:2},tNe=["textStyle","color"],l5=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],u5=new In,nNe=(function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(tNe):null)},n.prototype.getFont=function(){return m6({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<l5.length;i++)t[l5[i]]=this.getShallow(l5[i]);return u5.useStyle(t),u5.update(),u5.getBoundingRect()},n})(),gue=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],iNe=Ly(gue),rNe=(function(){function n(){}return n.prototype.getLineStyle=function(e){return iNe(this,e)},n})(),yue=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],aNe=Ly(yue),sNe=(function(){function n(){}return n.prototype.getItemStyle=function(e,t){return aNe(this,e,t)},n})(),Sn=(function(){function n(e,t,i){this.parentModel=t,this.ecModel=i,this.option=e}return n.prototype.init=function(e,t,i){},n.prototype.mergeOption=function(e,t){an(this.option,e,!0)},n.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var i=this.option,r=i==null?i:i[e];if(r==null&&!t){var a=this.parentModel;a&&(r=a.getShallow(e))}return r},n.prototype.getModel=function(e,t){var i=e!=null,r=i?this.parsePath(e):null,a=i?this._doGet(r):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),new n(a,t,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var e=this.constructor;return new e(Nt(this.option))},n.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!wn.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var i=this.option;if(!e)return i;for(var r=0;r<e.length&&!(e[r]&&(i=i&&typeof i=="object"?i[e[r]]:null,i==null));r++);return i==null&&t&&(i=t._doGet(this.resolveParentPath(e),t.parentModel)),i},n})();$V(Sn);g3e(Sn);kr(Sn,rNe);kr(Sn,sNe);kr(Sn,S3e);kr(Sn,nNe);var oNe=Math.round(Math.random()*10);function lS(n){return[n||"",oNe++].join("_")}function lNe(n){var e={};n.registerSubTypeDefaulter=function(t,i){var r=gh(t);e[r.main]=i},n.determineSubType=function(t,i){var r=i.type;if(!r){var a=gh(t).main;n.hasSubTypes(t)&&e[a]&&(r=e[a](i))}return r}}function uNe(n,e){n.topologicalTravel=function(a,s,o,l){if(!a.length)return;var u=t(s),c=u.graph,f=u.noEntryList,h={};for(Z(a,function(b){h[b]=!0});f.length;){var d=f.pop(),v=c[d],m=!!h[d];m&&(o.call(l,d,v.originalDeps.slice()),delete h[d]),Z(v.successor,m?x:y)}Z(h,function(){var b="";throw new Error(b)});function y(b){c[b].entryCount--,c[b].entryCount===0&&f.push(b)}function x(b){h[b]=!0,y(b)}};function t(a){var s={},o=[];return Z(a,function(l){var u=i(s,l),c=u.originalDeps=e(l),f=r(c,a);u.entryCount=f.length,u.entryCount===0&&o.push(l),Z(f,function(h){rn(u.predecessor,h)<0&&u.predecessor.push(h);var d=i(s,h);rn(d.successor,h)<0&&d.successor.push(l)})}),{graph:s,noEntryList:o}}function i(a,s){return a[s]||(a[s]={predecessor:[],successor:[]}),a[s]}function r(a,s){var o=[];return Z(a,function(l){rn(s,l)>=0&&o.push(l)}),o}}function Om(n,e){return an(an({},n,!0),e,!0)}const cNe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},fNe={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var SL="ZH",g6="EN",Z1=g6,y3={},y6={},xue=wn.domSupported?(function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Z1).toUpperCase();return n.indexOf(SL)>-1?SL:Z1})():Z1;function x6(n,e){n=n.toUpperCase(),y6[n]=new Sn(e),y3[n]=e}function hNe(n){if(ot(n)){var e=y3[n.toUpperCase()]||{};return n===SL||n===g6?Nt(e):an(Nt(e),Nt(y3[Z1]),!1)}else return an(Nt(n),Nt(y3[Z1]),!1)}function lU(n){return y6[n]}function dNe(){return y6[Z1]}x6(g6,cNe);x6(SL,fNe);var uU=null;function pNe(n){uU||(uU=n)}function ha(){return uU}var _6=1e3,b6=_6*60,W2=b6*60,Vu=W2*24,uq=Vu*365,vNe={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},x3={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},mNe="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",rD="{yyyy}-{MM}-{dd}",cq={year:"{yyyy}",month:"{yyyy}-{MM}",day:rD,hour:rD+" "+x3.hour,minute:rD+" "+x3.minute,second:rD+" "+x3.second,millisecond:mNe},zl=["year","month","day","hour","minute","second","millisecond"],gNe=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function yNe(n){return!ot(n)&&!wt(n)?xNe(n):n}function xNe(n){n=n||{};var e={},t=!0;return Z(zl,function(i){t&&(t=n[i]==null)}),Z(zl,function(i,r){var a=n[i];e[i]={};for(var s=null,o=r;o>=0;o--){var l=zl[o],u=Ot(a)&&!Ve(a)?a[l]:a,c=void 0;Ve(u)?(c=u.slice(),s=c[0]||""):ot(u)?(s=u,c=[s]):(s==null?s=x3[i]:vNe[l].test(s)||(s=e[l][l][0]+" "+s),c=[s],t&&(c[1]="{primary|"+s+"}")),e[i][l]=c}}),e}function zo(n,e){return n+="","0000".substr(0,e-n.length)+n}function X2(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function _Ne(n){return n===X2(n)}function bNe(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function FC(n,e,t,i){var r=Fh(n),a=r[_ue(t)](),s=r[S6(t)]()+1,o=Math.floor((s-1)/3)+1,l=r[A6(t)](),u=r["get"+(t?"UTC":"")+"Day"](),c=r[M6(t)](),f=(c-1)%12+1,h=r[T6(t)](),d=r[C6(t)](),v=r[w6(t)](),m=c>=12?"pm":"am",y=m.toUpperCase(),x=i instanceof Sn?i:lU(i||xue)||dNe(),b=x.getModel("time"),M=b.get("month"),C=b.get("monthAbbr"),w=b.get("dayOfWeek"),E=b.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,m+"").replace(/{A}/g,y+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,zo(a%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,M[s-1]).replace(/{MMM}/g,C[s-1]).replace(/{MM}/g,zo(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,zo(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,w[u]).replace(/{ee}/g,E[u]).replace(/{e}/g,u+"").replace(/{HH}/g,zo(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,zo(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,zo(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,zo(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,zo(v,3)).replace(/{S}/g,v+"")}function SNe(n,e,t,i,r){var a=null;if(ot(t))a=t;else if(wt(t)){var s={time:n.time,level:n.time.level},o=ha();o&&o.makeAxisLabelFormatterParamBreak(s,n.break),a=t(n.value,e,s)}else{var l=n.time;if(l){var u=t[l.lowerTimeUnit][l.upperTimeUnit];a=u[Math.min(l.level,u.length-1)]||""}else{var c=P1(n.value,r);a=t[c][c][0]}}return FC(new Date(n.value),a,r,i)}function P1(n,e){var t=Fh(n),i=t[S6(e)]()+1,r=t[A6(e)](),a=t[M6(e)](),s=t[T6(e)](),o=t[C6(e)](),l=t[w6(e)](),u=l===0,c=u&&o===0,f=c&&s===0,h=f&&a===0,d=h&&r===1,v=d&&i===1;return v?"year":d?"month":h?"day":f?"hour":c?"minute":u?"second":"millisecond"}function AL(n,e,t){switch(e){case"year":n[bue(t)](0);case"month":n[Sue(t)](1);case"day":n[Aue(t)](0);case"hour":n[Mue(t)](0);case"minute":n[Tue(t)](0);case"second":n[Cue(t)](0)}return n}function _ue(n){return n?"getUTCFullYear":"getFullYear"}function S6(n){return n?"getUTCMonth":"getMonth"}function A6(n){return n?"getUTCDate":"getDate"}function M6(n){return n?"getUTCHours":"getHours"}function T6(n){return n?"getUTCMinutes":"getMinutes"}function C6(n){return n?"getUTCSeconds":"getSeconds"}function w6(n){return n?"getUTCMilliseconds":"getMilliseconds"}function ANe(n){return n?"setUTCFullYear":"setFullYear"}function bue(n){return n?"setUTCMonth":"setMonth"}function Sue(n){return n?"setUTCDate":"setDate"}function Aue(n){return n?"setUTCHours":"setHours"}function Mue(n){return n?"setUTCMinutes":"setMinutes"}function Tue(n){return n?"setUTCSeconds":"setSeconds"}function Cue(n){return n?"setUTCMilliseconds":"setMilliseconds"}function MNe(n,e,t,i,r,a,s,o){var l=new In({style:{text:n,font:e,align:t,verticalAlign:i,padding:r,rich:a,overflow:s?"truncate":null,lineHeight:o}});return l.getBoundingRect()}function E6(n){if(!KV(n))return ot(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function D6(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,i){return i.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var uS=DC;function cU(n,e,t){var i="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function r(c){return c&&Wl(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var s=e==="time",o=n instanceof Date;if(s||o){var l=s?Fh(n):n;if(isNaN(+l)){if(o)return"-"}else return FC(l,i,t)}if(e==="ordinal")return iL(n)?r(n):Pn(n)&&a(n)?n+"":"-";var u=Nh(n);return a(u)?E6(u):iL(n)?r(n):typeof n=="boolean"?n+"":"-"}var fq=["a","b","c","d","e","f","g"],c5=function(n,e){return"{"+n+(e??"")+"}"};function R6(n,e,t){Ve(e)||(e=[e]);var i=e.length;if(!i)return"";for(var r=e[0].$vars||[],a=0;a<r.length;a++){var s=fq[a];n=n.replace(c5(s),c5(s,0))}for(var o=0;o<i;o++)for(var l=0;l<r.length;l++){var u=e[o][r[l]];n=n.replace(c5(fq[l],o),t?so(u):u)}return n}function TNe(n,e,t){return Z(e,function(i,r){n=n.replace("{"+r+"}",i)}),n}function wue(n,e){var t=ot(n)?{color:n,extraCssText:e}:n||{},i=t.color,r=t.type;e=t.extraCssText;var a=t.renderMode||"html";if(!i)return"";if(a==="html")return r==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+so(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+so(i)+";"+(e||"")+'"></span>';var s=t.markerId||"markerX";return{renderMode:a,content:"{"+s+"|}  ",style:r==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}}function CNe(n,e,t){(n==="week"||n==="month"||n==="quarter"||n==="half-year"||n==="year")&&(n=`MM-dd
yyyy`);var i=Fh(e),r=t?"getUTC":"get",a=i[r+"FullYear"](),s=i[r+"Month"]()+1,o=i[r+"Date"](),l=i[r+"Hours"](),u=i[r+"Minutes"](),c=i[r+"Seconds"](),f=i[r+"Milliseconds"]();return n=n.replace("MM",zo(s,2)).replace("M",s).replace("yyyy",a).replace("yy",zo(a%100+"",2)).replace("dd",zo(o,2)).replace("d",o).replace("hh",zo(l,2)).replace("h",l).replace("mm",zo(u,2)).replace("m",u).replace("ss",zo(c,2)).replace("s",c).replace("SSS",zo(f,3)),n}function wNe(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)}function By(n,e){return e=e||"transparent",ot(n)?n:Ot(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function ML(n,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var _3={},f5={},cS=(function(){function n(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return n.prototype.create=function(e,t){this._nonSeriesBoxMasterList=i(_3),this._normalMasterList=i(f5);function i(r,a){var s=[];return Z(r,function(o,l){var u=o.create(e,t);s=s.concat(u||[])}),s}},n.prototype.update=function(e,t){Z(this._normalMasterList,function(i){i.update&&i.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},n.register=function(e,t){if(e==="matrix"||e==="calendar"){_3[e]=t;return}f5[e]=t},n.get=function(e){return f5[e]||_3[e]},n})();function ENe(n){return!!_3[n]}var fU={coord:1,coord2:2};function DNe(n){Eue.set(n.fullType,{getCoord2:void 0}).getCoord2=n.getCoord2}var Eue=bt();function RNe(n){var e=n.getShallow("coord",!0),t=fU.coord;if(e==null){var i=Eue.get(n.type);i&&i.getCoord2&&(t=fU.coord2,e=i.getCoord2(n))}return{coord:e,from:t}}var fh={none:0,dataCoordSys:1,boxCoordSys:2};function Due(n,e){var t=n.getShallow("coordinateSystem"),i=n.getShallow("coordinateSystemUsage",!0),r=fh.none;if(t){var a=n.mainType==="series";i==null&&(i=a?"data":"box"),i==="data"?(r=fh.dataCoordSys,a||(r=fh.none)):i==="box"&&(r=fh.boxCoordSys,!a&&!ENe(t)&&(r=fh.none))}return{coordSysType:t,kind:r}}function UC(n){var e=n.targetModel,t=n.coordSysType,i=n.coordSysProvider,r=n.isDefaultDataCoordSys;n.allowNotFound;var a=Due(e),s=a.kind,o=a.coordSysType;if(r&&s!==fh.dataCoordSys&&(s=fh.dataCoordSys,o=t),s===fh.none||o!==t)return!1;var l=i(t,e);return l?(s===fh.dataCoordSys?e.coordinateSystem=l:e.boxCoordinateSystem=l,!0):!1}var Rue=function(n,e){var t=e.getReferringComponents(n,Sr).models[0];return t&&t.coordinateSystem},b3=Z,Lue=["left","right","top","bottom","width","height"],q0=[["width","left","right"],["height","top","bottom"]];function L6(n,e,t,i,r){var a=0,s=0;i==null&&(i=1/0),r==null&&(r=1/0);var o=0;e.eachChild(function(l,u){var c=l.getBoundingRect(),f=e.childAt(u+1),h=f&&f.getBoundingRect(),d,v;if(n==="horizontal"){var m=c.width+(h?-h.x+c.x:0);d=a+m,d>i||l.newline?(a=0,d=m,s+=o+t,o=c.height):o=Math.max(o,c.height)}else{var y=c.height+(h?-h.y+c.y:0);v=s+y,v>r||l.newline?(a+=o+t,s=0,v=y,o=c.width):o=Math.max(o,c.width)}l.newline||(l.x=a,l.y=s,l.markRedraw(),n==="horizontal"?a=d+t:s=v+t)})}var vy=L6;$t(L6,"vertical");$t(L6,"horizontal");function Nue(n,e){return{left:n.getShallow("left",e),top:n.getShallow("top",e),right:n.getShallow("right",e),bottom:n.getShallow("bottom",e),width:n.getShallow("width",e),height:n.getShallow("height",e)}}function LNe(n,e){var t=Na(n,e,{enableLayoutOnlyByCenter:!0}),i=n.getBoxLayoutParams(),r,a;if(t.type===u2.point)a=t.refPoint,r=Ji(i,{width:e.getWidth(),height:e.getHeight()});else{var s=n.get("center"),o=Ve(s)?s:[s,s];r=Ji(i,t.refContainer),a=t.boxCoordFrom===fU.coord2?t.refPoint:[st(o[0],r.width)+r.x,st(o[1],r.height)+r.y]}return{viewRect:r,center:a}}function Iue(n,e){var t=LNe(n,e),i=t.viewRect,r=t.center,a=n.get("radius");Ve(a)||(a=[0,a]);var s=st(i.width,e.getWidth()),o=st(i.height,e.getHeight()),l=Math.min(s,o),u=st(a[0],l/2),c=st(a[1],l/2);return{cx:r[0],cy:r[1],r0:u,r:c,viewRect:i}}function Ji(n,e,t){t=uS(t||0);var i=e.width,r=e.height,a=st(n.left,i),s=st(n.top,r),o=st(n.right,i),l=st(n.bottom,r),u=st(n.width,i),c=st(n.height,r),f=t[2]+t[0],h=t[1]+t[3],d=n.aspect;switch(isNaN(u)&&(u=i-o-h-a),isNaN(c)&&(c=r-l-f-s),d!=null&&(isNaN(u)&&isNaN(c)&&(d>i/r?u=i*.8:c=r*.8),isNaN(u)&&(u=d*c),isNaN(c)&&(c=u/d)),isNaN(a)&&(a=i-o-u-h),isNaN(s)&&(s=r-l-c-f),n.left||n.right){case"center":a=i/2-u/2-t[3];break;case"right":a=i-u-h;break}switch(n.top||n.bottom){case"middle":case"center":s=r/2-c/2-t[0];break;case"bottom":s=r-c-f;break}a=a||0,s=s||0,isNaN(u)&&(u=i-h-a-(o||0)),isNaN(c)&&(c=r-f-s-(l||0));var v=new Ut((e.x||0)+a+t[3],(e.y||0)+s+t[0],u,c);return v.margin=t,v}function Pue(n,e,t){var i=n.getShallow("preserveAspect",!0);if(!i)return e;var r=e.width/e.height;if(Math.abs(Math.atan(t)-Math.atan(r))<1e-9)return e;var a=n.getShallow("preserveAspectAlign",!0),s=n.getShallow("preserveAspectVerticalAlign",!0),o={width:e.width,height:e.height},l=i==="cover";return r>t&&!l||r<t&&l?(o.width=e.height*t,a==="left"?o.left=0:a==="right"?o.right=0:o.left="center"):(o.height=e.width/t,s==="top"?o.top=0:s==="bottom"?o.bottom=0:o.top="middle"),Ji(o,e)}var u2={rect:1,point:2};function Na(n,e,t){var i,r,a,s=n.boxCoordinateSystem,o;if(s){var l=RNe(n),u=l.coord,c=l.from;if(s.dataToLayout){a=u2.rect,o=c;var f=s.dataToLayout(u);i=f.contentRect||f.rect}else t&&t.enableLayoutOnlyByCenter&&s.dataToPoint&&(a=u2.point,o=c,r=s.dataToPoint(u))}return a==null&&(a=u2.rect),a===u2.rect&&(i||(i={x:0,y:0,width:e.getWidth(),height:e.getHeight()}),r=[i.x+i.width/2,i.y+i.height/2]),{type:a,refContainer:i,refPoint:r,boxCoordFrom:o}}function KI(n,e,t,i,r,a){var s=!r||!r.hv||r.hv[0],o=!r||!r.hv||r.hv[1],l=r&&r.boundingMode||"all";if(a=a||n,a.x=n.x,a.y=n.y,!s&&!o)return!1;var u;if(l==="raw")u=n.type==="group"?new Ut(0,0,+e.width||0,+e.height||0):n.getBoundingRect();else if(u=n.getBoundingRect(),n.needLocalTransform()){var c=n.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=Ji(Bt({width:u.width,height:u.height},e),t,i),h=s?f.x-u.x:0,d=o?f.y-u.y:0;return l==="raw"?(a.x=h,a.y=d):(a.x+=h,a.y+=d),a===n&&n.markRedraw(),!0}function NNe(n,e){return n[q0[e][0]]!=null||n[q0[e][1]]!=null&&n[q0[e][2]]!=null}function zT(n){var e=n.layoutMode||n.constructor.layoutMode;return Ot(e)?e:e?{type:e}:null}function Ph(n,e,t){var i=t&&t.ignoreSize;!Ve(i)&&(i=[i,i]);var r=s(q0[0],0),a=s(q0[1],1);l(q0[0],n,r),l(q0[1],n,a);function s(u,c){var f={},h=0,d={},v=0,m=2;if(b3(u,function(b){d[b]=n[b]}),b3(u,function(b){yt(e,b)&&(f[b]=d[b]=e[b]),o(f,b)&&h++,o(d,b)&&v++}),i[c])return o(e,u[1])?d[u[2]]=null:o(e,u[2])&&(d[u[1]]=null),d;if(v===m||!h)return d;if(h>=m)return f;for(var y=0;y<u.length;y++){var x=u[y];if(!yt(f,x)&&yt(n,x)){f[x]=n[x];break}}return f}function o(u,c){return u[c]!=null&&u[c]!=="auto"}function l(u,c,f){b3(u,function(h){c[h]=f[h]})}}function Ky(n){return Bue({},n)}function Bue(n,e){return e&&n&&b3(Lue,function(t){yt(e,t)&&(n[t]=e[t])}),n}var INe=_n(),xn=(function(n){me(e,n);function e(t,i,r){var a=n.call(this,t,i,r)||this;return a.uid=lS("ec_cpt_model"),a}return e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r)},e.prototype.mergeDefaultAndTheme=function(t,i){var r=zT(this),a=r?Ky(t):{},s=i.getTheme();an(t,s.get(this.mainType)),an(t,this.getDefaultOption()),r&&Ph(t,a,r)},e.prototype.mergeOption=function(t,i){an(this.option,t,!0);var r=zT(this);r&&Ph(this.option,t,r)},e.prototype.optionUpdated=function(t,i){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!p3e(t))return t.defaultOption;var i=INe(this);if(!i.defaultOption){for(var r=[],a=t;a;){var s=a.prototype.defaultOption;s&&r.push(s),a=a.superClass}for(var o={},l=r.length-1;l>=0;l--)o=an(o,r[l],!0);i.defaultOption=o}return i.defaultOption},e.prototype.getReferringComponents=function(t,i){var r=t+"Index",a=t+"Id";return tS(this.ecModel,t,{index:this.get(r,!0),id:this.get(a,!0)},i)},e.prototype.getBoxLayoutParams=function(){return Nue(this,!1)},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=(function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0})(),e})(Sn);Rle(xn,Sn);FI(xn);lNe(xn);uNe(xn,PNe);function PNe(n){var e=[];return Z(xn.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=We(e,function(t){return gh(t).main}),n!=="dataset"&&rn(e,"dataset")<=0&&e.unshift("dataset"),e}var xe={color:{},darkColor:{},size:{}},Hr=xe.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};Ie(Hr,{primary:Hr.neutral80,secondary:Hr.neutral70,tertiary:Hr.neutral60,quaternary:Hr.neutral50,disabled:Hr.neutral20,border:Hr.neutral30,borderTint:Hr.neutral20,borderShade:Hr.neutral40,background:Hr.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:Hr.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:Hr.neutral70,axisLineTint:Hr.neutral40,axisTick:Hr.neutral70,axisTickMinor:Hr.neutral60,axisLabel:Hr.neutral70,axisSplitLine:Hr.neutral15,axisMinorSplitLine:Hr.neutral05});for(var e0 in Hr)if(Hr.hasOwnProperty(e0)){var hq=Hr[e0];e0==="theme"?xe.darkColor.theme=Hr.theme.slice():e0==="highlight"?xe.darkColor.highlight="rgba(255,231,130,0.4)":e0.indexOf("accent")===0?xe.darkColor[e0]=ip(hq,null,function(n){return n*.5},function(n){return Math.min(1,1.3-n)}):xe.darkColor[e0]=ip(hq,null,function(n){return n*.9},function(n){return 1-Math.pow(n,1.5)})}xe.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var Oue="";typeof navigator<"u"&&(Oue=navigator.platform||"");var A_="rgba(0, 0, 0, 0.2)",zue=xe.color.theme[0],BNe=ip(zue,null,null,.9);const ONe={darkMode:"auto",colorBy:"series",color:xe.color.theme,gradientColor:[BNe,zue],aria:{decal:{decals:[{color:A_,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:A_,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:A_,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:A_,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:A_,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:A_,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Oue.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var kue=bt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),au="original",xs="arrayRows",su="objectRows",hf="keyedColumns",um="typedArray",Fue="unknown",ef="column",Jy="row",Ds={Must:1,Might:2,Not:3},Uue=_n();function zNe(n){Uue(n).datasetMap=bt()}function Gue(n,e,t){var i={},r=I6(e);if(!r||!n)return i;var a=[],s=[],o=e.ecModel,l=Uue(o).datasetMap,u=r.uid+"_"+t.seriesLayoutBy,c,f;n=n.slice(),Z(n,function(m,y){var x=Ot(m)?m:n[y]={name:m};x.type==="ordinal"&&c==null&&(c=y,f=v(x)),i[x.name]=[]});var h=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});Z(n,function(m,y){var x=m.name,b=v(m);if(c==null){var M=h.valueWayDim;d(i[x],M,b),d(s,M,b),h.valueWayDim+=b}else if(c===y)d(i[x],0,b),d(a,0,b);else{var M=h.categoryWayDim;d(i[x],M,b),d(s,M,b),h.categoryWayDim+=b}});function d(m,y,x){for(var b=0;b<x;b++)m.push(y+b)}function v(m){var y=m.dimsDef;return y?y.length:1}return a.length&&(i.itemName=a),s.length&&(i.seriesName=s),i}function N6(n,e,t){var i={},r=I6(n);if(!r)return i;var a=e.sourceFormat,s=e.dimensionsDefine,o;(a===su||a===hf)&&Z(s,function(c,f){(Ot(c)?c.name:c)==="name"&&(o=f)});var l=(function(){for(var c={},f={},h=[],d=0,v=Math.min(5,t);d<v;d++){var m=jue(e.data,a,e.seriesLayoutBy,s,e.startIndex,d);h.push(m);var y=m===Ds.Not;if(y&&c.v==null&&d!==o&&(c.v=d),(c.n==null||c.n===c.v||!y&&h[c.n]===Ds.Not)&&(c.n=d),x(c)&&h[c.n]!==Ds.Not)return c;y||(m===Ds.Might&&f.v==null&&d!==o&&(f.v=d),(f.n==null||f.n===f.v)&&(f.n=d))}function x(b){return b.v!=null&&b.n!=null}return x(c)?c:x(f)?f:null})();if(l){i.value=[l.v];var u=o??l.n;i.itemName=[u],i.seriesName=[u]}return i}function I6(n){var e=n.get("data",!0);if(!e)return tS(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},Sr).models[0]}function kNe(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:tS(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},Sr).models}function Vue(n,e){return jue(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function jue(n,e,t,i,r,a){var s,o=5;if(Yo(n))return Ds.Not;var l,u;if(i){var c=i[a];Ot(c)?(l=c.name,u=c.type):ot(c)&&(l=c)}if(u!=null)return u==="ordinal"?Ds.Must:Ds.Not;if(e===xs){var f=n;if(t===Jy){for(var h=f[a],d=0;d<(h||[]).length&&d<o;d++)if((s=C(h[r+d]))!=null)return s}else for(var d=0;d<f.length&&d<o;d++){var v=f[r+d];if(v&&(s=C(v[a]))!=null)return s}}else if(e===su){var m=n;if(!l)return Ds.Not;for(var d=0;d<m.length&&d<o;d++){var y=m[d];if(y&&(s=C(y[l]))!=null)return s}}else if(e===hf){var x=n;if(!l)return Ds.Not;var h=x[l];if(!h||Yo(h))return Ds.Not;for(var d=0;d<h.length&&d<o;d++)if((s=C(h[d]))!=null)return s}else if(e===au)for(var b=n,d=0;d<b.length&&d<o;d++){var y=b[d],M=eS(y);if(!Ve(M))return Ds.Not;if((s=C(M[a]))!=null)return s}function C(w){var E=ot(w);if(w!=null&&Number.isFinite(Number(w))&&w!=="")return E?Ds.Might:Ds.Not;if(E&&w!=="-")return Ds.Must}return Ds.Not}var hU=bt();function FNe(n,e){zs(hU.get(n)==null&&e),hU.set(n,e)}function UNe(n,e,t){var i=hU.get(e);if(!i)return t;var r=i(n);return r?t.concat(r):t}var dq=_n(),GNe=_n(),P6=(function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,i){var r=Pi(this.get("color",!0)),a=this.get("colorLayer",!0);return Hue(this,dq,r,a,e,t,i)},n.prototype.clearColorPalette=function(){jNe(this,dq)},n})();function dU(n,e,t,i){var r=Pi(n.get(["aria","decal","decals"]));return Hue(n,GNe,r,null,e,t,i)}function VNe(n,e){for(var t=n.length,i=0;i<t;i++)if(n[i].length>e)return n[i];return n[t-1]}function Hue(n,e,t,i,r,a,s){a=a||n;var o=e(a),l=o.paletteIdx||0,u=o.paletteNameMap=o.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var c=s==null||!i?t:VNe(i,s);if(c=c||t,!(!c||!c.length)){var f=c[l];return r&&(u[r]=f),o.paletteIdx=(l+1)%c.length,f}}function jNe(n,e){e(n).paletteIdx=0,e(n).paletteNameMap={}}var aD,cM,pq,vq="\0_ec_inner",HNe=1,B6=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t,i,r,a,s,o){a=a||{},this.option=null,this._theme=new Sn(a),this._locale=new Sn(s),this._optionManager=o},e.prototype.setOption=function(t,i,r){var a=yq(i);this._optionManager.setOption(t,r,a),this._resetOption(null,a)},e.prototype.resetOption=function(t,i){return this._resetOption(t,yq(i))},e.prototype._resetOption=function(t,i){var r=!1,a=this._optionManager;if(!t||t==="recreate"){var s=a.mountOption(t==="recreate");!this.option||t==="recreate"?pq(this,s):(this.restoreData(),this._mergeOption(s,i)),r=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var o=a.getTimelineOption(this);o&&(r=!0,this._mergeOption(o,i))}if(!t||t==="recreate"||t==="media"){var l=a.getMediaOption(this);l.length&&Z(l,function(u){r=!0,this._mergeOption(u,i)},this)}return r},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,i){var r=this.option,a=this._componentsMap,s=this._componentsCount,o=[],l=bt(),u=i&&i.replaceMergeMainTypeMap;zNe(this),Z(t,function(f,h){f!=null&&(xn.hasClass(h)?h&&(o.push(h),l.set(h,!0)):r[h]=r[h]==null?Nt(f):an(r[h],f,!0))}),u&&u.each(function(f,h){xn.hasClass(h)&&!l.get(h)&&(o.push(h),l.set(h,!0))}),xn.topologicalTravel(o,xn.getAllClassMainTypes(),c,this);function c(f){var h=UNe(this,f,Pi(t[f])),d=a.get(f),v=d?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",m=Tle(d,h,v);a3e(m,f,xn),r[f]=null,a.set(f,null),s.set(f,0);var y=[],x=[],b=0,M;Z(m,function(C,w){var E=C.existing,L=C.newOption;if(!L)E&&(E.mergeOption({},this),E.optionUpdated({},!1));else{var P=f==="series",I=xn.getClass(f,C.keyInfo.subType,!P);if(!I)return;if(f==="tooltip"){if(M)return;M=!0}if(E&&E.constructor===I)E.name=C.keyInfo.name,E.mergeOption(L,this),E.optionUpdated(L,!1);else{var N=Ie({componentIndex:w},C.keyInfo);E=new I(L,this,this,N),Ie(E,N),C.brandNew&&(E.__requireNewView=!0),E.init(L,this,this),E.optionUpdated(null,!0)}}E?(y.push(E.option),x.push(E),b++):(y.push(void 0),x.push(void 0))},this),r[f]=y,a.set(f,x),s.set(f,b),f==="series"&&aD(this)}this._seriesIndices||aD(this)},e.prototype.getOption=function(){var t=Nt(this.option);return Z(t,function(i,r){if(xn.hasClass(r)){for(var a=Pi(i),s=a.length,o=!1,l=s-1;l>=0;l--)a[l]&&!NT(a[l])?o=!0:(a[l]=null,!o&&s--);a.length=s,t[r]=a}}),delete t[vq],t},e.prototype.setTheme=function(t){this._theme=new Sn(t),this._resetOption("recreate",null)},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,i){var r=this._componentsMap.get(t);if(r){var a=r[i||0];if(a)return a;if(i==null){for(var s=0;s<r.length;s++)if(r[s])return r[s]}}},e.prototype.queryComponents=function(t){var i=t.mainType;if(!i)return[];var r=t.index,a=t.id,s=t.name,o=this._componentsMap.get(i);if(!o||!o.length)return[];var l;return r!=null?(l=[],Z(Pi(r),function(u){o[u]&&l.push(o[u])})):a!=null?l=mq("id",a,o):s!=null?l=mq("name",s,o):l=Zn(o,function(u){return!!u}),gq(l,t)},e.prototype.findComponents=function(t){var i=t.query,r=t.mainType,a=o(i),s=a?this.queryComponents(a):Zn(this._componentsMap.get(r),function(u){return!!u});return l(gq(s,t));function o(u){var c=r+"Index",f=r+"Id",h=r+"Name";return u&&(u[c]!=null||u[f]!=null||u[h]!=null)?{mainType:r,index:u[c],id:u[f],name:u[h]}:null}function l(u){return t.filter?Zn(u,t.filter):u}},e.prototype.eachComponent=function(t,i,r){var a=this._componentsMap;if(wt(t)){var s=i,o=t;a.each(function(f,h){for(var d=0;f&&d<f.length;d++){var v=f[d];v&&o.call(s,h,v,v.componentIndex)}})}else for(var l=ot(t)?a.get(t):Ot(t)?this.findComponents(t):null,u=0;l&&u<l.length;u++){var c=l[u];c&&i.call(r,c,c.componentIndex)}},e.prototype.getSeriesByName=function(t){var i=Ea(t,null);return Zn(this._componentsMap.get("series"),function(r){return!!r&&i!=null&&r.name===i})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Zn(this._componentsMap.get("series"),function(i){return!!i&&i.subType===t})},e.prototype.getSeries=function(){return Zn(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,i){cM(this),Z(this._seriesIndices,function(r){var a=this._componentsMap.get("series")[r];t.call(i,a,r)},this)},e.prototype.eachRawSeries=function(t,i){Z(this._componentsMap.get("series"),function(r){r&&t.call(i,r,r.componentIndex)})},e.prototype.eachSeriesByType=function(t,i,r){cM(this),Z(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];s.subType===t&&i.call(r,s,a)},this)},e.prototype.eachRawSeriesByType=function(t,i,r){return Z(this.getSeriesByType(t),i,r)},e.prototype.isSeriesFiltered=function(t){return cM(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,i){cM(this);var r=[];Z(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];t.call(i,s,a)&&r.push(a)},this),this._seriesIndices=r,this._seriesIndicesMap=bt(r)},e.prototype.restoreData=function(t){aD(this);var i=this._componentsMap,r=[];i.each(function(a,s){xn.hasClass(s)&&r.push(s)}),xn.topologicalTravel(r,xn.getAllClassMainTypes(),function(a){Z(i.get(a),function(s){s&&(a!=="series"||!WNe(s,t))&&s.restoreData()})})},e.internalField=(function(){aD=function(t){var i=t._seriesIndices=[];Z(t._componentsMap.get("series"),function(r){r&&i.push(r.componentIndex)}),t._seriesIndicesMap=bt(i)},cM=function(t){},pq=function(t,i){t.option={},t.option[vq]=HNe,t._componentsMap=bt({series:[]}),t._componentsCount=bt();var r=i.aria;Ot(r)&&r.enabled==null&&(r.enabled=!0),XNe(i,t._theme.option),an(i,ONe,!1),t._mergeOption(i,null)}})(),e})(Sn);function WNe(n,e){if(e){var t=e.seriesIndex,i=e.seriesId,r=e.seriesName;return t!=null&&n.componentIndex!==t||i!=null&&n.id!==i||r!=null&&n.name!==r}}function XNe(n,e){var t=n.color&&!n.colorLayer;Z(e,function(i,r){r==="colorLayer"&&t||r==="color"&&n.color||xn.hasClass(r)||(typeof i=="object"?n[r]=n[r]?an(n[r],i,!1):Nt(i):n[r]==null&&(n[r]=i))})}function mq(n,e,t){if(Ve(e)){var i=bt();return Z(e,function(a){if(a!=null){var s=Ea(a,null);s!=null&&i.set(a,!0)}}),Zn(t,function(a){return a&&i.get(a[n])})}else{var r=Ea(e,null);return Zn(t,function(a){return a&&r!=null&&a[n]===r})}}function gq(n,e){return e.hasOwnProperty("subType")?Zn(n,function(t){return t&&t.subType===e.subType}):n}function yq(n){var e=bt();return n&&Z(Pi(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}kr(B6,P6);var YNe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Wue=(function(){function n(e){Z(YNe,function(t){this[t]=ct(e[t],e)},this)}return n})(),qNe=/^(min|max)?(.+)$/,ZNe=(function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,i){e&&(Z(Pi(e.series),function(s){s&&s.data&&Yo(s.data)&&TT(s.data)}),Z(Pi(e.dataset),function(s){s&&s.source&&Yo(s.source)&&TT(s.source)})),e=Nt(e);var r=this._optionBackup,a=KNe(e,t,!r);this._newBaseOption=a.baseOption,r?(a.timelineOptions.length&&(r.timelineOptions=a.timelineOptions),a.mediaList.length&&(r.mediaList=a.mediaList),a.mediaDefault&&(r.mediaDefault=a.mediaDefault)):this._optionBackup=a},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],Nt(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,i=this._timelineOptions;if(i.length){var r=e.getComponent("timeline");r&&(t=Nt(i[r.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t=this._api.getWidth(),i=this._api.getHeight(),r=this._mediaList,a=this._mediaDefault,s=[],o=[];if(!r.length&&!a)return o;for(var l=0,u=r.length;l<u;l++)JNe(r[l].query,t,i)&&s.push(l);return!s.length&&a&&(s=[-1]),s.length&&!$Ne(s,this._currentMediaIndices)&&(o=We(s,function(c){return Nt(c===-1?a.option:r[c].option)})),this._currentMediaIndices=s,o},n})();function KNe(n,e,t){var i=[],r,a,s=n.baseOption,o=n.timeline,l=n.options,u=n.media,c=!!n.media,f=!!(l||o||s&&s.timeline);s?(a=s,a.timeline||(a.timeline=o)):((f||c)&&(n.options=n.media=null),a=n),c&&Ve(u)&&Z(u,function(d){d&&d.option&&(d.query?i.push(d):r||(r=d))}),h(a),Z(l,function(d){return h(d)}),Z(i,function(d){return h(d.option)});function h(d){Z(e,function(v){v(d,t)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:r,mediaList:i}}function JNe(n,e,t){var i={width:e,height:t,aspectratio:e/t},r=!0;return Z(n,function(a,s){var o=s.match(qNe);if(!(!o||!o[1]||!o[2])){var l=o[1],u=o[2].toLowerCase();QNe(i[u],a,l)||(r=!1)}}),r}function QNe(n,e,t){return t==="min"?n>=e:t==="max"?n<=e:n===e}function $Ne(n,e){return n.join(",")===e.join(",")}var Pc=Z,kT=Ot,xq=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function h5(n){var e=n&&n.itemStyle;if(e)for(var t=0,i=xq.length;t<i;t++){var r=xq[t],a=e.normal,s=e.emphasis;a&&a[r]&&(n[r]=n[r]||{},n[r].normal?an(n[r].normal,a[r]):n[r].normal=a[r],a[r]=null),s&&s[r]&&(n[r]=n[r]||{},n[r].emphasis?an(n[r].emphasis,s[r]):n[r].emphasis=s[r],s[r]=null)}}function ro(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var i=n[e].normal,r=n[e].emphasis;i&&(t?(n[e].normal=n[e].emphasis=null,Bt(n[e],i)):n[e]=i),r&&(n.emphasis=n.emphasis||{},n.emphasis[e]=r,r.focus&&(n.emphasis.focus=r.focus),r.blurScope&&(n.emphasis.blurScope=r.blurScope))}}function c2(n){ro(n,"itemStyle"),ro(n,"lineStyle"),ro(n,"areaStyle"),ro(n,"label"),ro(n,"labelLine"),ro(n,"upperLabel"),ro(n,"edgeLabel")}function ca(n,e){var t=kT(n)&&n[e],i=kT(t)&&t.textStyle;if(i)for(var r=0,a=SY.length;r<a;r++){var s=SY[r];i.hasOwnProperty(s)&&(t[s]=i[s])}}function Ou(n){n&&(c2(n),ca(n,"label"),n.emphasis&&ca(n.emphasis,"label"))}function eIe(n){if(kT(n)){h5(n),c2(n),ca(n,"label"),ca(n,"upperLabel"),ca(n,"edgeLabel"),n.emphasis&&(ca(n.emphasis,"label"),ca(n.emphasis,"upperLabel"),ca(n.emphasis,"edgeLabel"));var e=n.markPoint;e&&(h5(e),Ou(e));var t=n.markLine;t&&(h5(t),Ou(t));var i=n.markArea;i&&Ou(i);var r=n.data;if(n.type==="graph"){r=r||n.nodes;var a=n.links||n.edges;if(a&&!Yo(a))for(var s=0;s<a.length;s++)Ou(a[s]);Z(n.categories,function(u){c2(u)})}if(r&&!Yo(r))for(var s=0;s<r.length;s++)Ou(r[s]);if(e=n.markPoint,e&&e.data)for(var o=e.data,s=0;s<o.length;s++)Ou(o[s]);if(t=n.markLine,t&&t.data)for(var l=t.data,s=0;s<l.length;s++)Ve(l[s])?(Ou(l[s][0]),Ou(l[s][1])):Ou(l[s]);n.type==="gauge"?(ca(n,"axisLabel"),ca(n,"title"),ca(n,"detail")):n.type==="treemap"?(ro(n.breadcrumb,"itemStyle"),Z(n.levels,function(u){c2(u)})):n.type==="tree"&&c2(n.leaves)}}function Md(n){return Ve(n)?n:n?[n]:[]}function _q(n){return(Ve(n)?n[0]:n)||{}}function tIe(n,e){Pc(Md(n.series),function(i){kT(i)&&eIe(i)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),Pc(t,function(i){Pc(Md(n[i]),function(r){r&&(ca(r,"axisLabel"),ca(r.axisPointer,"label"))})}),Pc(Md(n.parallel),function(i){var r=i&&i.parallelAxisDefault;ca(r,"axisLabel"),ca(r&&r.axisPointer,"label")}),Pc(Md(n.calendar),function(i){ro(i,"itemStyle"),ca(i,"dayLabel"),ca(i,"monthLabel"),ca(i,"yearLabel")}),Pc(Md(n.radar),function(i){ca(i,"name"),i.name&&i.axisName==null&&(i.axisName=i.name,delete i.name),i.nameGap!=null&&i.axisNameGap==null&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),Pc(Md(n.geo),function(i){kT(i)&&(Ou(i),Pc(Md(i.regions),function(r){Ou(r)}))}),Pc(Md(n.timeline),function(i){Ou(i),ro(i,"label"),ro(i,"itemStyle"),ro(i,"controlStyle",!0);var r=i.data;Ve(r)&&Z(r,function(a){Ot(a)&&(ro(a,"label"),ro(a,"itemStyle"))})}),Pc(Md(n.toolbox),function(i){ro(i,"iconStyle"),Pc(i.feature,function(r){ro(r,"iconStyle")})}),ca(_q(n.axisPointer),"label"),ca(_q(n.tooltip).axisPointer,"label")}function nIe(n,e){for(var t=e.split(","),i=n,r=0;r<t.length&&(i=i&&i[t[r]],i!=null);r++);return i}function iIe(n,e,t,i){for(var r=e.split(","),a=n,s,o=0;o<r.length-1;o++)s=r[o],a[s]==null&&(a[s]={}),a=a[s];a[r[o]]==null&&(a[r[o]]=t)}function bq(n){n&&Z(rIe,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var rIe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],aIe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],d5=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function fM(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<d5.length;t++){var i=d5[t][1],r=d5[t][0];e[i]!=null&&(e[r]=e[i])}}function Sq(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function Aq(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function sIe(n){n&&n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(n.emphasis.focus="adjacency"))}function Xue(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&Xue(n[t].children,e)}function Yue(n,e){tIe(n,e),n.series=Pi(n.series),Z(n.series,function(t){if(Ot(t)){var i=t.type;if(i==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(i==="pie"||i==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise),Sq(t.label);var r=t.data;if(r&&!Yo(r))for(var a=0;a<r.length;a++)Sq(r[a]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(i==="gauge"){var s=nIe(t,"pointer.color");s!=null&&iIe(t,"itemStyle.color",s)}else if(i==="bar"){fM(t),fM(t.backgroundStyle),fM(t.emphasis);var r=t.data;if(r&&!Yo(r))for(var a=0;a<r.length;a++)typeof r[a]=="object"&&(fM(r[a]),fM(r[a]&&r[a].emphasis))}else if(i==="sunburst"){var o=t.highlightPolicy;o&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=o)),Aq(t),Xue(t.data,Aq)}else i==="graph"||i==="sankey"?sIe(t):i==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Bt(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),bq(t)}}),n.dataRange&&(n.visualMap=n.dataRange),Z(aIe,function(t){var i=n[t];i&&(Ve(i)||(i=[i]),Z(i,function(r){bq(r)}))})}function oIe(n){var e=bt();n.eachSeries(function(t){var i=t.get("stack");if(i){var r=e.get(i)||e.set(i,[]),a=t.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;r.push(s)}}),e.each(function(t){if(t.length!==0){var i=t[0].seriesModel,r=i.get("stackOrder")||"seriesAsc";r==="seriesDesc"&&t.reverse(),Z(t,function(a,s){a.data.setCalculationInfo("stackedOnSeries",s>0?t[s-1].seriesModel:null)}),lIe(t)}})}function lIe(n){Z(n,function(e,t){var i=[],r=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],s=e.data,o=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";s.modify(a,function(u,c,f){var h=s.get(e.stackedDimension,f);if(isNaN(h))return r;var d,v;o?v=s.getRawIndex(f):d=s.get(e.stackedByDimension,f);for(var m=NaN,y=t-1;y>=0;y--){var x=n[y];if(o||(v=x.data.rawIndexOf(x.stackedByDimension,d)),v>=0){var b=x.data.getByRawIndex(x.stackResultDimension,v);if(l==="all"||l==="positive"&&b>0||l==="negative"&&b<0||l==="samesign"&&h>=0&&b>0||l==="samesign"&&h<=0&&b<0){h=XRe(h,b),m=b;break}}}return i[0]=h,i[1]=m,i})})}var JI=(function(){function n(e){this.data=e.data||(e.sourceFormat===hf?{}:[]),this.sourceFormat=e.sourceFormat||Fue,this.seriesLayoutBy=e.seriesLayoutBy||ef,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var i=0;i<t.length;i++){var r=t[i];r.type==null&&Vue(this,i)===Ds.Must&&(r.type="ordinal")}}return n})();function O6(n){return n instanceof JI}function pU(n,e,t){t=t||que(n);var i=e.seriesLayoutBy,r=cIe(n,t,i,e.sourceHeader,e.dimensions),a=new JI({data:n,sourceFormat:t,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:Nt(e)});return a}function z6(n){return new JI({data:n,sourceFormat:Yo(n)?um:au})}function uIe(n){return new JI({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:Nt(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function que(n){var e=Fue;if(Yo(n))e=um;else if(Ve(n)){n.length===0&&(e=xs);for(var t=0,i=n.length;t<i;t++){var r=n[t];if(r!=null){if(Ve(r)||Yo(r)){e=xs;break}else if(Ot(r)){e=su;break}}}}else if(Ot(n)){for(var a in n)if(yt(n,a)&&Os(n[a])){e=hf;break}}return e}function cIe(n,e,t,i,r){var a,s;if(!n)return{dimensionsDefine:Mq(r),startIndex:s,dimensionsDetectedCount:a};if(e===xs){var o=n;i==="auto"||i==null?Tq(function(u){u!=null&&u!=="-"&&(ot(u)?s==null&&(s=1):s=0)},t,o,10):s=Pn(i)?i:i?1:0,!r&&s===1&&(r=[],Tq(function(u,c){r[c]=u!=null?u+"":""},t,o,1/0)),a=r?r.length:t===Jy?o.length:o[0]?o[0].length:null}else if(e===su)r||(r=fIe(n));else if(e===hf)r||(r=[],Z(n,function(u,c){r.push(c)}));else if(e===au){var l=eS(n[0]);a=Ve(l)&&l.length||1}return{startIndex:s,dimensionsDefine:Mq(r),dimensionsDetectedCount:a}}function fIe(n){for(var e=0,t;e<n.length&&!(t=n[e++]););if(t)return Dn(t)}function Mq(n){if(n){var e=bt();return We(n,function(t,i){t=Ot(t)?t:{name:t};var r={name:t.name,displayName:t.displayName,type:t.type};if(r.name==null)return r;r.name+="",r.displayName==null&&(r.displayName=r.name);var a=e.get(r.name);return a?r.name+="-"+a.count++:e.set(r.name,{count:1}),r})}}function Tq(n,e,t,i){if(e===Jy)for(var r=0;r<t.length&&r<i;r++)n(t[r]?t[r][0]:null,r);else for(var a=t[0]||[],r=0;r<a.length&&r<i;r++)n(a[r],r)}function Zue(n){var e=n.sourceFormat;return e===su||e===hf}var t0,n0,i0,r0,Cq,wq,Kue=(function(){function n(e,t){var i=O6(e)?e:z6(e);this._source=i;var r=this._data=i.data,a=i.sourceFormat;i.seriesLayoutBy,a===um&&(this._offset=0,this._dimSize=t,this._data=r),wq(this,r,i)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=(function(){var e=n.prototype;e.pure=!1,e.persistent=!0})(),n.internalField=(function(){var e;wq=function(s,o,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,h=l.dimensionsDefine,d=Cq[k6(u,c)];if(Ie(s,d),u===um)s.getItem=t,s.count=r,s.fillStorage=i;else{var v=Jue(u,c);s.getItem=ct(v,null,o,f,h);var m=Que(u,c);s.count=ct(m,null,o,f,h)}};var t=function(s,o){s=s-this._offset,o=o||[];for(var l=this._data,u=this._dimSize,c=u*s,f=0;f<u;f++)o[f]=l[c+f];return o},i=function(s,o,l,u){for(var c=this._data,f=this._dimSize,h=0;h<f;h++){for(var d=u[h],v=d[0]==null?1/0:d[0],m=d[1]==null?-1/0:d[1],y=o-s,x=l[h],b=0;b<y;b++){var M=c[b*f+h];x[s+b]=M,M<v&&(v=M),M>m&&(m=M)}d[0]=v,d[1]=m}},r=function(){return this._data?this._data.length/this._dimSize:0};Cq=(e={},e[xs+"_"+ef]={pure:!0,appendData:a},e[xs+"_"+Jy]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[su]={pure:!0,appendData:a},e[hf]={pure:!0,appendData:function(s){var o=this._data;Z(s,function(l,u){for(var c=o[u]||(o[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},e[au]={appendData:a},e[um]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(s){for(var o=0;o<s.length;o++)this._data.push(s[o])}})(),n})(),sD=function(n){Ve(n)||Sle("series.data or dataset.source must be an array.")};t0={},t0[xs+"_"+ef]=sD,t0[xs+"_"+Jy]=sD,t0[su]=sD,t0[hf]=function(n,e){for(var t=0;t<e.length;t++){var i=e[t].name;i==null&&Sle("dimension name must not be null/undefined.")}},t0[au]=sD;var Eq=function(n,e,t,i){return n[i]},hIe=(n0={},n0[xs+"_"+ef]=function(n,e,t,i){return n[i+e]},n0[xs+"_"+Jy]=function(n,e,t,i,r){i+=e;for(var a=r||[],s=n,o=0;o<s.length;o++){var l=s[o];a[o]=l?l[i]:null}return a},n0[su]=Eq,n0[hf]=function(n,e,t,i,r){for(var a=r||[],s=0;s<t.length;s++){var o=t[s].name,l=o!=null?n[o]:null;a[s]=l?l[i]:null}return a},n0[au]=Eq,n0);function Jue(n,e){var t=hIe[k6(n,e)];return t}var Dq=function(n,e,t){return n.length},dIe=(i0={},i0[xs+"_"+ef]=function(n,e,t){return Math.max(0,n.length-e)},i0[xs+"_"+Jy]=function(n,e,t){var i=n[0];return i?Math.max(0,i.length-e):0},i0[su]=Dq,i0[hf]=function(n,e,t){var i=t[0].name,r=i!=null?n[i]:null;return r?r.length:0},i0[au]=Dq,i0);function Que(n,e){var t=dIe[k6(n,e)];return t}var p5=function(n,e,t){return n[e]},pIe=(r0={},r0[xs]=p5,r0[su]=function(n,e,t){return n[t]},r0[hf]=p5,r0[au]=function(n,e,t){var i=eS(n);return i instanceof Array?i[e]:i},r0[um]=p5,r0);function $ue(n){var e=pIe[n];return e}function k6(n,e){return n===xs?n+"_"+e:n}function vb(n,e,t){if(n){var i=n.getRawDataItem(e);if(i!=null){var r=n.getStore(),a=r.getSource().sourceFormat;if(t!=null){var s=n.getDimensionIndex(t),o=r.getDimensionProperty(s);return $ue(a)(i,s,o)}else{var l=i;return a===au&&(l=eS(i)),l}}}}var vIe=/\{@(.+?)\}/g,QI=(function(){function n(){}return n.prototype.getDataParams=function(e,t){var i=this.getData(t),r=this.getRawValue(e,t),a=i.getRawIndex(e),s=i.getName(e),o=i.getRawDataItem(e),l=i.getItemVisual(e,"style"),u=l&&l[i.getItemVisual(e,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,h=f==="series",d=i.userOutput&&i.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:s,dataIndex:a,data:o,dataType:t,value:r,color:u,borderColor:c,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,i,r,a,s){t=t||"normal";var o=this.getData(i),l=this.getDataParams(e,i);if(s&&(l.value=s.interpolatedValue),r!=null&&Ve(l.value)&&(l.value=l.value[r]),!a){var u=o.getItemModel(e);a=u.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(wt(a))return l.status=t,l.dimensionIndex=r,a(l);if(ot(a)){var c=R6(a,l);return c.replace(vIe,function(f,h){var d=h.length,v=h;v.charAt(0)==="["&&v.charAt(d-1)==="]"&&(v=+v.slice(1,d-1));var m=vb(o,e,v);if(s&&Ve(s.interpolatedValue)){var y=o.getDimensionIndex(v);y>=0&&(m=s.interpolatedValue[y])}return m!=null?m+"":""})}},n.prototype.getRawValue=function(e,t){return vb(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,i){},n})();function Rq(n){var e,t;return Ot(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function Y2(n){return new mIe(n)}var mIe=(function(){function n(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var t=this._upstream,i=e&&e.skip;if(this._dirty&&t){var r=this.context;r.data=r.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!i&&(a=this._plan(this.context));var s=c(this._modBy),o=this._modDataCount||0,l=c(e&&e.modBy),u=e&&e.modDataCount||0;(s!==l||o!==u)&&(a="reset");function c(b){return!(b>=1)&&(b=1),b}var f;(this._dirty||a==="reset")&&(this._dirty=!1,f=this._doReset(i)),this._modBy=l,this._modDataCount=u;var h=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,v=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!i&&(f||d<v)){var m=this._progress;if(Ve(m))for(var y=0;y<m.length;y++)this._doProgress(m[y],d,v,l,u);else this._doProgress(m,d,v,l,u)}this._dueIndex=v;var x=this._settedOutputEnd!=null?this._settedOutputEnd:v;this._outputDueEnd=x}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,i,r,a){Lq.reset(t,i,r,a),this._callingProgress=e,this._callingProgress({start:t,end:i,count:i-t,next:Lq.next},this.context)},n.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,i;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(i=t.forceFirstProgress,t=t.progress),Ve(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),i},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n})(),Lq=(function(){var n,e,t,i,r,a={reset:function(l,u,c,f){e=l,n=u,t=c,i=f,r=Math.ceil(i/t),a.next=t>1&&i>0?o:s}};return a;function s(){return e<n?e++:null}function o(){var l=e%r*t+Math.ceil(e/r),u=e>=n?null:l<i?l:e;return e++,u}})();function cm(n,e){var t=e&&e.type;return t==="ordinal"?n:(t==="time"&&!Pn(n)&&n!=null&&n!=="-"&&(n=+Fh(n)),n==null||n===""?NaN:Number(n))}var gIe=bt({number:function(n){return parseFloat(n)},time:function(n){return+Fh(n)},trim:function(n){return ot(n)?Wl(n):n}});function ece(n){return gIe.get(n)}var tce={lt:function(n,e){return n<e},lte:function(n,e){return n<=e},gt:function(n,e){return n>e},gte:function(n,e){return n>=e}},yIe=(function(){function n(e,t){if(!Pn(t)){var i="";ti(i)}this._opFn=tce[e],this._rvalFloat=Nh(t)}return n.prototype.evaluate=function(e){return Pn(e)?this._opFn(e,this._rvalFloat):this._opFn(Nh(e),this._rvalFloat)},n})(),nce=(function(){function n(e,t){var i=e==="desc";this._resultLT=i?1:-1,t==null&&(t=i?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return n.prototype.evaluate=function(e,t){var i=Pn(e)?e:Nh(e),r=Pn(t)?t:Nh(t),a=isNaN(i),s=isNaN(r);if(a&&(i=this._incomparable),s&&(r=this._incomparable),a&&s){var o=ot(e),l=ot(t);o&&(i=l?e:0),l&&(r=o?t:0)}return i<r?this._resultLT:i>r?-this._resultLT:0},n})(),xIe=(function(){function n(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=Nh(t)}return n.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var i=typeof e;i!==this._rvalTypeof&&(i==="number"||this._rvalTypeof==="number")&&(t=Nh(e)===this._rvalFloat)}return this._isEQ?t:!t},n})();function _Ie(n,e){return n==="eq"||n==="ne"?new xIe(n==="eq",e):yt(tce,n)?new yIe(n,e):null}var bIe=(function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return cm(e,t)},n})();function SIe(n,e){var t=new bIe,i=n.data,r=t.sourceFormat=n.sourceFormat,a=n.startIndex,s="";n.seriesLayoutBy!==ef&&ti(s);var o=[],l={},u=n.dimensionsDefine;if(u)Z(u,function(m,y){var x=m.name,b={index:y,name:x,displayName:m.displayName};if(o.push(b),x!=null){var M="";yt(l,x)&&ti(M),l[x]=b}});else for(var c=0;c<n.dimensionsDetectedCount;c++)o.push({index:c});var f=Jue(r,ef);e.__isBuiltIn&&(t.getRawDataItem=function(m){return f(i,a,o,m)},t.getRawData=ct(AIe,null,n)),t.cloneRawData=ct(MIe,null,n);var h=Que(r,ef);t.count=ct(h,null,i,a,o);var d=$ue(r);t.retrieveValue=function(m,y){var x=f(i,a,o,m);return v(x,y)};var v=t.retrieveValueFromItem=function(m,y){if(m!=null){var x=o[y];if(x)return d(m,y,x.name)}};return t.getDimensionInfo=ct(TIe,null,o,l),t.cloneAllDimensionInfo=ct(CIe,null,o),t}function AIe(n){var e=n.sourceFormat;if(!F6(e)){var t="";ti(t)}return n.data}function MIe(n){var e=n.sourceFormat,t=n.data;if(!F6(e)){var i="";ti(i)}if(e===xs){for(var r=[],a=0,s=t.length;a<s;a++)r.push(t[a].slice());return r}else if(e===su){for(var r=[],a=0,s=t.length;a<s;a++)r.push(Ie({},t[a]));return r}}function TIe(n,e,t){if(t!=null){if(Pn(t)||!isNaN(t)&&!yt(e,t))return n[t];if(yt(e,t))return e[t]}}function CIe(n){return Nt(n)}var ice=bt();function wIe(n){n=Nt(n);var e=n.type,t="";e||ti(t);var i=e.split(":");i.length!==2&&ti(t);var r=!1;i[0]==="echarts"&&(e=i[1],r=!0),n.__isBuiltIn=r,ice.set(e,n)}function EIe(n,e,t){var i=Pi(n),r=i.length,a="";r||ti(a);for(var s=0,o=r;s<o;s++){var l=i[s];e=DIe(l,e),s!==o-1&&(e.length=Math.max(e.length,1))}return e}function DIe(n,e,t,i){var r="";e.length||ti(r),Ot(n)||ti(r);var a=n.type,s=ice.get(a);s||ti(r);var o=We(e,function(u){return SIe(u,s)}),l=Pi(s.transform({upstream:o[0],upstreamList:o,config:Nt(n.config)}));return We(l,function(u,c){var f="";Ot(u)||ti(f),u.data||ti(f);var h=que(u.data);F6(h)||ti(f);var d,v=e[0];if(v&&c===0&&!u.dimensions){var m=v.startIndex;m&&(u.data=v.data.slice(0,m).concat(u.data)),d={seriesLayoutBy:ef,sourceHeader:m,dimensions:v.metaRawOption.dimensions}}else d={seriesLayoutBy:ef,sourceHeader:0,dimensions:u.dimensions};return pU(u.data,d,null)})}function F6(n){return n===xs||n===su}var $I="undefined",RIe=typeof Uint32Array===$I?Array:Uint32Array,LIe=typeof Uint16Array===$I?Array:Uint16Array,rce=typeof Int32Array===$I?Array:Int32Array,Nq=typeof Float64Array===$I?Array:Float64Array,ace={float:Nq,int:rce,ordinal:Array,number:Array,time:Nq},v5;function M_(n){return n>65535?RIe:LIe}function T_(){return[1/0,-1/0]}function NIe(n){var e=n.constructor;return e===Array?n.slice():new e(n)}function Iq(n,e,t,i,r){var a=ace[t||"float"];if(r){var s=n[e],o=s&&s.length;if(o!==i){for(var l=new a(i),u=0;u<o;u++)l[u]=s[u];n[e]=l}}else n[e]=new a(i)}var vU=(function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=bt()}return n.prototype.initData=function(e,t,i){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=e.getSource(),a=this.defaultDimValueGetter=v5[r.sourceFormat];this._dimValueGetter=i||a,this._rawExtent=[],Zue(r),this._dimensions=We(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var i=this._calcDimNameToIdx,r=this._dimensions,a=i.get(e);if(a!=null){if(r[a].type===t)return a}else a=r.length;return r[a]={type:t},i.set(e,a),this._chunks[a]=new ace[t||"float"](this._rawCount),this._rawExtent[a]=T_(),a},n.prototype.collectOrdinalMeta=function(e,t){var i=this._chunks[e],r=this._dimensions[e],a=this._rawExtent,s=r.ordinalOffset||0,o=i.length;s===0&&(a[e]=T_());for(var l=a[e],u=s;u<o;u++){var c=i[u]=t.parseAndCollect(i[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}r.ordinalMeta=t,r.ordinalOffset=o,r.type="ordinal"},n.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],i=t.ordinalMeta;return i},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,i=this.count();t.appendData(e);var r=t.count();return t.persistent||(r+=i),i<r&&this._initDataFromProvider(i,r,!0),[i,r]},n.prototype.appendValues=function(e,t){for(var i=this._chunks,r=this._dimensions,a=r.length,s=this._rawExtent,o=this.count(),l=o+Math.max(e.length,t||0),u=0;u<a;u++){var c=r[u];Iq(i,u,c.type,l,!0)}for(var f=[],h=o;h<l;h++)for(var d=h-o,v=0;v<a;v++){var c=r[v],m=v5.arrayRows.call(this,e[d]||f,c.property,d,v);i[v][h]=m;var y=s[v];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}return this._rawCount=this._count=l,{start:o,end:l}},n.prototype._initDataFromProvider=function(e,t,i){for(var r=this._provider,a=this._chunks,s=this._dimensions,o=s.length,l=this._rawExtent,u=We(s,function(b){return b.property}),c=0;c<o;c++){var f=s[c];l[c]||(l[c]=T_()),Iq(a,c,f.type,t,i)}if(r.fillStorage)r.fillStorage(e,t,a,l);else for(var h=[],d=e;d<t;d++){h=r.getItem(d,h);for(var v=0;v<o;v++){var m=a[v],y=this._dimValueGetter(h,u[v],d,v);m[d]=y;var x=l[v];y<x[0]&&(x[0]=y),y>x[1]&&(x[1]=y)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var i=this._chunks[e];return i?i[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var i=[],r=[];if(t==null){t=e,e=[];for(var a=0;a<this._dimensions.length;a++)r.push(a)}else r=e;for(var a=0,s=r.length;a<s;a++)i.push(this.get(r[a],t));return i},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var i=this._chunks[e];return i?i[t]:NaN},n.prototype.getSum=function(e){var t=this._chunks[e],i=0;if(t)for(var r=0,a=this.count();r<a;r++){var s=this.get(e,r);isNaN(s)||(i+=s)}return i},n.prototype.getMedian=function(e){var t=[];this.each([e],function(a){isNaN(a)||t.push(a)});var i=t.sort(function(a,s){return a-s}),r=this.count();return r===0?0:r%2===1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,i=t[e];if(i!=null&&i<this._count&&i===e)return e;for(var r=0,a=this._count-1;r<=a;){var s=(r+a)/2|0;if(t[s]<e)r=s+1;else if(t[s]>e)a=s-1;else return s}return-1},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var i=t.constructor,r=this._count;if(i===Array){e=new i(r);for(var a=0;a<r;a++)e[a]=t[a]}else e=new i(t.buffer,0,r)}else{var i=M_(this._rawCount);e=new i(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var i=this.clone(),r=i.count(),a=M_(i._rawCount),s=new a(r),o=[],l=e.length,u=0,c=e[0],f=i._chunks,h=0;h<r;h++){var d=void 0,v=i.getRawIndex(h);if(l===0)d=t(h);else if(l===1){var m=f[c][v];d=t(m,h)}else{for(var y=0;y<l;y++)o[y]=f[e[y]][v];o[y]=h,d=t.apply(null,o)}d&&(s[u++]=v)}return u<r&&(i._indices=s),i._count=u,i._extent=[],i._updateGetRawIdx(),i},n.prototype.selectRange=function(e){var t=this.clone(),i=t._count;if(!i)return this;var r=Dn(e),a=r.length;if(!a)return this;var s=t.count(),o=M_(t._rawCount),l=new o(s),u=0,c=r[0],f=e[c][0],h=e[c][1],d=t._chunks,v=!1;if(!t._indices){var m=0;if(a===1){for(var y=d[r[0]],x=0;x<i;x++){var b=y[x];(b>=f&&b<=h||isNaN(b))&&(l[u++]=m),m++}v=!0}else if(a===2){for(var y=d[r[0]],M=d[r[1]],C=e[r[1]][0],w=e[r[1]][1],x=0;x<i;x++){var b=y[x],E=M[x];(b>=f&&b<=h||isNaN(b))&&(E>=C&&E<=w||isNaN(E))&&(l[u++]=m),m++}v=!0}}if(!v)if(a===1)for(var x=0;x<s;x++){var L=t.getRawIndex(x),b=d[r[0]][L];(b>=f&&b<=h||isNaN(b))&&(l[u++]=L)}else for(var x=0;x<s;x++){for(var P=!0,L=t.getRawIndex(x),I=0;I<a;I++){var N=r[I],b=d[N][L];(b<e[N][0]||b>e[N][1])&&(P=!1)}P&&(l[u++]=t.getRawIndex(x))}return u<s&&(t._indices=l),t._count=u,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var i=this.clone(e);return this._updateDims(i,e,t),i},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,i){for(var r=e._chunks,a=[],s=t.length,o=e.count(),l=[],u=e._rawExtent,c=0;c<t.length;c++)u[t[c]]=T_();for(var f=0;f<o;f++){for(var h=e.getRawIndex(f),d=0;d<s;d++)l[d]=r[t[d]][h];l[s]=f;var v=i&&i.apply(null,l);if(v!=null){typeof v!="object"&&(a[0]=v,v=a);for(var c=0;c<v.length;c++){var m=t[c],y=v[c],x=u[m],b=r[m];b&&(b[h]=y),y<x[0]&&(x[0]=y),y>x[1]&&(x[1]=y)}}}},n.prototype.lttbDownSample=function(e,t){var i=this.clone([e],!0),r=i._chunks,a=r[e],s=this.count(),o=0,l=Math.floor(1/t),u=this.getRawIndex(0),c,f,h,d=new(M_(this._rawCount))(Math.min((Math.ceil(s/l)+2)*2,s));d[o++]=u;for(var v=1;v<s-1;v+=l){for(var m=Math.min(v+l,s-1),y=Math.min(v+l*2,s),x=(y+m)/2,b=0,M=m;M<y;M++){var C=this.getRawIndex(M),w=a[C];isNaN(w)||(b+=w)}b/=y-m;var E=v,L=Math.min(v+l,s),P=v-1,I=a[u];c=-1,h=E;for(var N=-1,z=0,M=E;M<L;M++){var C=this.getRawIndex(M),w=a[C];if(isNaN(w)){z++,N<0&&(N=C);continue}f=Math.abs((P-x)*(w-I)-(P-M)*(b-I)),f>c&&(c=f,h=C)}z>0&&z<L-E&&(d[o++]=Math.min(N,h),h=Math.max(N,h)),d[o++]=h,u=h}return d[o++]=this.getRawIndex(s-1),i._count=o,i._indices=d,i.getRawIndex=this._getRawIdx,i},n.prototype.minmaxDownSample=function(e,t){for(var i=this.clone([e],!0),r=i._chunks,a=Math.floor(1/t),s=r[e],o=this.count(),l=new(M_(this._rawCount))(Math.ceil(o/a)*2),u=0,c=0;c<o;c+=a){var f=c,h=s[this.getRawIndex(f)],d=c,v=s[this.getRawIndex(d)],m=a;c+a>o&&(m=o-c);for(var y=0;y<m;y++){var x=this.getRawIndex(c+y),b=s[x];b<h&&(h=b,f=c+y),b>v&&(v=b,d=c+y)}var M=this.getRawIndex(f),C=this.getRawIndex(d);f<d?(l[u++]=M,l[u++]=C):(l[u++]=C,l[u++]=M)}return i._count=u,i._indices=l,i._updateGetRawIdx(),i},n.prototype.downSample=function(e,t,i,r){for(var a=this.clone([e],!0),s=a._chunks,o=[],l=Math.floor(1/t),u=s[e],c=this.count(),f=a._rawExtent[e]=T_(),h=new(M_(this._rawCount))(Math.ceil(c/l)),d=0,v=0;v<c;v+=l){l>c-v&&(l=c-v,o.length=l);for(var m=0;m<l;m++){var y=this.getRawIndex(v+m);o[m]=u[y]}var x=i(o),b=this.getRawIndex(Math.min(v+r(o,x)||0,c-1));u[b]=x,x<f[0]&&(f[0]=x),x>f[1]&&(f[1]=x),h[d++]=b}return a._count=d,a._indices=h,a._updateGetRawIdx(),a},n.prototype.each=function(e,t){if(this._count)for(var i=e.length,r=this._chunks,a=0,s=this.count();a<s;a++){var o=this.getRawIndex(a);switch(i){case 0:t(a);break;case 1:t(r[e[0]][o],a);break;case 2:t(r[e[0]][o],r[e[1]][o],a);break;default:for(var l=0,u=[];l<i;l++)u[l]=r[e[l]][o];u[l]=a,t.apply(null,u)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],i=T_();if(!t)return i;var r=this.count(),a=!this._indices,s;if(a)return this._rawExtent[e].slice();if(s=this._extent[e],s)return s.slice();s=i;for(var o=s[0],l=s[1],u=0;u<r;u++){var c=this.getRawIndex(u),f=t[c];f<o&&(o=f),f>l&&(l=f)}return s=[o,l],this._extent[e]=s,s},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var i=[],r=this._chunks,a=0;a<r.length;a++)i.push(r[a][t]);return i},n.prototype.clone=function(e,t){var i=new n,r=this._chunks,a=e&&Ju(e,function(o,l){return o[l]=!0,o},{});if(a)for(var s=0;s<r.length;s++)i._chunks[s]=a[s]?NIe(r[s]):r[s];else i._chunks=r;return this._copyCommonProps(i),t||(i._indices=this._cloneIndices()),i._updateGetRawIdx(),i},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Nt(this._extent),e._rawExtent=Nt(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var i=this._indices.length;t=new e(i);for(var r=0;r<i;r++)t[r]=this._indices[r]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=(function(){function e(t,i,r,a){return cm(t[a],this._dimensions[a])}v5={arrayRows:e,objectRows:function(t,i,r,a){return cm(t[i],this._dimensions[a])},keyedColumns:e,original:function(t,i,r,a){var s=t&&(t.value==null?t:t.value);return cm(s instanceof Array?s[a]:s,this._dimensions[a])},typedArray:function(t,i,r,a){return t[a]}}})(),n})(),sce=(function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),i=!!t.length,r,a;if(oD(e)){var s=e,o=void 0,l=void 0,u=void 0;if(i){var c=t[0];c.prepareSource(),u=c.getSource(),o=u.data,l=u.sourceFormat,a=[c._getVersionSign()]}else o=s.get("data",!0),l=Yo(o)?um:au,a=[];var f=this._getSourceMetaRawOption()||{},h=u&&u.metaRawOption||{},d=At(f.seriesLayoutBy,h.seriesLayoutBy)||null,v=At(f.sourceHeader,h.sourceHeader),m=At(f.dimensions,h.dimensions),y=d!==h.seriesLayoutBy||!!v!=!!h.sourceHeader||m;r=y?[pU(o,{seriesLayoutBy:d,sourceHeader:v,dimensions:m},l)]:[]}else{var x=e;if(i){var b=this._applyTransform(t);r=b.sourceList,a=b.upstreamSignList}else{var M=x.get("source",!0);r=[pU(M,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(r,a)},n.prototype._applyTransform=function(e){var t=this._sourceHost,i=t.get("transform",!0),r=t.get("fromTransformResult",!0);if(r!=null){var a="";e.length!==1&&Bq(a)}var s,o=[],l=[];return Z(e,function(u){u.prepareSource();var c=u.getSource(r||0),f="";r!=null&&!c&&Bq(f),o.push(c),l.push(u._getVersionSign())}),i?s=EIe(i,o,{datasetIndex:t.componentIndex}):r!=null&&(s=[uIe(o[0])]),{sourceList:s,upstreamSignList:l}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var i=e[t];if(i._isDirty()||this._upstreamSignList[t]!==i._getVersionSign())return!0}},n.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,i){var r=0,a=this._storeList,s=a[r];s||(s=a[r]={});var o=s[i];if(!o){var l=this._getUpstreamSourceManagers()[0];oD(this._sourceHost)&&l?o=l._innerGetDataStore(e,t,i):(o=new vU,o.initData(new Kue(t,e.length),e)),s[i]=o}return o},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(oD(e)){var t=I6(e);return t?[t.getSourceManager()]:[]}else return We(kNe(e),function(i){return i.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,i,r;if(oD(e))t=e.get("seriesLayoutBy",!0),i=e.get("sourceHeader",!0),r=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;t=a.get("seriesLayoutBy",!0),i=a.get("sourceHeader",!0),r=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:i,dimensions:r}},n})();function Pq(n){var e=n.option.transform;e&&TT(n.option.transform)}function oD(n){return n.mainType==="series"}function Bq(n){throw new Error(n)}var IIe="line-height:1";function oce(n){var e=n.lineHeight;return e==null?IIe:"line-height:"+so(e+"")+"px"}function lce(n,e){var t=n.color||xe.color.tertiary,i=n.fontSize||12,r=n.fontWeight||"400",a=n.color||xe.color.secondary,s=n.fontSize||14,o=n.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+so(i+"")+"px;color:"+so(t)+";font-weight:"+so(r+""),valueStyle:"font-size:"+so(s+"")+"px;color:"+so(a)+";font-weight:"+so(o+"")}:{nameStyle:{fontSize:i,fill:t,fontWeight:r},valueStyle:{fontSize:s,fill:a,fontWeight:o}}}var PIe=[0,10,20,30],BIe=["",`
`,`

`,`


`];function pa(n,e){return e.type=n,e}function mU(n){return n.type==="section"}function uce(n){return mU(n)?OIe:zIe}function cce(n){if(mU(n)){var e=0,t=n.blocks.length,i=t>1||t>0&&!n.noHeader;return Z(n.blocks,function(r){var a=cce(r);a>=e&&(e=a+ +(i&&(!a||mU(r)&&!r.noHeader)))}),e}return 0}function OIe(n,e,t,i){var r=e.noHeader,a=kIe(cce(e)),s=[],o=e.blocks||[];zs(!o||Ve(o)),o=o||[];var l=n.orderMode;if(e.sortBlocks&&l){o=o.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(yt(u,l)){var c=new nce(u[l],null);o.sort(function(m,y){return c.evaluate(m.sortParam,y.sortParam)})}else l==="seriesDesc"&&o.reverse()}Z(o,function(m,y){var x=e.valueFormatter,b=uce(m)(x?Ie(Ie({},n),{valueFormatter:x}):n,m,y>0?a.html:0,i);b!=null&&s.push(b)});var f=n.renderMode==="richText"?s.join(a.richText):gU(i,s.join(""),r?t:a.html);if(r)return f;var h=cU(e.header,"ordinal",n.useUTC),d=lce(i,n.renderMode).nameStyle,v=oce(i);return n.renderMode==="richText"?fce(n,h,d)+a.richText+f:gU(i,'<div style="'+d+";"+v+';">'+so(h)+"</div>"+f,t)}function zIe(n,e,t,i){var r=n.renderMode,a=e.noName,s=e.noValue,o=!e.markerType,l=e.name,u=n.useUTC,c=e.valueFormatter||n.valueFormatter||function(C){return C=Ve(C)?C:[C],We(C,function(w,E){return cU(w,Ve(d)?d[E]:d,u)})};if(!(a&&s)){var f=o?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||xe.color.secondary,r),h=a?"":cU(l,"ordinal",u),d=e.valueType,v=s?[]:c(e.value,e.dataIndex),m=!o||!a,y=!o&&a,x=lce(i,r),b=x.nameStyle,M=x.valueStyle;return r==="richText"?(o?"":f)+(a?"":fce(n,h,b))+(s?"":GIe(n,v,m,y,M)):gU(i,(o?"":f)+(a?"":FIe(h,!o,b))+(s?"":UIe(v,m,y,M)),t)}}function Oq(n,e,t,i,r,a){if(n){var s=uce(n),o={useUTC:r,renderMode:t,orderMode:i,markupStyleCreator:e,valueFormatter:n.valueFormatter};return s(o,n,0,a)}}function kIe(n){return{html:PIe[n],richText:BIe[n]}}function gU(n,e,t){var i='<div style="clear:both"></div>',r="margin: "+t+"px 0 0",a=oce(n);return'<div style="'+r+";"+a+';">'+e+i+"</div>"}function FIe(n,e,t){var i=e?"margin-left:2px":"";return'<span style="'+t+";"+i+'">'+so(n)+"</span>"}function UIe(n,e,t,i){var r=t?"10px":"20px",a=e?"float:right;margin-left:"+r:"";return n=Ve(n)?n:[n],'<span style="'+a+";"+i+'">'+We(n,function(s){return so(s)}).join("&nbsp;&nbsp;")+"</span>"}function fce(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function GIe(n,e,t,i,r){var a=[r],s=i?10:20;return t&&a.push({padding:[0,0,0,s],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(Ve(e)?e.join("  "):e,a)}function hce(n,e){var t=n.getData().getItemVisual(e,"style"),i=t[n.visualDrawType];return By(i)}function dce(n,e){var t=n.get("padding");return t??(e==="richText"?[8,10]:10)}var m5=(function(){function n(){this.richTextStyles={},this._nextStyleNameId=_le()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,i){var r=i==="richText"?this._generateStyleName():null,a=wue({color:t,type:e,renderMode:i,markerId:r});return ot(a)?a:(this.richTextStyles[r]=a.style,a.content)},n.prototype.wrapRichTextStyle=function(e,t){var i={};Ve(t)?Z(t,function(a){return Ie(i,a)}):Ie(i,t);var r=this._generateStyleName();return this.richTextStyles[r]=i,"{"+r+"|"+e+"}"},n})();function pce(n){var e=n.series,t=n.dataIndex,i=n.multipleSeries,r=e.getData(),a=r.mapDimensionsAll("defaultedTooltip"),s=a.length,o=e.getRawValue(t),l=Ve(o),u=hce(e,t),c,f,h,d;if(s>1||l&&!s){var v=VIe(o,e,t,a,u);c=v.inlineValues,f=v.inlineValueTypes,h=v.blocks,d=v.inlineValues[0]}else if(s){var m=r.getDimensionInfo(a[0]);d=c=vb(r,t,a[0]),f=m.type}else d=c=l?o[0]:o;var y=JV(e),x=y&&e.name||"",b=r.getName(t),M=i?x:b;return pa("section",{header:x,noHeader:i||!y,sortParam:d,blocks:[pa("nameValue",{markerType:"item",markerColor:u,name:M,noName:!Wl(M),value:c,valueType:f,dataIndex:t})].concat(h||[])})}function VIe(n,e,t,i,r){var a=e.getData(),s=Ju(n,function(f,h,d){var v=a.getDimensionInfo(d);return f=f||v&&v.tooltip!==!1&&v.displayName!=null},!1),o=[],l=[],u=[];i.length?Z(i,function(f){c(vb(a,t,f),f)}):Z(n,c);function c(f,h){var d=a.getDimensionInfo(h);!d||d.otherDims.tooltip===!1||(s?u.push(pa("nameValue",{markerType:"subItem",markerColor:r,name:d.displayName,value:f,valueType:d.type})):(o.push(f),l.push(d.type)))}return{inlineValues:o,inlineValueTypes:l,blocks:u}}var bv=_n();function lD(n,e){return n.getName(e)||n.getId(e)}var S3="__universalTransitionEnabled",Ti=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,i,r){this.seriesIndex=this.componentIndex,this.dataTask=Y2({count:HIe,reset:WIe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,r);var a=bv(this).sourceManager=new sce(this);a.prepareSource();var s=this.getInitialData(t,r);kq(s,this),this.dataTask.context.data=s,bv(this).dataBeforeProcessed=s,zq(this),this._initSelectedMapFromData(s)},e.prototype.mergeDefaultAndTheme=function(t,i){var r=zT(this),a=r?Ky(t):{},s=this.subType;xn.hasClass(s)&&(s+="Series"),an(t,i.getTheme().get(this.subType)),an(t,this.getDefaultOption()),Dy(t,"label",["show"]),this.fillDataTextStyle(t.data),r&&Ph(t,a,r)},e.prototype.mergeOption=function(t,i){t=an(this.option,t,!0),this.fillDataTextStyle(t.data);var r=zT(this);r&&Ph(this.option,t,r);var a=bv(this).sourceManager;a.dirty(),a.prepareSource();var s=this.getInitialData(t,i);kq(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,bv(this).dataBeforeProcessed=s,zq(this),this._initSelectedMapFromData(s)},e.prototype.fillDataTextStyle=function(t){if(t&&!Yo(t))for(var i=["show"],r=0;r<t.length;r++)t[r]&&t[r].label&&Dy(t[r],"label",i)},e.prototype.getInitialData=function(t,i){},e.prototype.appendData=function(t){var i=this.getRawData();i.appendData(t.data)},e.prototype.getData=function(t){var i=yU(this);if(i){var r=i.context.data;return t==null||!r.getLinkedData?r:r.getLinkedData(t)}else return bv(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var i=yU(this);if(i){var r=i.context;r.outputData=t,i!==this.dataTask&&(r.data=t)}bv(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return bt(t)},e.prototype.getSourceManager=function(){return bv(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return bv(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.indicesOfNearest=function(t,i,r,a){var s=this.getData(),o=this.coordinateSystem,l=o&&o.getAxis(t);if(!o||!l)return[];var u=l.dataToCoord(r);a==null&&(a=1/0);var c=[],f=1/0,h=-1,d=0;return s.each(i,function(v,m){var y=l.dataToCoord(v),x=u-y,b=Math.abs(x);b<=a&&((b<f||b===f&&x>=0&&h<0)&&(f=b,h=x,d=0),x===h&&(c[d++]=m))}),c.length=d,c},e.prototype.formatTooltip=function(t,i,r){return pce({series:this,dataIndex:t,multipleSeries:i})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(wn.node&&!(t&&t.ssr))return!1;var i=this.getShallow("animation");return i&&this.getData().count()>this.getShallow("animationThreshold")&&(i=!1),!!i},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,i,r){var a=this.ecModel,s=P6.prototype.getColorFromPalette.call(this,t,i,r);return s||(s=a.getColorFromPalette(t,i,r)),s},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,i){this._innerSelect(this.getData(i),t)},e.prototype.unselect=function(t,i){var r=this.option.selectedMap;if(r){var a=this.option.selectedMode,s=this.getData(i);if(a==="series"||r==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<t.length;o++){var l=t[o],u=lD(s,l);r[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(t,i){for(var r=[],a=0;a<t.length;a++)r[0]=t[a],this.isSelected(t[a],i)?this.unselect(r,i):this.select(r,i)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,i=Dn(t),r=[],a=0;a<i.length;a++){var s=t[i[a]];s>=0&&r.push(s)}return r},e.prototype.isSelected=function(t,i){var r=this.option.selectedMap;if(!r)return!1;var a=this.getData(i);return(r==="all"||r[lD(a,t)])&&!a.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[S3])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,i){var r,a,s=this.option,o=s.selectedMode,l=i.length;if(!(!o||!l)){if(o==="series")s.selectedMap="all";else if(o==="multiple"){Ot(s.selectedMap)||(s.selectedMap={});for(var u=s.selectedMap,c=0;c<l;c++){var f=i[c],h=lD(t,f);u[h]=!0,this._selectedDataIndicesMap[h]=t.getRawIndex(f)}}else if(o==="single"||o===!0){var d=i[l-1],h=lD(t,d);s.selectedMap=(r={},r[h]=!0,r),this._selectedDataIndicesMap=(a={},a[h]=t.getRawIndex(d),a)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var i=[];t.hasItemOption&&t.each(function(r){var a=t.getRawDataItem(r);a&&a.selected&&i.push(r)}),i.length>0&&this._innerSelect(t,i)}},e.registerClass=function(t){return xn.registerClass(t)},e.protoInitialize=(function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"})(),e})(xn);kr(Ti,QI);kr(Ti,P6);Rle(Ti,xn);function zq(n){var e=n.name;JV(n)||(n.name=jIe(n)||e)}function jIe(n){var e=n.getRawData(),t=e.mapDimensionsAll("seriesName"),i=[];return Z(t,function(r){var a=e.getDimensionInfo(r);a.displayName&&i.push(a.displayName)}),i.join(" ")}function HIe(n){return n.model.getRawData().count()}function WIe(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),XIe}function XIe(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function kq(n,e){Z(lb(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,$t(YIe,e))})}function YIe(n,e){var t=yU(n);return t&&t.setOutputEnd((e||this).count()),e}function yU(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var i=t.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(n.uid))}return i}}var Bi=(function(){function n(){this.group=new It,this.uid=lS("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,r){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,r){},n.prototype.updateLayout=function(e,t,i,r){},n.prototype.updateVisual=function(e,t,i,r){},n.prototype.toggleBlurSeries=function(e,t,i){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n})();$V(Bi);FI(Bi);function fS(){var n=_n();return function(e){var t=n(e),i=e.pipelineContext,r=!!t.large,a=!!t.progressiveRender,s=t.large=!!(i&&i.large),o=t.progressiveRender=!!(i&&i.progressiveRender);return(r!==s||a!==o)&&"reset"}}var vce=_n(),qIe=fS(),xi=(function(){function n(){this.group=new It,this.uid=lS("viewChart"),this.renderTask=Y2({plan:ZIe,reset:KIe}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,r){},n.prototype.highlight=function(e,t,i,r){var a=e.getData(r&&r.dataType);a&&Uq(a,r,"emphasis")},n.prototype.downplay=function(e,t,i,r){var a=e.getData(r&&r.dataType);a&&Uq(a,r,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.updateLayout=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.updateVisual=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.eachRendered=function(e){Bm(this.group,e)},n.markUpdateMethod=function(e,t){vce(e).updateMethod=t},n.protoInitialize=(function(){var e=n.prototype;e.type="chart"})(),n})();function Fq(n,e,t){n&&PT(n)&&(e==="emphasis"?bp:Sp)(n,t)}function Uq(n,e,t){var i=Ry(n,e),r=e&&e.highlightKey!=null?SLe(e.highlightKey):null;i!=null?Z(Pi(i),function(a){Fq(n.getItemGraphicEl(a),t,r)}):n.eachItemGraphicEl(function(a){Fq(a,t,r)})}$V(xi);FI(xi);function ZIe(n){return qIe(n.model)}function KIe(n){var e=n.model,t=n.ecModel,i=n.api,r=n.payload,a=e.pipelineContext.progressiveRender,s=n.view,o=r&&vce(r).updateMethod,l=a?"incrementalPrepareRender":o&&s[o]?o:"render";return l!=="render"&&s[l](e,t,i,r),JIe[l]}var JIe={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},TL="\0__throttleOriginMethod",Gq="\0__throttleRate",Vq="\0__throttleType";function eP(n,e,t){var i,r=0,a=0,s=null,o,l,u,c;e=e||0;function f(){a=new Date().getTime(),s=null,n.apply(l,u||[])}var h=function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];i=new Date().getTime(),l=this,u=d;var m=c||e,y=c||t;c=null,o=i-(y?r:a)-m,clearTimeout(s),y?s=setTimeout(f,m):o>=0?f():s=setTimeout(f,-o),r=i};return h.clear=function(){s&&(clearTimeout(s),s=null)},h.debounceNextCall=function(d){c=d},h}function hS(n,e,t,i){var r=n[e];if(r){var a=r[TL]||r,s=r[Vq],o=r[Gq];if(o!==t||s!==i){if(t==null||!i)return n[e]=a;r=n[e]=eP(a,t,i==="debounce"),r[TL]=a,r[Vq]=i,r[Gq]=t}return r}}function FT(n,e){var t=n[e];t&&t[TL]&&(t.clear&&t.clear(),n[e]=t[TL])}var jq=_n(),Hq={itemStyle:Ly(yue,!0),lineStyle:Ly(gue,!0)},QIe={lineStyle:"stroke",itemStyle:"fill"};function mce(n,e){var t=n.visualStyleMapper||Hq[e];return t||(console.warn("Unknown style type '"+e+"'."),Hq.itemStyle)}function gce(n,e){var t=n.visualDrawType||QIe[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var $Ie={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=n.getModel(i),a=mce(n,i),s=a(r),o=r.getShallow("decal");o&&(t.setVisual("decal",o),o.dirty=!0);var l=gce(n,i),u=s[l],c=wt(u)?u:null,f=s.fill==="auto"||s.stroke==="auto";if(!s[l]||c||f){var h=n.getColorFromPalette(n.name,null,e.getSeriesCount());s[l]||(s[l]=h,t.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||wt(s.fill)?h:s.fill,s.stroke=s.stroke==="auto"||wt(s.stroke)?h:s.stroke}if(t.setVisual("style",s),t.setVisual("drawType",l),!e.isSeriesFiltered(n)&&c)return t.setVisual("colorFromPalette",!1),{dataEach:function(d,v){var m=n.getDataParams(v),y=Ie({},s);y[l]=c(m),d.setItemVisual(v,"style",y)}}}},hM=new Sn,ePe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!(n.ignoreStyleOnData||e.isSeriesFiltered(n))){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=mce(n,i),a=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(s,o){var l=s.getRawDataItem(o);if(l&&l[i]){hM.option=l[i];var u=r(hM),c=s.ensureUniqueItemVisual(o,"style");Ie(c,u),hM.option.decal&&(s.setItemVisual(o,"decal",hM.option.decal),hM.option.decal.dirty=!0),a in u&&s.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},tPe={performRawSeries:!0,overallReset:function(n){var e=bt();n.eachSeries(function(t){var i=t.getColorBy();if(!t.isColorBySeries()){var r=t.type+"-"+i,a=e.get(r);a||(a={},e.set(r,a)),jq(t).scope=a}}),n.eachSeries(function(t){if(!(t.isColorBySeries()||n.isSeriesFiltered(t))){var i=t.getRawData(),r={},a=t.getData(),s=jq(t).scope,o=t.visualStyleAccessPath||"itemStyle",l=gce(t,o);a.each(function(u){var c=a.getRawIndex(u);r[c]=u}),i.each(function(u){var c=r[u],f=a.getItemVisual(c,"colorFromPalette");if(f){var h=a.ensureUniqueItemVisual(c,"style"),d=i.getName(u)||u+"",v=i.count();h[l]=t.getColorFromPalette(d,s,v)}})}})}},uD=Math.PI;function nPe(n,e){e=e||{},Bt(e,{text:"loading",textColor:xe.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:xe.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var t=new It,i=new pn({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(i);var r=new In({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new pn({style:{fill:"none"},textContent:r,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(a);var s;return e.showSpinner&&(s=new OC({shape:{startAngle:-uD/2,endAngle:-uD/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:uD*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:uD*3/2}).delay(300).start("circularInOut"),t.add(s)),t.resize=function(){var o=r.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,u=(n.getWidth()-l*2-(e.showSpinner&&o?10:0)-o)/2-(e.showSpinner&&o?0:5+o/2)+(e.showSpinner?0:o/2)+(o?0:l),c=n.getHeight()/2;e.showSpinner&&s.setShape({cx:u,cy:c}),a.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),i.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}var yce=(function(){function n(e,t,i,r){this._stageTaskMap=bt(),this.ecInstance=e,this.api=t,i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=i.concat(r)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(i){var r=i.overallTask;r&&r.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var i=this._pipelineMap.get(e.__pipeline.id),r=i.context,a=!t&&i.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>i.blockIndex,s=a?i.step:null,o=r&&r.modDataCount,l=o!=null?Math.ceil(o/s):null;return{step:s,modBy:l,modDataCount:o}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var i=this._pipelineMap.get(e.uid),r=e.getData(),a=r.count(),s=i.progressiveEnabled&&t.incrementalPrepareRender&&a>=i.threshold,o=e.get("large")&&a>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=i.context={progressiveRender:s,modDataCount:l,large:o}},n.prototype.restorePipelines=function(e){var t=this,i=t._pipelineMap=bt();e.eachSeries(function(r){var a=r.getProgressive(),s=r.uid;i.set(s,{id:s,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:a&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),t._pipe(r,r.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),i=this.api;Z(this._allHandlers,function(r){var a=e.get(r.uid)||e.set(r.uid,{}),s="";zs(!(r.reset&&r.overallReset),s),r.reset&&this._createSeriesStageTask(r,a,t,i),r.overallReset&&this._createOverallStageTask(r,a,t,i)},this)},n.prototype.prepareView=function(e,t,i,r){var a=e.renderTask,s=a.context;s.model=t,s.ecModel=i,s.api=r,a.__block=!e.incrementalPrepareRender,this._pipe(t,a)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,i){this._performStageTasks(this._visualHandlers,e,t,i)},n.prototype._performStageTasks=function(e,t,i,r){r=r||{};var a=!1,s=this;Z(e,function(l,u){if(!(r.visualType&&r.visualType!==l.visualType)){var c=s._stageTaskMap.get(l.uid),f=c.seriesTaskMap,h=c.overallTask;if(h){var d,v=h.agentStubMap;v.each(function(y){o(r,y)&&(y.dirty(),d=!0)}),d&&h.dirty(),s.updatePayload(h,i);var m=s.getPerformArgs(h,r.block);v.each(function(y){y.perform(m)}),h.perform(m)&&(a=!0)}else f&&f.each(function(y,x){o(r,y)&&y.dirty();var b=s.getPerformArgs(y,r.block);b.skip=!l.performRawSeries&&t.isSeriesFiltered(y.context.model),s.updatePayload(y,i),y.perform(b)&&(a=!0)})}});function o(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=a||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(i){t=i.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,i,r){var a=this,s=t.seriesTaskMap,o=t.seriesTaskMap=bt(),l=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?i.eachRawSeries(c):l?i.eachRawSeriesByType(l,c):u&&u(i,r).each(c);function c(f){var h=f.uid,d=o.set(h,s&&s.get(h)||Y2({plan:oPe,reset:lPe,count:cPe}));d.context={model:f,ecModel:i,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(f,d)}},n.prototype._createOverallStageTask=function(e,t,i,r){var a=this,s=t.overallTask=t.overallTask||Y2({reset:iPe});s.context={ecModel:i,api:r,overallReset:e.overallReset,scheduler:a};var o=s.agentStubMap,l=s.agentStubMap=bt(),u=e.seriesType,c=e.getTargetSeries,f=!0,h=!1,d="";zs(!e.createOnAllSeries,d),u?i.eachRawSeriesByType(u,v):c?c(i,r).each(v):(f=!1,Z(i.getSeries(),v));function v(m){var y=m.uid,x=l.set(y,o&&o.get(y)||(h=!0,Y2({reset:rPe,onDirty:sPe})));x.context={model:m,overallProgress:f},x.agent=s,x.__block=f,a._pipe(m,x)}h&&s.dirty()},n.prototype._pipe=function(e,t){var i=e.uid,r=this._pipelineMap.get(i);!r.head&&(r.head=t),r.tail&&r.tail.pipe(t),r.tail=t,t.__idxInPipeline=r.count++,t.__pipeline=r},n.wrapStageHandler=function(e,t){return wt(e)&&(e={overallReset:e,seriesType:fPe(e)}),e.uid=lS("stageHandler"),t&&(e.visualType=t),e},n})();function iPe(n){n.overallReset(n.ecModel,n.api,n.payload)}function rPe(n){return n.overallProgress&&aPe}function aPe(){this.agent.dirty(),this.getDownstream().dirty()}function sPe(){this.agent&&this.agent.dirty()}function oPe(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function lPe(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=Pi(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?We(e,function(t,i){return xce(i)}):uPe}var uPe=xce(0);function xce(n){return function(e,t){var i=t.data,r=t.resetDefines[n];if(r&&r.dataEach)for(var a=e.start;a<e.end;a++)r.dataEach(i,a);else r&&r.progress&&r.progress(e,i)}}function cPe(n){return n.data.count()}function fPe(n){CL=null;try{n(UT,_ce)}catch{}return CL}var UT={},_ce={},CL;bce(UT,B6);bce(_ce,Wue);UT.eachSeriesByType=UT.eachRawSeriesByType=function(n){CL=n};UT.eachComponent=function(n){n.mainType==="series"&&n.subType&&(CL=n.subType)};function bce(n,e){for(var t in e.prototype)n[t]=Or}var kt=xe.darkColor,hPe=kt.background,dM=function(){return{axisLine:{lineStyle:{color:kt.axisLine}},splitLine:{lineStyle:{color:kt.axisSplitLine}},splitArea:{areaStyle:{color:[kt.backgroundTint,kt.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:kt.axisMinorSplitLine}},axisLabel:{color:kt.axisLabel},axisName:{}}},Wq={label:{color:kt.secondary},itemStyle:{borderColor:kt.borderTint},dividerLineStyle:{color:kt.border}},Sce={darkMode:!0,color:kt.theme,backgroundColor:hPe,axisPointer:{lineStyle:{color:kt.border},crossStyle:{color:kt.borderShade},label:{color:kt.tertiary}},legend:{textStyle:{color:kt.secondary},pageTextStyle:{color:kt.tertiary}},textStyle:{color:kt.secondary},title:{textStyle:{color:kt.primary},subtextStyle:{color:kt.quaternary}},toolbox:{iconStyle:{borderColor:kt.accent50}},tooltip:{backgroundColor:kt.neutral20,defaultBorderColor:kt.border,textStyle:{color:kt.tertiary}},dataZoom:{borderColor:kt.accent10,textStyle:{color:kt.tertiary},brushStyle:{color:kt.backgroundTint},handleStyle:{color:kt.neutral00,borderColor:kt.accent20},moveHandleStyle:{color:kt.accent40},emphasis:{handleStyle:{borderColor:kt.accent50}},dataBackground:{lineStyle:{color:kt.accent30},areaStyle:{color:kt.accent20}},selectedDataBackground:{lineStyle:{color:kt.accent50},areaStyle:{color:kt.accent30}}},visualMap:{textStyle:{color:kt.secondary},handleStyle:{borderColor:kt.neutral30}},timeline:{lineStyle:{color:kt.accent10},label:{color:kt.tertiary},controlStyle:{color:kt.accent30,borderColor:kt.accent30}},calendar:{itemStyle:{color:kt.neutral00,borderColor:kt.neutral20},dayLabel:{color:kt.tertiary},monthLabel:{color:kt.secondary},yearLabel:{color:kt.secondary}},matrix:{x:Wq,y:Wq,backgroundColor:{borderColor:kt.axisLine},body:{itemStyle:{borderColor:kt.borderTint}}},timeAxis:dM(),logAxis:dM(),valueAxis:dM(),categoryAxis:dM(),line:{symbol:"circle"},graph:{color:kt.theme},gauge:{title:{color:kt.secondary},axisLine:{lineStyle:{color:[[1,kt.neutral05]]}},axisLabel:{color:kt.axisLabel},detail:{color:kt.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:kt.background}},radar:(function(){var n=dM();return n.axisName={color:kt.axisLabel},n.axisLine.lineStyle.color=kt.neutral20,n})(),treemap:{breadcrumb:{itemStyle:{color:kt.neutral20,textStyle:{color:kt.secondary}},emphasis:{itemStyle:{color:kt.neutral30}}}},sunburst:{itemStyle:{borderColor:kt.background}},map:{itemStyle:{borderColor:kt.border,areaColor:kt.neutral10},label:{color:kt.tertiary},emphasis:{label:{color:kt.primary},itemStyle:{areaColor:kt.highlight}},select:{label:{color:kt.primary},itemStyle:{areaColor:kt.highlight}}},geo:{itemStyle:{borderColor:kt.border,areaColor:kt.neutral10},emphasis:{label:{color:kt.primary},itemStyle:{areaColor:kt.highlight}},select:{label:{color:kt.primary},itemStyle:{color:kt.highlight}}}};Sce.categoryAxis.splitLine.show=!1;var dPe=(function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},i={},r={};if(ot(e)){var a=gh(e);t.mainType=a.main||null,t.subType=a.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};Z(e,function(l,u){for(var c=!1,f=0;f<s.length;f++){var h=s[f],d=u.lastIndexOf(h);if(d>0&&d===u.length-h.length){var v=u.slice(0,d);v!=="data"&&(t.mainType=v,t[h.toLowerCase()]=l,c=!0)}}o.hasOwnProperty(u)&&(i[u]=l,c=!0),c||(r[u]=l)})}return{cptQuery:t,dataQuery:i,otherQuery:r}},n.prototype.filter=function(e,t){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,a=i.packedEvent,s=i.model,o=i.view;if(!s||!o)return!0;var l=t.cptQuery,u=t.dataQuery;return c(l,s,"mainType")&&c(l,s,"subType")&&c(l,s,"index","componentIndex")&&c(l,s,"name")&&c(l,s,"id")&&c(u,a,"name")&&c(u,a,"dataIndex")&&c(u,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,t.otherQuery,r,a));function c(f,h,d,v){return f[d]==null||h[v||d]===f[d]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n})(),xU=["symbol","symbolSize","symbolRotate","symbolOffset"],Xq=xU.concat(["symbolKeepAspect"]),pPe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var i={},r={},a=!1,s=0;s<xU.length;s++){var o=xU[s],l=n.get(o);wt(l)?(a=!0,r[o]=l):i[o]=l}if(i.symbol=i.symbol||n.defaultSymbol,t.setVisual(Ie({legendIcon:n.legendIcon||i.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},i)),e.isSeriesFiltered(n))return;var u=Dn(r);function c(f,h){for(var d=n.getRawValue(h),v=n.getDataParams(h),m=0;m<u.length;m++){var y=u[m];f.setItemVisual(h,y,r[y](d,v))}}return{dataEach:a?c:null}}},vPe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.hasSymbolVisual||e.isSeriesFiltered(n))return;var t=n.getData();function i(r,a){for(var s=r.getItemModel(a),o=0;o<Xq.length;o++){var l=Xq[o],u=s.getShallow(l,!0);u!=null&&r.setItemVisual(a,l,u)}}return{dataEach:t.hasItemOption?i:null}}};function U6(n,e,t){switch(t){case"color":var i=n.getItemVisual(e,"style");return i[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function GC(n,e){switch(e){case"color":var t=n.getVisual("style");return t[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function Ace(n,e,t,i){switch(t){case"color":var r=n.ensureUniqueItemVisual(e,"style");r[n.getVisual("drawType")]=i,n.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(e,t,i);break}}function Mce(n,e){function t(i,r){var a=[];return i.eachComponent({mainType:"series",subType:n,query:r},function(s){a.push(s.seriesIndex)}),a}Z([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(i){e(i[0],function(r,a,s){r=Ie({},r),s.dispatchAction(Ie(r,{type:i[1],seriesIndex:t(a,r)}))})})}function C_(n,e,t,i,r){var a=n+e;t.isSilent(a)||i.eachComponent({mainType:"series",subType:"pie"},function(s){for(var o=s.seriesIndex,l=s.option.selectedMap,u=r.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===o){var f=s.getData(),h=Ry(f,r.fromActionPayload);t.trigger(a,{type:a,seriesId:s.id,name:Ve(h)?f.getName(h[0]):f.getName(h),selected:ot(l)?l:Ie({},l)})}})}function mPe(n,e,t){n.on("selectchanged",function(i){var r=t.getModel();i.isFromClick?(C_("map","selectchanged",e,r,i),C_("pie","selectchanged",e,r,i)):i.fromAction==="select"?(C_("map","selected",e,r,i),C_("pie","selected",e,r,i)):i.fromAction==="unselect"&&(C_("map","unselected",e,r,i),C_("pie","unselected",e,r,i))})}function Z0(n,e,t){for(var i;n&&!(e(n)&&(i=n,t));)n=n.__hostTarget||n.parent;return i}var gPe=Math.round(Math.random()*9),yPe=typeof Object.defineProperty=="function",xPe=(function(){function n(){this._id="__ec_inner_"+gPe++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var i=this._guard(e);return yPe?Object.defineProperty(i,this._id,{value:t,enumerable:!1,configurable:!0}):i[this._id]=t,this},n.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n})(),_Pe=An.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,r=e.width/2,a=e.height/2;n.moveTo(t,i-a),n.lineTo(t+r,i+a),n.lineTo(t-r,i+a),n.closePath()}}),bPe=An.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,r=e.width/2,a=e.height/2;n.moveTo(t,i-a),n.lineTo(t+r,i),n.lineTo(t,i+a),n.lineTo(t-r,i),n.closePath()}}),SPe=An.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,i=e.y,r=e.width/5*3,a=Math.max(r,e.height),s=r/2,o=s*s/(a-s),l=i-a+s+o,u=Math.asin(o/s),c=Math.cos(u)*s,f=Math.sin(u),h=Math.cos(u),d=s*.6,v=s*.7;n.moveTo(t-c,l+o),n.arc(t,l,s,Math.PI-u,Math.PI*2+u),n.bezierCurveTo(t+c-f*d,l+o+h*d,t,i-v,t,i),n.bezierCurveTo(t,i-v,t-c+f*d,l+o+h*d,t-c,l+o),n.closePath()}}),APe=An.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,i=e.width,r=e.x,a=e.y,s=i/3*2;n.moveTo(r,a),n.lineTo(r+s,a+t),n.lineTo(r,a+t/4*3),n.lineTo(r-s,a+t),n.lineTo(r,a),n.closePath()}}),MPe={line:Qr,rect:pn,roundRect:pn,square:pn,circle:Uh,diamond:bPe,pin:SPe,arrow:APe,triangle:_Pe},TPe={line:function(n,e,t,i,r){r.x1=n,r.y1=e+i/2,r.x2=n+t,r.y2=e+i/2},rect:function(n,e,t,i,r){r.x=n,r.y=e,r.width=t,r.height=i},roundRect:function(n,e,t,i,r){r.x=n,r.y=e,r.width=t,r.height=i,r.r=Math.min(t,i)/4},square:function(n,e,t,i,r){var a=Math.min(t,i);r.x=n,r.y=e,r.width=a,r.height=a},circle:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.r=Math.min(t,i)/2},diamond:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.width=t,r.height=i},pin:function(n,e,t,i,r){r.x=n+t/2,r.y=e+i/2,r.width=t,r.height=i},arrow:function(n,e,t,i,r){r.x=n+t/2,r.y=e+i/2,r.width=t,r.height=i},triangle:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.width=t,r.height=i}},wL={};Z(MPe,function(n,e){wL[e]=new n});var CPe=An.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var i=vL(n,e,t),r=this.shape;return r&&r.symbolType==="pin"&&e.position==="inside"&&(i.y=t.y+t.height*.4),i},buildPath:function(n,e,t){var i=e.symbolType;if(i!=="none"){var r=wL[i];r||(i="rect",r=wL[i]),TPe[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(n,r.shape,t)}}});function wPe(n,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||xe.color.neutral00,t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=n:t.fill=n,this.markRedraw()}}function $r(n,e,t,i,r,a,s){var o=n.indexOf("empty")===0;o&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var l;return n.indexOf("image://")===0?l=f6(n.slice(8),new Ut(e,t,i,r),s?"center":"cover"):n.indexOf("path://")===0?l=db(n.slice(7),{},new Ut(e,t,i,r),s?"center":"cover"):l=new CPe({shape:{symbolType:n,x:e,y:t,width:i,height:r}}),l.__isEmptyBrush=o,l.setColor=wPe,a&&l.setColor(a),l}function dS(n){return Ve(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function Qy(n,e){if(n!=null)return Ve(n)||(n=[n,n]),[st(n[0],e[0])||0,st(At(n[1],n[0]),e[1])||0]}function K0(n){return isFinite(n)}function EPe(n,e,t){var i=e.x==null?0:e.x,r=e.x2==null?1:e.x2,a=e.y==null?0:e.y,s=e.y2==null?0:e.y2;e.global||(i=i*t.width+t.x,r=r*t.width+t.x,a=a*t.height+t.y,s=s*t.height+t.y),i=K0(i)?i:0,r=K0(r)?r:1,a=K0(a)?a:0,s=K0(s)?s:0;var o=n.createLinearGradient(i,a,r,s);return o}function DPe(n,e,t){var i=t.width,r=t.height,a=Math.min(i,r),s=e.x==null?.5:e.x,o=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(s=s*i+t.x,o=o*r+t.y,l=l*a),s=K0(s)?s:.5,o=K0(o)?o:.5,l=l>=0&&K0(l)?l:.5;var u=n.createRadialGradient(s,o,0,s,o,l);return u}function _U(n,e,t){for(var i=e.type==="radial"?DPe(n,e,t):EPe(n,e,t),r=e.colorStops,a=0;a<r.length;a++)i.addColorStop(r[a].offset,r[a].color);return i}function RPe(n,e){if(n===e||!n&&!e)return!1;if(!n||!e||n.length!==e.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!0;return!1}function cD(n){return parseInt(n,10)}function B1(n,e,t){var i=["width","height"][e],r=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(t[i]!=null&&t[i]!=="auto")return parseFloat(t[i]);var o=document.defaultView.getComputedStyle(n);return(n[r]||cD(o[i])||cD(n.style[i]))-(cD(o[a])||0)-(cD(o[s])||0)|0}function LPe(n,e){return!n||n==="solid"||!(e>0)?null:n==="dashed"?[4*e,2*e]:n==="dotted"?[e]:Pn(n)?[n]:Ve(n)?n:null}function G6(n){var e=n.style,t=e.lineDash&&e.lineWidth>0&&LPe(e.lineDash,e.lineWidth),i=e.lineDashOffset;if(t){var r=e.strokeNoScale&&n.getLineScale?n.getLineScale():1;r&&r!==1&&(t=We(t,function(a){return a/r}),i/=r)}return[t,i]}var NPe=new Ih(!0);function EL(n){var e=n.stroke;return!(e==null||e==="none"||!(n.lineWidth>0))}function Yq(n){return typeof n=="string"&&n!=="none"}function DL(n){var e=n.fill;return e!=null&&e!=="none"}function qq(n,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function Zq(n,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function bU(n,e,t){var i=e6(e.image,e.__image,t);if(UI(i)){var r=n.createPattern(i,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&r&&r.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*O2),a.scaleSelf(e.scaleX||1,e.scaleY||1),r.setTransform(a)}return r}}function IPe(n,e,t,i){var r,a=EL(t),s=DL(t),o=t.strokePercent,l=o<1,u=!e.path;(!e.silent||l)&&u&&e.createPathProxy();var c=e.path||NPe,f=e.__dirty;if(!i){var h=t.fill,d=t.stroke,v=s&&!!h.colorStops,m=a&&!!d.colorStops,y=s&&!!h.image,x=a&&!!d.image,b=void 0,M=void 0,C=void 0,w=void 0,E=void 0;(v||m)&&(E=e.getBoundingRect()),v&&(b=f?_U(n,h,E):e.__canvasFillGradient,e.__canvasFillGradient=b),m&&(M=f?_U(n,d,E):e.__canvasStrokeGradient,e.__canvasStrokeGradient=M),y&&(C=f||!e.__canvasFillPattern?bU(n,h,e):e.__canvasFillPattern,e.__canvasFillPattern=C),x&&(w=f||!e.__canvasStrokePattern?bU(n,d,e):e.__canvasStrokePattern,e.__canvasStrokePattern=w),v?n.fillStyle=b:y&&(C?n.fillStyle=C:s=!1),m?n.strokeStyle=M:x&&(w?n.strokeStyle=w:a=!1)}var L=e.getGlobalScale();c.setScale(L[0],L[1],e.segmentIgnoreThreshold);var P,I;n.setLineDash&&t.lineDash&&(r=G6(e),P=r[0],I=r[1]);var N=!0;(u||f&v1)&&(c.setDPR(n.dpr),l?c.setContext(null):(c.setContext(n),N=!1),c.reset(),e.buildPath(c,e.shape,i),c.toStatic(),e.pathUpdated()),N&&c.rebuildPath(n,l?o:1),P&&(n.setLineDash(P),n.lineDashOffset=I),i||(t.strokeFirst?(a&&Zq(n,t),s&&qq(n,t)):(s&&qq(n,t),a&&Zq(n,t))),P&&n.setLineDash([])}function PPe(n,e,t){var i=e.__image=e6(t.image,e.__image,e,e.onload);if(!(!i||!UI(i))){var r=t.x||0,a=t.y||0,s=e.getWidth(),o=e.getHeight(),l=i.width/i.height;if(s==null&&o!=null?s=o*l:o==null&&s!=null?o=s/l:s==null&&o==null&&(s=i.width,o=i.height),t.sWidth&&t.sHeight){var u=t.sx||0,c=t.sy||0;n.drawImage(i,u,c,t.sWidth,t.sHeight,r,a,s,o)}else if(t.sx&&t.sy){var u=t.sx,c=t.sy,f=s-u,h=o-c;n.drawImage(i,u,c,f,h,r,a,s,o)}else n.drawImage(i,r,a,s,o)}}function BPe(n,e,t){var i,r=t.text;if(r!=null&&(r+=""),r){n.font=t.font||xp,n.textAlign=t.textAlign,n.textBaseline=t.textBaseline;var a=void 0,s=void 0;n.setLineDash&&t.lineDash&&(i=G6(e),a=i[0],s=i[1]),a&&(n.setLineDash(a),n.lineDashOffset=s),t.strokeFirst?(EL(t)&&n.strokeText(r,t.x,t.y),DL(t)&&n.fillText(r,t.x,t.y)):(DL(t)&&n.fillText(r,t.x,t.y),EL(t)&&n.strokeText(r,t.x,t.y)),a&&n.setLineDash([])}}var Kq=["shadowBlur","shadowOffsetX","shadowOffsetY"],Jq=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Tce(n,e,t,i,r){var a=!1;if(!i&&(t=t||{},e===t))return!1;if(i||e.opacity!==t.opacity){cl(n,r),a=!0;var s=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(s)?dy.opacity:s}(i||e.blend!==t.blend)&&(a||(cl(n,r),a=!0),n.globalCompositeOperation=e.blend||dy.blend);for(var o=0;o<Kq.length;o++){var l=Kq[o];(i||e[l]!==t[l])&&(a||(cl(n,r),a=!0),n[l]=n.dpr*(e[l]||0))}return(i||e.shadowColor!==t.shadowColor)&&(a||(cl(n,r),a=!0),n.shadowColor=e.shadowColor||dy.shadowColor),a}function Qq(n,e,t,i,r){var a=GT(e,r.inHover),s=i?null:t&&GT(t,r.inHover)||{};if(a===s)return!1;var o=Tce(n,a,s,i,r);if((i||a.fill!==s.fill)&&(o||(cl(n,r),o=!0),Yq(a.fill)&&(n.fillStyle=a.fill)),(i||a.stroke!==s.stroke)&&(o||(cl(n,r),o=!0),Yq(a.stroke)&&(n.strokeStyle=a.stroke)),(i||a.opacity!==s.opacity)&&(o||(cl(n,r),o=!0),n.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var l=a.lineWidth,u=l/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==u&&(o||(cl(n,r),o=!0),n.lineWidth=u)}for(var c=0;c<Jq.length;c++){var f=Jq[c],h=f[0];(i||a[h]!==s[h])&&(o||(cl(n,r),o=!0),n[h]=a[h]||f[1])}return o}function OPe(n,e,t,i,r){return Tce(n,GT(e,r.inHover),t&&GT(t,r.inHover),i,r)}function Cce(n,e){var t=e.transform,i=n.dpr||1;t?n.setTransform(i*t[0],i*t[1],i*t[2],i*t[3],i*t[4],i*t[5]):n.setTransform(i,0,0,i,0,0)}function zPe(n,e,t){for(var i=!1,r=0;r<n.length;r++){var a=n[r];i=i||a.isZeroArea(),Cce(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}t.allClipped=i}function kPe(n,e){return n&&e?n[0]!==e[0]||n[1]!==e[1]||n[2]!==e[2]||n[3]!==e[3]||n[4]!==e[4]||n[5]!==e[5]:!(!n&&!e)}var $q=1,eZ=2,tZ=3,nZ=4;function FPe(n){var e=DL(n),t=EL(n);return!(n.lineDash||!(+e^+t)||e&&typeof n.fill!="string"||t&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function cl(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function GT(n,e){return e&&n.__hoverStyle||n.style}function V6(n,e){J0(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function J0(n,e,t,i){var r=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1)){e.__dirty&=~Vl,e.__isRendered=!1;return}var a=e.__clipPaths,s=t.prevElClipPaths,o=!1,l=!1;if((!s||RPe(a,s))&&(s&&s.length&&(cl(n,t),n.restore(),l=o=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),a&&a.length&&(cl(n,t),n.save(),zPe(a,n,t),o=!0),t.prevElClipPaths=a),t.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=t.prevEl;u||(l=o=!0);var c=e instanceof An&&e.autoBatch&&FPe(e.style);o||kPe(r,u.transform)?(cl(n,t),Cce(n,e)):c||cl(n,t);var f=GT(e,t.inHover);e instanceof An?(t.lastDrawType!==$q&&(l=!0,t.lastDrawType=$q),Qq(n,e,u,l,t),(!c||!t.batchFill&&!t.batchStroke)&&n.beginPath(),IPe(n,e,f,c),c&&(t.batchFill=f.fill||"",t.batchStroke=f.stroke||"")):e instanceof hb?(t.lastDrawType!==tZ&&(l=!0,t.lastDrawType=tZ),Qq(n,e,u,l,t),BPe(n,e,f)):e instanceof Za?(t.lastDrawType!==eZ&&(l=!0,t.lastDrawType=eZ),OPe(n,e,u,l,t),PPe(n,e,f)):e.getTemporalDisplayables&&(t.lastDrawType!==nZ&&(l=!0,t.lastDrawType=nZ),UPe(n,e,t)),c&&i&&cl(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}function UPe(n,e,t){var i=e.getDisplayables(),r=e.getTemporalDisplayables();n.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover},s,o;for(s=e.getCursor(),o=i.length;s<o;s++){var l=i[s];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),J0(n,l,a,s===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,c=r.length;u<c;u++){var l=r[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),J0(n,l,a,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,n.restore()}var g5=new xPe,iZ=new ub(100),rZ=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function mb(n,e){if(n==="none")return null;var t=e.getDevicePixelRatio(),i=e.getZr(),r=i.painter.type==="svg";n.dirty&&g5.delete(n);var a=g5.get(n);if(a)return a;var s=Bt(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var o={repeat:"repeat"};return l(o),o.rotation=s.rotation,o.scaleX=o.scaleY=r?1:1/t,g5.set(n,o),n.dirty=!1,o;function l(u){for(var c=[t],f=!0,h=0;h<rZ.length;++h){var d=s[rZ[h]];if(d!=null&&!Ve(d)&&!ot(d)&&!Pn(d)&&typeof d!="boolean"){f=!1;break}c.push(d)}var v;if(f){v=c.join(",")+(r?"-svg":"");var m=iZ.get(v);m&&(r?u.svgElement=m:u.image=m)}var y=Ece(s.dashArrayX),x=GPe(s.dashArrayY),b=wce(s.symbol),M=VPe(y),C=Dce(x),w=!r&&xl.createCanvas(),E=r&&{tag:"g",attrs:{},key:"dcl",children:[]},L=I(),P;w&&(w.width=L.width*t,w.height=L.height*t,P=w.getContext("2d")),N(),f&&iZ.put(v,w||E),u.image=w,u.svgElement=E,u.svgWidth=L.width,u.svgHeight=L.height;function I(){for(var z=1,V=0,U=M.length;V<U;++V)z=_Y(z,M[V]);for(var j=1,V=0,U=b.length;V<U;++V)j=_Y(j,b[V].length);z*=j;var W=C*M.length*b.length;return{width:Math.max(1,Math.min(z,s.maxTileWidth)),height:Math.max(1,Math.min(W,s.maxTileHeight))}}function N(){P&&(P.clearRect(0,0,w.width,w.height),s.backgroundColor&&(P.fillStyle=s.backgroundColor,P.fillRect(0,0,w.width,w.height)));for(var z=0,V=0;V<x.length;++V)z+=x[V];if(z<=0)return;for(var U=-C,j=0,W=0,G=0;U<L.height;){if(j%2===0){for(var X=W/2%b.length,q=0,$=0,te=0;q<L.width*2;){for(var J=0,V=0;V<y[G].length;++V)J+=y[G][V];if(J<=0)break;if($%2===0){var Q=(1-s.symbolSize)*.5,se=q+y[G][$]*Q,ce=U+x[j]*Q,ue=y[G][$]*s.symbolSize,fe=x[j]*s.symbolSize,ge=te/2%b[X].length;Se(se,ce,ue,fe,b[X][ge])}q+=y[G][$],++te,++$,$===y[G].length&&($=0)}++G,G===y.length&&(G=0)}U+=x[j],++W,++j,j===x.length&&(j=0)}function Se(Ee,Ue,_e,ke,dt){var De=r?1:t,ae=$r(dt,Ee*De,Ue*De,_e*De,ke*De,s.color,s.symbolKeepAspect);if(r){var Fe=i.painter.renderOneToVNode(ae);Fe&&E.children.push(Fe)}else V6(P,ae)}}}}function wce(n){if(!n||n.length===0)return[["rect"]];if(ot(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!ot(n[t])){e=!1;break}if(e)return wce([n]);for(var i=[],t=0;t<n.length;++t)ot(n[t])?i.push([n[t]]):i.push(n[t]);return i}function Ece(n){if(!n||n.length===0)return[[0,0]];if(Pn(n)){var e=Math.ceil(n);return[[e,e]]}for(var t=!0,i=0;i<n.length;++i)if(!Pn(n[i])){t=!1;break}if(t)return Ece([n]);for(var r=[],i=0;i<n.length;++i)if(Pn(n[i])){var e=Math.ceil(n[i]);r.push([e,e])}else{var e=We(n[i],function(o){return Math.ceil(o)});e.length%2===1?r.push(e.concat(e)):r.push(e)}return r}function GPe(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if(Pn(n)){var e=Math.ceil(n);return[e,e]}var t=We(n,function(i){return Math.ceil(i)});return n.length%2?t.concat(t):t}function VPe(n){return We(n,function(e){return Dce(e)})}function Dce(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2===1?e*2:e}function jPe(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var i=t.getData();i.hasItemVisual()&&i.each(function(s){var o=i.getItemVisual(s,"decal");if(o){var l=i.ensureUniqueItemVisual(s,"style");l.decal=mb(o,e)}});var r=i.getVisual("decal");if(r){var a=i.getVisual("style");a.decal=mb(r,e)}}})}var Gc=new ac,Rce={};function HPe(n,e){Rce[n]=e}function Lce(n){return Rce[n]}var Nce={};function Ice(n,e){Nce[n]=e}function WPe(n){return Nce[n]}var XPe="6.0.0",YPe={zrender:"6.0.0"},qPe=1,ZPe=800,KPe=900,JPe=1e3,QPe=2e3,$Pe=5e3,Pce=1e3,eBe=1100,j6=2e3,Bce=3e3,tBe=4e3,tP=4500,nBe=4600,iBe=5e3,rBe=6e3,Oce=7e3,zce={PROCESSOR:{FILTER:JPe,SERIES_FILTER:ZPe,STATISTIC:$Pe},VISUAL:{LAYOUT:Pce,PROGRESSIVE_LAYOUT:eBe,GLOBAL:j6,CHART:Bce,POST_CHART_LAYOUT:nBe,COMPONENT:tBe,BRUSH:iBe,CHART_ITEM:tP,ARIA:rBe,DECAL:Oce}},Sa="__flagInMainProcess",fD="__mainProcessVersion",ss="__pendingUpdate",y5="__needsUpdateStatus",aZ=/^[a-zA-Z0-9_]+$/,x5="__connectUpdateStatus",sZ=0,aBe=1,sBe=2;function kce(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){this.id;return}return Uce(this,n,e)}}function Fce(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Uce(this,n,e)}}function Uce(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),ac.prototype[e].apply(n,t)}var Gce=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(ac),Vce=Gce.prototype;Vce.on=Fce("on");Vce.off=Fce("off");var a0,_5,hD,Td,dD,b5,S5,w_,E_,oZ,lZ,A5,uZ,pD,cZ,jce,Eu,fZ,D_,RL=(function(n){me(e,n);function e(t,i,r){var a=n.call(this,new dPe)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],r=r||{},a._dom=t;var s="canvas",o="auto",l=!1;a[fD]=1,r.ssr&&vle(function(h){var d=jt(h),v=d.dataIndex;if(v!=null){var m=bt();return m.set("series_index",d.seriesIndex),m.set("data_index",v),d.ssrType&&m.set("ssr_type",d.ssrType),m}});var u=a._zr=jF(t,{renderer:r.renderer||s,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:At(r.useDirtyRect,l),useCoarsePointer:At(r.useCoarsePointer,o),pointerSize:r.pointerSize});a._ssr=r.ssr,a._throttledZrFlush=eP(ct(u.flush,u),17),a._updateTheme(i),a._locale=hNe(r.locale||xue),a._coordSysMgr=new cS;var c=a._api=cZ(a);function f(h,d){return h.__prio-d.__prio}return u3(NL,f),u3(MU,f),a._scheduler=new yce(a,c,MU,NL),a._messageCenter=new Gce,a._initEvents(),a.resize=ct(a.resize,a),u.animation.on("frame",a._onframe,a),oZ(u,a),lZ(u,a),TT(a),a}return e.prototype._onframe=function(){if(!this._disposed){fZ(this);var t=this._scheduler;if(this[ss]){var i=this[ss].silent;this[Sa]=!0,D_(this);try{a0(this),Td.update.call(this,null,this[ss].updateParams)}catch(l){throw this[Sa]=!1,this[ss]=null,l}this._zr.flush(),this[Sa]=!1,this[ss]=null,w_.call(this,i),E_.call(this,i)}else if(t.unfinished){var r=qPe,a=this._model,s=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),b5(this,a),t.performVisualTasks(a),pD(this,this._model,s,"remain",{}),r-=+new Date-o}while(r>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,i,r){if(!this[Sa]){if(this._disposed){this.id;return}var a,s,o;if(Ot(i)&&(r=i.lazyUpdate,a=i.silent,s=i.replaceMerge,o=i.transition,i=i.notMerge),this[Sa]=!0,D_(this),!this._model||i){var l=new ZNe(this._api),u=this._theme,c=this._model=new B6;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(t,{replaceMerge:s},TU);var f={seriesTransition:o,optionChanged:!0};if(r)this[ss]={silent:a,updateParams:f},this[Sa]=!1,this.getZr().wakeUp();else{try{a0(this),Td.update.call(this,null,f)}catch(h){throw this[ss]=null,this[Sa]=!1,h}this._ssr||this._zr.flush(),this[ss]=null,this[Sa]=!1,w_.call(this,a),E_.call(this,a)}}},e.prototype.setTheme=function(t,i){if(!this[Sa]){if(this._disposed){this.id;return}var r=this._model;if(r){var a=i&&i.silent,s=null;this[ss]&&(a==null&&(a=this[ss].silent),s=this[ss].updateParams,this[ss]=null),this[Sa]=!0,D_(this);try{this._updateTheme(t),r.setTheme(this._theme),a0(this),Td.update.call(this,{type:"setTheme"},s)}catch(o){throw this[Sa]=!1,o}this[Sa]=!1,w_.call(this,a),E_.call(this,a)}}},e.prototype._updateTheme=function(t){ot(t)&&(t=Hce[t]),t&&(t=Nt(t),t&&Yue(t,!0),this._theme=t)},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||wn.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var i=this._zr.painter;return i.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var i=this._zr.painter;return i.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){var t=this._zr,i=t.storage.getDisplayList();return Z(i,function(r){r.stopAnimation(null,!0)}),t.painter.toDataURL()},e.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t=t||{};var i=t.excludeComponents,r=this._model,a=[],s=this;Z(i,function(l){r.eachComponent({mainType:l},function(u){var c=s._componentsMap[u.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Z(a,function(l){l.group.ignore=!1}),o},e.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var i=t.type==="svg",r=this.group,a=Math.min,s=Math.max,o=1/0;if(IL[r]){var l=o,u=o,c=-o,f=-o,h=[],d=t&&t.pixelRatio||this.getDevicePixelRatio();Z(my,function(M,C){if(M.group===r){var w=i?M.getZr().painter.getSvgDom().innerHTML:M.renderToCanvas(Nt(t)),E=M.getDom().getBoundingClientRect();l=a(E.left,l),u=a(E.top,u),c=s(E.right,c),f=s(E.bottom,f),h.push({dom:w,left:E.left,top:E.top})}}),l*=d,u*=d,c*=d,f*=d;var v=c-l,m=f-u,y=xl.createCanvas(),x=jF(y,{renderer:i?"svg":"canvas"});if(x.resize({width:v,height:m}),i){var b="";return Z(h,function(M){var C=M.left-l,w=M.top-u;b+='<g transform="translate('+C+","+w+')">'+M.dom+"</g>"}),x.painter.getSvgRoot().innerHTML=b,t.connectedBackgroundColor&&x.painter.setBackgroundColor(t.connectedBackgroundColor),x.refreshImmediately(),x.painter.toDataURL()}else return t.connectedBackgroundColor&&x.add(new pn({shape:{x:0,y:0,width:v,height:m},style:{fill:t.connectedBackgroundColor}})),Z(h,function(M){var C=new Za({style:{x:M.left*d-l,y:M.top*d-u,image:M.dom}});x.add(C)}),x.refreshImmediately(),y.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,i,r){return dD(this,"convertToPixel",t,i,r)},e.prototype.convertToLayout=function(t,i,r){return dD(this,"convertToLayout",t,i,r)},e.prototype.convertFromPixel=function(t,i,r){return dD(this,"convertFromPixel",t,i,r)},e.prototype.containPixel=function(t,i){if(this._disposed){this.id;return}var r=this._model,a,s=Y1(r,t);return Z(s,function(o,l){l.indexOf("Models")>=0&&Z(o,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(i);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint&&(a=a||f.containPoint(i,u))}},this)},this),!!a},e.prototype.getVisual=function(t,i){var r=this._model,a=Y1(r,t,{defaultMainType:"series"}),s=a.seriesModel,o=s.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?o.indexOfRawIndex(a.dataIndex):null;return l!=null?U6(o,l,i):GC(o,i)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;Z(oBe,function(r){var a=function(s){var o=t.getModel(),l=s.target,u,c=r==="globalout";if(c?u={}:l&&Z0(l,function(m){var y=jt(m);if(y&&y.dataIndex!=null){var x=y.dataModel||o.getSeriesByIndex(y.seriesIndex);return u=x&&x.getDataParams(y.dataIndex,y.dataType,l)||{},!0}else if(y.eventData)return u=Ie({},y.eventData),!0},!0),u){var f=u.componentType,h=u.componentIndex;(f==="markLine"||f==="markPoint"||f==="markArea")&&(f="series",h=u.seriesIndex);var d=f&&h!=null&&o.getComponent(f,h),v=d&&t[d.mainType==="series"?"_chartsMap":"_componentsMap"][d.__viewId];u.event=s,u.type=r,t._$eventProcessor.eventInfo={targetEl:l,packedEvent:u,model:d,view:v},t.trigger(r,u)}};a.zrEventfulCallAtLast=!0,t._zr.on(r,a,t)});var i=this._messageCenter;Z(AU,function(r,a){i.on(a,function(s){t.trigger(a,s)})}),mPe(i,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var t=this.getDom();t&&wle(this.getDom(),W6,"");var i=this,r=i._api,a=i._model;Z(i._componentsViews,function(s){s.dispose(a,r)}),Z(i._chartsViews,function(s){s.dispose(a,r)}),i._zr.dispose(),i._dom=i._model=i._chartsMap=i._componentsMap=i._chartsViews=i._componentsViews=i._scheduler=i._api=i._zr=i._throttledZrFlush=i._theme=i._coordSysMgr=i._messageCenter=null,delete my[i.id]},e.prototype.resize=function(t){if(!this[Sa]){if(this._disposed){this.id;return}this._zr.resize(t);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!i){var r=i.resetOption("media"),a=t&&t.silent;this[ss]&&(a==null&&(a=this[ss].silent),r=!0,this[ss]=null),this[Sa]=!0,D_(this);try{r&&a0(this),Td.update.call(this,{type:"resize",animation:Ie({duration:0},t&&t.animation)})}catch(s){throw this[Sa]=!1,s}this[Sa]=!1,w_.call(this,a),E_.call(this,a)}}},e.prototype.showLoading=function(t,i){if(this._disposed){this.id;return}if(Ot(t)&&(i=t,t=""),t=t||"default",this.hideLoading(),!!CU[t]){var r=CU[t](this._api,i),a=this._zr;this._loadingFX=r,a.add(r)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var i=Ie({},t);return i.type=SU[t.type],i},e.prototype.dispatchAction=function(t,i){if(this._disposed){this.id;return}if(Ot(i)||(i={silent:!!i}),!!LL[t.type]&&this._model){if(this[Sa]){this._pendingActions.push(t);return}var r=i.silent;S5.call(this,t,r);var a=i.flush;a?this._zr.flush():a!==!1&&wn.browser.weChat&&this._throttledZrFlush(),w_.call(this,r),E_.call(this,r)}},e.prototype.updateLabelLayout=function(){Gc.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){this.id;return}var i=t.seriesIndex,r=this.getModel(),a=r.getSeriesByIndex(i);a.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=(function(){a0=function(f){var h=f._scheduler;h.restorePipelines(f._model),h.prepareStageTasks(),_5(f,!0),_5(f,!1),h.plan()},_5=function(f,h){for(var d=f._model,v=f._scheduler,m=h?f._componentsViews:f._chartsViews,y=h?f._componentsMap:f._chartsMap,x=f._zr,b=f._api,M=0;M<m.length;M++)m[M].__alive=!1;h?d.eachComponent(function(E,L){E!=="series"&&C(L)}):d.eachSeries(C);function C(E){var L=E.__requireNewView;E.__requireNewView=!1;var P="_ec_"+E.id+"_"+E.type,I=!L&&y[P];if(!I){var N=gh(E.type),z=h?Bi.getClass(N.main,N.sub):xi.getClass(N.sub);I=new z,I.init(d,b),y[P]=I,m.push(I),x.add(I.group)}E.__viewId=I.__id=P,I.__alive=!0,I.__model=E,I.group.__ecComponentInfo={mainType:E.mainType,index:E.componentIndex},!h&&v.prepareView(I,E,d,b)}for(var M=0;M<m.length;){var w=m[M];w.__alive?M++:(!h&&w.renderTask.dispose(),x.remove(w.group),w.dispose(d,b),m.splice(M,1),y[w.__id]===w&&delete y[w.__id],w.__id=w.group.__ecComponentInfo=null)}},hD=function(f,h,d,v,m){var y=f._model;if(y.setUpdatePayload(d),!v){Z([].concat(f._componentsViews).concat(f._chartsViews),w);return}var x={};x[v+"Id"]=d[v+"Id"],x[v+"Index"]=d[v+"Index"],x[v+"Name"]=d[v+"Name"];var b={mainType:v,query:x};m&&(b.subType=m);var M=d.excludeSeriesId,C;M!=null&&(C=bt(),Z(Pi(M),function(E){var L=Ea(E,null);L!=null&&C.set(L,!0)})),y&&y.eachComponent(b,function(E){var L=C&&C.get(E.id)!=null;if(!L)if(ZY(d))if(E instanceof Ti)d.type===py&&!d.notBlur&&!E.get(["emphasis","disabled"])&&pLe(E,d,f._api);else{var P=o6(E.mainType,E.componentIndex,d.name,f._api),I=P.focusSelf,N=P.dispatchers;d.type===py&&I&&!d.notBlur&&tU(E.mainType,E.componentIndex,f._api),N&&Z(N,function(z){d.type===py?bp(z):Sp(z)})}else iU(d)&&E instanceof Ti&&(gLe(E,d,f._api),YY(E),Eu(f))},f),y&&y.eachComponent(b,function(E){var L=C&&C.get(E.id)!=null;L||w(f[v==="series"?"_chartsMap":"_componentsMap"][E.__viewId])},f);function w(E){E&&E.__alive&&E[h]&&E[h](E.__model,y,f._api,d)}},Td={prepareAndUpdate:function(f){a0(this),Td.update.call(this,f,f&&{optionChanged:f.newOption!=null})},update:function(f,h){var d=this._model,v=this._api,m=this._zr,y=this._coordSysMgr,x=this._scheduler;if(d){d.setUpdatePayload(f),x.restoreData(d,f),x.performSeriesTasks(d),y.create(d,v),x.performDataProcessorTasks(d,f),b5(this,d),y.update(d,v),i(d),x.performVisualTasks(d,f);var b=d.get("backgroundColor")||"transparent";m.setBackgroundColor(b);var M=d.get("darkMode");M!=null&&M!=="auto"&&m.setDarkMode(M),A5(this,d,v,f,h),Gc.trigger("afterupdate",d,v)}},updateTransform:function(f){var h=this,d=this._model,v=this._api;if(d){d.setUpdatePayload(f);var m=[];d.eachComponent(function(x,b){if(x!=="series"){var M=h.getViewOfComponentModel(b);if(M&&M.__alive)if(M.updateTransform){var C=M.updateTransform(b,d,v,f);C&&C.update&&m.push(M)}else m.push(M)}});var y=bt();d.eachSeries(function(x){var b=h._chartsMap[x.__viewId];if(b.updateTransform){var M=b.updateTransform(x,d,v,f);M&&M.update&&y.set(x.uid,1)}else y.set(x.uid,1)}),i(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0,dirtyMap:y}),pD(this,d,v,f,{},y),Gc.trigger("afterupdate",d,v)}},updateView:function(f){var h=this._model;h&&(h.setUpdatePayload(f),xi.markUpdateMethod(f,"updateView"),i(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0}),A5(this,h,this._api,f,{}),Gc.trigger("afterupdate",h,this._api))},updateVisual:function(f){var h=this,d=this._model;d&&(d.setUpdatePayload(f),d.eachSeries(function(v){v.getData().clearAllVisual()}),xi.markUpdateMethod(f,"updateVisual"),i(d),this._scheduler.performVisualTasks(d,f,{visualType:"visual",setDirty:!0}),d.eachComponent(function(v,m){if(v!=="series"){var y=h.getViewOfComponentModel(m);y&&y.__alive&&y.updateVisual(m,d,h._api,f)}}),d.eachSeries(function(v){var m=h._chartsMap[v.__viewId];m.updateVisual(v,d,h._api,f)}),Gc.trigger("afterupdate",d,this._api))},updateLayout:function(f){Td.update.call(this,f)}};function t(f,h,d,v,m){if(f._disposed){f.id;return}for(var y=f._model,x=f._coordSysMgr.getCoordinateSystems(),b,M=Y1(y,d),C=0;C<x.length;C++){var w=x[C];if(w[h]&&(b=w[h](y,M,v,m))!=null)return b}}dD=t,b5=function(f,h){var d=f._chartsMap,v=f._scheduler;h.eachSeries(function(m){v.updateStreamModes(m,d[m.__viewId])})},S5=function(f,h){var d=this,v=this.getModel(),m=f.type,y=f.escapeConnect,x=LL[m],b=(x.update||"update").split(":"),M=b.pop(),C=b[0]!=null&&gh(b[0]);this[Sa]=!0,D_(this);var w=[f],E=!1;f.batch&&(E=!0,w=We(f.batch,function(G){return G=Bt(Ie({},G),f),G.batch=null,G}));var L=[],P,I=[],N=x.nonRefinedEventType,z=iU(f),V=ZY(f);if(V&&Zle(this._api),Z(w,function(G){var X=x.action(G,v,d._api);if(x.refineEvent?I.push(X):P=X,P=P||Ie({},G),P.type=N,L.push(P),V){var q=QV(f),$=q.queryOptionMap,te=q.mainTypeSpecified,J=te?$.keys()[0]:"series";hD(d,M,G,J),Eu(d)}else z?(hD(d,M,G,"series"),Eu(d)):C&&hD(d,M,G,C.main,C.sub)}),M!=="none"&&!V&&!z&&!C)try{this[ss]?(a0(this),Td.update.call(this,f),this[ss]=null):Td[M].call(this,f)}catch(G){throw this[Sa]=!1,G}if(E?P={type:N,escapeConnect:y,batch:L}:P=L[0],this[Sa]=!1,!h){var U=void 0;if(x.refineEvent){var j=x.refineEvent(I,f,v,this._api).eventContent;zs(Ot(j)),U=Bt({type:x.refinedEventType},j),U.fromAction=f.type,U.fromActionPayload=f,U.escapeConnect=!0}var W=this._messageCenter;W.trigger(P.type,P),U&&W.trigger(U.type,U)}},w_=function(f){for(var h=this._pendingActions;h.length;){var d=h.shift();S5.call(this,d,f)}},E_=function(f){!f&&this.trigger("updated")},oZ=function(f,h){f.on("rendered",function(d){h.trigger("rendered",d),f.animation.isFinished()&&!h[ss]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},lZ=function(f,h){f.on("mouseover",function(d){var v=d.target,m=Z0(v,PT);m&&(vLe(m,d,h._api),Eu(h))}).on("mouseout",function(d){var v=d.target,m=Z0(v,PT);m&&(mLe(m,d,h._api),Eu(h))}).on("click",function(d){var v=d.target,m=Z0(v,function(b){return jt(b).dataIndex!=null},!0);if(m){var y=m.selected?"unselect":"select",x=jt(m);h._api.dispatchAction({type:y,dataType:x.dataType,dataIndexInside:x.dataIndex,seriesIndex:x.seriesIndex,isFromClick:!0})}})};function i(f){f.clearColorPalette(),f.eachSeries(function(h){h.clearColorPalette()})}function r(f){var h=[],d=[],v=!1;if(f.eachComponent(function(b,M){var C=M.get("zlevel")||0,w=M.get("z")||0,E=M.getZLevelKey();v=v||!!E,(b==="series"?d:h).push({zlevel:C,z:w,idx:M.componentIndex,type:b,key:E})}),v){var m=h.concat(d),y,x;u3(m,function(b,M){return b.zlevel===M.zlevel?b.z-M.z:b.zlevel-M.zlevel}),Z(m,function(b){var M=f.getComponent(b.type,b.idx),C=b.zlevel,w=b.key;y!=null&&(C=Math.max(y,C)),w?(C===y&&w!==x&&C++,x=w):x&&(C===y&&C++,x=""),y=C,M.setZLevel(C)})}}A5=function(f,h,d,v,m){r(h),uZ(f,h,d,v,m),Z(f._chartsViews,function(y){y.__alive=!1}),pD(f,h,d,v,m),Z(f._chartsViews,function(y){y.__alive||y.remove(h,d)})},uZ=function(f,h,d,v,m,y){Z(y||f._componentsViews,function(x){var b=x.__model;u(b,x),x.render(b,h,d,v),l(b,x),c(b,x)})},pD=function(f,h,d,v,m,y){var x=f._scheduler;m=Ie(m||{},{updatedSeries:h.getSeries()}),Gc.trigger("series:beforeupdate",h,d,m);var b=!1;h.eachSeries(function(M){var C=f._chartsMap[M.__viewId];C.__alive=!0;var w=C.renderTask;x.updatePayload(w,v),u(M,C),y&&y.get(M.uid)&&w.dirty(),w.perform(x.getPerformArgs(w))&&(b=!0),C.group.silent=!!M.get("silent"),o(M,C),YY(M)}),x.unfinished=b||x.unfinished,Gc.trigger("series:layoutlabels",h,d,m),Gc.trigger("series:transition",h,d,m),h.eachSeries(function(M){var C=f._chartsMap[M.__viewId];l(M,C),c(M,C)}),s(f,h),Gc.trigger("series:afterupdate",h,d,m)},Eu=function(f){f[y5]=!0,f.getZr().wakeUp()},D_=function(f){f[fD]=(f[fD]+1)%1e3},fZ=function(f){f[y5]&&(f.getZr().storage.traverse(function(h){q1(h)||a(h)}),f[y5]=!1)};function a(f){for(var h=[],d=f.currentStates,v=0;v<d.length;v++){var m=d[v];m==="emphasis"||m==="blur"||m==="select"||h.push(m)}f.selected&&f.states.select&&h.push("select"),f.hoverState===WI&&f.states.emphasis?h.push("emphasis"):f.hoverState===PC&&f.states.blur&&h.push("blur"),f.useStates(h)}function s(f,h){var d=f._zr,v=d.storage,m=0;v.traverse(function(y){y.isGroup||m++}),m>h.get("hoverLayerThreshold")&&!wn.node&&!wn.worker&&h.eachSeries(function(y){if(!y.preventUsingHoverLayer){var x=f._chartsMap[y.__viewId];x.__alive&&x.eachRendered(function(b){b.states.emphasis&&(b.states.emphasis.hoverLayer=!0)})}})}function o(f,h){var d=f.get("blendMode")||null;h.eachRendered(function(v){v.isGroup||(v.style.blend=d)})}function l(f,h){if(!f.preventAutoZ){var d=Py(f);h.eachRendered(function(v){return qI(v,d.z,d.zlevel),!0})}}function u(f,h){h.eachRendered(function(d){if(!q1(d)){var v=d.getTextContent(),m=d.getTextGuideLine();d.stateTransition&&(d.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),m&&m.stateTransition&&(m.stateTransition=null),d.hasState()?(d.prevStates=d.currentStates,d.clearStates()):d.prevStates&&(d.prevStates=null)}})}function c(f,h){var d=f.getModel("stateAnimation"),v=f.isAnimationEnabled(),m=d.get("duration"),y=m>0?{duration:m,delay:d.get("delay"),easing:d.get("easing")}:null;h.eachRendered(function(x){if(x.states&&x.states.emphasis){if(q1(x))return;if(x instanceof An&&ALe(x),x.__dirty){var b=x.prevStates;b&&x.useStates(b)}if(v){x.stateTransition=y;var M=x.getTextContent(),C=x.getTextGuideLine();M&&(M.stateTransition=y),C&&(C.stateTransition=y)}x.__dirty&&a(x)}})}cZ=function(f){return new((function(h){me(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},d.prototype.getComponentByElement=function(v){for(;v;){var m=v.__ecComponentInfo;if(m!=null)return f._model.getComponent(m.mainType,m.index);v=v.parent}},d.prototype.enterEmphasis=function(v,m){bp(v,m),Eu(f)},d.prototype.leaveEmphasis=function(v,m){Sp(v,m),Eu(f)},d.prototype.enterBlur=function(v){Wle(v),Eu(f)},d.prototype.leaveBlur=function(v){s6(v),Eu(f)},d.prototype.enterSelect=function(v){Xle(v),Eu(f)},d.prototype.leaveSelect=function(v){Yle(v),Eu(f)},d.prototype.getModel=function(){return f.getModel()},d.prototype.getViewOfComponentModel=function(v){return f.getViewOfComponentModel(v)},d.prototype.getViewOfSeriesModel=function(v){return f.getViewOfSeriesModel(v)},d.prototype.getMainProcessVersion=function(){return f[fD]},d})(Wue))(f)},jce=function(f){function h(d,v){for(var m=0;m<d.length;m++){var y=d[m];y[x5]=v}}Z(SU,function(d,v){f._messageCenter.on(v,function(m){if(IL[f.group]&&f[x5]!==sZ){if(m&&m.escapeConnect)return;var y=f.makeActionFromEvent(m),x=[];Z(my,function(b){b!==f&&b.group===f.group&&x.push(b)}),h(x,sZ),Z(x,function(b){b[x5]!==aBe&&b.dispatchAction(y)}),h(x,sBe)}})})}})(),e})(ac),H6=RL.prototype;H6.on=kce("on");H6.off=kce("off");H6.one=function(n,e,t){var i=this;function r(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];e&&e.apply&&e.apply(this,a),i.off(n,r)}this.on.call(this,n,r,t)};var oBe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var LL={},SU={},AU={},MU=[],TU=[],NL=[],Hce={},CU={},my={},IL={},lBe=+new Date-0,uBe=+new Date-0,W6="_echarts_instance_";function cBe(n,e,t){var i=!(t&&t.ssr);if(i){var r=X6(n);if(r)return r}var a=new RL(n,e,t);return a.id="ec_"+lBe++,my[a.id]=a,i&&wle(n,W6,a.id),jce(a),Gc.trigger("afterinit",a),a}function fBe(n){if(Ve(n)){var e=n;n=null,Z(e,function(t){t.group!=null&&(n=t.group)}),n=n||"g_"+uBe++,Z(e,function(t){t.group=n})}return IL[n]=!0,n}function Wce(n){IL[n]=!1}var hBe=Wce;function dBe(n){ot(n)?n=my[n]:n instanceof RL||(n=X6(n)),n instanceof RL&&!n.isDisposed()&&n.dispose()}function X6(n){return my[c3e(n,W6)]}function pBe(n){return my[n]}function Y6(n,e){Hce[n]=e}function q6(n){rn(TU,n)<0&&TU.push(n)}function Z6(n,e){K6(MU,n,e,QPe)}function Xce(n){nP("afterinit",n)}function Yce(n){nP("afterupdate",n)}function nP(n,e){Gc.on(n,e)}function df(n,e,t){var i,r,a,s,o;wt(e)&&(t=e,e=""),Ot(n)?(i=n.type,r=n.event,s=n.update,o=n.publishNonRefinedEvent,t||(t=n.action),a=n.refineEvent):(i=n,r=e);function l(c){return c.toLowerCase()}r=l(r||i);var u=a?l(i):r;LL[i]||(zs(aZ.test(i)&&aZ.test(r)),a&&zs(r!==i),LL[i]={actionType:i,refinedEventType:r,nonRefinedEventType:u,update:s,action:t,refineEvent:a},AU[r]=1,a&&o&&(AU[u]=1),SU[u]=i)}function qce(n,e){cS.register(n,e)}function vBe(n){var e=cS.get(n);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function mBe(n,e){Ice(n,e)}function Zce(n,e){K6(NL,n,e,Pce,"layout")}function zm(n,e){K6(NL,n,e,Bce,"visual")}var hZ=[];function K6(n,e,t,i,r){if((wt(e)||Ot(e))&&(t=e,e=i),!(rn(hZ,t)>=0)){hZ.push(t);var a=yce.wrapStageHandler(t,r);a.__prio=e,a.__raw=t,n.push(a)}}function J6(n,e){CU[n]=e}function gBe(n){Noe({createCanvas:n})}function Kce(n,e,t){var i=Lce("registerMap");i&&i(n,e,t)}function yBe(n){var e=Lce("getMap");return e&&e(n)}var Jce=wIe;zm(j6,$Ie);zm(tP,ePe);zm(tP,tPe);zm(j6,pPe);zm(tP,vPe);zm(Oce,jPe);q6(Yue);Z6(KPe,oIe);J6("default",nPe);df({type:py,event:py,update:py},Or);df({type:m3,event:m3,update:m3},Or);df({type:yL,event:r6,update:yL,action:Or,refineEvent:Q6,publishNonRefinedEvent:!0});df({type:$F,event:r6,update:$F,action:Or,refineEvent:Q6,publishNonRefinedEvent:!0});df({type:xL,event:r6,update:xL,action:Or,refineEvent:Q6,publishNonRefinedEvent:!0});function Q6(n,e,t,i){return{eventContent:{selected:yLe(t),isFromClick:e.isFromClick||!1}}}Y6("default",{});Y6("dark",Sce);var xBe={},dZ=[],_Be={registerPreprocessor:q6,registerProcessor:Z6,registerPostInit:Xce,registerPostUpdate:Yce,registerUpdateLifecycle:nP,registerAction:df,registerCoordinateSystem:qce,registerLayout:Zce,registerVisual:zm,registerTransform:Jce,registerLoading:J6,registerMap:Kce,registerImpl:HPe,PRIORITY:zce,ComponentModel:xn,ComponentView:Bi,SeriesModel:Ti,ChartView:xi,registerComponentModel:function(n){xn.registerClass(n)},registerComponentView:function(n){Bi.registerClass(n)},registerSeriesModel:function(n){Ti.registerClass(n)},registerChartView:function(n){xi.registerClass(n)},registerCustomSeries:function(n,e){Ice(n,e)},registerSubTypeDefaulter:function(n,e){xn.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){dle(n,e)}};function cn(n){if(Ve(n)){Z(n,function(e){cn(e)});return}rn(dZ,n)>=0||(dZ.push(n),wt(n)&&(n={install:n}),n.install(_Be))}function pM(n){return n==null?0:n.length||1}function pZ(n){return n}var Ap=(function(){function n(e,t,i,r,a,s){this._old=e,this._new=t,this._oldKeyGetter=i||pZ,this._newKeyGetter=r||pZ,this.context=a,this._diffModeMultiple=s==="multiple"}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,i={},r=new Array(e.length),a=new Array(t.length);this._initIndexMap(e,null,r,"_oldKeyGetter"),this._initIndexMap(t,i,a,"_newKeyGetter");for(var s=0;s<e.length;s++){var o=r[s],l=i[o],u=pM(l);if(u>1){var c=l.shift();l.length===1&&(i[o]=l[0]),this._update&&this._update(c,s)}else u===1?(i[o]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(a,i)},n.prototype._executeMultiple=function(){var e=this._old,t=this._new,i={},r={},a=[],s=[];this._initIndexMap(e,i,a,"_oldKeyGetter"),this._initIndexMap(t,r,s,"_newKeyGetter");for(var o=0;o<a.length;o++){var l=a[o],u=i[l],c=r[l],f=pM(u),h=pM(c);if(f>1&&h===1)this._updateManyToOne&&this._updateManyToOne(c,u),r[l]=null;else if(f===1&&h>1)this._updateOneToMany&&this._updateOneToMany(c,u),r[l]=null;else if(f===1&&h===1)this._update&&this._update(c,u),r[l]=null;else if(f>1&&h>1)this._updateManyToMany&&this._updateManyToMany(c,u),r[l]=null;else if(f>1)for(var d=0;d<f;d++)this._remove&&this._remove(u[d]);else this._remove&&this._remove(u)}this._performRestAdd(s,r)},n.prototype._performRestAdd=function(e,t){for(var i=0;i<e.length;i++){var r=e[i],a=t[r],s=pM(a);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(a[o]);else s===1&&this._add&&this._add(a);t[r]=null}},n.prototype._initIndexMap=function(e,t,i,r){for(var a=this._diffModeMultiple,s=0;s<e.length;s++){var o="_ec_"+this[r](e[s],s);if(a||(i[s]=o),!!t){var l=t[o],u=pM(l);u===0?(t[o]=s,a&&i.push(o)):u===1?t[o]=[l,s]:l.push(s)}}},n})(),bBe=(function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n})();function SBe(n,e){var t={},i=t.encode={},r=bt(),a=[],s=[],o={};Z(n.dimensions,function(h){var d=n.getDimensionInfo(h),v=d.coordDim;if(v){var m=d.coordDimIndex;M5(i,v)[m]=h,d.isExtraCoord||(r.set(v,1),ABe(d.type)&&(a[0]=h),M5(o,v)[m]=n.getDimensionIndex(d.name)),d.defaultTooltip&&s.push(h)}kue.each(function(y,x){var b=M5(i,x),M=d.otherDims[x];M!=null&&M!==!1&&(b[M]=d.name)})});var l=[],u={};r.each(function(h,d){var v=i[d];u[d]=v[0],l=l.concat(v)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=We(l,function(h){return n.getDimensionInfo(h).storeDimIndex}),t.encodeFirstDimNotExtra=u;var c=i.label;c&&c.length&&(a=c.slice());var f=i.tooltip;return f&&f.length?s=f.slice():s.length||(s=a.slice()),i.defaultedLabel=a,i.defaultedTooltip=s,t.userOutput=new bBe(o,e),t}function M5(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function PL(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function ABe(n){return!(n==="ordinal"||n==="time")}var A3=(function(){function n(e){this.otherDims={},e!=null&&Ie(this,e)}return n})(),MBe=_n(),TBe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Qce=(function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=tfe(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return At(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=Zue(this.source),i=!nfe(e),r="",a=[],s=0,o=0;s<e;s++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[o];if(f&&f.storeDimIndex===s)l=t?f.name:null,u=f.type,c=f.ordinalMeta,o++;else{var h=this.getSourceDimension(s);h&&(l=t?h.name:null,u=h.type)}a.push({property:l,type:u,ordinalMeta:c}),t&&l!=null&&(!f||!f.isCalculationCoord)&&(r+=i?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=TBe[u]||"f",c&&(r+=c.uid),r+="$"}var d=this.source,v=[d.seriesLayoutBy,d.startIndex,r].join("$$");return{dimensions:a,hash:v}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,i=0;t<this._fullDimCount;t++){var r=void 0,a=this.dimensions[i];if(a&&a.storeDimIndex===t)a.isCalculationCoord||(r=a.name),i++;else{var s=this.getSourceDimension(t);s&&(r=s.name)}e.push(r)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n})();function $ce(n){return n instanceof Qce}function efe(n){for(var e=bt(),t=0;t<(n||[]).length;t++){var i=n[t],r=Ot(i)?i.name:i;r!=null&&e.get(r)==null&&e.set(r,t)}return e}function tfe(n){var e=MBe(n);return e.dimNameMap||(e.dimNameMap=efe(n.dimensionsDefine))}function nfe(n){return n>30}var vM=Ot,Sv=We,CBe=typeof Int32Array>"u"?Array:Int32Array,wBe="e\0\0",vZ=-1,EBe=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],DBe=["_approximateExtent"],mZ,vD,mM,gM,T5,yM,C5,fo=(function(){function n(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var i,r=!1;$ce(e)?(i=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(r=!0,i=e),i=i||["x","y"];for(var a={},s=[],o={},l=!1,u={},c=0;c<i.length;c++){var f=i[c],h=ot(f)?new A3({name:f}):f instanceof A3?f:new A3(f),d=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=d,h.coordDimIndex=0);var v=h.otherDims=h.otherDims||{};s.push(d),a[d]=h,u[d]!=null&&(l=!0),h.createInvertedIndices&&(o[d]=[]);var m=c;Pn(h.storeDimIndex)&&(m=h.storeDimIndex),v.itemName===0&&(this._nameDimIdx=m),v.itemId===0&&(this._idDimIdx=m),r&&(h.storeDimIndex=c)}if(this.dimensions=s,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=o,this._dimOmitted){var y=this._dimIdxToName=bt();Z(s,function(x){y.set(a[x].storeDimIndex,x)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var i=this._dimIdxToName.get(t);if(i!=null)return i;var r=this._schema.getSourceDimension(t);if(r)return r.name},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var i=this._getDimInfo(e);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if(Pn(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(i){return t.hasOwnProperty(i)?t[i]:void 0}:function(i){return t[i]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var i=this._dimSummary;if(t==null)return i.encodeFirstDimNotExtra[e];var r=i.encode[e];return r?r[t]:null},n.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,i=t.encode[e];return(i||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,i){var r=this,a;if(e instanceof vU&&(a=e),!a){var s=this.dimensions,o=O6(e)||Os(e)?new Kue(e,s.length):e;a=new vU;var l=Sv(s,function(u){return{type:r._dimInfos[u].type,property:u}});a.initData(o,l,i)}this._store=a,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=SBe(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var i=this._store.appendValues(e,t&&t.length),r=i.start,a=i.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var o=r;o<a;o++){var l=o-r;this._nameList[o]=t[l],s&&C5(this,o)}},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,i=0;i<t.length;i++){var r=this._dimInfos[t[i]];r.ordinalMeta&&e.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==um&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var i=this._store,r=i.getProvider();this._updateOrdinalMeta();var a=this._nameList,s=this._idList,o=r.getSource().sourceFormat,l=o===au;if(l&&!r.pure)for(var u=[],c=e;c<t;c++){var f=r.getItem(c,u);if(!this.hasItemOption&&JRe(f)&&(this.hasItemOption=!0),f){var h=f.name;a[c]==null&&h!=null&&(a[c]=Ea(h,null));var d=f.id;s[c]==null&&d!=null&&(s[c]=Ea(d,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<t;c++)C5(this,c);mZ(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){vM(e)?Ie(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),i=this._nameList[t];return i==null&&this._nameDimIdx!=null&&(i=mM(this,this._nameDimIdx,t)),i==null&&(i=""),i},n.prototype._getCategory=function(e,t){var i=this._store.get(e,t),r=this._store.getOrdinalMeta(e);return r?r.categories[i]:i},n.prototype.getId=function(e){return vD(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var i=this._store,r=this._dimInfos[e];if(r)return i.get(r.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var i=this._store,r=this._dimInfos[e];if(r)return i.getByRawIndex(r.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var i=this,r=this._store;return Ve(e)?r.getValues(Sv(e,function(a){return i._getStoreDimIndex(a)}),t):r.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,i=0,r=t.length;i<r;i++)if(isNaN(this._store.get(t[i],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,i=this._store.count();t<i;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var i=e&&this._invertedIndicesMap[e],r=i&&i[t];return r==null||isNaN(r)?vZ:r},n.prototype.each=function(e,t,i){wt(e)&&(i=t,t=e,e=[]);var r=i||this,a=Sv(gM(e),this._getStoreDimIndex,this);this._store.each(a,r?ct(t,r):t)},n.prototype.filterSelf=function(e,t,i){wt(e)&&(i=t,t=e,e=[]);var r=i||this,a=Sv(gM(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,r?ct(t,r):t),this},n.prototype.selectRange=function(e){var t=this,i={},r=Dn(e);return Z(r,function(a){var s=t._getStoreDimIndex(a);i[s]=e[a]}),this._store=this._store.selectRange(i),this},n.prototype.mapArray=function(e,t,i){wt(e)&&(i=t,t=e,e=[]),i=i||this;var r=[];return this.each(e,function(){r.push(t&&t.apply(this,arguments))},i),r},n.prototype.map=function(e,t,i,r){var a=i||r||this,s=Sv(gM(e),this._getStoreDimIndex,this),o=yM(this);return o._store=this._store.map(s,a?ct(t,a):t),o},n.prototype.modify=function(e,t,i,r){var a=i||r||this,s=Sv(gM(e),this._getStoreDimIndex,this);this._store.modify(s,a?ct(t,a):t)},n.prototype.downSample=function(e,t,i,r){var a=yM(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),t,i,r),a},n.prototype.minmaxDownSample=function(e,t){var i=yM(this);return i._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),t),i},n.prototype.lttbDownSample=function(e,t){var i=yM(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),i},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,i=this.getRawDataItem(e);return new Sn(i,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new Ap(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(i){return vD(e,i)},function(i){return vD(t,i)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},vM(e)?Ie(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var i=this._itemVisuals[e],r=i&&i[t];return r??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var i=this._itemVisuals,r=i[e];r||(r=i[e]={});var a=r[t];return a==null&&(a=this.getVisual(t),Ve(a)?a=a.slice():vM(a)&&(a=Ie({},a)),r[t]=a),a},n.prototype.setItemVisual=function(e,t,i){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r,vM(t)?Ie(r,t):r[t]=i},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){vM(e)?Ie(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,i){this._itemLayouts[e]=i?Ie(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){var i=this.hostModel&&this.hostModel.seriesIndex;QF(i,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){Z(this._graphicEls,function(i,r){i&&e&&e.call(t,i,r)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:Sv(this.dimensions,this._getDimInfo,this),this.hostModel)),T5(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var i=this[e];wt(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var r=i.apply(this,arguments);return t.apply(this,[r].concat(NI(arguments)))})},n.internalField=(function(){mZ=function(e){var t=e._invertedIndicesMap;Z(t,function(i,r){var a=e._dimInfos[r],s=a.ordinalMeta,o=e._store;if(s){i=t[r]=new CBe(s.categories.length);for(var l=0;l<i.length;l++)i[l]=vZ;for(var l=0;l<o.count();l++)i[o.get(a.storeDimIndex,l)]=l}})},mM=function(e,t,i){return Ea(e._getCategory(t,i),null)},vD=function(e,t){var i=e._idList[t];return i==null&&e._idDimIdx!=null&&(i=mM(e,e._idDimIdx,t)),i==null&&(i=wBe+t),i},gM=function(e){return Ve(e)||(e=e!=null?[e]:[]),e},yM=function(e){var t=new n(e._schema?e._schema:Sv(e.dimensions,e._getDimInfo,e),e.hostModel);return T5(t,e),t},T5=function(e,t){Z(EBe.concat(t.__wrappedMethods||[]),function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e.__wrappedMethods=t.__wrappedMethods,Z(DBe,function(i){e[i]=Nt(t[i])}),e._calculationInfo=Ie({},t._calculationInfo)},C5=function(e,t){var i=e._nameList,r=e._idList,a=e._nameDimIdx,s=e._idDimIdx,o=i[t],l=r[t];if(o==null&&a!=null&&(i[t]=o=mM(e,a,t)),l==null&&s!=null&&(r[t]=l=mM(e,s,t)),l==null&&o!=null){var u=e._nameRepeatCount,c=u[o]=(u[o]||0)+1;l=o,c>1&&(l+="__ec__"+c),r[t]=l}}})(),n})();function RBe(n,e){return pS(n,e).dimensions}function pS(n,e){O6(n)||(n=z6(n)),e=e||{};var t=e.coordDimensions||[],i=e.dimensionsDefine||n.dimensionsDefine||[],r=bt(),a=[],s=NBe(n,t,i,e.dimensionsCount),o=e.canOmitUnusedDimensions&&nfe(s),l=i===n.dimensionsDefine,u=l?tfe(n):efe(i),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(n,s));for(var f=bt(c),h=new rce(s),d=0;d<h.length;d++)h[d]=-1;function v(I){var N=h[I];if(N<0){var z=i[I],V=Ot(z)?z:{name:z},U=new A3,j=V.name;j!=null&&u.get(j)!=null&&(U.name=U.displayName=j),V.type!=null&&(U.type=V.type),V.displayName!=null&&(U.displayName=V.displayName);var W=a.length;return h[I]=W,U.storeDimIndex=I,a.push(U),U}return a[N]}if(!o)for(var d=0;d<s;d++)v(d);f.each(function(I,N){var z=Pi(I).slice();if(z.length===1&&!ot(z[0])&&z[0]<0){f.set(N,!1);return}var V=f.set(N,[]);Z(z,function(U,j){var W=ot(U)?u.get(U):U;W!=null&&W<s&&(V[j]=W,y(v(W),N,j))})});var m=0;Z(t,function(I){var N,z,V,U;if(ot(I))N=I,U={};else{U=I,N=U.name;var j=U.ordinalMeta;U.ordinalMeta=null,U=Ie({},U),U.ordinalMeta=j,z=U.dimsDef,V=U.otherDims,U.name=U.coordDim=U.coordDimIndex=U.dimsDef=U.otherDims=null}var W=f.get(N);if(W!==!1){if(W=Pi(W),!W.length)for(var G=0;G<(z&&z.length||1);G++){for(;m<s&&v(m).coordDim!=null;)m++;m<s&&W.push(m++)}Z(W,function(X,q){var $=v(X);if(l&&U.type!=null&&($.type=U.type),y(Bt($,U),N,q),$.name==null&&z){var te=z[q];!Ot(te)&&(te={name:te}),$.name=$.displayName=te.name,$.defaultTooltip=te.defaultTooltip}V&&Bt($.otherDims,V)})}});function y(I,N,z){kue.get(N)!=null?I.otherDims[N]=z:(I.coordDim=N,I.coordDimIndex=z,r.set(N,!0))}var x=e.generateCoord,b=e.generateCoordCount,M=b!=null;b=x?b||1:0;var C=x||"value";function w(I){I.name==null&&(I.name=I.coordDim)}if(o)Z(a,function(I){w(I)}),a.sort(function(I,N){return I.storeDimIndex-N.storeDimIndex});else for(var E=0;E<s;E++){var L=v(E),P=L.coordDim;P==null&&(L.coordDim=IBe(C,r,M),L.coordDimIndex=0,(!x||b<=0)&&(L.isExtraCoord=!0),b--),w(L),L.type==null&&(Vue(n,E)===Ds.Must||L.isExtraCoord&&(L.otherDims.itemName!=null||L.otherDims.seriesName!=null))&&(L.type="ordinal")}return LBe(a),new Qce({source:n,dimensions:a,fullDimensionCount:s,dimensionOmitted:o})}function LBe(n){for(var e=bt(),t=0;t<n.length;t++){var i=n[t],r=i.name,a=e.get(r)||0;a>0&&(i.name=r+(a-1)),a++,e.set(r,a)}}function NBe(n,e,t,i){var r=Math.max(n.dimensionsDetectedCount||1,e.length,t.length,i||0);return Z(e,function(a){var s;Ot(a)&&(s=a.dimsDef)&&(r=Math.max(r,s.length))}),r}function IBe(n,e,t){if(t||e.hasKey(n)){for(var i=0;e.hasKey(n+i);)i++;n+=i}return e.set(n,!0),n}var PBe=(function(){function n(e){this.coordSysDims=[],this.axisMap=bt(),this.categoryAxisMap=bt(),this.coordSysName=e}return n})();function BBe(n){var e=n.get("coordinateSystem"),t=new PBe(e),i=OBe[e];if(i)return i(n,t,t.axisMap,t.categoryAxisMap),t}var OBe={cartesian2d:function(n,e,t,i){var r=n.getReferringComponents("xAxis",Sr).models[0],a=n.getReferringComponents("yAxis",Sr).models[0];e.coordSysDims=["x","y"],t.set("x",r),t.set("y",a),R_(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),R_(a)&&(i.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,i){var r=n.getReferringComponents("singleAxis",Sr).models[0];e.coordSysDims=["single"],t.set("single",r),R_(r)&&(i.set("single",r),e.firstCategoryDimIndex=0)},polar:function(n,e,t,i){var r=n.getReferringComponents("polar",Sr).models[0],a=r.findAxisModel("radiusAxis"),s=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",a),t.set("angle",s),R_(a)&&(i.set("radius",a),e.firstCategoryDimIndex=0),R_(s)&&(i.set("angle",s),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,i){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,i){var r=n.ecModel,a=r.getComponent("parallel",n.get("parallelIndex")),s=e.coordSysDims=a.dimensions.slice();Z(a.parallelAxisIndex,function(o,l){var u=r.getComponent("parallelAxis",o),c=s[l];t.set(c,u),R_(u)&&(i.set(c,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})},matrix:function(n,e,t,i){var r=n.getReferringComponents("matrix",Sr).models[0];e.coordSysDims=["x","y"];var a=r.getDimensionModel("x"),s=r.getDimensionModel("y");t.set("x",a),t.set("y",s),i.set("x",a),i.set("y",s)}};function R_(n){return n.get("type")==="category"}function ife(n,e,t){t=t||{};var i=t.byIndex,r=t.stackedCoordDimension,a,s,o;zBe(e)?a=e:(s=e.schema,a=s.dimensions,o=e.store);var l=!!(n&&n.get("stack")),u,c,f,h;if(Z(a,function(b,M){ot(b)&&(a[M]=b={name:b}),l&&!b.isExtraCoord&&(!i&&!u&&b.ordinalMeta&&(u=b),!c&&b.type!=="ordinal"&&b.type!=="time"&&(!r||r===b.coordDim)&&(c=b))}),c&&!i&&!u&&(i=!0),c){f="__\0ecstackresult_"+n.id,h="__\0ecstackedover_"+n.id,u&&(u.createInvertedIndices=!0);var d=c.coordDim,v=c.type,m=0;Z(a,function(b){b.coordDim===d&&m++});var y={name:f,coordDim:d,coordDimIndex:m,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},x={name:h,coordDim:h,coordDimIndex:m+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};s?(o&&(y.storeDimIndex=o.ensureCalculationDimension(h,v),x.storeDimIndex=o.ensureCalculationDimension(f,v)),s.appendCalculationDimension(y),s.appendCalculationDimension(x)):(a.push(y),a.push(x))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:i,stackedOverDimension:h,stackResultDimension:f}}function zBe(n){return!$ce(n.schema)}function Mp(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}function $6(n,e){return Mp(n,e)?n.getCalculationInfo("stackResultDimension"):e}function kBe(n,e){var t=n.get("coordinateSystem"),i=cS.get(t),r;return e&&e.coordSysDims&&(r=We(e.coordSysDims,function(a){var s={name:a},o=e.axisMap.get(a);if(o){var l=o.get("type");s.type=PL(l)}return s})),r||(r=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),r}function FBe(n,e,t){var i,r;return t&&Z(n,function(a,s){var o=a.coordDim,l=t.categoryAxisMap.get(o);l&&(i==null&&(i=s),a.ordinalMeta=l.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(r=!0)}),!r&&i!=null&&(n[i].otherDims.itemName=0),i}function Gh(n,e,t){t=t||{};var i=e.getSourceManager(),r,a=!1;n?(a=!0,r=z6(n)):(r=i.getSource(),a=r.sourceFormat===au);var s=BBe(e),o=kBe(e,s),l=t.useEncodeDefaulter,u=wt(l)?l:l?$t(Gue,o,e):null,c={coordDimensions:o,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!a},f=pS(r,c),h=FBe(f.dimensions,t.createInvertedIndices,s),d=a?null:i.getSharedDataStore(f),v=ife(e,{schema:f,store:d}),m=new fo(f,e);m.setCalculationInfo(v);var y=h!=null&&UBe(r)?function(x,b,M,C){return C===h?M:this.defaultDimValueGetter(x,b,M,C)}:null;return m.hasItemOption=!1,m.initData(a?r:d,null,y),m}function UBe(n){if(n.sourceFormat===au){var e=GBe(n.data||[]);return!Ve(eS(e))}}function GBe(n){for(var e=0;e<n.length&&n[e]==null;)e++;return n[e]}function wU(n){return n.type==="interval"||n.type==="log"}function VBe(n,e,t,i,r){var a={},s=a.interval=ZV(e/t,!0);i!=null&&s<i&&(s=a.interval=i),r!=null&&s>r&&(s=a.interval=r);var o=a.intervalPrecision=VT(s),l=a.niceTickExtent=[Jr(Math.ceil(n[0]/s)*s,o),Jr(Math.floor(n[1]/s)*s,o)];return jBe(l,n),a}function w5(n){var e=Math.pow(10,kI(n)),t=n/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,Jr(t*e)}function VT(n){return Yc(n)+2}function gZ(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function jBe(n,e){!isFinite(n[0])&&(n[0]=e[0]),!isFinite(n[1])&&(n[1]=e[1]),gZ(n,0,e),gZ(n,1,e),n[0]>n[1]&&(n[0]=n[1])}function e9(n,e){return n>=e[0]&&n<=e[1]}var HBe=(function(){function n(){this.normalize=yZ,this.scale=xZ}return n.prototype.updateMethods=function(e){e.hasBreaks()?(this.normalize=ct(e.normalize,e),this.scale=ct(e.scale,e)):(this.normalize=yZ,this.scale=xZ)},n})();function yZ(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function xZ(n,e){return n*(e[1]-e[0])+e[0]}function EU(n,e,t){var i=Math.log(n);return[Math.log(t?e[0]:Math.max(0,e[0]))/i,Math.log(t?e[1]:Math.max(0,e[1]))/i]}var km=(function(){function n(e){this._calculator=new HBe,this._setting=e||{},this._extent=[1/0,-1/0];var t=ha();t&&(this._brkCtx=t.createScaleBreakContext(),this._brkCtx.update(this._extent))}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype._innerUnionExtent=function(e){var t=this._extent;this._innerSetExtent(e[0]<t[0]?e[0]:t[0],e[1]>t[1]?e[1]:t[1])},n.prototype.unionExtentFromData=function(e,t){this._innerUnionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){this._innerSetExtent(e,t)},n.prototype._innerSetExtent=function(e,t){var i=this._extent;isNaN(e)||(i[0]=e),isNaN(t)||(i[1]=t),this._brkCtx&&this._brkCtx.update(i)},n.prototype.setBreaksFromOption=function(e){var t=ha();t&&this._innerSetBreak(t.parseAxisBreakOption(e,ct(this.parse,this)))},n.prototype._innerSetBreak=function(e){this._brkCtx&&(this._brkCtx.setBreaks(e),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},n.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},n.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},n.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n})();FI(km);var WBe=0,jT=(function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++WBe,this._onCollect=e.onCollect}return n.createByAxisModel=function(e){var t=e.option,i=t.data,r=i&&We(i,XBe);return new n({categories:r,needCollect:!r,deduplication:t.dedplication!==!1})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,i=this._needCollect;if(!ot(e)&&!i)return e;if(i&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,this._onCollect&&this._onCollect(e,t),t;var r=this._getOrCreateMap();return t=r.get(e),t==null&&(i?(t=this.categories.length,this.categories[t]=e,r.set(e,t),this._onCollect&&this._onCollect(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=bt(this.categories))},n})();function XBe(n){return Ot(n)&&n.value!=null?n.value:n+""}var gb=(function(n){me(e,n);function e(t){var i=n.call(this,t)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new jT({})),Ve(r)&&(r=new jT({categories:We(r,function(a){return Ot(a)?a.value:a})})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return e.prototype.parse=function(t){return t==null?NaN:ot(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return e9(t,this._extent)&&t>=0&&t<this._ordinalMeta.categories.length},e.prototype.normalize=function(t){return t=this._getTickNumber(t),this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(this._calculator.scale(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],i=this._extent,r=i[0];r<=i[1];)t.push({value:r}),r++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var i=t.ordinalNumbers,r=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],s=0,o=this._ordinalMeta.categories.length,l=Math.min(o,i.length);s<l;++s){var u=i[s];r[s]=u,a[u]=s}for(var c=0;s<o;++s){for(;a[c]!=null;)c++;r.push(c),a[c]=s}},e.prototype._getTickNumber=function(t){var i=this._ticksByOrdinalNumber;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getRawOrdinalNumber=function(t){var i=this._ordinalNumbersByTick;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var i=this.getRawOrdinalNumber(t.value),r=this._ordinalMeta.categories[i];return r==null?"":r+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e})(km);km.registerClass(gb);var Av=Jr,Tp=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t==null||t===""?NaN:Number(t)},e.prototype.contain=function(t){return e9(t,this._extent)},e.prototype.normalize=function(t){return this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return this._calculator.scale(t,this._extent)},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=VT(t)},e.prototype.getTicks=function(t){t=t||{};var i=this._interval,r=this._extent,a=this._niceExtent,s=this._intervalPrecision,o=ha(),l=[];if(!i)return l;if(t.breakTicks==="only_break"&&o)return o.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l;var u=1e4;r[0]<a[0]&&(t.expandToNicedExtent?l.push({value:Av(a[0]-i,s)}):l.push({value:r[0]}));for(var c=function(v,m){return Math.round((m-v)/i)},f=a[0];f<=a[1];){if(l.push({value:f}),f=Av(f+i,s),this._brkCtx){var h=this._brkCtx.calcNiceTickMultiple(f,c);h>=0&&(f=Av(f+h*i,s))}if(l.length>0&&f===l[l.length-1].value)break;if(l.length>u)return[]}var d=l.length?l[l.length-1].value:a[1];return r[1]>d&&(t.expandToNicedExtent?l.push({value:Av(d+i,s)}):l.push({value:r[1]})),o&&o.pruneTicksByBreak(t.pruneByBreak,l,this._brkCtx.breaks,function(v){return v.value},this._interval,this._extent),t.breakTicks!=="none"&&o&&o.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l},e.prototype.getMinorTicks=function(t){for(var i=this.getTicks({expandToNicedExtent:!0}),r=[],a=this.getExtent(),s=1;s<i.length;s++){var o=i[s],l=i[s-1];if(!(l.break||o.break)){for(var u=0,c=[],f=o.value-l.value,h=f/t,d=VT(h);u<t-1;){var v=Av(l.value+(u+1)*h,d);v>a[0]&&v<a[1]&&c.push(v),u++}var m=ha();m&&m.pruneTicksByBreak("auto",c,this._getNonTransBreaks(),function(y){return y},this._interval,a),r.push(c)}}return r},e.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},e.prototype.getLabel=function(t,i){if(t==null)return"";var r=i&&i.precision;r==null?r=Yc(t.value)||0:r==="auto"&&(r=this._intervalPrecision);var a=Av(t.value,r,!0);return E6(a)},e.prototype.calcNiceTicks=function(t,i,r){t=t||5;var a=this._extent.slice(),s=this._getExtentSpanWithBreaks();if(isFinite(s)){s<0&&(s=-s,a.reverse(),this._innerSetExtent(a[0],a[1]),a=this._extent.slice());var o=VBe(a,s,t,i,r);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var i=this._extent.slice();if(i[0]===i[1])if(i[0]!==0){var r=Math.abs(i[0]);t.fixMax||(i[1]+=r/2),i[0]-=r/2}else i[1]=1;var a=i[1]-i[0];isFinite(a)||(i[0]=0,i[1]=1),this._innerSetExtent(i[0],i[1]),i=this._extent.slice(),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var s=this._interval,o=this._intervalPrecision;t.fixMin||(i[0]=Av(Math.floor(i[0]/s)*s,o)),t.fixMax||(i[1]=Av(Math.ceil(i[1]/s)*s,o)),this._innerSetExtent(i[0],i[1])},e.prototype.setNiceExtent=function(t,i){this._niceExtent=[t,i]},e.type="interval",e})(km);km.registerClass(Tp);var rfe=typeof Float32Array<"u",YBe=rfe?Float32Array:Array;function yh(n){return Ve(n)?rfe?new Float32Array(n):n:new YBe(n)}var DU="__ec_stack_";function afe(n){return n.get("stack")||DU+n.seriesIndex}function t9(n){return n.dim+n.index}function qBe(n){var e=[],t=n.axis,i="axis0";if(t.type==="category"){for(var r=t.getBandWidth(),a=0;a<n.count;a++)e.push(Bt({bandWidth:r,axisKey:i,stackId:DU+a},n));for(var s=lfe(e),o=[],a=0;a<n.count;a++){var l=s[i][DU+a];l.offsetCenter=l.offset+l.width/2,o.push(l)}return o}}function sfe(n,e){var t=[];return e.eachSeriesByType(n,function(i){ffe(i)&&t.push(i)}),t}function ZBe(n){var e={};Z(n,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),h=c.dim+"_"+c.index,d=f.getDimensionIndex(f.mapDimension(c.dim)),v=f.getStore(),m=0,y=v.count();m<y;++m){var x=v.get(d,m);e[h]?e[h].push(x):e[h]=[x]}});var t={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(r){r.sort(function(l,u){return l-u});for(var a=null,s=1;s<r.length;++s){var o=r[s]-r[s-1];o>0&&(a=a===null?o:Math.min(a,o))}t[i]=a}}return t}function ofe(n){var e=ZBe(n),t=[];return Z(n,function(i){var r=i.coordinateSystem,a=r.getBaseAxis(),s=a.getExtent(),o;if(a.type==="category")o=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,u=e[l],c=Math.abs(s[1]-s[0]),f=a.scale.getExtent(),h=Math.abs(f[1]-f[0]);o=u?c/h*u:c}else{var d=i.getData();o=Math.abs(s[1]-s[0])/d.count()}var v=st(i.get("barWidth"),o),m=st(i.get("barMaxWidth"),o),y=st(i.get("barMinWidth")||(hfe(i)?.5:1),o),x=i.get("barGap"),b=i.get("barCategoryGap"),M=i.get("defaultBarGap");t.push({bandWidth:o,barWidth:v,barMaxWidth:m,barMinWidth:y,barGap:x,barCategoryGap:b,defaultBarGap:M,axisKey:t9(a),stackId:afe(i)})}),lfe(t)}function lfe(n){var e={};Z(n,function(i,r){var a=i.axisKey,s=i.bandWidth,o=e[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:i.defaultBarGap||0,stacks:{}},l=o.stacks;e[a]=o;var u=i.stackId;l[u]||o.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=i.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(o.remainedWidth,c),o.remainedWidth-=c);var f=i.barMaxWidth;f&&(l[u].maxWidth=f);var h=i.barMinWidth;h&&(l[u].minWidth=h);var d=i.barGap;d!=null&&(o.gap=d);var v=i.barCategoryGap;v!=null&&(o.categoryGap=v)});var t={};return Z(e,function(i,r){t[r]={};var a=i.stacks,s=i.bandWidth,o=i.categoryGap;if(o==null){var l=Dn(a).length;o=Math.max(35-l*4,15)+"%"}var u=st(o,s),c=st(i.gap,1),f=i.remainedWidth,h=i.autoWidthCount,d=(f-u)/(h+(h-1)*c);d=Math.max(d,0),Z(a,function(x){var b=x.maxWidth,M=x.minWidth;if(x.width){var C=x.width;b&&(C=Math.min(C,b)),M&&(C=Math.max(C,M)),x.width=C,f-=C+c*C,h--}else{var C=d;b&&b<C&&(C=Math.min(b,f)),M&&M>C&&(C=M),C!==d&&(x.width=C,f-=C+c*C,h--)}}),d=(f-u)/(h+(h-1)*c),d=Math.max(d,0);var v=0,m;Z(a,function(x,b){x.width||(x.width=d),m=x,v+=x.width*(1+c)}),m&&(v-=m.width*c);var y=-v/2;Z(a,function(x,b){t[r][b]=t[r][b]||{bandWidth:s,offset:y,width:x.width},y+=x.width*(1+c)})}),t}function KBe(n,e,t){if(n&&e){var i=n[t9(e)];return i}}function ufe(n,e){var t=sfe(n,e),i=ofe(t);Z(t,function(r){var a=r.getData(),s=r.coordinateSystem,o=s.getBaseAxis(),l=afe(r),u=i[t9(o)][l],c=u.offset,f=u.width;a.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function cfe(n){return{seriesType:n,plan:fS(),reset:function(e){if(ffe(e)){var t=e.getData(),i=e.coordinateSystem,r=i.getBaseAxis(),a=i.getOtherAxis(r),s=t.getDimensionIndex(t.mapDimension(a.dim)),o=t.getDimensionIndex(t.mapDimension(r.dim)),l=e.get("showBackground",!0),u=t.mapDimension(a.dim),c=t.getCalculationInfo("stackResultDimension"),f=Mp(t,u)&&!!t.getCalculationInfo("stackedOnSeries"),h=a.isHorizontal(),d=JBe(r,a),v=hfe(e),m=e.get("barMinHeight")||0,y=c&&t.getDimensionIndex(c),x=t.getLayout("size"),b=t.getLayout("offset");return{progress:function(M,C){for(var w=M.count,E=v&&yh(w*3),L=v&&l&&yh(w*3),P=v&&yh(w),I=i.master.getRect(),N=h?I.width:I.height,z,V=C.getStore(),U=0;(z=M.next())!=null;){var j=V.get(f?y:s,z),W=V.get(o,z),G=d,X=void 0;f&&(X=+j-V.get(s,z));var q=void 0,$=void 0,te=void 0,J=void 0;if(h){var Q=i.dataToPoint([j,W]);if(f){var se=i.dataToPoint([X,W]);G=se[0]}q=G,$=Q[1]+b,te=Q[0]-G,J=x,Math.abs(te)<m&&(te=(te<0?-1:1)*m)}else{var Q=i.dataToPoint([W,j]);if(f){var se=i.dataToPoint([W,X]);G=se[1]}q=Q[0]+b,$=G,te=x,J=Q[1]-G,Math.abs(J)<m&&(J=(J<=0?-1:1)*m)}v?(E[U]=q,E[U+1]=$,E[U+2]=h?te:J,L&&(L[U]=h?I.x:q,L[U+1]=h?$:I.y,L[U+2]=N),P[z]=z):C.setItemLayout(z,{x:q,y:$,width:te,height:J}),U+=3}v&&C.setLayout({largePoints:E,largeDataIndices:P,largeBackgroundPoints:L,valueAxisHorizontal:h})}}}}}}function ffe(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function hfe(n){return n.pipelineContext&&n.pipelineContext.large}function JBe(n,e){var t=e.model.get("startValue");return t||(t=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?t>0?t:1:t))}var QBe=function(n,e,t,i){for(;t<i;){var r=t+i>>>1;n[r][1]<e?t=r+1:i=r}return t},n9=(function(n){me(e,n);function e(t){var i=n.call(this,t)||this;return i.type="time",i}return e.prototype.getLabel=function(t){var i=this.getSetting("useUTC");return FC(t.value,cq[bNe(X2(this._minLevelUnit))]||cq.second,i,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,i,r){var a=this.getSetting("useUTC"),s=this.getSetting("locale");return SNe(t,i,r,s,a)},e.prototype.getTicks=function(t){t=t||{};var i=this._interval,r=this._extent,a=ha(),s=[];if(!i)return s;var o=this.getSetting("useUTC");if(a&&t.breakTicks==="only_break")return ha().addBreaksToTicks(s,this._brkCtx.breaks,this._extent),s;var l=P1(r[1],o);s.push({value:r[0],time:{level:0,upperTimeUnit:l,lowerTimeUnit:l}});var u=aOe(this._minLevelUnit,this._approxInterval,o,r,this._getExtentSpanWithBreaks(),this._brkCtx);s=s.concat(u);var c=P1(r[1],o);s.push({value:r[1],time:{level:0,upperTimeUnit:c,lowerTimeUnit:c}});var f=this.getSetting("useUTC"),h=zl.length-1,d=0;return Z(s,function(v){h=Math.min(h,rn(zl,v.time.upperTimeUnit)),d=Math.max(d,v.time.level)}),a&&ha().pruneTicksByBreak(t.pruneByBreak,s,this._brkCtx.breaks,function(v){return v.value},this._approxInterval,this._extent),a&&t.breakTicks!=="none"&&ha().addBreaksToTicks(s,this._brkCtx.breaks,this._extent,function(v){for(var m=Math.max(rn(zl,P1(v.vmin,f)),rn(zl,P1(v.vmax,f))),y=0,x=0;x<zl.length;x++)if(!dfe(zl[x],v.vmin,v.vmax,f)){y=x;break}var b=Math.min(y,h),M=Math.max(b,m);return{level:d,lowerTimeUnit:zl[M],upperTimeUnit:zl[b]}}),s},e.prototype.calcNiceExtent=function(t){var i=this.getExtent();if(i[0]===i[1]&&(i[0]-=Vu,i[1]+=Vu),i[1]===-1/0&&i[0]===1/0){var r=new Date;i[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),i[0]=i[1]-Vu}this._innerSetExtent(i[0],i[1]),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,i,r){t=t||10;var a=this._getExtentSpanWithBreaks();this._approxInterval=a/t,i!=null&&this._approxInterval<i&&(this._approxInterval=i),r!=null&&this._approxInterval>r&&(this._approxInterval=r);var s=mD.length,o=Math.min(QBe(mD,this._approxInterval,0,s),s-1);this._interval=mD[o][1],this._intervalPrecision=VT(this._interval),this._minLevelUnit=mD[Math.max(o-1,0)][0]},e.prototype.parse=function(t){return Pn(t)?t:+Fh(t)},e.prototype.contain=function(t){return e9(t,this._extent)},e.prototype.normalize=function(t){return this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return this._calculator.scale(t,this._extent)},e.type="time",e})(Tp),mD=[["second",_6],["minute",b6],["hour",W2],["quarter-day",W2*6],["half-day",W2*12],["day",Vu*1.2],["half-week",Vu*3.5],["week",Vu*7],["month",Vu*31],["quarter",Vu*95],["half-year",uq/2],["year",uq]];function dfe(n,e,t,i){return AL(new Date(e),n,i).getTime()===AL(new Date(t),n,i).getTime()}function $Be(n,e){return n/=Vu,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function eOe(n){var e=30*Vu;return n/=e,n>6?6:n>3?3:n>2?2:1}function tOe(n){return n/=W2,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function _Z(n,e){return n/=e?b6:_6,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function nOe(n){return ZV(n,!0)}function iOe(n,e,t){var i=Math.max(0,rn(zl,e)-1);return AL(new Date(n),zl[i],t).getTime()}function rOe(n,e){var t=new Date(0);t[n](1);var i=t.getTime();t[n](1+e);var r=t.getTime()-i;return function(a,s){return Math.max(0,Math.round((s-a)/r))}}function aOe(n,e,t,i,r,a){var s=1e4,o=gNe,l=0;function u(U,j,W,G,X,q,$){for(var te=rOe(X,U),J=j,Q=new Date(J);J<W&&J<=i[1]&&($.push({value:J}),!(l++>s));)if(Q[X](Q[G]()+U),J=Q.getTime(),a){var se=a.calcNiceTickMultiple(J,te);se>0&&(Q[X](Q[G]()+se*U),J=Q.getTime())}$.push({value:J,notAdd:!0})}function c(U,j,W){var G=[],X=!j.length;if(!dfe(X2(U),i[0],i[1],t)){X&&(j=[{value:iOe(i[0],U,t)},{value:i[1]}]);for(var q=0;q<j.length-1;q++){var $=j[q].value,te=j[q+1].value;if($!==te){var J=void 0,Q=void 0,se=void 0,ce=!1;switch(U){case"year":J=Math.max(1,Math.round(e/Vu/365)),Q=_ue(t),se=ANe(t);break;case"half-year":case"quarter":case"month":J=eOe(e),Q=S6(t),se=bue(t);break;case"week":case"half-week":case"day":J=$Be(e),Q=A6(t),se=Sue(t),ce=!0;break;case"half-day":case"quarter-day":case"hour":J=tOe(e),Q=M6(t),se=Aue(t);break;case"minute":J=_Z(e,!0),Q=T6(t),se=Mue(t);break;case"second":J=_Z(e,!1),Q=C6(t),se=Tue(t);break;case"millisecond":J=nOe(e),Q=w6(t),se=Cue(t);break}te>=i[0]&&$<=i[1]&&u(J,$,te,Q,se,ce,G),U==="year"&&W.length>1&&q===0&&W.unshift({value:W[0].value-J})}}for(var q=0;q<G.length;q++)W.push(G[q])}}for(var f=[],h=[],d=0,v=0,m=0;m<o.length;++m){var y=X2(o[m]);if(_Ne(o[m])){c(o[m],f[f.length-1]||[],h);var x=o[m+1]?X2(o[m+1]):null;if(y!==x){if(h.length){v=d,h.sort(function(U,j){return U.value-j.value});for(var b=[],M=0;M<h.length;++M){var C=h[M].value;(M===0||h[M-1].value!==C)&&(b.push(h[M]),C>=i[0]&&C<=i[1]&&d++)}var w=r/e;if(d>w*1.5&&v>w/1.5||(f.push(b),d>w||n===o[m]))break}h=[]}}}for(var E=Zn(We(f,function(U){return Zn(U,function(j){return j.value>=i[0]&&j.value<=i[1]&&!j.notAdd})}),function(U){return U.length>0}),L=[],P=E.length-1,m=0;m<E.length;++m)for(var I=E[m],N=0;N<I.length;++N){var z=P1(I[N].value,t);L.push({value:I[N].value,time:{level:P-m,upperTimeUnit:z,lowerTimeUnit:z}})}L.sort(function(U,j){return U.value-j.value});for(var V=[],m=0;m<L.length;++m)(m===0||L[m].value!==L[m-1].value)&&V.push(L[m]);return V}km.registerClass(n9);var RU=Jr,sOe=Math.floor,oOe=Math.ceil,gD=Math.pow,yD=Math.log,pfe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new Tp,t}return e.prototype.getTicks=function(t){t=t||{};var i=this._extent.slice(),r=this._originalScale.getExtent(),a=n.prototype.getTicks.call(this,t),s=this.base,o=this._originalScale._innerGetBreaks(),l=ha();return We(a,function(u){var c=u.value,f=null,h=gD(s,c);c===i[0]&&this._fixMin?f=r[0]:c===i[1]&&this._fixMax&&(f=r[1]);var d;if(l){var v=l.getTicksLogTransformBreak(u,s,o,xD);d=v.vBreak,f==null&&(f=v.brkRoundingCriterion)}return f!=null&&(h=xD(h,f)),{value:h,break:d}},this)},e.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},e.prototype.setExtent=function(t,i){this._originalScale.setExtent(t,i);var r=EU(this.base,[t,i]);n.prototype.setExtent.call(this,r[0],r[1])},e.prototype.getExtent=function(){var t=this.base,i=n.prototype.getExtent.call(this);i[0]=gD(t,i[0]),i[1]=gD(t,i[1]);var r=this._originalScale.getExtent();return this._fixMin&&(i[0]=xD(i[0],r[0])),this._fixMax&&(i[1]=xD(i[1],r[1])),i},e.prototype.unionExtentFromData=function(t,i){this._originalScale.unionExtentFromData(t,i);var r=EU(this.base,t.getApproximateExtent(i),!0);this._innerUnionExtent(r)},e.prototype.calcNiceTicks=function(t){t=t||10;var i=this._extent.slice(),r=this._getExtentSpanWithBreaks();if(!(!isFinite(r)||r<=0)){var a=xle(r),s=t/r*a;for(s<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var o=[RU(oOe(i[0]/a)*a),RU(sOe(i[1]/a)*a)];this._interval=a,this._intervalPrecision=VT(a),this._niceExtent=o}},e.prototype.calcNiceExtent=function(t){n.prototype.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.contain=function(t){return t=yD(t)/yD(this.base),n.prototype.contain.call(this,t)},e.prototype.normalize=function(t){return t=yD(t)/yD(this.base),n.prototype.normalize.call(this,t)},e.prototype.scale=function(t){return t=n.prototype.scale.call(this,t),gD(this.base,t)},e.prototype.setBreaksFromOption=function(t){var i=ha();if(i){var r=i.logarithmicParseBreaksFromOption(t,this.base,ct(this.parse,this)),a=r.parsedOriginal,s=r.parsedLogged;this._originalScale._innerSetBreak(a),this._innerSetBreak(s)}},e.type="log",e})(Tp);function xD(n,e){return RU(n,Yc(e))}km.registerClass(pfe);var lOe=(function(){function n(e,t,i){this._prepareParams(e,t,i)}return n.prototype._prepareParams=function(e,t,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var a=t.get("min",!0);a==null&&(a=t.get("startValue",!0));var s=this._modelMinRaw=a;wt(s)?this._modelMinNum=_D(e,s({min:i[0],max:i[1]})):s!=="dataMin"&&(this._modelMinNum=_D(e,s));var o=this._modelMaxRaw=t.get("max",!0);if(wt(o)?this._modelMaxNum=_D(e,o({min:i[0],max:i[1]})):o!=="dataMax"&&(this._modelMaxNum=_D(e,o)),r)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),u=Ve(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[sf(u[0],1),sf(u[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,i=this._dataMax,r=this._axisDataLen,a=this._boundaryGapInner,s=e?null:i-t||Math.abs(t),o=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?i:this._modelMaxNum,u=o!=null,c=l!=null;o==null&&(o=e?r?0:NaN:t-a[0]*s),l==null&&(l=e?r?r-1:NaN:i+a[1]*s),(o==null||!isFinite(o))&&(o=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=Ns(o)||Ns(l)||e&&!r;this._needCrossZero&&(o>0&&l>0&&!u&&(o=0),o<0&&l<0&&!c&&(l=0));var h=this._determinedMin,d=this._determinedMax;return h!=null&&(o=h,u=!0),d!=null&&(l=d,c=!0),{min:o,max:l,minFixed:u,maxFixed:c,isBlank:f}},n.prototype.modifyDataMinMax=function(e,t){this[cOe[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){var i=uOe[e];this[i]=t},n.prototype.freeze=function(){this.frozen=!0},n})(),uOe={min:"_determinedMin",max:"_determinedMax"},cOe={min:"_dataMin",max:"_dataMax"};function vfe(n,e,t){var i=n.rawExtentInfo;return i||(i=new lOe(n,e,t),n.rawExtentInfo=i,i)}function _D(n,e){return e==null?null:Ns(e)?NaN:n.parse(e)}function mfe(n,e){var t=n.type,i=vfe(n,e,n.getExtent()).calculate();n.setBlank(i.isBlank);var r=i.min,a=i.max,s=e.ecModel;if(s&&t==="time"){var o=sfe("bar",s),l=!1;if(Z(o,function(f){l=l||f.getBaseAxis()===e.axis}),l){var u=ofe(o),c=fOe(r,a,e,u);r=c.min,a=c.max}}return{extent:[r,a],fixMin:i.minFixed,fixMax:i.maxFixed}}function fOe(n,e,t,i){var r=t.axis.getExtent(),a=Math.abs(r[1]-r[0]),s=KBe(i,t.axis);if(s===void 0)return{min:n,max:e};var o=1/0;Z(s,function(d){o=Math.min(d.offset,o)});var l=-1/0;Z(s,function(d){l=Math.max(d.offset+d.width,l)}),o=Math.abs(o),l=Math.abs(l);var u=o+l,c=e-n,f=1-(o+l)/a,h=c/f-c;return e+=h*(l/u),n-=h*(o/u),{min:n,max:e}}function Oy(n,e){var t=e,i=mfe(n,t),r=i.extent,a=t.get("splitNumber");n instanceof pfe&&(n.base=t.get("logBase"));var s=n.type,o=t.get("interval"),l=s==="interval"||s==="time";n.setBreaksFromOption(yfe(t)),n.setExtent(r[0],r[1]),n.calcNiceExtent({splitNumber:a,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),o!=null&&n.setInterval&&n.setInterval(o)}function VC(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new gb({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new n9({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(km.getClass(e)||Tp)}}function hOe(n){var e=n.scale.getExtent(),t=e[0],i=e[1];return!(t>0&&i>0||t<0&&i<0)}function vS(n){var e=n.getLabelModel().get("formatter");if(n.type==="time"){var t=yNe(e);return function(r,a){return n.scale.getFormattedLabel(r,a,t)}}else{if(ot(e))return function(r){var a=n.scale.getLabel(r),s=e.replace("{value}",a??"");return s};if(wt(e)){if(n.type==="category")return function(r,a){return e(BL(n,r),r.value-n.scale.getExtent()[0],null)};var i=ha();return function(r,a){var s=null;return i&&(s=i.makeAxisLabelFormatterParamBreak(s,r.break)),e(BL(n,r),a,s)}}else return function(r){return n.scale.getLabel(r)}}}function BL(n,e){return n.type==="category"?n.scale.getLabel(e):e.value}function i9(n){var e=n.get("interval");return e??"auto"}function gfe(n){return n.type==="category"&&i9(n.getLabelModel())===0}function OL(n,e){var t={};return Z(n.mapDimensionsAll(e),function(i){t[$6(n,i)]=!0}),Dn(t)}function dOe(n,e,t){e&&Z(OL(e,t),function(i){var r=e.getApproximateExtent(i);r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1])})}function yb(n){return n==="middle"||n==="center"}function HT(n){return n.getShallow("show")}function yfe(n){var e=n.get("breaks",!0);if(e!=null)return!ha()||!pOe(n.axis)?void 0:e}function pOe(n){return(n.dim==="x"||n.dim==="y"||n.dim==="z"||n.dim==="single")&&n.type!=="category"}var mS=(function(){function n(){}return n.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},n.prototype.getCoordSysModel=function(){},n})();function vOe(n){return Gh(null,n)}var mOe={isDimensionStacked:Mp,enableDataStack:ife,getStackedDimension:$6};function gOe(n,e){var t=e;e instanceof Sn||(t=new Sn(e));var i=VC(t);return i.setExtent(n[0],n[1]),Oy(i,t),i}function yOe(n){kr(n,mS)}function xOe(n,e){return e=e||{},Ii(n,null,null,e.state!=="normal")}const _Oe=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:RBe,createList:vOe,createScale:gOe,createSymbol:$r,createTextStyle:xOe,dataStack:mOe,enableHoverEmphasis:om,getECData:jt,getLayoutRect:Ji,mixinAxisModelCommonMethods:yOe},Symbol.toStringTag,{value:"Module"}));var bOe=1e-8;function bZ(n,e){return Math.abs(n-e)<bOe}function O0(n,e,t){var i=0,r=n[0];if(!r)return!1;for(var a=1;a<n.length;a++){var s=n[a];i+=Gd(r[0],r[1],s[0],s[1],e,t),r=s}var o=n[0];return(!bZ(r[0],o[0])||!bZ(r[1],o[1]))&&(i+=Gd(r[0],r[1],o[0],o[1],e,t)),i!==0}var SOe=[];function E5(n,e){for(var t=0;t<n.length;t++)zr(n[t],n[t],e)}function SZ(n,e,t,i){for(var r=0;r<n.length;r++){var a=n[r];i&&(a=i.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(Kd(e,e,a),Jd(t,t,a))}}function AOe(n){for(var e=0,t=0,i=0,r=n.length,a=n[r-1][0],s=n[r-1][1],o=0;o<r;o++){var l=n[o][0],u=n[o][1],c=a*u-l*s;e+=c,t+=(a+l)*c,i+=(s+u)*c,a=l,s=u}return e?[t/e/3,i/e/3,e]:[n[0][0]||0,n[0][1]||0]}var xfe=(function(){function n(e){this.name=e}return n.prototype.setCenter=function(e){this._center=e},n.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},n})(),AZ=(function(){function n(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return n})(),MZ=(function(){function n(e){this.type="linestring",this.points=e}return n})(),_fe=(function(n){me(e,n);function e(t,i,r){var a=n.call(this,t)||this;return a.type="geoJSON",a.geometries=i,a._center=r&&[r[0],r[1]],a}return e.prototype.calcCenter=function(){for(var t=this.geometries,i,r=0,a=0;a<t.length;a++){var s=t[a],o=s.exterior,l=o&&o.length;l>r&&(i=s,r=l)}if(i)return AOe(i.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},e.prototype.getBoundingRect=function(t){var i=this._rect;if(i&&!t)return i;var r=[1/0,1/0],a=[-1/0,-1/0],s=this.geometries;return Z(s,function(o){o.type==="polygon"?SZ(o.exterior,r,a,t):Z(o.points,function(l){SZ(l,r,a,t)})}),isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])||(r[0]=r[1]=a[0]=a[1]=0),i=new Ut(r[0],r[1],a[0]-r[0],a[1]-r[1]),t||(this._rect=i),i},e.prototype.contain=function(t){var i=this.getBoundingRect(),r=this.geometries;if(!i.contain(t[0],t[1]))return!1;e:for(var a=0,s=r.length;a<s;a++){var o=r[a];if(o.type==="polygon"){var l=o.exterior,u=o.interiors;if(O0(l,t[0],t[1])){for(var c=0;c<(u?u.length:0);c++)if(O0(u[c],t[0],t[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(t,i,r,a){var s=this.getBoundingRect(),o=s.width/s.height;r?a||(a=r/o):r=o*a;for(var l=new Ut(t,i,r,a),u=s.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var h=c[f];h.type==="polygon"?(E5(h.exterior,u),Z(h.interiors,function(d){E5(d,u)})):Z(h.points,function(d){E5(d,u)})}s=this._rect,s.copy(l),this._center=[s.x+s.width/2,s.y+s.height/2]},e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var i=new e(t,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},e})(xfe),MOe=(function(n){me(e,n);function e(t,i){var r=n.call(this,t)||this;return r.type="geoSVG",r._elOnlyForCalculate=i,r}return e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,i=t.getBoundingRect(),r=[i.x+i.width/2,i.y+i.height/2],a=LC(SOe),s=t;s&&!s.isGeoSVGGraphicRoot;)Jc(a,s.getLocalTransform(),a),s=s.parent;return Qu(a,a),zr(r,r,a),r},e})(xfe);function TOe(n){if(!n.UTF8Encoding)return n;var e=n,t=e.UTF8Scale;t==null&&(t=1024);var i=e.features;return Z(i,function(r){var a=r.geometry,s=a.encodeOffsets,o=a.coordinates;if(s)switch(a.type){case"LineString":a.coordinates=bfe(o,s,t);break;case"Polygon":D5(o,s,t);break;case"MultiLineString":D5(o,s,t);break;case"MultiPolygon":Z(o,function(l,u){return D5(l,s[u],t)})}}),e.UTF8Encoding=!1,e}function D5(n,e,t){for(var i=0;i<n.length;i++)n[i]=bfe(n[i],e[i],t)}function bfe(n,e,t){for(var i=[],r=e[0],a=e[1],s=0;s<n.length;s+=2){var o=n.charCodeAt(s)-64,l=n.charCodeAt(s+1)-64;o=o>>1^-(o&1),l=l>>1^-(l&1),o+=r,l+=a,r=o,a=l,i.push([o/t,l/t])}return i}function LU(n,e){return n=TOe(n),We(Zn(n.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var i=t.properties,r=t.geometry,a=[];switch(r.type){case"Polygon":var s=r.coordinates;a.push(new AZ(s[0],s.slice(1)));break;case"MultiPolygon":Z(r.coordinates,function(l){l[0]&&a.push(new AZ(l[0],l.slice(1)))});break;case"LineString":a.push(new MZ([r.coordinates]));break;case"MultiLineString":a.push(new MZ(r.coordinates))}var o=new _fe(i[e||"name"],a,i.cp);return o.properties=i,o})}const COe=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:WF,asc:Xl,getPercentWithPrecision:WRe,getPixelPrecision:YV,getPrecision:Yc,getPrecisionSafe:gle,isNumeric:KV,isRadianAroundZero:fb,linearMap:ei,nice:ZV,numericToNumber:Nh,parseDate:Fh,parsePercent:st,quantile:v3,quantity:xle,quantityExponent:kI,reformIntervals:XF,remRadian:qV,round:Jr},Symbol.toStringTag,{value:"Module"})),wOe=Object.freeze(Object.defineProperty({__proto__:null,format:FC,parse:Fh,roundTime:AL},Symbol.toStringTag,{value:"Module"})),EOe=Object.freeze(Object.defineProperty({__proto__:null,Arc:OC,BezierCurve:rS,BoundingRect:Ut,Circle:Uh,CompoundPath:zC,Ellipse:BC,Group:It,Image:Za,IncrementalDisplayable:aue,Line:Qr,LinearGradient:qy,Polygon:Fs,Polyline:ys,RadialGradient:u6,Rect:pn,Ring:iS,Sector:ks,Text:In,clipPointsByRect:d6,clipRectByRect:cue,createIcon:sS,extendPath:lue,extendShape:oue,getShapeClass:BT,getTransform:lm,initProps:Xi,makeImage:f6,makePath:db,mergePath:jl,registerShape:sc,resizePath:h6,updateProps:Gn},Symbol.toStringTag,{value:"Module"})),DOe=Object.freeze(Object.defineProperty({__proto__:null,addCommas:E6,capitalFirst:wNe,encodeHTML:so,formatTime:CNe,formatTpl:R6,getTextRect:MNe,getTooltipMarker:wue,normalizeCssArray:uS,toCamelCase:D6,truncateText:M3e},Symbol.toStringTag,{value:"Module"})),ROe=Object.freeze(Object.defineProperty({__proto__:null,bind:ct,clone:Nt,curry:$t,defaults:Bt,each:Z,extend:Ie,filter:Zn,indexOf:rn,inherits:FV,isArray:Ve,isFunction:wt,isObject:Ot,isString:ot,map:We,merge:an,reduce:Ju},Symbol.toStringTag,{value:"Module"}));var LOe=_n(),q2=_n(),of={estimate:1,determine:2};function zL(n){return{out:{noPxChangeTryDetermine:[]},kind:n}}function Sfe(n,e){var t=We(e,function(i){return n.scale.parse(i)});return n.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function NOe(n,e){var t=n.getLabelModel().get("customValues");if(t){var i=vS(n),r=n.scale.getExtent(),a=Sfe(n,t),s=Zn(a,function(o){return o>=r[0]&&o<=r[1]});return{labels:We(s,function(o){var l={value:o};return{formattedLabel:i(l),rawLabel:n.scale.getLabel(l),tickValue:o,time:void 0,break:void 0}})}}return n.type==="category"?POe(n,e):OOe(n)}function IOe(n,e,t){var i=n.getTickModel().get("customValues");if(i){var r=n.scale.getExtent(),a=Sfe(n,i);return{ticks:Zn(a,function(s){return s>=r[0]&&s<=r[1]})}}return n.type==="category"?BOe(n,e):{ticks:We(n.scale.getTicks(t),function(s){return s.value})}}function POe(n,e){var t=n.getLabelModel(),i=Afe(n,t,e);return!t.get("show")||n.scale.isBlank()?{labels:[]}:i}function Afe(n,e,t){var i=kOe(n),r=i9(e),a=t.kind===of.estimate;if(!a){var s=Tfe(i,r);if(s)return s}var o,l;wt(r)?o=Efe(n,r):(l=r==="auto"?FOe(n,t):r,o=wfe(n,l));var u={labels:o,labelCategoryInterval:l};return a?t.out.noPxChangeTryDetermine.push(function(){return NU(i,r,u),!0}):NU(i,r,u),u}function BOe(n,e){var t=zOe(n),i=i9(e),r=Tfe(t,i);if(r)return r;var a,s;if((!e.get("show")||n.scale.isBlank())&&(a=[]),wt(i))a=Efe(n,i,!0);else if(i==="auto"){var o=Afe(n,n.getLabelModel(),zL(of.determine));s=o.labelCategoryInterval,a=We(o.labels,function(l){return l.tickValue})}else s=i,a=wfe(n,s,!0);return NU(t,i,{ticks:a,tickCategoryInterval:s})}function OOe(n){var e=n.scale.getTicks(),t=vS(n);return{labels:We(e,function(i,r){return{formattedLabel:t(i,r),rawLabel:n.scale.getLabel(i),tickValue:i.value,time:i.time,break:i.break}})}}var zOe=Mfe("axisTick"),kOe=Mfe("axisLabel");function Mfe(n){return function(t){return q2(t)[n]||(q2(t)[n]={list:[]})}}function Tfe(n,e){for(var t=0;t<n.list.length;t++)if(n.list[t].key===e)return n.list[t].value}function NU(n,e,t){return n.list.push({key:e,value:t}),t}function FOe(n,e){if(e.kind===of.estimate){var t=n.calculateCategoryInterval(e);return e.out.noPxChangeTryDetermine.push(function(){return q2(n).autoInterval=t,!0}),t}var i=q2(n).autoInterval;return i??(q2(n).autoInterval=n.calculateCategoryInterval(e))}function UOe(n,e){var t=e.kind,i=VOe(n),r=vS(n),a=(i.axisRotate-i.labelRotate)/180*Math.PI,s=n.scale,o=s.getExtent(),l=s.count();if(o[1]-o[0]<1)return 0;var u=1,c=40;l>c&&(u=Math.max(1,Math.floor(l/c)));for(var f=o[0],h=n.dataToCoord(f+1)-n.dataToCoord(f),d=Math.abs(h*Math.cos(a)),v=Math.abs(h*Math.sin(a)),m=0,y=0;f<=o[1];f+=u){var x=0,b=0,M=OI(r({value:f}),i.font,"center","top");x=M.width*1.3,b=M.height*1.3,m=Math.max(m,x,7),y=Math.max(y,b,7)}var C=m/d,w=y/v;isNaN(C)&&(C=1/0),isNaN(w)&&(w=1/0);var E=Math.max(0,Math.floor(Math.min(C,w)));if(t===of.estimate)return e.out.noPxChangeTryDetermine.push(ct(GOe,null,n,E,l)),E;var L=Cfe(n,E,l);return L??E}function GOe(n,e,t){return Cfe(n,e,t)==null}function Cfe(n,e,t){var i=LOe(n.model),r=n.getExtent(),a=i.lastAutoInterval,s=i.lastTickCount;if(a!=null&&s!=null&&Math.abs(a-e)<=1&&Math.abs(s-t)<=1&&a>e&&i.axisExtent0===r[0]&&i.axisExtent1===r[1])return a;i.lastTickCount=t,i.lastAutoInterval=e,i.axisExtent0=r[0],i.axisExtent1=r[1]}function VOe(n){var e=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function wfe(n,e,t){var i=vS(n),r=n.scale,a=r.getExtent(),s=n.getLabelModel(),o=[],l=Math.max((e||0)+1,1),u=a[0],c=r.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=gfe(n),h=s.get("showMinLabel")||f,d=s.get("showMaxLabel")||f;h&&u!==a[0]&&m(a[0]);for(var v=u;v<=a[1];v+=l)m(v);d&&v-l!==a[1]&&m(a[1]);function m(y){var x={value:y};o.push(t?y:{formattedLabel:i(x),rawLabel:r.getLabel(x),tickValue:y,time:void 0,break:void 0})}return o}function Efe(n,e,t){var i=n.scale,r=vS(n),a=[];return Z(i.getTicks(),function(s){var o=i.getLabel(s),l=s.value;e(s.value,o)&&a.push(t?l:{formattedLabel:r(s),rawLabel:o,tickValue:l,time:void 0,break:void 0})}),a}var TZ=[0,1],oc=(function(){function n(e,t,i){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=i||[0,0]}return n.prototype.contain=function(e){var t=this._extent,i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=i&&e<=r},n.prototype.containData=function(e){return this.scale.contain(this.scale.parse(e))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return YV(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var i=this._extent;i[0]=e,i[1]=t},n.prototype.dataToCoord=function(e,t){var i=this._extent,r=this.scale;return e=r.normalize(r.parse(e)),this.onBand&&r.type==="ordinal"&&(i=i.slice(),CZ(i,r.count())),ei(e,TZ,i,t)},n.prototype.coordToData=function(e,t){var i=this._extent,r=this.scale;this.onBand&&r.type==="ordinal"&&(i=i.slice(),CZ(i,r.count()));var a=ei(e,i,TZ,t);return this.scale.scale(a)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),i=IOe(this,t,{breakTicks:e.breakTicks,pruneByBreak:e.pruneByBreak}),r=i.ticks,a=We(r,function(o){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this),s=t.get("alignWithLabel");return jOe(this,a,s,e.clamp),a},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var i=this.scale.getMinorTicks(t),r=We(i,function(a){return We(a,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return r},n.prototype.getViewLabels=function(e){return e=e||zL(of.determine),NOe(this,e).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),i=t[1]-t[0]+(this.onBand?1:0);i===0&&(i=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/i},n.prototype.calculateCategoryInterval=function(e){return e=e||zL(of.determine),UOe(this,e)},n})();function CZ(n,e){var t=n[1]-n[0],i=e,r=t/i/2;n[0]+=r,n[1]-=r}function jOe(n,e,t,i){var r=e.length;if(!n.onBand||t||!r)return;var a=n.getExtent(),s,o;if(r===1)e[0].coord=a[0],e[0].onBand=!0,s=e[1]={coord:a[1],tickValue:e[0].tickValue,onBand:!0};else{var l=e[r-1].tickValue-e[0].tickValue,u=(e[r-1].coord-e[0].coord)/l;Z(e,function(d){d.coord-=u/2,d.onBand=!0});var c=n.scale.getExtent();o=1+c[1]-e[r-1].tickValue,s={coord:e[r-1].coord+u*o,tickValue:c[1]+1,onBand:!0},e.push(s)}var f=a[0]>a[1];h(e[0].coord,a[0])&&(i?e[0].coord=a[0]:e.shift()),i&&h(a[0],e[0].coord)&&e.unshift({coord:a[0],onBand:!0}),h(a[1],s.coord)&&(i?s.coord=a[1]:e.pop()),i&&h(s.coord,a[1])&&e.push({coord:a[1],onBand:!0});function h(d,v){return d=Jr(d),v=Jr(v),f?d>v:d<v}}function HOe(n){var e=xn.extend(n);return xn.registerClass(e),e}function WOe(n){var e=Bi.extend(n);return Bi.registerClass(e),e}function XOe(n){var e=Ti.extend(n);return Ti.registerClass(e),e}function YOe(n){var e=xi.extend(n);return xi.registerClass(e),e}var xM=Math.PI*2,s0=Ih.CMD,qOe=["top","right","bottom","left"];function ZOe(n,e,t,i,r){var a=t.width,s=t.height;switch(n){case"top":i.set(t.x+a/2,t.y-e),r.set(0,-1);break;case"bottom":i.set(t.x+a/2,t.y+s+e),r.set(0,1);break;case"left":i.set(t.x-e,t.y+s/2),r.set(-1,0);break;case"right":i.set(t.x+a+e,t.y+s/2),r.set(1,0);break}}function KOe(n,e,t,i,r,a,s,o,l){s-=n,o-=e;var u=Math.sqrt(s*s+o*o);s/=u,o/=u;var c=s*t+n,f=o*t+e;if(Math.abs(i-r)%xM<1e-4)return l[0]=c,l[1]=f,u-t;if(a){var h=i;i=Yl(r),r=Yl(h)}else i=Yl(i),r=Yl(r);i>r&&(r+=xM);var d=Math.atan2(o,s);if(d<0&&(d+=xM),d>=i&&d<=r||d+xM>=i&&d+xM<=r)return l[0]=c,l[1]=f,u-t;var v=t*Math.cos(i)+n,m=t*Math.sin(i)+e,y=t*Math.cos(r)+n,x=t*Math.sin(r)+e,b=(v-s)*(v-s)+(m-o)*(m-o),M=(y-s)*(y-s)+(x-o)*(x-o);return b<M?(l[0]=v,l[1]=m,Math.sqrt(b)):(l[0]=y,l[1]=x,Math.sqrt(M))}function kL(n,e,t,i,r,a,s,o){var l=r-n,u=a-e,c=t-n,f=i-e,h=Math.sqrt(c*c+f*f);c/=h,f/=h;var d=l*c+u*f,v=d/h;o&&(v=Math.min(Math.max(v,0),1)),v*=h;var m=s[0]=n+v*c,y=s[1]=e+v*f;return Math.sqrt((m-r)*(m-r)+(y-a)*(y-a))}function Dfe(n,e,t,i,r,a,s){t<0&&(n=n+t,t=-t),i<0&&(e=e+i,i=-i);var o=n+t,l=e+i,u=s[0]=Math.min(Math.max(r,n),o),c=s[1]=Math.min(Math.max(a,e),l);return Math.sqrt((u-r)*(u-r)+(c-a)*(c-a))}var Vc=[];function JOe(n,e,t){var i=Dfe(e.x,e.y,e.width,e.height,n.x,n.y,Vc);return t.set(Vc[0],Vc[1]),i}function QOe(n,e,t){for(var i=0,r=0,a=0,s=0,o,l,u=1/0,c=e.data,f=n.x,h=n.y,d=0;d<c.length;){var v=c[d++];d===1&&(i=c[d],r=c[d+1],a=i,s=r);var m=u;switch(v){case s0.M:a=c[d++],s=c[d++],i=a,r=s;break;case s0.L:m=kL(i,r,c[d],c[d+1],f,h,Vc,!0),i=c[d++],r=c[d++];break;case s0.C:m=Joe(i,r,c[d++],c[d++],c[d++],c[d++],c[d],c[d+1],f,h,Vc),i=c[d++],r=c[d++];break;case s0.Q:m=$oe(i,r,c[d++],c[d++],c[d],c[d+1],f,h,Vc),i=c[d++],r=c[d++];break;case s0.A:var y=c[d++],x=c[d++],b=c[d++],M=c[d++],C=c[d++],w=c[d++];d+=1;var E=!!(1-c[d++]);o=Math.cos(C)*b+y,l=Math.sin(C)*M+x,d<=1&&(a=o,s=l);var L=(f-y)*M/b+y;m=KOe(y,x,M,C,C+w,E,L,h,Vc),i=Math.cos(C+w)*b+y,r=Math.sin(C+w)*M+x;break;case s0.R:a=i=c[d++],s=r=c[d++];var P=c[d++],I=c[d++];m=Dfe(a,s,P,I,f,h,Vc);break;case s0.Z:m=kL(i,r,a,s,f,h,Vc,!0),i=a,r=s;break}m<u&&(u=m,t.set(Vc[0],Vc[1]))}return u}var qc=new Ft,Wi=new Ft,Yr=new Ft,xh=new Ft,hh=new Ft;function wZ(n,e){if(n){var t=n.getTextGuideLine(),i=n.getTextContent();if(i&&t){var r=n.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],s=r.candidates||qOe,o=i.getBoundingRect().clone();o.applyTransform(i.getComputedTransform());var l=1/0,u=r.anchor,c=n.getComputedTransform(),f=c&&Qu([],c),h=e.get("length2")||0;u&&Yr.copy(u);for(var d=0;d<s.length;d++){var v=s[d];ZOe(v,0,o,qc,xh),Ft.scaleAndAdd(Wi,qc,xh,h),Wi.transform(f);var m=n.getBoundingRect(),y=u?u.distance(Wi):n instanceof An?QOe(Wi,n.path,Yr):JOe(Wi,m,Yr);y<l&&(l=y,Wi.transform(c),Yr.transform(c),Yr.toArray(a[0]),Wi.toArray(a[1]),qc.toArray(a[2]))}Rfe(a,e.get("minTurnAngle")),t.setShape({points:a})}}}var FL=[],ko=new Ft;function Rfe(n,e){if(e<=180&&e>0){e=e/180*Math.PI,qc.fromArray(n[0]),Wi.fromArray(n[1]),Yr.fromArray(n[2]),Ft.sub(xh,qc,Wi),Ft.sub(hh,Yr,Wi);var t=xh.len(),i=hh.len();if(!(t<.001||i<.001)){xh.scale(1/t),hh.scale(1/i);var r=xh.dot(hh),a=Math.cos(e);if(a<r){var s=kL(Wi.x,Wi.y,Yr.x,Yr.y,qc.x,qc.y,FL,!1);ko.fromArray(FL),ko.scaleAndAdd(hh,s/Math.tan(Math.PI-e));var o=Yr.x!==Wi.x?(ko.x-Wi.x)/(Yr.x-Wi.x):(ko.y-Wi.y)/(Yr.y-Wi.y);if(isNaN(o))return;o<0?Ft.copy(ko,Wi):o>1&&Ft.copy(ko,Yr),ko.toArray(n[1])}}}}function $Oe(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,qc.fromArray(n[0]),Wi.fromArray(n[1]),Yr.fromArray(n[2]),Ft.sub(xh,Wi,qc),Ft.sub(hh,Yr,Wi);var i=xh.len(),r=hh.len();if(!(i<.001||r<.001)){xh.scale(1/i),hh.scale(1/r);var a=xh.dot(e),s=Math.cos(t);if(a<s){var o=kL(Wi.x,Wi.y,Yr.x,Yr.y,qc.x,qc.y,FL,!1);ko.fromArray(FL);var l=Math.PI/2,u=Math.acos(hh.dot(e)),c=l+u-t;if(c>=l)Ft.copy(ko,Yr);else{ko.scaleAndAdd(hh,o/Math.tan(Math.PI/2-c));var f=Yr.x!==Wi.x?(ko.x-Wi.x)/(Yr.x-Wi.x):(ko.y-Wi.y)/(Yr.y-Wi.y);if(isNaN(f))return;f<0?Ft.copy(ko,Wi):f>1&&Ft.copy(ko,Yr)}ko.toArray(n[1])}}}}function R5(n,e,t,i){var r=t==="normal",a=r?n:n.ensureState(t);a.ignore=e;var s=i.get("smooth");s&&s===!0&&(s=.3),a.shape=a.shape||{},s>0&&(a.shape.smooth=s);var o=i.getModel("lineStyle").getLineStyle();r?n.useStyle(o):a.style=o}function e5e(n,e){var t=e.smooth,i=e.points;if(i)if(n.moveTo(i[0][0],i[0][1]),t>0&&i.length>=3){var r=Zd(i[0],i[1]),a=Zd(i[1],i[2]);if(!r||!a){n.lineTo(i[1][0],i[1][1]),n.lineTo(i[2][0],i[2][1]);return}var s=Math.min(r,a)*t,o=k2([],i[1],i[0],s/r),l=k2([],i[1],i[2],s/a),u=k2([],o,l,.5);n.bezierCurveTo(o[0],o[1],o[0],o[1],u[0],u[1]),n.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else for(var c=1;c<i.length;c++)n.lineTo(i[c][0],i[c][1])}function r9(n,e,t){var i=n.getTextGuideLine(),r=n.getTextContent();if(!r){i&&n.removeTextGuideLine();return}for(var a=e.normal,s=a.get("show"),o=r.ignore,l=0;l<IT.length;l++){var u=IT[l],c=e[u],f=u==="normal";if(c){var h=c.get("show"),d=f?o:At(r.states[u]&&r.states[u].ignore,o);if(d||!At(h,s)){var v=f?i:i&&i.states[u];v&&(v.ignore=!0),i&&R5(i,!0,u,c);continue}i||(i=new ys,n.setTextGuideLine(i),!f&&(o||!s)&&R5(i,!0,"normal",e.normal),n.stateProxy&&(i.stateProxy=n.stateProxy)),R5(i,!1,u,c)}}if(i){Bt(i.style,t),i.style.fill=null;var m=a.get("showAbove"),y=n.textGuideLineConfig=n.textGuideLineConfig||{};y.showAbove=m||!1,i.buildPath=e5e}}function a9(n,e){e=e||"labelLine";for(var t={normal:n.getModel(e)},i=0;i<qo.length;i++){var r=qo[i];t[r]=n.getModel([r,e])}return t}var EZ=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],t5e=1,UL=2,Lfe=t5e|UL;function GL(n,e,t){t=t||Lfe,e?n.dirty|=t:n.dirty&=~t}function Nfe(n,e){return e=e||Lfe,n.dirty==null||!!(n.dirty&e)}function Bh(n){if(n)return Nfe(n)&&Ife(n,n.label,n),n}function Ife(n,e,t){var i=e.getComputedTransform();n.transform=v6(n.transform,i);var r=n.localRect=OT(n.localRect,e.getBoundingRect()),a=e.style,s=a.margin,o=t&&t.marginForce,l=t&&t.minMarginForce,u=t&&t.marginDefault,c=a.__marginType;c==null&&u&&(s=u,c=I1.textMargin);for(var f=0;f<4;f++)L5[f]=c===I1.minMargin&&l&&l[f]!=null?l[f]:o&&o[f]!=null?o[f]:s?s[f]:0;c===I1.textMargin&&Iy(r,L5,!1,!1);var h=n.rect=OT(n.rect,r);return i&&h.applyTransform(i),c===I1.minMargin&&Iy(h,L5,!1,!1),n.axisAligned=p6(i),(n.label=n.label||{}).ignore=e.ignore,GL(n,!1),GL(n,!0,UL),n}var L5=[0,0,0,0];function n5e(n,e,t){return n.transform=v6(n.transform,t),n.localRect=OT(n.localRect,e),n.rect=OT(n.rect,e),t&&n.rect.applyTransform(t),n.axisAligned=p6(t),n.obb=void 0,(n.label=n.label||{}).ignore=!1,n}function IU(n,e){if(n){n.label.x+=e.x,n.label.y+=e.y,n.label.markRedraw();var t=n.transform;t&&(t[4]+=e.x,t[5]+=e.y);var i=n.rect;i&&(i.x+=e.x,i.y+=e.y);var r=n.obb;r&&r.fromBoundingRect(n.localRect,t)}}function PU(n,e){for(var t=0;t<EZ.length;t++){var i=EZ[t];n[i]==null&&(n[i]=e[i])}return Bh(n)}function DZ(n){var e=n.obb;return(!e||Nfe(n,UL))&&(n.obb=e=e||new rue,e.fromBoundingRect(n.localRect,n.transform),GL(n,!1,UL)),e}function BU(n,e,t,i,r){var a=n.length,s=Zt[e],o=da[e];if(a<2)return!1;n.sort(function(L,P){return L.rect[s]-P.rect[s]});for(var l=0,u,c=!1,f=0;f<a;f++){var h=n[f],d=h.rect;u=d[s]-l,u<0&&(d[s]-=u,h.label[s]-=u,c=!0),l=d[s]+d[o]}var v=n[0],m=n[a-1],y,x;b(),y<0&&w(-y,.8),x<0&&w(x,.8),b(),M(y,x,1),M(x,y,-1),b(),y<0&&E(-y),x<0&&E(x);function b(){y=v.rect[s]-t,x=i-m.rect[s]-m.rect[o]}function M(L,P,I){if(L<0){var N=Math.min(P,-L);if(N>0){C(N*I,0,a);var z=N+L;z<0&&w(-z*I,1)}else w(-L*I,1)}}function C(L,P,I){L!==0&&(c=!0);for(var N=P;N<I;N++){var z=n[N],V=z.rect;V[s]+=L,z.label[s]+=L}}function w(L,P){for(var I=[],N=0,z=1;z<a;z++){var V=n[z-1].rect,U=Math.max(n[z].rect[s]-V[s]-V[o],0);I.push(U),N+=U}if(N){var j=Math.min(Math.abs(L)/N,P);if(L>0)for(var z=0;z<a-1;z++){var W=I[z]*j;C(W,0,z+1)}else for(var z=a-1;z>0;z--){var W=I[z-1]*j;C(-W,z,a)}}}function E(L){var P=L<0?-1:1;L=Math.abs(L);for(var I=Math.ceil(L/(a-1)),N=0;N<a-1;N++)if(P>0?C(I,0,N+1):C(-I,a-N-1,a),L-=I,L<=0)return}return c}function i5e(n){for(var e=0;e<n.length;e++){var t=n[e],i=t.defaultAttr,r=t.labelLine;t.label.attr("ignore",i.ignore),r&&r.attr("ignore",i.labelGuideIgnore)}}function Pfe(n){var e=[];n.sort(function(u,c){return(c.suggestIgnore?1:0)-(u.suggestIgnore?1:0)||c.priority-u.priority});function t(u){if(!u.ignore){var c=u.ensureState("emphasis");c.ignore==null&&(c.ignore=!1)}u.ignore=!0}for(var i=0;i<n.length;i++){var r=Bh(n[i]);if(!r.label.ignore){for(var a=r.label,s=r.labelLine,o=!1,l=0;l<e.length;l++)if(iP(r,e[l],null,{touchThreshold:.05})){o=!0;break}o?(t(a),s&&t(s)):e.push(r)}}}function iP(n,e,t,i){return!n||!e||n.label&&n.label.ignore||e.label&&e.label.ignore||!n.rect.intersect(e.rect,t,i)?!1:n.axisAligned&&e.axisAligned?!0:DZ(n).intersect(DZ(e),t,i)}function r5e(n){if(n){for(var e=[],t=0;t<n.length;t++)e.push(n[t].slice());return e}}function a5e(n,e){var t=n.label,i=e&&e.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:r5e(i&&i.shape.points)}}var RZ=["align","verticalAlign","width","height","fontSize"],Io=new Qd,N5=_n(),s5e=_n();function bD(n,e,t){for(var i=0;i<t.length;i++){var r=t[i];e[r]!=null&&(n[r]=e[r])}}var SD=["x","y","rotation"],o5e=(function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(e,t,i,r,a){var s=r.style,o=r.__hostTarget,l=o.textConfig||{},u=r.getComputedTransform(),c=r.getBoundingRect().plain();Ut.applyTransform(c,c,u),u?Io.setLocalTransform(u):(Io.x=Io.y=Io.rotation=Io.originX=Io.originY=0,Io.scaleX=Io.scaleY=1),Io.rotation=Yl(Io.rotation);var f=r.__hostTarget,h;if(f){h=f.getBoundingRect().plain();var d=f.getComputedTransform();Ut.applyTransform(h,h,d)}var v=h&&f.getTextGuideLine();this._labelList.push({label:r,labelLine:v,seriesModel:i,dataIndex:e,dataType:t,layoutOptionOrCb:a,layoutOption:null,rect:c,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:v&&v.ignore,x:Io.x,y:Io.y,scaleX:Io.scaleX,scaleY:Io.scaleY,rotation:Io.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:r.cursor,attachedPos:l.position,attachedRot:l.rotation}})},n.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var i=e.__model,r=i.get("labelLayout");(wt(r)||Dn(r).length)&&e.group.traverse(function(a){if(a.ignore)return!0;var s=a.getTextContent(),o=jt(a);s&&!s.disableLabelLayout&&t._addLabel(o.dataIndex,o.dataType,i,s,r)})},n.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),i=e.getHeight();function r(M,C){return function(){wZ(M,C)}}for(var a=0;a<this._labelList.length;a++){var s=this._labelList[a],o=s.label,l=o.__hostTarget,u=s.defaultAttr,c=void 0;wt(s.layoutOptionOrCb)?c=s.layoutOptionOrCb(a5e(s,l)):c=s.layoutOptionOrCb,c=c||{},s.layoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var h=!1;if(c.x!=null?(o.x=st(c.x,t),o.setStyle("x",0),h=!0):(o.x=u.x,o.setStyle("x",u.style.x)),c.y!=null?(o.y=st(c.y,i),o.setStyle("y",0),h=!0):(o.y=u.y,o.setStyle("y",u.style.y)),c.labelLinePoints){var d=l.getTextGuideLine();d&&(d.setShape({points:c.labelLinePoints}),h=!1)}var v=N5(o);v.needsUpdateLabelLine=h,o.rotation=c.rotate!=null?c.rotate*f:u.rotation,o.scaleX=u.scaleX,o.scaleY=u.scaleY;for(var m=0;m<RZ.length;m++){var y=RZ[m];o.setStyle(y,c[y]!=null?c[y]:u.style[y])}if(c.draggable){if(o.draggable=!0,o.cursor="move",l){var x=s.seriesModel;if(s.dataIndex!=null){var b=s.seriesModel.getData(s.dataType);x=b.getItemModel(s.dataIndex)}o.on("drag",r(l,x.getModel("labelLine")))}}else o.off("drag"),o.cursor=u.cursor}},n.prototype.layout=function(e){var t=e.getWidth(),i=e.getHeight(),r=[];Z(this._labelList,function(l){l.defaultAttr.ignore||r.push(PU({},l))});var a=Zn(r,function(l){return l.layoutOption.moveOverlap==="shiftX"}),s=Zn(r,function(l){return l.layoutOption.moveOverlap==="shiftY"});BU(a,0,0,t),BU(s,1,0,i);var o=Zn(r,function(l){return l.layoutOption.hideOverlap});i5e(o),Pfe(o)},n.prototype.processLabelsOverall=function(){var e=this;Z(this._chartViewList,function(t){var i=t.__model,r=t.ignoreLabelLineUpdate,a=i.isAnimationEnabled();t.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var o=!r,l=s.getTextContent();!o&&l&&(o=N5(l).needsUpdateLabelLine),o&&e._updateLabelLine(s,i),a&&e._animateLabels(s,i)})})},n.prototype._updateLabelLine=function(e,t){var i=e.getTextContent(),r=jt(e),a=r.dataIndex;if(i&&a!=null){var s=t.getData(r.dataType),o=s.getItemModel(a),l={},u=s.getItemVisual(a,"style");if(u){var c=s.getVisual("drawType");l.stroke=u[c]}var f=o.getModel("labelLine");r9(e,a9(o),l),wZ(e,f)}},n.prototype._animateLabels=function(e,t){var i=e.getTextContent(),r=e.getTextGuideLine();if(i&&(e.forceLabelAnimation||!i.ignore&&!i.invisible&&!e.disableLabelAnimation&&!q1(e))){var a=N5(i),s=a.oldLayout,o=jt(e),l=o.dataIndex,u={x:i.x,y:i.y,rotation:i.rotation},c=t.getData(o.dataType);if(s){i.attr(s);var h=e.prevStates;h&&(rn(h,"select")>=0&&i.attr(a.oldLayoutSelect),rn(h,"emphasis")>=0&&i.attr(a.oldLayoutEmphasis)),Gn(i,u,t,l)}else if(i.attr(u),!oS(i).valueAnimation){var f=At(i.style.opacity,1);i.style.opacity=0,Xi(i,{style:{opacity:f}},t,l)}if(a.oldLayout=u,i.states.select){var d=a.oldLayoutSelect={};bD(d,u,SD),bD(d,i.states.select,SD)}if(i.states.emphasis){var v=a.oldLayoutEmphasis={};bD(v,u,SD),bD(v,i.states.emphasis,SD)}mue(i,l,c,t,t)}if(r&&!r.ignore&&!r.invisible){var a=s5e(r),s=a.oldLayout,m={points:r.shape.points};s?(r.attr({shape:s}),Gn(r,{shape:m},t)):(r.setShape(m),r.style.strokePercent=0,Xi(r,{style:{strokePercent:1}},t)),a.oldLayout=m}},n})(),I5=_n();function l5e(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){var r=I5(t).labelManager;r||(r=I5(t).labelManager=new o5e),r.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(e,t,i){var r=I5(t).labelManager;i.updatedSeries.forEach(function(a){r.addLabelsOfSeries(t.getViewOfSeriesModel(a))}),r.updateLayoutConfig(t),r.layout(t),r.processLabelsOverall()})}var P5=Math.sin,B5=Math.cos,Bfe=Math.PI,o0=Math.PI*2,u5e=180/Bfe,Ofe=(function(){function n(){}return n.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},n.prototype.moveTo=function(e,t){this._add("M",e,t)},n.prototype.lineTo=function(e,t){this._add("L",e,t)},n.prototype.bezierCurveTo=function(e,t,i,r,a,s){this._add("C",e,t,i,r,a,s)},n.prototype.quadraticCurveTo=function(e,t,i,r){this._add("Q",e,t,i,r)},n.prototype.arc=function(e,t,i,r,a,s){this.ellipse(e,t,i,i,0,r,a,s)},n.prototype.ellipse=function(e,t,i,r,a,s,o,l){var u=o-s,c=!l,f=Math.abs(u),h=Kv(f-o0)||(c?u>=o0:-u>=o0),d=u>0?u%o0:u%o0+o0,v=!1;h?v=!0:Kv(f)?v=!1:v=d>=Bfe==!!c;var m=e+i*B5(s),y=t+r*P5(s);this._start&&this._add("M",m,y);var x=Math.round(a*u5e);if(h){var b=1/this._p,M=(c?1:-1)*(o0-b);this._add("A",i,r,x,1,+c,e+i*B5(s+M),t+r*P5(s+M)),b>.01&&this._add("A",i,r,x,0,+c,m,y)}else{var C=e+i*B5(o),w=t+r*P5(o);this._add("A",i,r,x,+v,+c,C,w)}},n.prototype.rect=function(e,t,i,r){this._add("M",e,t),this._add("l",i,0),this._add("l",0,r),this._add("l",-i,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(e,t,i,r,a,s,o,l,u){for(var c=[],f=this._p,h=1;h<arguments.length;h++){var d=arguments[h];if(isNaN(d)){this._invalid=!0;return}c.push(Math.round(d*f)/f)}this._d.push(e+c.join(" ")),this._start=e==="Z"},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n})(),s9="none",c5e=Math.round;function f5e(n){var e=n.fill;return e!=null&&e!==s9}function h5e(n){var e=n.stroke;return e!=null&&e!==s9}var OU=["lineCap","miterLimit","lineJoin"],d5e=We(OU,function(n){return"stroke-"+n.toLowerCase()});function p5e(n,e,t,i){var r=e.opacity==null?1:e.opacity;if(t instanceof Za){n("opacity",r);return}if(f5e(e)){var a=LT(e.fill);n("fill",a.color);var s=e.fillOpacity!=null?e.fillOpacity*a.opacity*r:a.opacity*r;s<1&&n("fill-opacity",s)}else n("fill",s9);if(h5e(e)){var o=LT(e.stroke);n("stroke",o.color);var l=e.strokeNoScale?t.getLineScale():1,u=l?(e.lineWidth||0)/l:0,c=e.strokeOpacity!=null?e.strokeOpacity*o.opacity*r:o.opacity*r,f=e.strokeFirst;if(u!==1&&n("stroke-width",u),f&&n("paint-order",f?"stroke":"fill"),c<1&&n("stroke-opacity",c),e.lineDash){var h=G6(t),d=h[0],v=h[1];d&&(v=c5e(v||0),n("stroke-dasharray",d.join(",")),(v||i)&&n("stroke-dashoffset",v))}for(var m=0;m<OU.length;m++){var y=OU[m];if(e[y]!==gL[y]){var x=e[y]||gL[y];x&&n(d5e[m],x)}}}}var zfe="http://www.w3.org/2000/svg",kfe="http://www.w3.org/1999/xlink",v5e="http://www.w3.org/2000/xmlns/",m5e="http://www.w3.org/XML/1998/namespace",LZ="ecmeta_";function Ffe(n){return document.createElementNS(zfe,n)}function Va(n,e,t,i,r){return{tag:n,attrs:t||{},children:i,text:r,key:e}}function g5e(n,e){var t=[];if(e)for(var i in e){var r=e[i],a=i;r!==!1&&(r!==!0&&r!=null&&(a+='="'+r+'"'),t.push(a))}return"<"+n+" "+t.join(" ")+">"}function y5e(n){return"</"+n+">"}function o9(n,e){e=e||{};var t=e.newline?`
`:"";function i(r){var a=r.children,s=r.tag,o=r.attrs,l=r.text;return g5e(s,o)+(s!=="style"?so(l):l||"")+(a?""+t+We(a,function(u){return i(u)}).join(t)+t:"")+y5e(s)}return i(n)}function x5e(n,e,t){t=t||{};var i=t.newline?`
`:"",r=" {"+i,a=i+"}",s=We(Dn(n),function(l){return l+r+We(Dn(n[l]),function(u){return u+":"+n[l][u]+";"}).join(i)+a}).join(i),o=We(Dn(e),function(l){return"@keyframes "+l+r+We(Dn(e[l]),function(u){return u+r+We(Dn(e[l][u]),function(c){var f=e[l][u][c];return c==="d"&&(f='path("'+f+'")'),c+":"+f+";"}).join(i)+a}).join(i)+a}).join(i);return!s&&!o?"":["<![CDATA[",s,o,"]]>"].join(i)}function zU(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function NZ(n,e,t,i){return Va("svg","root",{width:n,height:e,xmlns:zfe,"xmlns:xlink":kfe,version:"1.1",baseProfile:"full",viewBox:i?"0 0 "+n+" "+e:!1},t)}var _5e=0;function Ufe(){return _5e++}var IZ={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},w0="transform-origin";function b5e(n,e,t){var i=Ie({},n.shape);Ie(i,e),n.buildPath(t,i);var r=new Ofe;return r.reset(sle(n)),t.rebuildPath(r,1),r.generateStr(),r.getStr()}function S5e(n,e){var t=e.originX,i=e.originY;(t||i)&&(n[w0]=t+"px "+i+"px")}var A5e={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Gfe(n,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=n,t}function M5e(n,e,t){var i=n.shape.paths,r={},a,s;if(Z(i,function(l){var u=zU(t.zrId);u.animation=!0,rP(l,{},u,!0);var c=u.cssAnims,f=u.cssNodes,h=Dn(c),d=h.length;if(d){s=h[d-1];var v=c[s];for(var m in v){var y=v[m];r[m]=r[m]||{d:""},r[m].d+=y.d||""}for(var x in f){var b=f[x].animation;b.indexOf(s)>=0&&(a=b)}}}),!!a){e.d=!1;var o=Gfe(r,t);return a.replace(s,o)}}function PZ(n){return ot(n)?IZ[n]?"cubic-bezier("+IZ[n]+")":jV(n)?n:"":""}function rP(n,e,t,i){var r=n.animators,a=r.length,s=[];if(n instanceof zC){var o=M5e(n,e,t);if(o)s.push(o);else if(!a)return}else if(!a)return;for(var l={},u=0;u<a;u++){var c=r[u],f=[c.getMaxTime()/1e3+"s"],h=PZ(c.getClip().easing),d=c.getDelay();h?f.push(h):f.push("linear"),d&&f.push(d/1e3+"s"),c.getLoop()&&f.push("infinite");var v=f.join(" ");l[v]=l[v]||[v,[]],l[v][1].push(c)}function m(b){var M=b[1],C=M.length,w={},E={},L={},P="animation-timing-function";function I(Se,Ee,Ue){for(var _e=Se.getTracks(),ke=Se.getMaxTime(),dt=0;dt<_e.length;dt++){var De=_e[dt];if(De.needsAnimate()){var ae=De.keyframes,Fe=De.propName;if(Ue&&(Fe=Ue(Fe)),Fe)for(var qe=0;qe<ae.length;qe++){var rt=ae[qe],Je=Math.round(rt.time/ke*100)+"%",_t=PZ(rt.easing),pt=rt.rawValue;(ot(pt)||Pn(pt))&&(Ee[Je]=Ee[Je]||{},Ee[Je][Fe]=rt.rawValue,_t&&(Ee[Je][P]=_t))}}}}for(var N=0;N<C;N++){var z=M[N],V=z.targetName;V?V==="shape"&&I(z,E):!i&&I(z,w)}for(var U in w){var j={};pL(j,n),Ie(j,w[U]);var W=ole(j),G=w[U][P];L[U]=W?{transform:W}:{},S5e(L[U],j),G&&(L[U][P]=G)}var X,q=!0;for(var U in E){L[U]=L[U]||{};var $=!X,G=E[U][P];$&&(X=new Ih);var te=X.len();X.reset(),L[U].d=b5e(n,E[U],X);var J=X.len();if(!$&&te!==J){q=!1;break}G&&(L[U][P]=G)}if(!q)for(var U in L)delete L[U].d;if(!i)for(var N=0;N<C;N++){var z=M[N],V=z.targetName;V==="style"&&I(z,L,function(_e){return A5e[_e]})}for(var Q=Dn(L),se=!0,ce,N=1;N<Q.length;N++){var ue=Q[N-1],fe=Q[N];if(L[ue][w0]!==L[fe][w0]){se=!1;break}ce=L[ue][w0]}if(se&&ce){for(var U in L)L[U][w0]&&delete L[U][w0];e[w0]=ce}if(Zn(Q,function(Se){return Dn(L[Se]).length>0}).length){var ge=Gfe(L,t);return ge+" "+b[0]+" both"}}for(var y in l){var o=m(l[y]);o&&s.push(o)}if(s.length){var x=t.zrId+"-cls-"+Ufe();t.cssNodes["."+x]={animation:s.join(",")},e.class=x}}function T5e(n,e,t){if(!n.ignore)if(n.isSilent()){var i={"pointer-events":"none"};BZ(i,e,t)}else{var r=n.states.emphasis&&n.states.emphasis.style?n.states.emphasis.style:{},a=r.fill;if(!a){var s=n.style&&n.style.fill,o=n.states.select&&n.states.select.style&&n.states.select.style.fill,l=n.currentStates.indexOf("select")>=0&&o||s;l&&(a=fL(l))}var u=r.lineWidth;if(u){var c=!r.strokeNoScale&&n.transform?n.transform[0]:1;u=u/c}var i={cursor:"pointer"};a&&(i.fill=a),r.stroke&&(i.stroke=r.stroke),u&&(i["stroke-width"]=u),BZ(i,e,t)}}function BZ(n,e,t,i){var r=JSON.stringify(n),a=t.cssStyleCache[r];a||(a=t.zrId+"-cls-"+Ufe(),t.cssStyleCache[r]=a,t.cssNodes["."+a+":hover"]=n),e.class=e.class?e.class+" "+a:a}var WT=Math.round;function Vfe(n){return n&&ot(n.src)}function jfe(n){return n&&wt(n.toDataURL)}function l9(n,e,t,i){p5e(function(r,a){var s=r==="fill"||r==="stroke";s&&ale(a)?Wfe(e,n,r,i):s&&WV(a)?Xfe(t,n,r,i):n[r]=a,s&&i.ssr&&a==="none"&&(n["pointer-events"]="visible")},e,t,!1),N5e(t,n,i)}function u9(n,e){var t=ple(e);t&&(t.each(function(i,r){i!=null&&(n[(LZ+r).toLowerCase()]=i+"")}),e.isSilent()&&(n[LZ+"silent"]="true"))}function OZ(n){return Kv(n[0]-1)&&Kv(n[1])&&Kv(n[2])&&Kv(n[3]-1)}function C5e(n){return Kv(n[4])&&Kv(n[5])}function c9(n,e,t){if(e&&!(C5e(e)&&OZ(e))){var i=1e4;n.transform=OZ(e)?"translate("+WT(e[4]*i)/i+" "+WT(e[5]*i)/i+")":oRe(e)}}function zZ(n,e,t){for(var i=n.points,r=[],a=0;a<i.length;a++)r.push(WT(i[a][0]*t)/t),r.push(WT(i[a][1]*t)/t);e.points=r.join(" ")}function kZ(n){return!n.smooth}function w5e(n){var e=We(n,function(t){return typeof t=="string"?[t,t]:t});return function(t,i,r){for(var a=0;a<e.length;a++){var s=e[a],o=t[s[0]];o!=null&&(i[s[1]]=WT(o*r)/r)}}}var E5e={circle:[w5e(["cx","cy","r"])],polyline:[zZ,kZ],polygon:[zZ,kZ]};function D5e(n){for(var e=n.animators,t=0;t<e.length;t++)if(e[t].targetName==="shape")return!0;return!1}function Hfe(n,e){var t=n.style,i=n.shape,r=E5e[n.type],a={},s=e.animation,o="path",l=n.style.strokePercent,u=e.compress&&sle(n)||4;if(r&&!e.willUpdate&&!(r[1]&&!r[1](i))&&!(s&&D5e(n))&&!(l<1)){o=n.type;var c=Math.pow(10,u);r[0](i,a,c)}else{var f=!n.path||n.shapeChanged();n.path||n.createPathProxy();var h=n.path;f&&(h.beginPath(),n.buildPath(h,n.shape),n.pathUpdated());var d=h.getVersion(),v=n,m=v.__svgPathBuilder;(v.__svgPathVersion!==d||!m||l!==v.__svgPathStrokePercent)&&(m||(m=v.__svgPathBuilder=new Ofe),m.reset(u),h.rebuildPath(m,l),m.generateStr(),v.__svgPathVersion=d,v.__svgPathStrokePercent=l),a.d=m.getStr()}return c9(a,n.transform),l9(a,t,n,e),u9(a,n),e.animation&&rP(n,a,e),e.emphasis&&T5e(n,a,e),Va(o,n.id+"",a)}function R5e(n,e){var t=n.style,i=t.image;if(i&&!ot(i)&&(Vfe(i)?i=i.src:jfe(i)&&(i=i.toDataURL())),!!i){var r=t.x||0,a=t.y||0,s=t.width,o=t.height,l={href:i,width:s,height:o};return r&&(l.x=r),a&&(l.y=a),c9(l,n.transform),l9(l,t,n,e),u9(l,n),e.animation&&rP(n,l,e),Va("image",n.id+"",l)}}function L5e(n,e){var t=n.style,i=t.text;if(i!=null&&(i+=""),!(!i||isNaN(t.x)||isNaN(t.y))){var r=t.font||xp,a=t.x||0,s=uRe(t.y||0,IC(r),t.textBaseline),o=lRe[t.textAlign]||t.textAlign,l={"dominant-baseline":"central","text-anchor":o};if(Ule(t)){var u="",c=t.fontStyle,f=Fle(t.fontSize);if(!parseFloat(f))return;var h=t.fontFamily||Loe,d=t.fontWeight;u+="font-size:"+f+";font-family:"+h+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),d&&d!=="normal"&&(u+="font-weight:"+d+";"),l.style=u}else l.style="font: "+r;return i.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),s&&(l.y=s),c9(l,n.transform),l9(l,t,n,e),u9(l,n),e.animation&&rP(n,l,e),Va("text",n.id+"",l,void 0,i)}}function FZ(n,e){if(n instanceof An)return Hfe(n,e);if(n instanceof Za)return R5e(n,e);if(n instanceof hb)return L5e(n,e)}function N5e(n,e,t){var i=n.style;if(cRe(i)){var r=fRe(n),a=t.shadowCache,s=a[r];if(!s){var o=n.getGlobalScale(),l=o[0],u=o[1];if(!l||!u)return;var c=i.shadowOffsetX||0,f=i.shadowOffsetY||0,h=i.shadowBlur,d=LT(i.shadowColor),v=d.opacity,m=d.color,y=h/2/l,x=h/2/u,b=y+" "+x;s=t.zrId+"-s"+t.shadowIdx++,t.defs[s]=Va("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Va("feDropShadow","",{dx:c/l,dy:f/u,stdDeviation:b,"flood-color":m,"flood-opacity":v})]),a[r]=s}e.filter=BI(s)}}function Wfe(n,e,t,i){var r=n[t],a,s={gradientUnits:r.global?"userSpaceOnUse":"objectBoundingBox"};if(ile(r))a="linearGradient",s.x1=r.x,s.y1=r.y,s.x2=r.x2,s.y2=r.y2;else if(rle(r))a="radialGradient",s.cx=At(r.x,.5),s.cy=At(r.y,.5),s.r=At(r.r,.5);else return;for(var o=r.colorStops,l=[],u=0,c=o.length;u<c;++u){var f=PF(o[u].offset)*100+"%",h=o[u].color,d=LT(h),v=d.color,m=d.opacity,y={offset:f};y["stop-color"]=v,m<1&&(y["stop-opacity"]=m),l.push(Va("stop",u+"",y))}var x=Va(a,"",s,l),b=o9(x),M=i.gradientCache,C=M[b];C||(C=i.zrId+"-g"+i.gradientIdx++,M[b]=C,s.id=C,i.defs[C]=Va(a,C,s,l)),e[t]=BI(C)}function Xfe(n,e,t,i){var r=n.style[t],a=n.getBoundingRect(),s={},o=r.repeat,l=o==="no-repeat",u=o==="repeat-x",c=o==="repeat-y",f;if(nle(r)){var h=r.imageWidth,d=r.imageHeight,v=void 0,m=r.image;if(ot(m)?v=m:Vfe(m)?v=m.src:jfe(m)&&(v=m.toDataURL()),typeof Image>"u"){var y="Image width/height must been given explictly in svg-ssr renderer.";zs(h,y),zs(d,y)}else if(h==null||d==null){var x=function(N,z){if(N){var V=N.elm,U=h||z.width,j=d||z.height;N.tag==="pattern"&&(u?(j=1,U/=a.width):c&&(U=1,j/=a.height)),N.attrs.width=U,N.attrs.height=j,V&&(V.setAttribute("width",U),V.setAttribute("height",j))}},b=e6(v,null,n,function(N){l||x(E,N),x(f,N)});b&&b.width&&b.height&&(h=h||b.width,d=d||b.height)}f=Va("image","img",{href:v,width:h,height:d}),s.width=h,s.height=d}else r.svgElement&&(f=Nt(r.svgElement),s.width=r.svgWidth,s.height=r.svgHeight);if(f){var M,C;l?M=C=1:u?(C=1,M=s.width/a.width):c?(M=1,C=s.height/a.height):s.patternUnits="userSpaceOnUse",M!=null&&!isNaN(M)&&(s.width=M),C!=null&&!isNaN(C)&&(s.height=C);var w=ole(r);w&&(s.patternTransform=w);var E=Va("pattern","",s,[f]),L=o9(E),P=i.patternCache,I=P[L];I||(I=i.zrId+"-p"+i.patternIdx++,P[L]=I,s.id=I,E=i.defs[I]=Va("pattern",I,s,[f])),e[t]=BI(I)}}function I5e(n,e,t){var i=t.clipPathCache,r=t.defs,a=i[n.id];if(!a){a=t.zrId+"-c"+t.clipPathIdx++;var s={id:a};i[n.id]=a,r[a]=Va("clipPath",a,s,[Hfe(n,t)])}e["clip-path"]=BI(a)}function UZ(n){return document.createTextNode(n)}function z0(n,e,t){n.insertBefore(e,t)}function GZ(n,e){n.removeChild(e)}function VZ(n,e){n.appendChild(e)}function Yfe(n){return n.parentNode}function qfe(n){return n.nextSibling}function O5(n,e){n.textContent=e}var jZ=58,P5e=120,B5e=Va("","");function kU(n){return n===void 0}function oh(n){return n!==void 0}function O5e(n,e,t){for(var i={},r=e;r<=t;++r){var a=n[r].key;a!==void 0&&(i[a]=r)}return i}function f2(n,e){var t=n.key===e.key,i=n.tag===e.tag;return i&&t}function XT(n){var e,t=n.children,i=n.tag;if(oh(i)){var r=n.elm=Ffe(i);if(f9(B5e,n),Ve(t))for(e=0;e<t.length;++e){var a=t[e];a!=null&&VZ(r,XT(a))}else oh(n.text)&&!Ot(n.text)&&VZ(r,UZ(n.text))}else n.elm=UZ(n.text);return n.elm}function Zfe(n,e,t,i,r){for(;i<=r;++i){var a=t[i];a!=null&&z0(n,XT(a),e)}}function VL(n,e,t,i){for(;t<=i;++t){var r=e[t];if(r!=null)if(oh(r.tag)){var a=Yfe(r.elm);GZ(a,r.elm)}else GZ(n,r.elm)}}function f9(n,e){var t,i=e.elm,r=n&&n.attrs||{},a=e.attrs||{};if(r!==a){for(t in a){var s=a[t],o=r[t];o!==s&&(s===!0?i.setAttribute(t,""):s===!1?i.removeAttribute(t):t==="style"?i.style.cssText=s:t.charCodeAt(0)!==P5e?i.setAttribute(t,s):t==="xmlns:xlink"||t==="xmlns"?i.setAttributeNS(v5e,t,s):t.charCodeAt(3)===jZ?i.setAttributeNS(m5e,t,s):t.charCodeAt(5)===jZ?i.setAttributeNS(kfe,t,s):i.setAttribute(t,s))}for(t in r)t in a||i.removeAttribute(t)}}function z5e(n,e,t){for(var i=0,r=0,a=e.length-1,s=e[0],o=e[a],l=t.length-1,u=t[0],c=t[l],f,h,d,v;i<=a&&r<=l;)s==null?s=e[++i]:o==null?o=e[--a]:u==null?u=t[++r]:c==null?c=t[--l]:f2(s,u)?(m1(s,u),s=e[++i],u=t[++r]):f2(o,c)?(m1(o,c),o=e[--a],c=t[--l]):f2(s,c)?(m1(s,c),z0(n,s.elm,qfe(o.elm)),s=e[++i],c=t[--l]):f2(o,u)?(m1(o,u),z0(n,o.elm,s.elm),o=e[--a],u=t[++r]):(kU(f)&&(f=O5e(e,i,a)),h=f[u.key],kU(h)?z0(n,XT(u),s.elm):(d=e[h],d.tag!==u.tag?z0(n,XT(u),s.elm):(m1(d,u),e[h]=void 0,z0(n,d.elm,s.elm))),u=t[++r]);(i<=a||r<=l)&&(i>a?(v=t[l+1]==null?null:t[l+1].elm,Zfe(n,v,t,r,l)):VL(n,e,i,a))}function m1(n,e){var t=e.elm=n.elm,i=n.children,r=e.children;n!==e&&(f9(n,e),kU(e.text)?oh(i)&&oh(r)?i!==r&&z5e(t,i,r):oh(r)?(oh(n.text)&&O5(t,""),Zfe(t,null,r,0,r.length-1)):oh(i)?VL(t,i,0,i.length-1):oh(n.text)&&O5(t,""):n.text!==e.text&&(oh(i)&&VL(t,i,0,i.length-1),O5(t,e.text)))}function k5e(n,e){if(f2(n,e))m1(n,e);else{var t=n.elm,i=Yfe(t);XT(e),i!==null&&(z0(i,e.elm,qfe(t)),VL(i,[n],0,0))}return e}var F5e=0,U5e=(function(){function n(e,t,i){if(this.type="svg",this.refreshHover=HZ(),this.configLayer=HZ(),this.storage=t,this._opts=i=Ie({},i),this.root=e,this._id="zr"+F5e++,this._oldVNode=NZ(i.width,i.height),e&&!i.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=Ffe("svg");f9(null,this._oldVNode),r.appendChild(a),e.appendChild(r)}this.resize(i.width,i.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",k5e(this._oldVNode,e),this._oldVNode=e}},n.prototype.renderOneToVNode=function(e){return FZ(e,zU(this._id))},n.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),i=this._width,r=this._height,a=zU(this._id);a.animation=e.animation,a.willUpdate=e.willUpdate,a.compress=e.compress,a.emphasis=e.emphasis,a.ssr=this._opts.ssr;var s=[],o=this._bgVNode=G5e(i,r,this._backgroundColor,a);o&&s.push(o);var l=e.compress?null:this._mainVNode=Va("g","main",{},[]);this._paintList(t,a,l?l.children:s),l&&s.push(l);var u=We(Dn(a.defs),function(h){return a.defs[h]});if(u.length&&s.push(Va("defs","defs",{},u)),e.animation){var c=x5e(a.cssNodes,a.cssAnims,{newline:!0});if(c){var f=Va("style","stl",{},[],c);s.push(f)}}return NZ(i,r,s,e.useViewBox)},n.prototype.renderToString=function(e){return e=e||{},o9(this.renderToVNode({animation:At(e.cssAnimation,!0),emphasis:At(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:At(e.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(e,t,i){for(var r=e.length,a=[],s=0,o,l,u=0,c=0;c<r;c++){var f=e[c];if(!f.invisible){var h=f.__clipPaths,d=h&&h.length||0,v=l&&l.length||0,m=void 0;for(m=Math.max(d-1,v-1);m>=0&&!(h&&l&&h[m]===l[m]);m--);for(var y=v-1;y>m;y--)s--,o=a[s-1];for(var x=m+1;x<d;x++){var b={};I5e(h[x],b,t);var M=Va("g","clip-g-"+u++,b,[]);(o?o.children:i).push(M),a[s++]=M,o=M}l=h;var C=FZ(f,t);C&&(o?o.children:i).push(C)}}},n.prototype.resize=function(e,t){var i=this._opts,r=this.root,a=this._viewport;if(e!=null&&(i.width=e),t!=null&&(i.height=t),r&&a&&(a.style.display="none",e=B1(r,0,i),t=B1(r,1,i),a.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,a){var s=a.style;s.width=e+"px",s.height=t+"px"}if(WV(this._backgroundColor))this.refresh();else{var o=this._svgDom;o&&(o.setAttribute("width",e),o.setAttribute("height",t));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",t))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(e){var t=this.renderToString(),i="data:image/svg+xml;";return e?(t=dRe(t),t&&i+"base64,"+t):i+"charset=UTF-8,"+encodeURIComponent(t)},n})();function HZ(n){return function(){}}function G5e(n,e,t,i){var r;if(t&&t!=="none")if(r=Va("rect","bg",{width:n,height:e,x:"0",y:"0"}),ale(t))Wfe({fill:t},r.attrs,"fill",i);else if(WV(t))Xfe({style:{fill:t},dirty:Or,getBoundingRect:function(){return{width:n,height:e}}},r.attrs,"fill",i);else{var a=LT(t),s=a.color,o=a.opacity;r.attrs.fill=s,o<1&&(r.attrs["fill-opacity"]=o)}return r}function V5e(n){n.registerPainter("svg",U5e)}function WZ(n,e,t){var i=xl.createCanvas(),r=e.getWidth(),a=e.getHeight(),s=i.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=r+"px",s.height=a+"px",i.setAttribute("data-zr-dom-id",n)),i.width=r*t,i.height=a*t,i}var z5=(function(n){me(e,n);function e(t,i,r){var a=n.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var s;r=r||dL,typeof t=="string"?s=WZ(t,i,r):Ot(t)&&(s=t,t=s.id),a.id=t,a.dom=s;var o=s.style;return o&&(UV(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),a.painter=i,a.dpr=r,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=WZ("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,i,r,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,l=!1,u=new Ut(0,0,0,0);function c(b){if(!(!b.isFinite()||b.isZero()))if(s.length===0){var M=new Ut(0,0,0,0);M.copy(b),s.push(M)}else{for(var C=!1,w=1/0,E=0,L=0;L<s.length;++L){var P=s[L];if(P.intersect(b)){var I=new Ut(0,0,0,0);I.copy(P),I.union(b),s[L]=I,C=!0;break}else if(l){u.copy(b),u.union(P);var N=b.width*b.height,z=P.width*P.height,V=u.width*u.height,U=V-N-z;U<w&&(w=U,E=L)}}if(l&&(s[E].union(b),C=!0),!C){var M=new Ut(0,0,0,0);M.copy(b),s.push(M)}l||(l=s.length>=o)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var h=t[f];if(h){var d=h.shouldBePainted(r,a,!0,!0),v=h.__isRendered&&(h.__dirty&Vl||!d)?h.getPrevPaintRect():null;v&&c(v);var m=d&&(h.__dirty&Vl||!h.__isRendered)?h.getPaintRect():null;m&&c(m)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var h=i[f],d=h&&h.shouldBePainted(r,a,!0,!0);if(h&&(!d||!h.__zr)&&h.__isRendered){var v=h.getPrevPaintRect();v&&c(v)}}var y;do{y=!1;for(var f=0;f<s.length;){if(s[f].isZero()){s.splice(f,1);continue}for(var x=f+1;x<s.length;)s[f].intersect(s[x])?(y=!0,s[f].union(s[x]),s.splice(x,1)):x++;f++}}while(y);return this._paintRects=s,s},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,i){var r=this.dpr,a=this.dom,s=a.style,o=this.domBack;s&&(s.width=t+"px",s.height=i+"px"),a.width=t*r,a.height=i*r,o&&(o.width=t*r,o.height=i*r,r!==1&&this.ctxBack.scale(r,r))},e.prototype.clear=function(t,i,r){var a=this.dom,s=this.ctx,o=a.width,l=a.height;i=i||this.clearColor;var u=this.motionBlur&&!t,c=this.lastFrameAlpha,f=this.dpr,h=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,o/f,l/f));var d=this.domBack;function v(m,y,x,b){if(s.clearRect(m,y,x,b),i&&i!=="transparent"){var M=void 0;if(EC(i)){var C=i.global||i.__width===x&&i.__height===b;M=C&&i.__canvasGradient||_U(s,i,{x:0,y:0,width:x,height:b}),i.__canvasGradient=M,i.__width=x,i.__height=b}else Boe(i)&&(i.scaleX=i.scaleX||f,i.scaleY=i.scaleY||f,M=bU(s,i,{dirty:function(){h.setUnpainted(),h.painter.refresh()}}));s.save(),s.fillStyle=M||i,s.fillRect(m,y,x,b),s.restore()}u&&(s.save(),s.globalAlpha=c,s.drawImage(d,m,y,x,b),s.restore())}!r||u?v(0,0,o,l):r.length&&Z(r,function(m){v(m.x*f,m.y*f,m.width*f,m.height*f)})},e})(ac),XZ=1e5,l0=314159,AD=.01,j5e=.001;function H5e(n){return n?n.__builtin__?!0:!(typeof n.resize!="function"||typeof n.refresh!="function"):!1}function W5e(n,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+n+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var X5e=(function(){function n(e,t,i,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=i=Ie({},i||{}),this.dpr=i.devicePixelRatio||dL,this._singleCanvas=a,this.root=e;var s=e.style;s&&(UV(e),e.innerHTML=""),this.storage=t;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var c=e,f=c.width,h=c.height;i.width!=null&&(f=i.width),i.height!=null&&(h=i.height),this.dpr=i.devicePixelRatio||1,c.width=f*this.dpr,c.height=h*this.dpr,this._width=f,this._height=h;var d=new z5(c,this,this.dpr);d.__builtin__=!0,d.initContext(),l[l0]=d,d.zlevel=l0,o.push(l0),this._domRoot=e}else{this._width=B1(e,0,i),this._height=B1(e,1,i);var u=this._domRoot=W5e(this._width,this._height);e.appendChild(u)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),i=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,i,e,this._redrawId);for(var a=0;a<r.length;a++){var s=r[a],o=this._layers[s];if(!o.__builtin__&&o.refresh){var l=a===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,i=this._hoverlayer;if(i&&i.clear(),!!t){for(var r={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,s=0;s<t;s++){var o=e[s];o.__inHover&&(i||(i=this._hoverlayer=this.getLayer(XZ)),a||(a=i.ctx,a.save()),J0(a,o,r,s===t-1))}a&&a.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(XZ)},n.prototype.paintOne=function(e,t){V6(e,t)},n.prototype._paintList=function(e,t,i,r){if(this._redrawId===r){i=i||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t,i),s=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(e),s)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;oL(function(){l._paintList(e,t,i,r)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(l0).ctx,t=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,t,i),this.eachBuiltinLayer(function(r){r.virtual&&e.drawImage(r.dom,0,0,t,i)})},n.prototype._doPaintList=function(e,t,i){for(var r=this,a=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||i)&&a.push(u)}for(var c=!0,f=!1,h=function(m){var y=a[m],x=y.ctx,b=s&&y.createRepaintRects(e,t,d._width,d._height),M=i?y.__startIndex:y.__drawIndex,C=!i&&y.incremental&&Date.now,w=C&&Date.now(),E=y.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(y.__startIndex===y.__endIndex)y.clear(!1,E,b);else if(M===y.__startIndex){var L=e[M];(!L.incremental||!L.notClear||i)&&y.clear(!1,E,b)}M===-1&&(console.error("For some unknown reason. drawIndex is -1"),M=y.__startIndex);var P,I=function(U){var j={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(P=M;P<y.__endIndex;P++){var W=e[P];if(W.__inHover&&(f=!0),r._doPaintEl(W,y,s,U,j,P===y.__endIndex-1),C){var G=Date.now()-w;if(G>15)break}}j.prevElClipPaths&&x.restore()};if(b)if(b.length===0)P=y.__endIndex;else for(var N=d.dpr,z=0;z<b.length;++z){var V=b[z];x.save(),x.beginPath(),x.rect(V.x*N,V.y*N,V.width*N,V.height*N),x.clip(),I(V),x.restore()}else x.save(),I(),x.restore();y.__drawIndex=P,y.__drawIndex<y.__endIndex&&(c=!1)},d=this,v=0;v<a.length;v++)h(v);return wn.wxa&&Z(this._layers,function(m){m&&m.ctx&&m.ctx.draw&&m.ctx.draw()}),{finished:c,needsRefreshHover:f}},n.prototype._doPaintEl=function(e,t,i,r,a,s){var o=t.ctx;if(i){var l=e.getPaintRect();(!r||l&&l.intersect(r))&&(J0(o,e,a,s),e.setPrevPaintRect(l))}else J0(o,e,a,s)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=l0);var i=this._layers[e];return i||(i=new z5("zr_"+e,this,this.dpr),i.zlevel=e,i.__builtin__=!0,this._layerConfig[e]?an(i,this._layerConfig[e],!0):this._layerConfig[e-AD]&&an(i,this._layerConfig[e-AD],!0),t&&(i.virtual=t),this.insertLayer(e,i),i.initContext()),i},n.prototype.insertLayer=function(e,t){var i=this._layers,r=this._zlevelList,a=r.length,s=this._domRoot,o=null,l=-1;if(!i[e]&&H5e(t)){if(a>0&&e>r[0]){for(l=0;l<a-1&&!(r[l]<e&&r[l+1]>e);l++);o=i[r[l]]}if(r.splice(l+1,0,e),i[e]=t,!t.virtual)if(o){var u=o.dom;u.nextSibling?s.insertBefore(t.dom,u.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom);t.painter||(t.painter=this)}},n.prototype.eachLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var a=i[r];e.call(t,this._layers[a],a)}},n.prototype.eachBuiltinLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var a=i[r],s=this._layers[a];s.__builtin__&&e.call(t,s,a)}},n.prototype.eachOtherLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var a=i[r],s=this._layers[a];s.__builtin__||e.call(t,s,a)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(f,h){f.__dirty=f.__used=!1});function t(f){a&&(a.__endIndex!==f&&(a.__dirty=!0),a.__endIndex=f)}if(this._singleCanvas)for(var i=1;i<e.length;i++){var r=e[i];if(r.zlevel!==e[i-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}var a=null,s=0,o,l;for(l=0;l<e.length;l++){var r=e[l],u=r.zlevel,c=void 0;o!==u&&(o=u,s=0),r.incremental?(c=this.getLayer(u+j5e,this._needsManuallyCompositing),c.incremental=!0,s=1):c=this.getLayer(u+(s>0?AD:0),this._needsManuallyCompositing),c.__builtin__||RI("ZLevel "+u+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,t(l),a=c),r.__dirty&Vl&&!r.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(f,h){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,Z(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var i=this._layerConfig;i[e]?an(i[e],t,!0):i[e]=t;for(var r=0;r<this._zlevelList.length;r++){var a=this._zlevelList[r];if(a===e||a===e+AD){var s=this._layers[a];an(s,i[e],!0)}}}},n.prototype.delLayer=function(e){var t=this._layers,i=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],i.splice(rn(i,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts,a=this.root;if(e!=null&&(r.width=e),t!=null&&(r.height=t),e=B1(a,0,r),t=B1(a,1,r),i.style.display="",this._width!==e||t!==this._height){i.style.width=e+"px",i.style.height=t+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(l0).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[l0].dom;var t=new z5("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var i=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,a=t.dom.height;this.eachLayer(function(f){f.__builtin__?i.drawImage(f.dom,0,0,r,a):f.renderToCanvas&&(i.save(),f.renderToCanvas(i),i.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,u=o.length;l<u;l++){var c=o[l];J0(i,c,s,l===u-1)}return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n})();function Y5e(n){n.registerPainter("canvas",X5e)}var q5e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return Gh(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var i=new It,r=$r("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);i.add(r),r.setStyle(t.lineStyle);var a=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),o=a==="none"?"circle":a,l=t.itemHeight*.8,u=$r(o,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);i.add(u),u.setStyle(t.itemStyle);var c=t.iconRotate==="inherit"?s:t.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill=xe.color.neutral00,u.style.lineWidth=2),i},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e})(Ti);function xb(n,e){var t=n.mapDimensionsAll("defaultedLabel"),i=t.length;if(i===1){var r=vb(n,e,t[0]);return r!=null?r+"":null}else if(i){for(var a=[],s=0;s<t.length;s++)a.push(vb(n,e,t[s]));return a.join(" ")}}function Kfe(n,e){var t=n.mapDimensionsAll("defaultedLabel");if(!Ve(e))return e+"";for(var i=[],r=0;r<t.length;r++){var a=n.getDimensionIndex(t[r]);a>=0&&i.push(e[a])}return i.join(" ")}var jC=(function(n){me(e,n);function e(t,i,r,a){var s=n.call(this)||this;return s.updateData(t,i,r,a),s}return e.prototype._createSymbol=function(t,i,r,a,s,o){this.removeAll();var l=$r(t,-1,-1,2,2,null,o);l.attr({z2:At(s,100),culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),l.drift=Z5e,this._symbolType=t,this.add(l)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){bp(this.childAt(0))},e.prototype.downplay=function(){Sp(this.childAt(0))},e.prototype.setZ=function(t,i){var r=this.childAt(0);r.zlevel=t,r.z=i},e.prototype.setDraggable=function(t,i){var r=this.childAt(0);r.draggable=t,r.cursor=!i&&t?"move":r.cursor},e.prototype.updateData=function(t,i,r,a){this.silent=!1;var s=t.getItemVisual(i,"symbol")||"circle",o=t.hostModel,l=e.getSymbolSize(t,i),u=e.getSymbolZ2(t,i),c=s!==this._symbolType,f=a&&a.disableAnimation;if(c){var h=t.getItemVisual(i,"symbolKeepAspect");this._createSymbol(s,t,i,l,u,h)}else{var d=this.childAt(0);d.silent=!1;var v={scaleX:l[0]/2,scaleY:l[1]/2};f?d.attr(v):Gn(d,v,o,i),ec(d)}if(this._updateCommon(t,i,l,r,a),c){var d=this.childAt(0);if(!f){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,Xi(d,v,o,i)}}f&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,i,r,a,s){var o=this.childAt(0),l=t.hostModel,u,c,f,h,d,v,m,y,x;if(a&&(u=a.emphasisItemStyle,c=a.blurItemStyle,f=a.selectItemStyle,h=a.focus,d=a.blurScope,m=a.labelStatesModels,y=a.hoverScale,x=a.cursorStyle,v=a.emphasisDisabled),!a||t.hasItemOption){var b=a&&a.itemModel?a.itemModel:t.getItemModel(i),M=b.getModel("emphasis");u=M.getModel("itemStyle").getItemStyle(),f=b.getModel(["select","itemStyle"]).getItemStyle(),c=b.getModel(["blur","itemStyle"]).getItemStyle(),h=M.get("focus"),d=M.get("blurScope"),v=M.get("disabled"),m=Ra(b),y=M.getShallow("scale"),x=b.getShallow("cursor")}var C=t.getItemVisual(i,"symbolRotate");o.attr("rotation",(C||0)*Math.PI/180||0);var w=Qy(t.getItemVisual(i,"symbolOffset"),r);w&&(o.x=w[0],o.y=w[1]),x&&o.attr("cursor",x);var E=t.getItemVisual(i,"style"),L=E.fill;if(o instanceof Za){var P=o.style;o.useStyle(Ie({image:P.image,x:P.x,y:P.y,width:P.width,height:P.height},E))}else o.__isEmptyBrush?o.useStyle(Ie({},E)):o.useStyle(E),o.style.decal=null,o.setColor(L,s&&s.symbolInnerColor),o.style.strokeNoScale=!0;var I=t.getItemVisual(i,"liftZ"),N=this._z2;I!=null?N==null&&(this._z2=o.z2,o.z2+=I):N!=null&&(o.z2=N,this._z2=null);var z=s&&s.useNameLabel;Xa(o,m,{labelFetcher:l,labelDataIndex:i,defaultText:V,inheritColor:L,defaultOpacity:E.opacity});function V(W){return z?t.getName(W):xb(t,W)}this._sizeX=r[0]/2,this._sizeY=r[1]/2;var U=o.ensureState("emphasis");U.style=u,o.ensureState("select").style=f,o.ensureState("blur").style=c;var j=y==null||y===!0?Math.max(1.1,3/this._sizeY):isFinite(y)&&y>0?+y:1;U.scaleX=this._sizeX*j,U.scaleY=this._sizeY*j,this.setSymbolScale(1),rr(this,h,d,v)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,i,r){var a=this.childAt(0),s=jt(this).dataIndex,o=r&&r.animation;if(this.silent=a.silent=!0,r&&r.fadeLabel){var l=a.getTextContent();l&&bm(l,{style:{opacity:0}},i,{dataIndex:s,removeOpt:o,cb:function(){a.removeTextContent()}})}else a.removeTextContent();bm(a,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:s,cb:t,removeOpt:o})},e.getSymbolSize=function(t,i){return dS(t.getItemVisual(i,"symbolSize"))},e.getSymbolZ2=function(t,i){return t.getItemVisual(i,"z2")},e})(It);function Z5e(n,e){this.parent.drift(n,e)}function k5(n,e,t,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(t))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&n.getItemVisual(t,"symbol")!=="none"}function YZ(n){return n!=null&&!Ot(n)&&(n={isIgnore:n}),n||{}}function qZ(n){var e=n.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Ra(e),cursorStyle:e.get("cursor")}}var HC=(function(){function n(e){this.group=new It,this._SymbolCtor=e||jC}return n.prototype.updateData=function(e,t){this._progressiveEls=null,t=YZ(t);var i=this.group,r=e.hostModel,a=this._data,s=this._SymbolCtor,o=t.disableAnimation,l=qZ(e),u={disableAnimation:o},c=t.getSymbolPoint||function(f){return e.getItemLayout(f)};a||i.removeAll(),e.diff(a).add(function(f){var h=c(f);if(k5(e,h,f,t)){var d=new s(e,f,l,u);d.setPosition(h),e.setItemGraphicEl(f,d),i.add(d)}}).update(function(f,h){var d=a.getItemGraphicEl(h),v=c(f);if(!k5(e,v,f,t)){i.remove(d);return}var m=e.getItemVisual(f,"symbol")||"circle",y=d&&d.getSymbolType&&d.getSymbolType();if(!d||y&&y!==m)i.remove(d),d=new s(e,f,l,u),d.setPosition(v);else{d.updateData(e,f,l,u);var x={x:v[0],y:v[1]};o?d.attr(x):Gn(d,x,r)}i.add(d),e.setItemGraphicEl(f,d)}).remove(function(f){var h=a.getItemGraphicEl(f);h&&h.fadeOut(function(){i.remove(h)},r)}).execute(),this._getSymbolPoint=c,this._data=e},n.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(i,r){var a=e._getSymbolPoint(r);i.setPosition(a),i.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=qZ(e),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t,i){this._progressiveEls=[],i=YZ(i);function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var s=t.getItemLayout(a);if(k5(t,s,a,i)){var o=new this._SymbolCtor(t,a,this._seriesScope);o.traverse(r),o.setPosition(s),this.group.add(o),t.setItemGraphicEl(a,o),this._progressiveEls.push(o)}}},n.prototype.eachRendered=function(e){Bm(this._progressiveEls||this.group,e)},n.prototype.remove=function(e){var t=this.group,i=this._data;i&&e?i.eachItemGraphicEl(function(r){r.fadeOut(function(){t.remove(r)},i.hostModel)}):t.removeAll()},n})();function Jfe(n,e,t){var i=n.getBaseAxis(),r=n.getOtherAxis(i),a=K5e(r,t),s=i.dim,o=r.dim,l=e.mapDimension(o),u=e.mapDimension(s),c=o==="x"||o==="radius"?1:0,f=We(n.dimensions,function(v){return e.mapDimension(v)}),h=!1,d=e.getCalculationInfo("stackResultDimension");return Mp(e,f[0])&&(h=!0,f[0]=d),Mp(e,f[1])&&(h=!0,f[1]=d),{dataDimsForPoint:f,valueStart:a,valueAxisDim:o,baseAxisDim:s,stacked:!!h,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function K5e(n,e){var t=0,i=n.scale.getExtent();return e==="start"?t=i[0]:e==="end"?t=i[1]:Pn(e)&&!isNaN(e)?t=e:i[0]>0?t=i[0]:i[1]<0&&(t=i[1]),t}function Qfe(n,e,t,i){var r=NaN;n.stacked&&(r=t.get(t.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=n.valueStart);var a=n.baseDataOffset,s=[];return s[a]=t.get(n.baseDim,i),s[1-a]=r,e.dataToPoint(s)}function J5e(n,e){var t=[];return e.diff(n).add(function(i){t.push({cmd:"+",idx:i})}).update(function(i,r){t.push({cmd:"=",idx:r,idx1:i})}).remove(function(i){t.push({cmd:"-",idx:i})}).execute(),t}function Q5e(n,e,t,i,r,a,s,o){for(var l=J5e(n,e),u=[],c=[],f=[],h=[],d=[],v=[],m=[],y=Jfe(r,e,s),x=n.getLayout("points")||[],b=e.getLayout("points")||[],M=0;M<l.length;M++){var C=l[M],w=!0,E=void 0,L=void 0;switch(C.cmd){case"=":E=C.idx*2,L=C.idx1*2;var P=x[E],I=x[E+1],N=b[L],z=b[L+1];(isNaN(P)||isNaN(I))&&(P=N,I=z),u.push(P,I),c.push(N,z),f.push(t[E],t[E+1]),h.push(i[L],i[L+1]),m.push(e.getRawIndex(C.idx1));break;case"+":var V=C.idx,U=y.dataDimsForPoint,j=r.dataToPoint([e.get(U[0],V),e.get(U[1],V)]);L=V*2,u.push(j[0],j[1]),c.push(b[L],b[L+1]);var W=Qfe(y,r,e,V);f.push(W[0],W[1]),h.push(i[L],i[L+1]),m.push(e.getRawIndex(V));break;case"-":w=!1}w&&(d.push(C),v.push(v.length))}v.sort(function(ue,fe){return m[ue]-m[fe]});for(var G=u.length,X=yh(G),q=yh(G),$=yh(G),te=yh(G),J=[],M=0;M<v.length;M++){var Q=v[M],se=M*2,ce=Q*2;X[se]=u[ce],X[se+1]=u[ce+1],q[se]=c[ce],q[se+1]=c[ce+1],$[se]=f[ce],$[se+1]=f[ce+1],te[se]=h[ce],te[se+1]=h[ce+1],J[M]=d[Q]}return{current:X,next:q,stackedOnCurrent:$,stackedOnNext:te,status:J}}var Mv=Math.min,Tv=Math.max;function gy(n,e){return isNaN(n)||isNaN(e)}function FU(n,e,t,i,r,a,s,o,l){for(var u,c,f,h,d,v,m=t,y=0;y<i;y++){var x=e[m*2],b=e[m*2+1];if(m>=r||m<0)break;if(gy(x,b)){if(l){m+=a;continue}break}if(m===t)n[a>0?"moveTo":"lineTo"](x,b),f=x,h=b;else{var M=x-u,C=b-c;if(M*M+C*C<.5){m+=a;continue}if(s>0){for(var w=m+a,E=e[w*2],L=e[w*2+1];E===x&&L===b&&y<i;)y++,w+=a,m+=a,E=e[w*2],L=e[w*2+1],x=e[m*2],b=e[m*2+1],M=x-u,C=b-c;var P=y+1;if(l)for(;gy(E,L)&&P<i;)P++,w+=a,E=e[w*2],L=e[w*2+1];var I=.5,N=0,z=0,V=void 0,U=void 0;if(P>=i||gy(E,L))d=x,v=b;else{N=E-u,z=L-c;var j=x-u,W=E-x,G=b-c,X=L-b,q=void 0,$=void 0;if(o==="x"){q=Math.abs(j),$=Math.abs(W);var te=N>0?1:-1;d=x-te*q*s,v=b,V=x+te*$*s,U=b}else if(o==="y"){q=Math.abs(G),$=Math.abs(X);var J=z>0?1:-1;d=x,v=b-J*q*s,V=x,U=b+J*$*s}else q=Math.sqrt(j*j+G*G),$=Math.sqrt(W*W+X*X),I=$/($+q),d=x-N*s*(1-I),v=b-z*s*(1-I),V=x+N*s*I,U=b+z*s*I,V=Mv(V,Tv(E,x)),U=Mv(U,Tv(L,b)),V=Tv(V,Mv(E,x)),U=Tv(U,Mv(L,b)),N=V-x,z=U-b,d=x-N*q/$,v=b-z*q/$,d=Mv(d,Tv(u,x)),v=Mv(v,Tv(c,b)),d=Tv(d,Mv(u,x)),v=Tv(v,Mv(c,b)),N=x-d,z=b-v,V=x+N*$/q,U=b+z*$/q}n.bezierCurveTo(f,h,d,v,x,b),f=V,h=U}else n.lineTo(x,b)}u=x,c=b,m+=a}return y}var $fe=(function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n})(),$5e=(function(n){me(e,n);function e(t){var i=n.call(this,t)||this;return i.type="ec-polyline",i}return e.prototype.getDefaultStyle=function(){return{stroke:xe.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new $fe},e.prototype.buildPath=function(t,i){var r=i.points,a=0,s=r.length/2;if(i.connectNulls){for(;s>0&&gy(r[s*2-2],r[s*2-1]);s--);for(;a<s&&gy(r[a*2],r[a*2+1]);a++);}for(;a<s;)a+=FU(t,r,a,s,s,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},e.prototype.getPointOn=function(t,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r=this.path,a=r.data,s=Ih.CMD,o,l,u=i==="x",c=[],f=0;f<a.length;){var h=a[f++],d=void 0,v=void 0,m=void 0,y=void 0,x=void 0,b=void 0,M=void 0;switch(h){case s.M:o=a[f++],l=a[f++];break;case s.L:if(d=a[f++],v=a[f++],M=u?(t-o)/(d-o):(t-l)/(v-l),M<=1&&M>=0){var C=u?(v-l)*M+l:(d-o)*M+o;return u?[t,C]:[C,t]}o=d,l=v;break;case s.C:d=a[f++],v=a[f++],m=a[f++],y=a[f++],x=a[f++],b=a[f++];var w=u?uL(o,d,m,x,t,c):uL(l,v,y,b,t,c);if(w>0)for(var E=0;E<w;E++){var L=c[E];if(L<=1&&L>=0){var C=u?Ga(l,v,y,b,L):Ga(o,d,m,x,L);return u?[t,C]:[C,t]}}o=x,l=b;break}}},e})(An),e4e=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})($fe),ehe=(function(n){me(e,n);function e(t){var i=n.call(this,t)||this;return i.type="ec-polygon",i}return e.prototype.getDefaultShape=function(){return new e4e},e.prototype.buildPath=function(t,i){var r=i.points,a=i.stackedOnPoints,s=0,o=r.length/2,l=i.smoothMonotone;if(i.connectNulls){for(;o>0&&gy(r[o*2-2],r[o*2-1]);o--);for(;s<o&&gy(r[s*2],r[s*2+1]);s++);}for(;s<o;){var u=FU(t,r,s,o,o,1,i.smooth,l,i.connectNulls);FU(t,a,s+u-1,u,o,-1,i.stackedOnSmooth,l,i.connectNulls),s+=u+1,t.closePath()}},e})(An);function the(n,e,t,i,r){var a=n.getArea(),s=a.x,o=a.y,l=a.width,u=a.height,c=t.get(["lineStyle","width"])||0;s-=c/2,o-=c/2,l+=c,u+=c,l=Math.ceil(l),s!==Math.floor(s)&&(s=Math.floor(s),l++);var f=new pn({shape:{x:s,y:o,width:l,height:u}});if(e){var h=n.getBaseAxis(),d=h.isHorizontal(),v=h.inverse;d?(v&&(f.shape.x+=l),f.shape.width=0):(v||(f.shape.y+=u),f.shape.height=0);var m=wt(r)?function(y){r(y,f)}:null;Xi(f,{shape:{width:l,height:u,x:s,y:o}},t,null,i,m)}return f}function nhe(n,e,t){var i=n.getArea(),r=Jr(i.r0,1),a=Jr(i.r,1),s=new ks({shape:{cx:Jr(n.cx,1),cy:Jr(n.cy,1),r0:r,r:a,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});if(e){var o=n.getBaseAxis().dim==="angle";o?s.shape.endAngle=i.startAngle:s.shape.r=r,Xi(s,{shape:{endAngle:i.endAngle,r:a}},t)}return s}function WC(n,e,t,i,r){if(n){if(n.type==="polar")return nhe(n,e,t);if(n.type==="cartesian2d")return the(n,e,t,i,r)}else return null;return null}function Sm(n,e){return n.type===e}function ZZ(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return;return!0}}function KZ(n){for(var e=1/0,t=1/0,i=-1/0,r=-1/0,a=0;a<n.length;){var s=n[a++],o=n[a++];isNaN(s)||(e=Math.min(s,e),i=Math.max(s,i)),isNaN(o)||(t=Math.min(o,t),r=Math.max(o,r))}return[[e,t],[i,r]]}function JZ(n,e){var t=KZ(n),i=t[0],r=t[1],a=KZ(e),s=a[0],o=a[1];return Math.max(Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]),Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]))}function QZ(n){return Pn(n)?n:n?.5:0}function t4e(n,e,t){if(!t.valueDim)return[];for(var i=e.count(),r=yh(i*2),a=0;a<i;a++){var s=Qfe(t,n,e,a);r[a*2]=s[0],r[a*2+1]=s[1]}return r}function Cv(n,e,t,i,r){var a=t.getBaseAxis(),s=a.dim==="x"||a.dim==="radius"?0:1,o=[],l=0,u=[],c=[],f=[],h=[];if(r){for(l=0;l<n.length;l+=2){var d=e||n;!isNaN(d[l])&&!isNaN(d[l+1])&&h.push(n[l],n[l+1])}n=h}for(l=0;l<n.length-2;l+=2)switch(f[0]=n[l+2],f[1]=n[l+3],c[0]=n[l],c[1]=n[l+1],o.push(c[0],c[1]),i){case"end":u[s]=f[s],u[1-s]=c[1-s],o.push(u[0],u[1]);break;case"middle":var v=(c[s]+f[s])/2,m=[];u[s]=m[s]=v,u[1-s]=c[1-s],m[1-s]=f[1-s],o.push(u[0],u[1]),o.push(m[0],m[1]);break;default:u[s]=c[s],u[1-s]=f[1-s],o.push(u[0],u[1])}return o.push(n[l++],n[l++]),o}function n4e(n,e){var t=[],i=n.length,r,a;function s(c,f,h){var d=c.coord,v=(h-d)/(f.coord-d),m=HV(v,[c.color,f.color]);return{coord:h,color:m}}for(var o=0;o<i;o++){var l=n[o],u=l.coord;if(u<0)r=l;else if(u>e){a?t.push(s(a,l,e)):r&&t.push(s(r,l,0),s(r,l,e));break}else r&&(t.push(s(r,l,0)),r=null),t.push(l),a=l}return t}function i4e(n,e,t){var i=n.getVisual("visualMeta");if(!(!i||!i.length||!n.count())&&e.type==="cartesian2d"){for(var r,a,s=i.length-1;s>=0;s--){var o=n.getDimensionInfo(i[s].dimension);if(r=o&&o.coordDim,r==="x"||r==="y"){a=i[s];break}}if(a){var l=e.getAxis(r),u=We(a.stops,function(M){return{coord:l.toGlobalCoord(l.dataToCoord(M.value)),color:M.color}}),c=u.length,f=a.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var h=n4e(u,r==="x"?t.getWidth():t.getHeight()),d=h.length;if(!d&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var v=10,m=h[0].coord-v,y=h[d-1].coord+v,x=y-m;if(x<.001)return"transparent";Z(h,function(M){M.offset=(M.coord-m)/x}),h.push({offset:d?h[d-1].offset:.5,color:f[1]||"transparent"}),h.unshift({offset:d?h[0].offset:.5,color:f[0]||"transparent"});var b=new qy(0,0,0,0,h,!0);return b[r]=m,b[r+"2"]=y,b}}}function r4e(n,e,t){var i=n.get("showAllSymbol"),r=i==="auto";if(!(i&&!r)){var a=t.getAxesByScale("ordinal")[0];if(a&&!(r&&a4e(a,e))){var s=e.mapDimension(a.dim),o={};return Z(a.getViewLabels(),function(l){var u=a.scale.getRawOrdinalNumber(l.tickValue);o[u]=1}),function(l){return!o.hasOwnProperty(e.get(s,l))}}}}function a4e(n,e){var t=n.getExtent(),i=Math.abs(t[1]-t[0])/n.scale.count();isNaN(i)&&(i=0);for(var r=e.count(),a=Math.max(1,Math.round(r/5)),s=0;s<r;s+=a)if(jC.getSymbolSize(e,s)[n.isHorizontal()?1:0]*1.5>i)return!1;return!0}function s4e(n,e){return isNaN(n)||isNaN(e)}function o4e(n){for(var e=n.length/2;e>0&&s4e(n[e*2-2],n[e*2-1]);e--);return e-1}function $Z(n,e){return[n[e*2],n[e*2+1]]}function l4e(n,e,t){for(var i=n.length/2,r=t==="x"?0:1,a,s,o=0,l=-1,u=0;u<i;u++)if(s=n[u*2+r],!(isNaN(s)||isNaN(n[u*2+1-r]))){if(u===0){a=s;continue}if(a<=e&&s>=e||a>=e&&s<=e){l=u;break}o=u,a=s}return{range:[o,l],t:(e-a)/(s-a)}}function ihe(n){if(n.get(["endLabel","show"]))return!0;for(var e=0;e<qo.length;e++)if(n.get([qo[e],"endLabel","show"]))return!0;return!1}function F5(n,e,t,i){if(Sm(e,"cartesian2d")){var r=i.getModel("endLabel"),a=r.get("valueAnimation"),s=i.getData(),o={lastFrameIndex:0},l=ihe(i)?function(d,v){n._endLabelOnDuring(d,v,s,o,a,r,e)}:null,u=e.getBaseAxis().isHorizontal(),c=the(e,t,i,function(){var d=n._endLabel;d&&t&&o.originalX!=null&&d.attr({x:o.originalX,y:o.originalY})},l);if(!i.get("clip",!0)){var f=c.shape,h=Math.max(f.width,f.height);u?(f.y-=h,f.height+=h*2):(f.x-=h,f.width+=h*2)}return l&&l(1,c),c}else return nhe(e,t,i)}function u4e(n,e){var t=e.getBaseAxis(),i=t.isHorizontal(),r=t.inverse,a=i?r?"right":"left":"center",s=i?"middle":r?"top":"bottom";return{normal:{align:n.get("align")||a,verticalAlign:n.get("verticalAlign")||s}}}var c4e=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){var t=new It,i=new HC;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=t,this._changePolyState=ct(this._changePolyState,this)},e.prototype.render=function(t,i,r){var a=t.coordinateSystem,s=this.group,o=t.getData(),l=t.getModel("lineStyle"),u=t.getModel("areaStyle"),c=o.getLayout("points")||[],f=a.type==="polar",h=this._coordSys,d=this._symbolDraw,v=this._polyline,m=this._polygon,y=this._lineGroup,x=!i.ssr&&t.get("animation"),b=!u.isEmpty(),M=u.get("origin"),C=Jfe(a,o,M),w=b&&t4e(a,o,C),E=t.get("showSymbol"),L=t.get("connectNulls"),P=E&&!f&&r4e(t,o,a),I=this._data;I&&I.eachItemGraphicEl(function(ue,fe){ue.__temp&&(s.remove(ue),I.setItemGraphicEl(fe,null))}),E||d.remove(),s.add(y);var N=f?!1:t.get("step"),z;a&&a.getArea&&t.get("clip",!0)&&(z=a.getArea(),z.width!=null?(z.x-=.1,z.y-=.1,z.width+=.2,z.height+=.2):z.r0&&(z.r0-=.5,z.r+=.5)),this._clipShapeForSymbol=z;var V=i4e(o,a,r)||o.getVisual("style")[o.getVisual("drawType")];if(!(v&&h.type===a.type&&N===this._step))E&&d.updateData(o,{isIgnore:P,clipShape:z,disableAnimation:!0,getSymbolPoint:function(ue){return[c[ue*2],c[ue*2+1]]}}),x&&this._initSymbolLabelAnimation(o,a,z),N&&(w&&(w=Cv(w,c,a,N,L)),c=Cv(c,null,a,N,L)),v=this._newPolyline(c),b?m=this._newPolygon(c,w):m&&(y.remove(m),m=this._polygon=null),f||this._initOrUpdateEndLabel(t,a,By(V)),y.setClipPath(F5(this,a,!0,t));else{b&&!m?m=this._newPolygon(c,w):m&&!b&&(y.remove(m),m=this._polygon=null),f||this._initOrUpdateEndLabel(t,a,By(V));var U=y.getClipPath();if(U){var j=F5(this,a,!1,t);Xi(U,{shape:j.shape},t)}else y.setClipPath(F5(this,a,!0,t));E&&d.updateData(o,{isIgnore:P,clipShape:z,disableAnimation:!0,getSymbolPoint:function(ue){return[c[ue*2],c[ue*2+1]]}}),(!ZZ(this._stackedOnPoints,w)||!ZZ(this._points,c))&&(x?this._doUpdateAnimation(o,w,a,r,N,M,L):(N&&(w&&(w=Cv(w,c,a,N,L)),c=Cv(c,null,a,N,L)),v.setShape({points:c}),m&&m.setShape({points:c,stackedOnPoints:w})))}var W=t.getModel("emphasis"),G=W.get("focus"),X=W.get("blurScope"),q=W.get("disabled");if(v.useStyle(Bt(l.getLineStyle(),{fill:"none",stroke:V,lineJoin:"bevel"})),Da(v,t,"lineStyle"),v.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var $=v.getState("emphasis").style;$.lineWidth=+v.style.lineWidth+1}jt(v).seriesIndex=t.seriesIndex,rr(v,G,X,q);var te=QZ(t.get("smooth")),J=t.get("smoothMonotone");if(v.setShape({smooth:te,smoothMonotone:J,connectNulls:L}),m){var Q=o.getCalculationInfo("stackedOnSeries"),se=0;m.useStyle(Bt(u.getAreaStyle(),{fill:V,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal})),Q&&(se=QZ(Q.get("smooth"))),m.setShape({smooth:te,stackedOnSmooth:se,smoothMonotone:J,connectNulls:L}),Da(m,t,"areaStyle"),jt(m).seriesIndex=t.seriesIndex,rr(m,G,X,q)}var ce=this._changePolyState;o.eachItemGraphicEl(function(ue){ue&&(ue.onHoverStateChange=ce)}),this._polyline.onHoverStateChange=ce,this._data=o,this._coordSys=a,this._stackedOnPoints=w,this._points=c,this._step=N,this._valueOrigin=M,t.get("triggerLineEvent")&&(this.packEventData(t,v),m&&this.packEventData(t,m))},e.prototype.packEventData=function(t,i){jt(i).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,i,r,a){var s=t.getData(),o=Ry(s,a);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var l=s.getLayout("points"),u=s.getItemGraphicEl(o);if(!u){var c=l[o*2],f=l[o*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var h=t.get("zlevel")||0,d=t.get("z")||0;u=new jC(s,o),u.x=c,u.y=f,u.setZ(h,d);var v=u.getSymbolPath().getTextContent();v&&(v.zlevel=h,v.z=d,v.z2=this._polyline.z2+1),u.__temp=!0,s.setItemGraphicEl(o,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else xi.prototype.highlight.call(this,t,i,r,a)},e.prototype.downplay=function(t,i,r,a){var s=t.getData(),o=Ry(s,a);if(this._changePolyState("normal"),o!=null&&o>=0){var l=s.getItemGraphicEl(o);l&&(l.__temp?(s.setItemGraphicEl(o,null),this.group.remove(l)):l.downplay())}else xi.prototype.downplay.call(this,t,i,r,a)},e.prototype._changePolyState=function(t){var i=this._polygon;_L(this._polyline,t),i&&_L(i,t)},e.prototype._newPolyline=function(t){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new $5e({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},e.prototype._newPolygon=function(t,i){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new ehe({shape:{points:t,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},e.prototype._initSymbolLabelAnimation=function(t,i,r){var a,s,o=i.getBaseAxis(),l=o.inverse;i.type==="cartesian2d"?(a=o.isHorizontal(),s=!1):i.type==="polar"&&(a=o.dim==="angle",s=!0);var u=t.hostModel,c=u.get("animationDuration");wt(c)&&(c=c(null));var f=u.get("animationDelay")||0,h=wt(f)?f(null):f;t.eachItemGraphicEl(function(d,v){var m=d;if(m){var y=[d.x,d.y],x=void 0,b=void 0,M=void 0;if(r)if(s){var C=r,w=i.pointToCoord(y);a?(x=C.startAngle,b=C.endAngle,M=-w[1]/180*Math.PI):(x=C.r0,b=C.r,M=w[0])}else{var E=r;a?(x=E.x,b=E.x+E.width,M=d.x):(x=E.y+E.height,b=E.y,M=d.y)}var L=b===x?0:(M-x)/(b-x);l&&(L=1-L);var P=wt(f)?f(v):c*L+h,I=m.getSymbolPath(),N=I.getTextContent();m.attr({scaleX:0,scaleY:0}),m.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:P}),N&&N.animateFrom({style:{opacity:0}},{duration:300,delay:P}),I.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,i,r){var a=t.getModel("endLabel");if(ihe(t)){var s=t.getData(),o=this._polyline,l=s.getLayout("points");if(!l){o.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new In({z2:200}),u.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var c=o4e(l);c>=0&&(Xa(o,Ra(t,"endLabel"),{inheritColor:r,labelFetcher:t,labelDataIndex:c,defaultText:function(f,h,d){return d!=null?Kfe(s,d):xb(s,f)},enableTextSetter:!0},u4e(a,i)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,i,r,a,s,o,l){var u=this._endLabel,c=this._polyline;if(u){t<1&&a.originalX==null&&(a.originalX=u.x,a.originalY=u.y);var f=r.getLayout("points"),h=r.hostModel,d=h.get("connectNulls"),v=o.get("precision"),m=o.get("distance")||0,y=l.getBaseAxis(),x=y.isHorizontal(),b=y.inverse,M=i.shape,C=b?x?M.x:M.y+M.height:x?M.x+M.width:M.y,w=(x?m:0)*(b?-1:1),E=(x?0:-m)*(b?-1:1),L=x?"x":"y",P=l4e(f,C,L),I=P.range,N=I[1]-I[0],z=void 0;if(N>=1){if(N>1&&!d){var V=$Z(f,I[0]);u.attr({x:V[0]+w,y:V[1]+E}),s&&(z=h.getRawValue(I[0]))}else{var V=c.getPointOn(C,L);V&&u.attr({x:V[0]+w,y:V[1]+E});var U=h.getRawValue(I[0]),j=h.getRawValue(I[1]);s&&(z=Ele(r,v,U,j,P.t))}a.lastFrameIndex=I[0]}else{var W=t===1||a.lastFrameIndex>0?I[0]:0,V=$Z(f,W);s&&(z=h.getRawValue(W)),u.attr({x:V[0]+w,y:V[1]+E})}if(s){var G=oS(u);typeof G.setLabelText=="function"&&G.setLabelText(z)}}},e.prototype._doUpdateAnimation=function(t,i,r,a,s,o,l){var u=this._polyline,c=this._polygon,f=t.hostModel,h=Q5e(this._data,t,this._stackedOnPoints,i,this._coordSys,r,this._valueOrigin),d=h.current,v=h.stackedOnCurrent,m=h.next,y=h.stackedOnNext;if(s&&(v=Cv(h.stackedOnCurrent,h.current,r,s,l),d=Cv(h.current,null,r,s,l),y=Cv(h.stackedOnNext,h.next,r,s,l),m=Cv(h.next,null,r,s,l)),JZ(d,m)>3e3||c&&JZ(v,y)>3e3){u.stopAnimation(),u.setShape({points:m}),c&&(c.stopAnimation(),c.setShape({points:m,stackedOnPoints:y}));return}u.shape.__points=h.current,u.shape.points=d;var x={shape:{points:m}};h.current!==d&&(x.shape.__points=h.next),u.stopAnimation(),Gn(u,x,f),c&&(c.setShape({points:d,stackedOnPoints:v}),c.stopAnimation(),Gn(c,{shape:{stackedOnPoints:y}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var b=[],M=h.status,C=0;C<M.length;C++){var w=M[C].cmd;if(w==="="){var E=t.getItemGraphicEl(M[C].idx1);E&&b.push({el:E,ptIdx:C})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var L=u.shape.__points,P=0;P<b.length;P++){var I=b[P].el,N=b[P].ptIdx*2;I.x=L[N],I.y=L[N+1],I.markRedraw()}})},e.prototype.remove=function(t){var i=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(a,s){a.__temp&&(i.remove(a),r.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e})(xi);function XC(n,e){return{seriesType:n,plan:fS(),reset:function(t){var i=t.getData(),r=t.coordinateSystem,a=t.pipelineContext,s=e||a.large;if(r){var o=We(r.dimensions,function(d){return i.mapDimension(d)}).slice(0,2),l=o.length,u=i.getCalculationInfo("stackResultDimension");Mp(i,o[0])&&(o[0]=u),Mp(i,o[1])&&(o[1]=u);var c=i.getStore(),f=i.getDimensionIndex(o[0]),h=i.getDimensionIndex(o[1]);return l&&{progress:function(d,v){for(var m=d.end-d.start,y=s&&yh(m*l),x=[],b=[],M=d.start,C=0;M<d.end;M++){var w=void 0;if(l===1){var E=c.get(f,M);w=r.dataToPoint(E,null,b)}else x[0]=c.get(f,M),x[1]=c.get(h,M),w=r.dataToPoint(x,null,b);s?(y[C++]=w[0],y[C++]=w[1]):v.setItemLayout(M,w.slice())}s&&v.setLayout("points",y)}}}}}}var f4e={average:function(n){for(var e=0,t=0,i=0;i<n.length;i++)isNaN(n[i])||(e+=n[i],t++);return t===0?NaN:e/t},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t]||0;return e},max:function(n){for(var e=-1/0,t=0;t<n.length;t++)n[t]>e&&(e=n[t]);return isFinite(e)?e:NaN},min:function(n){for(var e=1/0,t=0;t<n.length;t++)n[t]<e&&(e=n[t]);return isFinite(e)?e:NaN},nearest:function(n){return n[0]}},h4e=function(n){return Math.round(n.length/2)};function rhe(n){return{seriesType:n,reset:function(e,t,i){var r=e.getData(),a=e.get("sampling"),s=e.coordinateSystem,o=r.count();if(o>10&&s.type==="cartesian2d"&&a){var l=s.getBaseAxis(),u=s.getOtherAxis(l),c=l.getExtent(),f=i.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(f||1),d=Math.round(o/h);if(isFinite(d)&&d>1){a==="lttb"?e.setData(r.lttbDownSample(r.mapDimension(u.dim),1/d)):a==="minmax"&&e.setData(r.minmaxDownSample(r.mapDimension(u.dim),1/d));var v=void 0;ot(a)?v=f4e[a]:wt(a)&&(v=a),v&&e.setData(r.downSample(r.mapDimension(u.dim),1/d,v,h4e))}}}}}function d4e(n){n.registerChartView(c4e),n.registerSeriesModel(q5e),n.registerLayout(XC("line",!0)),n.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),i=e.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",i)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,rhe("line"))}var YT=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,i){return Gh(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,i,r){var a=this.coordinateSystem;if(a&&a.clampData){var s=a.clampData(t),o=a.dataToPoint(s);if(r)Z(a.getAxes(),function(h,d){if(h.type==="category"&&i!=null){var v=h.getTicksCoords(),m=h.getTickModel().get("alignWithLabel"),y=s[d],x=i[d]==="x1"||i[d]==="y1";if(x&&!m&&(y+=1),v.length<2)return;if(v.length===2){o[d]=h.toGlobalCoord(h.getExtent()[x?1:0]);return}for(var b=void 0,M=void 0,C=1,w=0;w<v.length;w++){var E=v[w].coord,L=w===v.length-1?v[w-1].tickValue+C:v[w].tickValue;if(L===y){M=E;break}else if(L<y)b=E;else if(b!=null&&L>y){M=(E+b)/2;break}w===1&&(C=L-v[0].tickValue)}M==null&&(b?b&&(M=v[v.length-1].coord):M=v[0].coord),o[d]=h.toGlobalCoord(M)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=a.getBaseAxis().isHorizontal()?0:1;o[f]+=u+c/2}return o}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},e})(Ti);Ti.registerClass(YT);var p4e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return Gh(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>t&&(t=i),t},e.prototype.brushSelector=function(t,i,r){return r.rect(i.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Om(YT.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:xe.color.primary,borderWidth:2}},realtimeSort:!1}),e})(YT),v4e=(function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n})(),jL=(function(n){me(e,n);function e(t){var i=n.call(this,t)||this;return i.type="sausage",i}return e.prototype.getDefaultShape=function(){return new v4e},e.prototype.buildPath=function(t,i){var r=i.cx,a=i.cy,s=Math.max(i.r0||0,0),o=Math.max(i.r,0),l=(o-s)*.5,u=s+l,c=i.startAngle,f=i.endAngle,h=i.clockwise,d=Math.PI*2,v=h?f-c<d:c-f<d;v||(c=f-(h?d:-d));var m=Math.cos(c),y=Math.sin(c),x=Math.cos(f),b=Math.sin(f);v?(t.moveTo(m*s+r,y*s+a),t.arc(m*u+r,y*u+a,l,-Math.PI+c,c,!h)):t.moveTo(m*o+r,y*o+a),t.arc(r,a,o,c,f,!h),t.arc(x*u+r,b*u+a,l,f-Math.PI*2,f-Math.PI,!h),s!==0&&t.arc(r,a,s,f,c,h)},e})(An);function m4e(n,e){e=e||{};var t=e.isRoundCap;return function(i,r,a){var s=r.position;if(!s||s instanceof Array)return vL(i,r,a);var o=n(s),l=r.distance!=null?r.distance:5,u=this.shape,c=u.cx,f=u.cy,h=u.r,d=u.r0,v=(h+d)/2,m=u.startAngle,y=u.endAngle,x=(m+y)/2,b=t?Math.abs(h-d)/2:0,M=Math.cos,C=Math.sin,w=c+h*M(m),E=f+h*C(m),L="left",P="top";switch(o){case"startArc":w=c+(d-l)*M(x),E=f+(d-l)*C(x),L="center",P="top";break;case"insideStartArc":w=c+(d+l)*M(x),E=f+(d+l)*C(x),L="center",P="bottom";break;case"startAngle":w=c+v*M(m)+MD(m,l+b,!1),E=f+v*C(m)+TD(m,l+b,!1),L="right",P="middle";break;case"insideStartAngle":w=c+v*M(m)+MD(m,-l+b,!1),E=f+v*C(m)+TD(m,-l+b,!1),L="left",P="middle";break;case"middle":w=c+v*M(x),E=f+v*C(x),L="center",P="middle";break;case"endArc":w=c+(h+l)*M(x),E=f+(h+l)*C(x),L="center",P="bottom";break;case"insideEndArc":w=c+(h-l)*M(x),E=f+(h-l)*C(x),L="center",P="top";break;case"endAngle":w=c+v*M(y)+MD(y,l+b,!0),E=f+v*C(y)+TD(y,l+b,!0),L="left",P="middle";break;case"insideEndAngle":w=c+v*M(y)+MD(y,-l+b,!0),E=f+v*C(y)+TD(y,-l+b,!0),L="right",P="middle";break;default:return vL(i,r,a)}return i=i||{},i.x=w,i.y=E,i.align=L,i.verticalAlign=P,i}}function g4e(n,e,t,i){if(Pn(i)){n.setTextConfig({rotation:i});return}else if(Ve(e)){n.setTextConfig({rotation:0});return}var r=n.shape,a=r.clockwise?r.startAngle:r.endAngle,s=r.clockwise?r.endAngle:r.startAngle,o=(a+s)/2,l,u=t(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=o;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=s;break;default:n.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),n.setTextConfig({rotation:c})}function MD(n,e,t){return e*Math.sin(n)*(t?-1:1)}function TD(n,e,t){return e*Math.cos(n)*(t?1:-1)}function _h(n,e,t){var i=n.get("borderRadius");if(i==null)return t?{cornerRadius:0}:null;Ve(i)||(i=[i,i,i,i]);var r=Math.abs(e.r||0-e.r0||0);return{cornerRadius:We(i,function(a){return sf(a,r)})}}var U5=Math.max,G5=Math.min;function y4e(n,e){var t=n.getArea&&n.getArea();if(Sm(n,"cartesian2d")){var i=n.getBaseAxis();if(i.type!=="category"||!i.onBand){var r=e.getLayout("bandWidth");i.isHorizontal()?(t.x-=r,t.width+=r*2):(t.y-=r,t.height+=r*2)}}return t}var x4e=(function(n){me(e,n);function e(){var t=n.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,i,r,a){this._model=t,this._removeOnRenderedListener(r),this._updateDrawMode(t);var s=t.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,i,r):this._renderNormal(t,i,r,a))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,i){this._progressiveEls=[],this._incrementalRenderLarge(t,i)},e.prototype.eachRendered=function(t){Bm(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;(this._isLargeDraw==null||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t,i,r,a){var s=this.group,o=t.getData(),l=this._data,u=t.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var h=t.isAnimationEnabled()?t:null,d=_4e(t,u);d&&this._enableRealtimeSort(d,o,r);var v=t.get("clip",!0)||d,m=y4e(u,o);s.removeClipPath();var y=t.get("roundCap",!0),x=t.get("showBackground",!0),b=t.getModel("backgroundStyle"),M=b.get("borderRadius")||0,C=[],w=this._backgroundEls,E=a&&a.isInitSort,L=a&&a.type==="changeAxisOrder";function P(z){var V=CD[u.type](o,z);if(!V)return null;var U=w4e(u,f,V);return U.useStyle(b.getItemStyle()),u.type==="cartesian2d"?U.setShape("r",M):U.setShape("cornerRadius",M),C[z]=U,U}o.diff(l).add(function(z){var V=o.getItemModel(z),U=CD[u.type](o,z,V);if(U&&(x&&P(z),!(!o.hasValue(z)||!rK[u.type](U)))){var j=!1;v&&(j=eK[u.type](m,U));var W=tK[u.type](t,o,z,U,f,h,c.model,!1,y);d&&(W.forceLabelAnimation=!0),aK(W,o,z,V,U,t,f,u.type==="polar"),E?W.attr({shape:U}):d?nK(d,h,W,U,z,f,!1,!1):Xi(W,{shape:U},t,z),o.setItemGraphicEl(z,W),s.add(W),W.ignore=j}}).update(function(z,V){var U=o.getItemModel(z),j=CD[u.type](o,z,U);if(j){if(x){var W=void 0;w.length===0?W=P(V):(W=w[V],W.useStyle(b.getItemStyle()),u.type==="cartesian2d"?W.setShape("r",M):W.setShape("cornerRadius",M),C[z]=W);var G=CD[u.type](o,z),X=she(f,G,u);Gn(W,{shape:X},h,z)}var q=l.getItemGraphicEl(V);if(!o.hasValue(z)||!rK[u.type](j)){s.remove(q);return}var $=!1;v&&($=eK[u.type](m,j),$&&s.remove(q));var te=q&&(q.type==="sector"&&y||q.type==="sausage"&&!y);if(te&&(q&&rp(q,t,V),q=null),q?ec(q):q=tK[u.type](t,o,z,j,f,h,c.model,!0,y),d&&(q.forceLabelAnimation=!0),L){var J=q.getTextContent();if(J){var Q=oS(J);Q.prevValue!=null&&(Q.prevValue=Q.value)}}else aK(q,o,z,U,j,t,f,u.type==="polar");E?q.attr({shape:j}):d?nK(d,h,q,j,z,f,!0,L):Gn(q,{shape:j},t,z,null),o.setItemGraphicEl(z,q),q.ignore=$,s.add(q)}}).remove(function(z){var V=l.getItemGraphicEl(z);V&&rp(V,t,z)}).execute();var I=this._backgroundGroup||(this._backgroundGroup=new It);I.removeAll();for(var N=0;N<C.length;++N)I.add(C[N]);s.add(I),this._backgroundEls=C,this._data=o},e.prototype._renderLarge=function(t,i,r){this._clear(),oK(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,i){this._removeBackground(),oK(i,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var i=t.get("clip",!0)&&WC(t.coordinateSystem,!1,t),r=this.group;i?r.setClipPath(i):r.removeClipPath()},e.prototype._enableRealtimeSort=function(t,i,r){var a=this;if(i.count()){var s=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,t,r),this._isFirstFrame=!1;else{var o=function(l){var u=i.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(s.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(i,o,s,r)},r.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,i,r){var a=[];return t.each(t.mapDimension(i.dim),function(s,o){var l=r(o);l=l??NaN,a.push({dataIndex:o,mappedValue:l,ordinalNumber:s})}),a.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:We(a,function(s){return s.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,i,r){for(var a=r.scale,s=t.mapDimension(r.dim),o=Number.MAX_VALUE,l=0,u=a.getOrdinalMeta().categories.length;l<u;++l){var c=t.rawIndexOf(s,a.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:i(t.indexOfRawIndex(c));if(f>o)return!0;o=f}return!1},e.prototype._isOrderDifferentInView=function(t,i){for(var r=i.scale,a=r.getExtent(),s=Math.max(0,a[0]),o=Math.min(a[1],r.getOrdinalMeta().categories.length-1);s<=o;++s)if(t.ordinalNumbers[s]!==r.getRawOrdinalNumber(s))return!0},e.prototype._updateSortWithinSameData=function(t,i,r,a){if(this._isOrderChangedWithinSameData(t,i,r)){var s=this._dataSort(t,r,i);this._isOrderDifferentInView(s,r)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:s}))}},e.prototype._dispatchInitSort=function(t,i,r){var a=i.baseAxis,s=this._dataSort(t,a,function(o){return t.get(t.mapDimension(i.otherAxis.dim),o)});r.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:s})},e.prototype.remove=function(t,i){this._clear(this._model),this._removeOnRenderedListener(i)},e.prototype.dispose=function(t,i){this._removeOnRenderedListener(i)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var i=this.group,r=this._data;t&&t.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(a){rp(a,t,jt(a).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e})(xi),eK={cartesian2d:function(n,e){var t=e.width<0?-1:1,i=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var r=n.x+n.width,a=n.y+n.height,s=U5(e.x,n.x),o=G5(e.x+e.width,r),l=U5(e.y,n.y),u=G5(e.y+e.height,a),c=o<s,f=u<l;return e.x=c&&s>r?o:s,e.y=f&&l>a?u:l,e.width=c?0:o-s,e.height=f?0:u-l,t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),c||f},polar:function(n,e){var t=e.r0<=e.r?1:-1;if(t<0){var i=e.r;e.r=e.r0,e.r0=i}var r=G5(e.r,n.r),a=U5(e.r0,n.r0);e.r=r,e.r0=a;var s=r-a<0;if(t<0){var i=e.r;e.r=e.r0,e.r0=i}return s}},tK={cartesian2d:function(n,e,t,i,r,a,s,o,l){var u=new pn({shape:Ie({},i),z2:1});if(u.__dataIndex=t,u.name="item",a){var c=u.shape,f=r?"height":"width";c[f]=0}return u},polar:function(n,e,t,i,r,a,s,o,l){var u=!r&&l?jL:ks,c=new u({shape:i,z2:1});c.name="item";var f=ahe(r);if(c.calculateTextPosition=m4e(f,{isRoundCap:u===jL}),a){var h=c.shape,d=r?"r":"endAngle",v={};h[d]=r?i.r0:i.startAngle,v[d]=i[d],(o?Gn:Xi)(c,{shape:v},a)}return c}};function _4e(n,e){var t=n.get("realtimeSort",!0),i=e.getBaseAxis();if(t&&i.type==="category"&&e.type==="cartesian2d")return{baseAxis:i,otherAxis:e.getOtherAxis(i)}}function nK(n,e,t,i,r,a,s,o){var l,u;a?(u={x:i.x,width:i.width},l={y:i.y,height:i.height}):(u={y:i.y,height:i.height},l={x:i.x,width:i.width}),o||(s?Gn:Xi)(t,{shape:l},e,r,null);var c=e?n.baseAxis.model:null;(s?Gn:Xi)(t,{shape:u},c,r)}function iK(n,e){for(var t=0;t<e.length;t++)if(!isFinite(n[e[t]]))return!0;return!1}var b4e=["x","y","width","height"],S4e=["cx","cy","r","startAngle","endAngle"],rK={cartesian2d:function(n){return!iK(n,b4e)},polar:function(n){return!iK(n,S4e)}},CD={cartesian2d:function(n,e,t){var i=n.getItemLayout(e);if(!i)return null;var r=t?M4e(t,i):0,a=i.width>0?1:-1,s=i.height>0?1:-1;return{x:i.x+a*r/2,y:i.y+s*r/2,width:i.width-a*r,height:i.height-s*r}},polar:function(n,e,t){var i=n.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function A4e(n){return n.startAngle!=null&&n.endAngle!=null&&n.startAngle===n.endAngle}function ahe(n){return(function(e){var t=e?"Arc":"Angle";return function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+t;default:return i}}})(n)}function aK(n,e,t,i,r,a,s,o){var l=e.getItemVisual(t,"style");if(o){if(!a.get("roundCap")){var c=n.shape,f=_h(i.getModel("itemStyle"),c,!0);Ie(c,f),n.setShape(c)}}else{var u=i.get(["itemStyle","borderRadius"])||0;n.setShape("r",u)}n.useStyle(l);var h=i.getShallow("cursor");h&&n.attr("cursor",h);var d=o?s?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":s?r.height>=0?"bottom":"top":r.width>=0?"right":"left",v=Ra(i);Xa(n,v,{labelFetcher:a,labelDataIndex:t,defaultText:xb(a.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:d});var m=n.getTextContent();if(o&&m){var y=i.get(["label","position"]);n.textConfig.inside=y==="middle"?!0:null,g4e(n,y==="outside"?d:y,ahe(s),i.get(["label","rotate"]))}vue(m,v,a.getRawValue(t),function(b){return Kfe(e,b)});var x=i.getModel(["emphasis"]);rr(n,x.get("focus"),x.get("blurScope"),x.get("disabled")),Da(n,i),A4e(r)&&(n.style.fill="none",n.style.stroke="none",Z(n.states,function(b){b.style&&(b.style.fill=b.style.stroke="none")}))}function M4e(n,e){var t=n.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var i=n.get(["itemStyle","borderWidth"])||0,r=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(i,r,a)}var T4e=(function(){function n(){}return n})(),sK=(function(n){me(e,n);function e(t){var i=n.call(this,t)||this;return i.type="largeBar",i}return e.prototype.getDefaultShape=function(){return new T4e},e.prototype.buildPath=function(t,i){for(var r=i.points,a=this.baseDimIdx,s=1-this.baseDimIdx,o=[],l=[],u=this.barWidth,c=0;c<r.length;c+=3)l[a]=u,l[s]=r[c+2],o[a]=r[c+a],o[s]=r[c+s],t.rect(o[0],o[1],l[0],l[1])},e})(An);function oK(n,e,t,i){var r=n.getData(),a=r.getLayout("valueAxisHorizontal")?1:0,s=r.getLayout("largeDataIndices"),o=r.getLayout("size"),l=n.getModel("backgroundStyle"),u=r.getLayout("largeBackgroundPoints");if(u){var c=new sK({shape:{points:u},incremental:!!i,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=s,c.barWidth=o,c.useStyle(l.getItemStyle()),e.add(c),t&&t.push(c)}var f=new sK({shape:{points:r.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=a,f.largeDataIndices=s,f.barWidth=o,e.add(f),f.useStyle(r.getVisual("style")),f.style.stroke=null,jt(f).seriesIndex=n.seriesIndex,n.get("silent")||(f.on("mousedown",lK),f.on("mousemove",lK)),t&&t.push(f)}var lK=eP(function(n){var e=this,t=C4e(e,n.offsetX,n.offsetY);jt(e).dataIndex=t>=0?t:null},30,!1);function C4e(n,e,t){for(var i=n.baseDimIdx,r=1-i,a=n.shape.points,s=n.largeDataIndices,o=[],l=[],u=n.barWidth,c=0,f=a.length/3;c<f;c++){var h=c*3;if(l[i]=u,l[r]=a[h+2],o[i]=a[h+i],o[r]=a[h+r],l[r]<0&&(o[r]+=l[r],l[r]=-l[r]),e>=o[0]&&e<=o[0]+l[0]&&t>=o[1]&&t<=o[1]+l[1])return s[c]}return-1}function she(n,e,t){if(Sm(t,"cartesian2d")){var i=e,r=t.getArea();return{x:n?i.x:r.x,y:n?r.y:i.y,width:n?i.width:r.width,height:n?r.height:i.height}}else{var r=t.getArea(),a=e;return{cx:r.cx,cy:r.cy,r0:n?r.r0:a.r0,r:n?r.r:a.r,startAngle:n?a.startAngle:0,endAngle:n?a.endAngle:Math.PI*2}}}function w4e(n,e,t){var i=n.type==="polar"?ks:pn;return new i({shape:she(e,t,n),silent:!0,z2:0})}function E4e(n){n.registerChartView(x4e),n.registerSeriesModel(p4e),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,$t(ufe,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,cfe("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,rhe("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var i=e.componentType||"series";t.eachComponent({mainType:i,query:e},function(r){e.sortInfo&&r.axis.setCategorySortInfo(e.sortInfo)})})}var uK=Math.PI*2,wD=Math.PI/180;function D4e(n,e,t){e.eachSeriesByType(n,function(i){var r=i.getData(),a=r.mapDimension("value"),s=Iue(i,t),o=s.cx,l=s.cy,u=s.r,c=s.r0,f=s.viewRect,h=-i.get("startAngle")*wD,d=i.get("endAngle"),v=i.get("padAngle")*wD;d=d==="auto"?h-uK:-d*wD;var m=i.get("minAngle")*wD,y=m+v,x=0;r.each(a,function(X){!isNaN(X)&&x++});var b=r.getSum(a),M=Math.PI/(b||x)*2,C=i.get("clockwise"),w=i.get("roseType"),E=i.get("stillShowZeroSum"),L=r.getDataExtent(a);L[0]=0;var P=C?1:-1,I=[h,d],N=P*v/2;jI(I,!C),h=I[0],d=I[1];var z=ohe(i);z.startAngle=h,z.endAngle=d,z.clockwise=C,z.cx=o,z.cy=l,z.r=u,z.r0=c;var V=Math.abs(d-h),U=V,j=0,W=h;if(r.setLayout({viewRect:f,r:u}),r.each(a,function(X,q){var $;if(isNaN(X)){r.setItemLayout(q,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:C,cx:o,cy:l,r0:c,r:w?NaN:u});return}w!=="area"?$=b===0&&E?M:X*M:$=V/x,$<y?($=y,U-=y):j+=X;var te=W+P*$,J=0,Q=0;v>$?(J=W+P*$/2,Q=J):(J=W+N,Q=te-N),r.setItemLayout(q,{angle:$,startAngle:J,endAngle:Q,clockwise:C,cx:o,cy:l,r0:c,r:w?ei(X,L,[c,u]):u}),W=te}),U<uK&&x)if(U<=.001){var G=V/x;r.each(a,function(X,q){if(!isNaN(X)){var $=r.getItemLayout(q);$.angle=G;var te=0,J=0;G<v?(te=h+P*(q+1/2)*G,J=te):(te=h+P*q*G+N,J=h+P*(q+1)*G-N),$.startAngle=te,$.endAngle=J}})}else M=U/j,W=h,r.each(a,function(X,q){if(!isNaN(X)){var $=r.getItemLayout(q),te=$.angle===y?y:X*M,J=0,Q=0;te<v?(J=W+P*te/2,Q=J):(J=W+N,Q=W+P*te-N),$.startAngle=J,$.endAngle=Q,W+=P*te}})})}var ohe=_n();function gS(n){return{seriesType:n,reset:function(e,t){var i=t.findComponents({mainType:"legend"});if(!(!i||!i.length)){var r=e.getData();r.filterSelf(function(a){for(var s=r.getName(a),o=0;o<i.length;o++)if(!i[o].isSelected(s))return!1;return!0})}}}}var R4e=Math.PI/180;function cK(n,e,t,i,r,a,s,o,l,u){if(n.length<2)return;function c(m){for(var y=m.rB,x=y*y,b=0;b<m.list.length;b++){var M=m.list[b],C=Math.abs(M.label.y-t),w=i+M.len,E=w*w,L=Math.sqrt(Math.abs((1-C*C/x)*E)),P=e+(L+M.len2)*r,I=P-M.label.x,N=M.targetTextWidth-I*r;lhe(M,N,!0),M.label.x=P}}function f(m){for(var y={list:[],maxY:0},x={list:[],maxY:0},b=0;b<m.length;b++)if(m[b].labelAlignTo==="none"){var M=m[b],C=M.label.y>t?x:y,w=Math.abs(M.label.y-t);if(w>=C.maxY){var E=M.label.x-e-M.len2*r,L=i+M.len,P=Math.abs(E)<L?Math.sqrt(w*w/(1-E*E/L/L)):L;C.rB=P,C.maxY=w}C.list.push(M)}c(y),c(x)}for(var h=n.length,d=0;d<h;d++)if(n[d].position==="outer"&&n[d].labelAlignTo==="labelLine"){var v=n[d].label.x-u;n[d].linePoints[1][0]+=v,n[d].label.x=u}BU(n,1,l,l+s)&&f(n)}function L4e(n,e,t,i,r,a,s,o){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,h=0;h<n.length;h++){var d=n[h].label;V5(n[h])||(d.x<e?(c=Math.min(c,d.x),l.push(n[h])):(f=Math.max(f,d.x),u.push(n[h])))}for(var h=0;h<n.length;h++){var v=n[h];if(!V5(v)&&v.linePoints){if(v.labelStyleWidth!=null)continue;var d=v.label,m=v.linePoints,y=void 0;v.labelAlignTo==="edge"?d.x<e?y=m[2][0]-v.labelDistance-s-v.edgeDistance:y=s+r-v.edgeDistance-m[2][0]-v.labelDistance:v.labelAlignTo==="labelLine"?d.x<e?y=c-s-v.bleedMargin:y=s+r-f-v.bleedMargin:d.x<e?y=d.x-s-v.bleedMargin:y=s+r-d.x-v.bleedMargin,v.targetTextWidth=y,lhe(v,y,!1)}}cK(u,e,t,i,1,r,a,s,o,f),cK(l,e,t,i,-1,r,a,s,o,c);for(var h=0;h<n.length;h++){var v=n[h];if(!V5(v)&&v.linePoints){var d=v.label,m=v.linePoints,x=v.labelAlignTo==="edge",b=d.style.padding,M=b?b[1]+b[3]:0,C=d.style.backgroundColor?0:M,w=v.rect.width+C,E=m[1][0]-m[2][0];x?d.x<e?m[2][0]=s+v.edgeDistance+w+v.labelDistance:m[2][0]=s+r-v.edgeDistance-w-v.labelDistance:(d.x<e?m[2][0]=d.x+v.labelDistance:m[2][0]=d.x-v.labelDistance,m[1][0]=m[2][0]+E),m[1][1]=m[2][1]=d.y}}}function lhe(n,e,t){if(n.labelStyleWidth==null){var i=n.label,r=i.style,a=n.rect,s=r.backgroundColor,o=r.padding,l=o?o[1]+o[3]:0,u=r.overflow,c=a.width+(s?0:l);if(e<c||t){if(u&&u.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",e-l);var f=i.getBoundingRect();i.setStyle("width",Math.ceil(f.width)),i.setStyle("backgroundColor",s)}else{var h=e-l,d=e<c?h:t?h>n.unconstrainedWidth?null:h:null;i.setStyle("width",d)}uhe(a,i)}}}function uhe(n,e){fK.rect=n,Ife(fK,e,N4e)}var N4e={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},fK={};function V5(n){return n.position==="center"}function I4e(n){var e=n.getData(),t=[],i,r,a=!1,s=(n.get("minShowLabelAngle")||0)*R4e,o=e.getLayout("viewRect"),l=e.getLayout("r"),u=o.width,c=o.x,f=o.y,h=o.height;function d(E){E.ignore=!0}function v(E){if(!E.ignore)return!0;for(var L in E.states)if(E.states[L].ignore===!1)return!0;return!1}e.each(function(E){var L=e.getItemGraphicEl(E),P=L.shape,I=L.getTextContent(),N=L.getTextGuideLine(),z=e.getItemModel(E),V=z.getModel("label"),U=V.get("position")||z.get(["emphasis","label","position"]),j=V.get("distanceToLabelLine"),W=V.get("alignTo"),G=st(V.get("edgeDistance"),u),X=V.get("bleedMargin");X==null&&(X=Math.min(u,h)>200?10:2);var q=z.getModel("labelLine"),$=q.get("length");$=st($,u);var te=q.get("length2");if(te=st(te,u),Math.abs(P.endAngle-P.startAngle)<s){Z(I.states,d),I.ignore=!0,N&&(Z(N.states,d),N.ignore=!0);return}if(v(I)){var J=(P.startAngle+P.endAngle)/2,Q=Math.cos(J),se=Math.sin(J),ce,ue,fe,ge;i=P.cx,r=P.cy;var Se=U==="inside"||U==="inner";if(U==="center")ce=P.cx,ue=P.cy,ge="center";else{var Ee=(Se?(P.r+P.r0)/2*Q:P.r*Q)+i,Ue=(Se?(P.r+P.r0)/2*se:P.r*se)+r;if(ce=Ee+Q*3,ue=Ue+se*3,!Se){var _e=Ee+Q*($+l-P.r),ke=Ue+se*($+l-P.r),dt=_e+(Q<0?-1:1)*te,De=ke;W==="edge"?ce=Q<0?c+G:c+u-G:ce=dt+(Q<0?-j:j),ue=De,fe=[[Ee,Ue],[_e,ke],[dt,De]]}ge=Se?"center":W==="edge"?Q>0?"right":"left":Q>0?"left":"right"}var ae=Math.PI,Fe=0,qe=V.get("rotate");if(Pn(qe))Fe=qe*(ae/180);else if(U==="center")Fe=0;else if(qe==="radial"||qe===!0){var rt=Q<0?-J+ae:-J;Fe=rt}else if(qe==="tangential"&&U!=="outside"&&U!=="outer"){var Je=Math.atan2(Q,se);Je<0&&(Je=ae*2+Je);var _t=se>0;_t&&(Je=ae+Je),Fe=Je-ae}if(a=!!Fe,I.x=ce,I.y=ue,I.rotation=Fe,I.setStyle({verticalAlign:"middle"}),Se){I.setStyle({align:ge});var Ct=I.states.select;Ct&&(Ct.x+=I.x,Ct.y+=I.y)}else{var pt=new Ut(0,0,0,0);uhe(pt,I),t.push({label:I,labelLine:N,position:U,len:$,len2:te,minTurnAngle:q.get("minTurnAngle"),maxSurfaceAngle:q.get("maxSurfaceAngle"),surfaceNormal:new Ft(Q,se),linePoints:fe,textAlign:ge,labelDistance:j,labelAlignTo:W,edgeDistance:G,bleedMargin:X,rect:pt,unconstrainedWidth:pt.width,labelStyleWidth:I.style.width})}L.setTextConfig({inside:Se})}}),!a&&n.get("avoidLabelOverlap")&&L4e(t,i,r,l,u,h,c,f);for(var m=0;m<t.length;m++){var y=t[m],x=y.label,b=y.labelLine,M=isNaN(x.x)||isNaN(x.y);if(x){x.setStyle({align:y.textAlign}),M&&(Z(x.states,d),x.ignore=!0);var C=x.states.select;C&&(C.x+=x.x,C.y+=x.y)}if(b){var w=y.linePoints;M||!w?(Z(b.states,d),b.ignore=!0):(Rfe(w,y.minTurnAngle),$Oe(w,y.surfaceNormal,y.maxSurfaceAngle),b.setShape({points:w}),x.__hostTarget.textGuideLineConfig={anchor:new Ft(w[0][0],w[0][1])})}}}var P4e=(function(n){me(e,n);function e(t,i,r){var a=n.call(this)||this;a.z2=2;var s=new In;return a.setTextContent(s),a.updateData(t,i,r,!0),a}return e.prototype.updateData=function(t,i,r,a){var s=this,o=t.hostModel,l=t.getItemModel(i),u=l.getModel("emphasis"),c=t.getItemLayout(i),f=Ie(_h(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){s.setShape(f);return}if(a){s.setShape(f);var h=o.getShallow("animationType");o.ecModel.ssr?(Xi(s,{scaleX:0,scaleY:0},o,{dataIndex:i,isFrom:!0}),s.originX=f.cx,s.originY=f.cy):h==="scale"?(s.shape.r=c.r0,Xi(s,{shape:{r:c.r}},o,i)):r!=null?(s.setShape({startAngle:r,endAngle:r}),Xi(s,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},o,i)):(s.shape.endAngle=c.startAngle,Gn(s,{shape:{endAngle:c.endAngle}},o,i))}else ec(s),Gn(s,{shape:f},o,i);s.useStyle(t.getItemVisual(i,"style")),Da(s,l);var d=(c.startAngle+c.endAngle)/2,v=o.get("selectedOffset"),m=Math.cos(d)*v,y=Math.sin(d)*v,x=l.getShallow("cursor");x&&s.attr("cursor",x),this._updateLabel(o,t,i),s.ensureState("emphasis").shape=Ie({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},_h(u.getModel("itemStyle"),c)),Ie(s.ensureState("select"),{x:m,y,shape:_h(l.getModel(["select","itemStyle"]),c)}),Ie(s.ensureState("blur"),{shape:_h(l.getModel(["blur","itemStyle"]),c)});var b=s.getTextGuideLine(),M=s.getTextContent();b&&Ie(b.ensureState("select"),{x:m,y}),Ie(M.ensureState("select"),{x:m,y}),rr(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,i,r){var a=this,s=i.getItemModel(r),o=s.getModel("labelLine"),l=i.getItemVisual(r,"style"),u=l&&l.fill,c=l&&l.opacity;Xa(a,Ra(s),{labelFetcher:i.hostModel,labelDataIndex:r,inheritColor:u,defaultOpacity:c,defaultText:t.getFormattedLabel(r,"normal")||i.getName(r)});var f=a.getTextContent();a.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var h=s.get(["label","position"]);if(h!=="outside"&&h!=="outer")a.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new ys,this.setTextGuideLine(d)),r9(this,a9(s),{stroke:u,opacity:gl(o.get(["lineStyle","opacity"]),c,1)})}},e})(ks),B4e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,i,r,a){var s=t.getData(),o=this._data,l=this.group,u;if(!o&&s.count()>0){for(var c=s.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<s.count();++f)c=s.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),s.count()===0&&t.get("showEmptyCircle")){var h=ohe(t),d=new ks({shape:Nt(h)});d.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,l.add(d)}s.diff(o).add(function(v){var m=new P4e(s,v,u);s.setItemGraphicEl(v,m),l.add(m)}).update(function(v,m){var y=o.getItemGraphicEl(m);y.updateData(s,v,u),y.off("click"),l.add(y),s.setItemGraphicEl(v,y)}).remove(function(v){var m=o.getItemGraphicEl(v);rp(m,t,v)}).execute(),I4e(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,i){var r=i.getData(),a=r.getItemLayout(0);if(a){var s=t[0]-a.cx,o=t[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},e.type="pie",e})(xi);function yS(n,e,t){e=Ve(e)&&{coordDimensions:e}||Ie({encodeDefine:n.getEncode()},e);var i=n.getSource(),r=pS(i,e).dimensions,a=new fo(r,n);return a.initData(i,t),a}var xS=(function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},n.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},n.prototype.getItemVisual=function(e,t){var i=this._getDataWithEncodedVisual();return i.getItemVisual(e,t)},n})(),O4e=_n(),che=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new xS(ct(this.getData,this),ct(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return yS(this,{coordDimensions:["value"],encodeDefaulter:$t(N6,this)})},e.prototype.getDataParams=function(t){var i=this.getData(),r=O4e(i),a=r.seats;if(!a){var s=[];i.each(i.mapDimension("value"),function(l){s.push(l)}),a=r.seats=yle(s,i.hostModel.get("percentPrecision"))}var o=n.prototype.getDataParams.call(this,t);return o.percent=a[t]||0,o.$vars.push("percent"),o},e.prototype._defaultLabelLine=function(t){Dy(t,"labelLine",["show"]);var i=t.labelLine,r=t.emphasis.labelLine;i.show=i.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e})(Ti);DNe({fullType:che.type,getCoord2:function(n){return n.getShallow("center")}});function z4e(n){return{seriesType:n,reset:function(e,t){var i=e.getData();i.filterSelf(function(r){var a=i.mapDimension("value"),s=i.get(a,r);return!(Pn(s)&&!isNaN(s)&&s<0)})}}}function k4e(n){n.registerChartView(B4e),n.registerSeriesModel(che),Mce("pie",n.registerAction),n.registerLayout($t(D4e,"pie")),n.registerProcessor(gS("pie")),n.registerProcessor(z4e("pie"))}var F4e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,i){return Gh(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,i,r){return r.point(i.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:xe.color.primary}},universalTransition:{divideShape:"clone"}},e})(Ti),fhe=4,U4e=(function(){function n(){}return n})(),G4e=(function(n){me(e,n);function e(t){var i=n.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return e.prototype.getDefaultShape=function(){return new U4e},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,i){var r=i.points,a=i.size,s=this.symbolProxy,o=s.shape,l=t.getContext?t.getContext():t,u=l&&a[0]<fhe,c=this.softClipShape,f;if(u){this._ctx=l;return}for(this._ctx=null,f=this._off;f<r.length;){var h=r[f++],d=r[f++];isNaN(h)||isNaN(d)||c&&!c.contain(h,d)||(o.x=h-a[0]/2,o.y=d-a[1]/2,o.width=a[0],o.height=a[1],s.buildPath(t,o,!0))}this.incremental&&(this._off=f,this.notClear=!0)},e.prototype.afterBrush=function(){var t=this.shape,i=t.points,r=t.size,a=this._ctx,s=this.softClipShape,o;if(a){for(o=this._off;o<i.length;){var l=i[o++],u=i[o++];isNaN(l)||isNaN(u)||s&&!s.contain(l,u)||a.fillRect(l-r[0]/2,u-r[1]/2,r[0],r[1])}this.incremental&&(this._off=o,this.notClear=!0)}},e.prototype.findDataIndex=function(t,i){for(var r=this.shape,a=r.points,s=r.size,o=Math.max(s[0],4),l=Math.max(s[1],4),u=a.length/2-1;u>=0;u--){var c=u*2,f=a[c]-o/2,h=a[c+1]-l/2;if(t>=f&&i>=h&&t<=f+o&&i<=h+l)return u}return-1},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i),a=this.getBoundingRect();if(t=r[0],i=r[1],a.contain(t,i)){var s=this.hoverDataIdx=this.findDataIndex(t,i);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var i=this.shape,r=i.points,a=i.size,s=a[0],o=a[1],l=1/0,u=1/0,c=-1/0,f=-1/0,h=0;h<r.length;){var d=r[h++],v=r[h++];l=Math.min(d,l),c=Math.max(d,c),u=Math.min(v,u),f=Math.max(v,f)}t=this._rect=new Ut(l-s/2,u-o/2,c-l+s,f-u+o)}return t},e})(An),V4e=(function(){function n(){this.group=new It}return n.prototype.updateData=function(e,t){this._clear();var i=this._create();i.setShape({points:e.getLayout("points")}),this._setCommon(i,e,t)},n.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(i){if(i.startIndex!=null){var r=(i.endIndex-i.startIndex)*2,a=i.startIndex*4*2;t=new Float32Array(t.buffer,a,r)}i.setShape("points",t),i.reset()})},n.prototype.incrementalPrepareUpdate=function(e){this._clear()},n.prototype.incrementalUpdate=function(e,t,i){var r=this._newAdded[0],a=t.getLayout("points"),s=r&&r.shape.points;if(s&&s.length<2e4){var o=s.length,l=new Float32Array(o+a.length);l.set(s),l.set(a,o),r.endIndex=e.end,r.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=e.start,u.endIndex=e.end,u.incremental=!0,u.setShape({points:a}),this._setCommon(u,t,i)}},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new G4e({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},n.prototype._setCommon=function(e,t,i){var r=t.hostModel;i=i||{};var a=t.getVisual("symbolSize");e.setShape("size",a instanceof Array?a:[a,a]),e.softClipShape=i.clipShape||null,e.symbolProxy=$r(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var s=e.shape.size[0]<fhe;e.useStyle(r.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var o=t.getVisual("style"),l=o&&o.fill;l&&e.setColor(l);var u=jt(e);u.seriesIndex=r.seriesIndex,e.on("mousemove",function(c){u.dataIndex=null;var f=e.hoverDataIdx;f>=0&&(u.dataIndex=f+(e.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n})(),j4e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var a=t.getData(),s=this._updateSymbolDraw(a,t);s.updateData(a,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,r){var a=t.getData(),s=this._updateSymbolDraw(a,t);s.incrementalPrepareUpdate(a),this._finished=!1},e.prototype.incrementalRender=function(t,i,r){this._symbolDraw.incrementalUpdate(t,i.getData(),{clipShape:this._getClipShape(i)}),this._finished=t.end===i.getData().count()},e.prototype.updateTransform=function(t,i,r){var a=t.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var s=XC("").reset(t,i,r);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){if(t.get("clip",!0)){var i=t.coordinateSystem;return i&&i.getArea&&i.getArea(.1)}},e.prototype._updateSymbolDraw=function(t,i){var r=this._symbolDraw,a=i.pipelineContext,s=a.large;return(!r||s!==this._isLargeDraw)&&(r&&r.remove(),r=this._symbolDraw=s?new V4e:new HC,this._isLargeDraw=s,this.group.removeAll()),this.group.add(r.group),r},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e})(xi),hhe={left:0,right:0,top:0,bottom:0},HL=["25%","25%"],H4e=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.mergeDefaultAndTheme=function(t,i){var r=Ky(t.outerBounds);n.prototype.mergeDefaultAndTheme.apply(this,arguments),r&&t.outerBounds&&Ph(t.outerBounds,r)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&t.outerBounds&&Ph(this.option.outerBounds,t.outerBounds)},e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:hhe,outerBoundsContain:"all",outerBoundsClampWidth:HL[0],outerBoundsClampHeight:HL[1],backgroundColor:xe.color.transparent,borderWidth:1,borderColor:xe.color.neutral30},e})(xn),UU=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Sr).models[0]},e.type="cartesian2dAxis",e})(xn);kr(UU,mS);var dhe={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:xe.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:xe.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:xe.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[xe.color.backgroundTint,xe.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:xe.color.neutral00,borderColor:xe.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},W4e=an({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},dhe),h9=an({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:xe.color.axisMinorSplitLine,width:1}}},dhe),X4e=an({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},h9),Y4e=Bt({logBase:10},h9);const phe={category:W4e,value:h9,time:X4e,log:Y4e};var q4e={value:1,category:1,time:1,log:1},GU=null;function Z4e(n){GU||(GU=n)}function YC(){return GU}function _b(n,e,t,i){Z(q4e,function(r,a){var s=an(an({},phe[a],!0),i,!0),o=(function(l){me(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=e+"Axis."+a,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var h=zT(this),d=h?Ky(c):{},v=f.getTheme();an(c,v.get(a+"Axis")),an(c,this.getDefaultOption()),c.type=hK(c),h&&Ph(c,d,h)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=jT.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.prototype.updateAxisBreaks=function(c){var f=YC();return f?f.updateModelAxisBreak(this,c):{breaks:[]}},u.type=e+"Axis."+a,u.defaultOption=s,u})(t);n.registerComponentModel(o)}),n.registerSubTypeDefaulter(e+"Axis",hK)}function hK(n){return n.type||(n.data?"category":"value")}var K4e=(function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return We(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Zn(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n})(),VU=["x","y"];function dK(n){return(n.type==="interval"||n.type==="time")&&!n.hasBreaks()}var J4e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=VU,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,i=this.getAxis("y").scale;if(!(!dK(t)||!dK(i))){var r=t.getExtent(),a=i.getExtent(),s=this.dataToPoint([r[0],a[0]]),o=this.dataToPoint([r[1],a[1]]),l=r[1]-r[0],u=a[1]-a[0];if(!(!l||!u)){var c=(o[0]-s[0])/l,f=(o[1]-s[1])/u,h=s[0]-r[0]*c,d=s[1]-a[0]*f,v=this._transform=[c,0,0,f,h,d];this._invTransform=Qu([],v)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var i=this.getAxis("x"),r=this.getAxis("y");return i.contain(i.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,i){var r=this.dataToPoint(t),a=this.dataToPoint(i),s=this.getArea(),o=new Ut(r[0],r[1],a[0]-r[0],a[1]-r[1]);return s.intersect(o)},e.prototype.dataToPoint=function(t,i,r){r=r||[];var a=t[0],s=t[1];if(this._transform&&a!=null&&isFinite(a)&&s!=null&&isFinite(s))return zr(r,t,this._transform);var o=this.getAxis("x"),l=this.getAxis("y");return r[0]=o.toGlobalCoord(o.dataToCoord(a,i)),r[1]=l.toGlobalCoord(l.dataToCoord(s,i)),r},e.prototype.clampData=function(t,i){var r=this.getAxis("x").scale,a=this.getAxis("y").scale,s=r.getExtent(),o=a.getExtent(),l=r.parse(t[0]),u=a.parse(t[1]);return i=i||[],i[0]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),i[1]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),i},e.prototype.pointToData=function(t,i,r){if(r=r||[],this._invTransform)return zr(r,t,this._invTransform);var a=this.getAxis("x"),s=this.getAxis("y");return r[0]=a.coordToData(a.toLocalCoord(t[0]),i),r[1]=s.coordToData(s.toLocalCoord(t[1]),i),r},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var i=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),a=Math.min(i[0],i[1])-t,s=Math.min(r[0],r[1])-t,o=Math.max(i[0],i[1])-a+t,l=Math.max(r[0],r[1])-s+t;return new Ut(a,s,o,l)},e})(K4e),vhe=(function(n){me(e,n);function e(t,i,r,a,s){var o=n.call(this,t,i,r)||this;return o.index=0,o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),t&&i[0]>i[1]&&i.reverse(),i},e.prototype.pointToData=function(t,i){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),i)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e})(oc),aP="expandAxisBreak",mhe="collapseAxisBreak",ghe="toggleAxisBreak",d9="axisbreakchanged",Q4e={type:aP,event:d9,update:"update",refineEvent:p9},$4e={type:mhe,event:d9,update:"update",refineEvent:p9},eze={type:ghe,event:d9,update:"update",refineEvent:p9};function p9(n,e,t,i){var r=[];return Z(n,function(a){r=r.concat(a.eventBreaks)}),{eventContent:{breaks:r}}}function tze(n){n.registerAction(Q4e,e),n.registerAction($4e,e),n.registerAction(eze,e);function e(t,i){var r=[],a=Y1(i,t);function s(o,l){Z(a[o],function(u){var c=u.updateAxisBreaks(t);Z(c.breaks,function(f){var h;r.push(Bt((h={},h[l]=u.componentIndex,h),f))})})}return s("xAxisModels","xAxisIndex"),s("yAxisModels","yAxisIndex"),s("singleAxisModels","singleAxisIndex"),{eventBreaks:r}}}var Jv=Math.PI,nze=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],ize=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],bb=_n(),yhe=_n(),xhe=(function(){function n(e){this.recordMap={},this.resolveAxisNameOverlap=e}return n.prototype.ensureRecord=function(e){var t=e.axis.dim,i=e.componentIndex,r=this.recordMap,a=r[t]||(r[t]=[]);return a[i]||(a[i]={ready:{}})},n})();function rze(n,e,t,i){var r=t.axis,a=e.ensureRecord(t),s=[],o,l=v9(n.axisName)&&yb(n.nameLocation);Z(i,function(v){var m=Bh(v);if(!(!m||m.label.ignore)){s.push(m);var y=a.transGroup;l&&(y.transform?Qu(_M,y.transform):LC(_M),m.transform&&Jc(_M,_M,m.transform),Ut.copy(ED,m.localRect),ED.applyTransform(_M),o?o.union(ED):Ut.copy(o=new Ut(0,0,0,0),ED))}});var u=Math.abs(a.dirVec.x)>.1?"x":"y",c=a.transGroup[u];if(s.sort(function(v,m){return Math.abs(v.label[u]-c)-Math.abs(m.label[u]-c)}),l&&o){var f=r.getExtent(),h=Math.min(f[0],f[1]),d=Math.max(f[0],f[1])-h;o.union(new Ut(h,0,d,1))}a.stOccupiedRect=o,a.labelInfoList=s}var _M=ja(),ED=new Ut(0,0,0,0),_he=function(n,e,t,i,r,a){if(yb(n.nameLocation)){var s=a.stOccupiedRect;s&&bhe(n5e({},s,a.transGroup.transform),i,r)}else She(a.labelInfoList,a.dirVec,i,r)};function bhe(n,e,t){var i=new Ft;iP(n,e,i,{direction:Math.atan2(t.y,t.x),bidirectional:!1,touchThreshold:.05})&&IU(e,i)}function She(n,e,t,i){for(var r=Ft.dot(i,e)>=0,a=0,s=n.length;a<s;a++){var o=n[r?a:s-1-a];o.label.ignore||bhe(o,t,i)}}var Wo=(function(){function n(e,t,i,r){this.group=new It,this._axisModel=e,this._api=t,this._local={},this._shared=r||new xhe(_he),this._resetCfgDetermined(i)}return n.prototype.updateCfg=function(e){var t=this._cfg.raw;t.position=e.position,t.labelOffset=e.labelOffset,this._resetCfgDetermined(t)},n.prototype.__getRawCfg=function(){return this._cfg.raw},n.prototype._resetCfgDetermined=function(e){var t=this._axisModel,i=t.getDefaultOption?t.getDefaultOption():{},r=At(e.axisName,t.get("name")),a=t.get("nameMoveOverlap");(a==null||a==="auto")&&(a=At(e.defaultNameMoveOverlap,!0));var s={raw:e,position:e.position,rotation:e.rotation,nameDirection:At(e.nameDirection,1),tickDirection:At(e.tickDirection,1),labelDirection:At(e.labelDirection,1),labelOffset:At(e.labelOffset,0),silent:At(e.silent,!0),axisName:r,nameLocation:gl(t.get("nameLocation"),i.nameLocation,"end"),shouldNameMoveOverlap:v9(r)&&a,optionHideOverlap:t.get(["axisLabel","hideOverlap"]),showMinorTicks:t.get(["minorTick","show"])};this._cfg=s;var o=new It({x:s.position[0],y:s.position[1],rotation:s.rotation});o.updateTransform(),this._transformGroup=o;var l=this._shared.ensureRecord(t);l.transGroup=this._transformGroup,l.dirVec=new Ft(Math.cos(-s.rotation),Math.sin(-s.rotation))},n.prototype.build=function(e,t){var i=this;return e||(e={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),Z(aze,function(r){e[r]&&sze[r](i._cfg,i._local,i._shared,i._axisModel,i.group,i._transformGroup,i._api,t||{})}),this},n.innerTextLayout=function(e,t,i){var r=qV(t-e),a,s;return fb(r)?(s=i>0?"top":"bottom",a="center"):fb(r-Jv)?(s=i>0?"bottom":"top",a="center"):(s="middle",r>0&&r<Jv?a=i>0?"right":"left":a=i>0?"left":"right"),{rotation:r,textAlign:a,textVerticalAlign:s}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n})(),aze=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],sze={axisLine:function(n,e,t,i,r,a,s){var o=i.get(["axisLine","show"]);if(o==="auto"&&(o=!0,n.raw.axisLineAutoShow!=null&&(o=!!n.raw.axisLineAutoShow)),!!o){var l=i.axis.getExtent(),u=a.transform,c=[l[0],0],f=[l[1],0],h=c[0]>f[0];u&&(zr(c,c,u),zr(f,f,u));var d=Ie({lineCap:"round"},i.getModel(["axisLine","lineStyle"]).getLineStyle()),v={strokeContainThreshold:n.raw.strokeContainThreshold||5,silent:!0,z2:1,style:d};if(i.get(["axisLine","breakLine"])&&i.axis.scale.hasBreaks())YC().buildAxisBreakLine(i,r,a,v);else{var m=new Qr(Ie({shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]}},v));pb(m.shape,m.style.lineWidth),m.anid="line",r.add(m)}var y=i.get(["axisLine","symbol"]);if(y!=null){var x=i.get(["axisLine","symbolSize"]);ot(y)&&(y=[y,y]),(ot(x)||Pn(x))&&(x=[x,x]);var b=Qy(i.get(["axisLine","symbolOffset"])||0,x),M=x[0],C=x[1];Z([{rotate:n.rotation+Math.PI/2,offset:b[0],r:0},{rotate:n.rotation-Math.PI/2,offset:b[1],r:Math.sqrt((c[0]-f[0])*(c[0]-f[0])+(c[1]-f[1])*(c[1]-f[1]))}],function(w,E){if(y[E]!=="none"&&y[E]!=null){var L=$r(y[E],-M/2,-C/2,M,C,d.stroke,!0),P=w.r+w.offset,I=h?f:c;L.attr({rotation:w.rotate,x:I[0]+P*Math.cos(n.rotation),y:I[1]-P*Math.sin(n.rotation),silent:!0,z2:11}),r.add(L)}})}}},axisTickLabelEstimate:function(n,e,t,i,r,a,s,o){var l=vK(e,r,o);l&&pK(n,e,t,i,r,a,s,of.estimate)},axisTickLabelDetermine:function(n,e,t,i,r,a,s,o){var l=vK(e,r,o);l&&pK(n,e,t,i,r,a,s,of.determine);var u=cze(n,r,a,i);uze(n,e.labelLayoutList,u),fze(n,r,a,i,n.tickDirection)},axisName:function(n,e,t,i,r,a,s,o){var l=t.ensureRecord(i);e.nameEl&&(r.remove(e.nameEl),e.nameEl=l.nameLayout=l.nameLocation=null);var u=n.axisName;if(v9(u)){var c=n.nameLocation,f=n.nameDirection,h=i.getModel("nameTextStyle"),d=i.get("nameGap")||0,v=i.axis.getExtent(),m=i.axis.inverse?-1:1,y=new Ft(0,0),x=new Ft(0,0);c==="start"?(y.x=v[0]-m*d,x.x=-m):c==="end"?(y.x=v[1]+m*d,x.x=m):(y.x=(v[0]+v[1])/2,y.y=n.labelOffset+f*d,x.y=f);var b=ja();x.transform(Lp(b,b,n.rotation));var M=i.get("nameRotate");M!=null&&(M=M*Jv/180);var C,w;yb(c)?C=Wo.innerTextLayout(n.rotation,M??n.rotation,f):(C=oze(n.rotation,c,M||0,v),w=n.raw.axisNameAvailableWidth,w!=null&&(w=Math.abs(w/Math.sin(C.rotation)),!isFinite(w)&&(w=null)));var E=h.getFont(),L=i.get("nameTruncate",!0)||{},P=L.ellipsis,I=ds(n.raw.nameTruncateMaxWidth,L.maxWidth,w),N=o.nameMarginLevel||0,z=new In({x:y.x,y:y.y,rotation:C.rotation,silent:Wo.isLabelSilent(i),style:Ii(h,{text:u,font:E,overflow:"truncate",width:I,ellipsis:P,fill:h.getTextColor()||i.get(["axisLine","lineStyle","color"]),align:h.get("align")||C.textAlign,verticalAlign:h.get("verticalAlign")||C.textVerticalAlign}),z2:1});if(Ip({el:z,componentModel:i,itemName:u}),z.__fullText=u,z.anid="name",i.get("triggerEvent")){var V=Wo.makeAxisEventDataBase(i);V.targetType="axisName",V.name=u,jt(z).eventData=V}a.add(z),z.updateTransform(),e.nameEl=z;var U=l.nameLayout=Bh({label:z,priority:z.z2,defaultAttr:{ignore:z.ignore},marginDefault:yb(c)?nze[N]:ize[N]});if(l.nameLocation=c,r.add(z),z.decomposeTransform(),n.shouldNameMoveOverlap&&U){var j=t.ensureRecord(i);t.resolveAxisNameOverlap(n,t,i,U,x,j)}}}};function pK(n,e,t,i,r,a,s,o){Mhe(e)||hze(n,e,r,o,i,s);var l=e.labelLayoutList;dze(n,i,l,a),mze(i,n.rotation,l);var u=n.optionHideOverlap;lze(i,l,u),u&&Pfe(Zn(l,function(c){return c&&!c.label.ignore})),rze(n,t,i,l)}function oze(n,e,t,i){var r=qV(t-n),a,s,o=i[0]>i[1],l=e==="start"&&!o||e!=="start"&&o;return fb(r-Jv/2)?(s=l?"bottom":"top",a="center"):fb(r-Jv*1.5)?(s=l?"top":"bottom",a="center"):(s="middle",r<Jv*1.5&&r>Jv/2?a=l?"left":"right":a=l?"right":"left"),{rotation:r,textAlign:a,textVerticalAlign:s}}function lze(n,e,t){if(gfe(n.axis))return;function i(o,l,u){var c=Bh(e[l]),f=Bh(e[u]);if(!(!c||!f)){if(o===!1||c.suggestIgnore){h2(c.label);return}if(f.suggestIgnore){h2(f.label);return}var h=.1;if(!t){var d=[0,0,0,0];c=PU({marginForce:d},c),f=PU({marginForce:d},f)}iP(c,f,null,{touchThreshold:h})&&h2(o?f.label:c.label)}}var r=n.get(["axisLabel","showMinLabel"]),a=n.get(["axisLabel","showMaxLabel"]),s=e.length;i(r,0,1),i(a,s-1,s-2)}function uze(n,e,t){n.showMinorTicks||Z(e,function(i){if(i&&i.label.ignore)for(var r=0;r<t.length;r++){var a=t[r],s=yhe(a),o=bb(i.label);if(s.tickValue!=null&&!s.onBand&&s.tickValue===o.tickValue){h2(a);return}}})}function h2(n){n&&(n.ignore=!0)}function Ahe(n,e,t,i,r){for(var a=[],s=[],o=[],l=0;l<n.length;l++){var u=n[l].coord;s[0]=u,s[1]=0,o[0]=u,o[1]=t,e&&(zr(s,s,e),zr(o,o,e));var c=new Qr({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:i,z2:2,autoBatch:!0,silent:!0});pb(c.shape,c.style.lineWidth),c.anid=r+"_"+n[l].tickValue,a.push(c);var f=yhe(c);f.onBand=!!n[l].onBand,f.tickValue=n[l].tickValue}return a}function cze(n,e,t,i){var r=i.axis,a=i.getModel("axisTick"),s=a.get("show");if(s==="auto"&&(s=!0,n.raw.axisTickAutoShow!=null&&(s=!!n.raw.axisTickAutoShow)),!s||r.scale.isBlank())return[];for(var o=a.getModel("lineStyle"),l=n.tickDirection*a.get("length"),u=r.getTicksCoords(),c=Ahe(u,t.transform,l,Bt(o.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)e.add(c[f]);return c}function fze(n,e,t,i,r){var a=i.axis,s=i.getModel("minorTick");if(!(!n.showMinorTicks||a.scale.isBlank())){var o=a.getMinorTicksCoords();if(o.length)for(var l=s.getModel("lineStyle"),u=r*s.get("length"),c=Bt(l.getLineStyle(),Bt(i.getModel("axisTick").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})),f=0;f<o.length;f++)for(var h=Ahe(o[f],t.transform,u,c,"minorticks_"+f),d=0;d<h.length;d++)e.add(h[d])}}function vK(n,e,t){if(Mhe(n)){var i=n.axisLabelsCreationContext,r=i.out.noPxChangeTryDetermine;if(t.noPxChange){for(var a=!0,s=0;s<r.length;s++)a=a&&r[s]();if(a)return!1}r.length&&(e.remove(n.labelGroup),jU(n,null,null,null))}return!0}function hze(n,e,t,i,r,a){var s=r.axis,o=ds(n.raw.axisLabelShow,r.get(["axisLabel","show"])),l=new It;t.add(l);var u=zL(i);if(!o||s.scale.isBlank()){jU(e,[],l,u);return}var c=r.getModel("axisLabel"),f=s.getViewLabels(u),h=(ds(n.raw.labelRotate,c.get("rotate"))||0)*Jv/180,d=Wo.innerTextLayout(n.rotation,h,n.labelDirection),v=r.getCategories&&r.getCategories(!0),m=[],y=r.get("triggerEvent"),x=1/0,b=-1/0;Z(f,function(C,w){var E,L=s.scale.type==="ordinal"?s.scale.getRawOrdinalNumber(C.tickValue):C.tickValue,P=C.formattedLabel,I=C.rawLabel,N=c;if(v&&v[L]){var z=v[L];Ot(z)&&z.textStyle&&(N=new Sn(z.textStyle,c,r.ecModel))}var V=N.getTextColor()||r.get(["axisLine","lineStyle","color"]),U=N.getShallow("align",!0)||d.textAlign,j=At(N.getShallow("alignMinLabel",!0),U),W=At(N.getShallow("alignMaxLabel",!0),U),G=N.getShallow("verticalAlign",!0)||N.getShallow("baseline",!0)||d.textVerticalAlign,X=At(N.getShallow("verticalAlignMinLabel",!0),G),q=At(N.getShallow("verticalAlignMaxLabel",!0),G),$=10+(((E=C.time)===null||E===void 0?void 0:E.level)||0);x=Math.min(x,$),b=Math.max(b,$);var te=new In({x:0,y:0,rotation:0,silent:Wo.isLabelSilent(r),z2:$,style:Ii(N,{text:P,align:w===0?j:w===f.length-1?W:U,verticalAlign:w===0?X:w===f.length-1?q:G,fill:wt(V)?V(s.type==="category"?I:s.type==="value"?L+"":L,w):V})});te.anid="label_"+L;var J=bb(te);if(J.break=C.break,J.tickValue=L,J.layoutRotation=d.rotation,Ip({el:te,componentModel:r,itemName:P,formatterParamsExtra:{isTruncated:function(){return te.isTruncated},value:I,tickIndex:w}}),y){var Q=Wo.makeAxisEventDataBase(r);Q.targetType="axisLabel",Q.value=I,Q.tickIndex=w,C.break&&(Q.break={start:C.break.parsedBreak.vmin,end:C.break.parsedBreak.vmax}),s.type==="category"&&(Q.dataIndex=L),jt(te).eventData=Q,C.break&&vze(r,a,te,C.break)}m.push(te),l.add(te)});var M=We(m,function(C){return{label:C,priority:bb(C).break?C.z2+(b-x+1):C.z2,defaultAttr:{ignore:C.ignore}}});jU(e,M,l,u)}function Mhe(n){return!!n.labelLayoutList}function jU(n,e,t,i){n.labelLayoutList=e,n.labelGroup=t,n.axisLabelsCreationContext=i}function dze(n,e,t,i){var r=e.get(["axisLabel","margin"]);Z(t,function(a,s){var o=Bh(a);if(o){var l=o.label,u=bb(l);o.suggestIgnore=l.ignore,l.ignore=!1,pL(Cd,pze),Cd.x=e.axis.dataToCoord(u.tickValue),Cd.y=n.labelOffset+n.labelDirection*r,Cd.rotation=u.layoutRotation,i.add(Cd),Cd.updateTransform(),i.remove(Cd),Cd.decomposeTransform(),pL(l,Cd),l.markRedraw(),GL(o,!0),Bh(o)}})}var Cd=new pn,pze=new pn;function v9(n){return!!n}function vze(n,e,t,i){t.on("click",function(r){var a={type:aP,breaks:[{start:i.parsedBreak.breakOption.start,end:i.parsedBreak.breakOption.end}]};a[n.axis.dim+"AxisIndex"]=n.componentIndex,e.dispatchAction(a)})}function mze(n,e,t){var i=ha();if(i){var r=i.retrieveAxisBreakPairs(t,function(s){return s&&bb(s.label).break},!0),a=n.get(["breakLabelLayout","moveOverlap"],!0);(a===!0||a==="auto")&&Z(r,function(s){YC().adjustBreakLabelPair(n.axis.inverse,e,[Bh(t[s[0]]),Bh(t[s[1]])])})}}function WL(n,e,t){t=t||{};var i=e.axis,r={},a=i.getAxesOnZeroOf()[0],s=i.position,o=a?"onZero":s,l=i.dim,u=[n.x,n.x+n.width,n.y,n.y+n.height],c={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,h=l==="x"?[u[2]-f,u[3]+f]:[u[0]-f,u[1]+f];if(a){var d=a.toGlobalCoord(a.dataToCoord(0));h[c.onZero]=Math.max(Math.min(d,h[1]),h[0])}r.position=[l==="y"?h[c[o]]:u[0],l==="x"?h[c[o]]:u[3]],r.rotation=Math.PI/2*(l==="x"?0:1);var v={top:-1,bottom:1,left:-1,right:1};r.labelDirection=r.tickDirection=r.nameDirection=v[s],r.labelOffset=a?h[c[s]]-h[c.onZero]:0,e.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),ds(t.labelInside,e.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var m=e.get(["axisLabel","rotate"]);return r.labelRotate=o==="top"?-m:m,r.z2=1,r}function gze(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function mK(n){var e={xAxisModel:null,yAxisModel:null};return Z(e,function(t,i){var r=i.replace(/Model$/,""),a=n.getReferringComponents(r,Sr).models[0];e[i]=a}),e}function yze(n,e,t,i,r,a){for(var s=WL(n,t),o=!1,l=!1,u=0;u<e.length;u++)wU(e[u].getOtherAxis(t.axis).scale)&&(o=l=!0,t.axis.type==="category"&&t.axis.onBand&&(l=!1));return s.axisLineAutoShow=o,s.axisTickAutoShow=l,s.defaultNameMoveOverlap=a,new Wo(t,i,s,r)}function xze(n,e,t){var i=WL(e,t);n.updateCfg(i)}function The(n,e,t){var i=Tp.prototype,r=i.getTicks.call(t),a=i.getTicks.call(t,{expandToNicedExtent:!0}),s=r.length-1,o=i.getInterval.call(t),l=mfe(n,e),u=l.extent,c=l.fixMin,f=l.fixMax;n.type==="log"&&(u=EU(n.base,u,!0)),n.setBreaksFromOption(yfe(e)),n.setExtent(u[0],u[1]),n.calcNiceExtent({splitNumber:s,fixMin:c,fixMax:f});var h=i.getExtent.call(n);c&&(u[0]=h[0]),f&&(u[1]=h[1]);var d=i.getInterval.call(n),v=u[0],m=u[1];if(c&&f)d=(m-v)/s;else if(c)for(m=u[0]+d*s;m<u[1]&&isFinite(m)&&isFinite(u[1]);)d=w5(d),m=u[0]+d*s;else if(f)for(v=u[1]-d*s;v>u[0]&&isFinite(v)&&isFinite(u[0]);)d=w5(d),v=u[1]-d*s;else{var y=n.getTicks().length-1;y>s&&(d=w5(d));var x=d*s;m=Math.ceil(u[1]/d)*d,v=Jr(m-x),v<0&&u[0]>=0?(v=0,m=Jr(x)):m>0&&u[1]<=0&&(m=0,v=-Jr(x))}var b=(r[0].value-a[0].value)/o,M=(r[s].value-a[s].value)/o;i.setExtent.call(n,v+d*b,m+d*M),i.setInterval.call(n,d),(b||M)&&i.setNiceExtent.call(n,v+d,m-d)}var gK=[[3,1],[0,2]],_ze=(function(){function n(e,t,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=VU,this._initCartesian(e,t,i),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var i=this._axesMap;this._updateScale(e,this.model);function r(s){var o,l=Dn(s),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var h=+l[f],d=s[h],v=d.model,m=d.scale;wU(m)&&v.get("alignTicks")&&v.get("interval")==null?c.push(d):(Oy(m,v),wU(m)&&(o=d))}c.length&&(o||(o=c.pop(),Oy(o.scale,o.model)),Z(c,function(y){The(y.scale,y.model,o.scale)}))}}r(i.x),r(i.y);var a={};Z(i.x,function(s){yK(i,"y",s,a)}),Z(i.y,function(s){yK(i,"x",s,a)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,i){var r=Na(e,t),a=this._rect=Ji(e.getBoxLayoutParams(),r.refContainer),s=this._axesMap,o=this._coordsList,l=e.get("containLabel");if(HU(s,a),!i){var u=Aze(a,o,s,l,t),c=void 0;if(l)WU?(WU(this._axesList,a),HU(s,a)):c=bK(a.clone(),"axisLabel",null,a,s,u,r);else{var f=Mze(e,a,r),h=f.outerBoundsRect,d=f.parsedOuterBoundsContain,v=f.outerBoundsClamp;h&&(c=bK(h,d,v,a,s,u,r))}Che(a,s,of.determine,null,c,r)}Z(this._coordsList,function(m){m.calcAffineTransform()})},n.prototype.getAxis=function(e,t){var i=this._axesMap[e];if(i!=null)return i[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var i="x"+e+"y"+t;return this._coordsMap[i]}Ot(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,a=this._coordsList;r<a.length;r++)if(a[r].getAxis("x").index===e||a[r].getAxis("y").index===t)return a[r]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null},n.prototype.convertFromPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null},n.prototype._findConvertTarget=function(e){var t=e.seriesModel,i=e.xAxisModel||t&&t.getReferringComponents("xAxis",Sr).models[0],r=e.yAxisModel||t&&t.getReferringComponents("yAxis",Sr).models[0],a=e.gridModel,s=this._coordsList,o,l;if(t)o=t.coordinateSystem,rn(s,o)<0&&(o=null);else if(i&&r)o=this.getCartesian(i.componentIndex,r.componentIndex);else if(i)l=this.getAxis("x",i.componentIndex);else if(r)l=this.getAxis("y",r.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(o=this._coordsList[0])}return{cartesian:o,axis:l}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,i){var r=this,a=this,s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,Z(o.x,function(c,f){Z(o.y,function(h,d){var v="x"+f+"y"+d,m=new J4e(v);m.master=r,m.model=e,r._coordsMap[v]=m,r._coordsList.push(m),m.addAxis(c),m.addAxis(h)})});function u(c){return function(f,h){if(j5(f,e)){var d=f.get("position");c==="x"?d!=="top"&&d!=="bottom"&&(d=s.bottom?"top":"bottom"):d!=="left"&&d!=="right"&&(d=s.left?"right":"left"),s[d]=!0;var v=new vhe(c,VC(f),[0,0],f.get("type"),d),m=v.type==="category";v.onBand=m&&f.get("boundaryGap"),v.inverse=f.get("inverse"),f.axis=v,v.model=f,v.grid=a,v.index=h,a._axesList.push(v),o[c][h]=v,l[c]++}}}},n.prototype._updateScale=function(e,t){Z(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var a=r.model.get("categorySortInfo");r.scale.setSortInfo(a)}}),e.eachSeries(function(r){if(gze(r)){var a=mK(r),s=a.xAxisModel,o=a.yAxisModel;if(!j5(s,t)||!j5(o,t))return;var l=this.getCartesian(s.componentIndex,o.componentIndex),u=r.getData(),c=l.getAxis("x"),f=l.getAxis("y");i(u,c),i(u,f)}},this);function i(r,a){Z(OL(r,a.dim),function(s){a.scale.unionExtentFromData(r,s)})}},n.prototype.getTooltipAxes=function(e){var t=[],i=[];return Z(this.getCartesians(),function(r){var a=e!=null&&e!=="auto"?r.getAxis(e):r.getBaseAxis(),s=r.getOtherAxis(a);rn(t,a)<0&&t.push(a),rn(i,s)<0&&i.push(s)}),{baseAxes:t,otherAxes:i}},n.create=function(e,t){var i=[];return e.eachComponent("grid",function(r,a){var s=new n(r,e,t);s.name="grid_"+a,s.resize(r,t,!0),r.coordinateSystem=s,i.push(s)}),e.eachSeries(function(r){UC({targetModel:r,coordSysType:"cartesian2d",coordSysProvider:a});function a(){var s=mK(r),o=s.xAxisModel,l=s.yAxisModel,u=o.getCoordSysModel(),c=u.coordinateSystem;return c.getCartesian(o.componentIndex,l.componentIndex)}}),i},n.dimensions=VU,n})();function j5(n,e){return n.getCoordSysModel()===e}function yK(n,e,t,i){t.getAxesOnZeroOf=function(){return a?[a]:[]};var r=n[e],a,s=t.model,o=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(!o)return;if(l!=null)xK(r[l])&&(a=r[l]);else for(var u in r)if(r.hasOwnProperty(u)&&xK(r[u])&&!i[c(r[u])]){a=r[u];break}a&&(i[c(a)]=!0);function c(f){return f.dim+"_"+f.index}}function xK(n){return n&&n.type!=="category"&&n.type!=="time"&&hOe(n)}function bze(n,e){var t=n.getExtent(),i=t[0]+t[1];n.toGlobalCoord=n.dim==="x"?function(r){return r+e}:function(r){return i-r+e},n.toLocalCoord=n.dim==="x"?function(r){return r-e}:function(r){return i-r+e}}function HU(n,e){Z(n.x,function(t){return _K(t,e.x,e.width)}),Z(n.y,function(t){return _K(t,e.y,e.height)})}function _K(n,e,t){var i=[0,t],r=n.inverse?1:0;n.setExtent(i[r],i[1-r]),bze(n,e)}var WU;function Sze(n){WU=n}function bK(n,e,t,i,r,a,s){Che(i,r,of.estimate,e,!1,s);var o=[0,0,0,0];u(0),u(1),c(i,0,NaN),c(i,1,NaN);var l=Im(o,function(h){return h>0})==null;return Iy(i,o,!0,!0,t),HU(r,i),l;function u(h){Z(r[Zt[h]],function(d){if(HT(d.model)){var v=a.ensureRecord(d.model),m=v.labelInfoList;if(m)for(var y=0;y<m.length;y++){var x=m[y],b=d.scale.normalize(bb(x.label).tickValue);b=h===1?1-b:b,c(x.rect,h,b),c(x.rect,1-h,NaN)}var M=v.nameLayout;if(M){var b=yb(v.nameLocation)?.5:NaN;c(M.rect,h,b),c(M.rect,1-h,NaN)}}})}function c(h,d,v){var m=n[Zt[d]]-h[Zt[d]],y=h[da[d]]+h[Zt[d]]-(n[da[d]]+n[Zt[d]]);m=f(m,1-v),y=f(y,v);var x=gK[d][0],b=gK[d][1];o[x]=Kr(o[x],m),o[b]=Kr(o[b],y)}function f(h,d){return h>0&&!Ns(d)&&d>1e-4&&(h/=d),h}}function Aze(n,e,t,i,r){var a=new xhe(Tze);return Z(t,function(s){return Z(s,function(o){if(HT(o.model)){var l=!i;o.axisBuilder=yze(n,e,o.model,r,a,l)}})}),a}function Che(n,e,t,i,r,a){var s=t===of.determine;Z(e,function(u){return Z(u,function(c){HT(c.model)&&(xze(c.axisBuilder,n,c.model),c.axisBuilder.build(s?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:r}))})});var o={x:0,y:0};l(0),l(1);function l(u){o[Zt[1-u]]=n[da[u]]<=a.refContainer[da[u]]*.5?0:1-u===1?2:1}Z(e,function(u,c){return Z(u,function(f){HT(f.model)&&((i==="all"||s)&&f.axisBuilder.build({axisName:!0},{nameMarginLevel:o[c]}),s&&f.axisBuilder.build({axisLine:!0}))})})}function Mze(n,e,t){var i,r=n.get("outerBoundsMode",!0);r==="same"?i=e.clone():(r==null||r==="auto")&&(i=Ji(n.get("outerBounds",!0)||hhe,t.refContainer));var a=n.get("outerBoundsContain",!0),s;a==null||a==="auto"||rn(["all","axisLabel"],a)<0?s="all":s=a;var o=[mL(At(n.get("outerBoundsClampWidth",!0),HL[0]),e.width),mL(At(n.get("outerBoundsClampHeight",!0),HL[1]),e.height)];return{outerBoundsRect:i,parsedOuterBoundsContain:s,outerBoundsClamp:o}}var Tze=function(n,e,t,i,r,a){var s=t.axis.dim==="x"?"y":"x";_he(n,e,t,i,r,a),yb(n.nameLocation)||Z(e.recordMap[s],function(o){o&&o.labelInfoList&&o.dirVec&&She(o.labelInfoList,o.dirVec,i,r)})};function Cze(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return wze(t,n,e),t.seriesInvolved&&Dze(t,n),t}function wze(n,e,t){var i=e.getComponent("tooltip"),r=e.getComponent("axisPointer"),a=r.get("link",!0)||[],s=[];Z(t.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=qT(o.model),u=n.coordSysAxesInfo[l]={};n.coordSysMap[l]=o;var c=o.model,f=c.getModel("tooltip",i);if(Z(o.getAxes(),$t(m,!1,null)),o.getTooltipAxes&&i&&f.get("show")){var h=f.get("trigger")==="axis",d=f.get(["axisPointer","type"])==="cross",v=o.getTooltipAxes(f.get(["axisPointer","axis"]));(h||d)&&Z(v.baseAxes,$t(m,d?"cross":!0,h)),d&&Z(v.otherAxes,$t(m,"cross",!1))}function m(y,x,b){var M=b.model.getModel("axisPointer",r),C=M.get("show");if(!(!C||C==="auto"&&!y&&!XU(M))){x==null&&(x=M.get("triggerTooltip")),M=y?Eze(b,f,r,e,y,x):M;var w=M.get("snap"),E=M.get("triggerEmphasis"),L=qT(b.model),P=x||w||b.type==="category",I=n.axesInfo[L]={key:L,axis:b,coordSys:o,axisPointerModel:M,triggerTooltip:x,triggerEmphasis:E,involveSeries:P,snap:w,useHandle:XU(M),seriesModels:[],linkGroup:null};u[L]=I,n.seriesInvolved=n.seriesInvolved||P;var N=Rze(a,b);if(N!=null){var z=s[N]||(s[N]={axesInfo:{}});z.axesInfo[L]=I,z.mapper=a[N].mapper,I.linkGroup=z}}}})}function Eze(n,e,t,i,r,a){var s=e.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};Z(o,function(h){l[h]=Nt(s.get(h))}),l.snap=n.type!=="category"&&!!a,s.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),r==="cross"){var c=s.get(["label","show"]);if(u.show=c??!0,!a){var f=l.lineStyle=s.get("crossStyle");f&&Bt(u,f.textStyle)}}return n.model.getModel("axisPointer",new Sn(l,t,i))}function Dze(n,e){e.eachSeries(function(t){var i=t.coordinateSystem,r=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!i||!i.model||r==="none"||r===!1||r==="item"||a===!1||t.get(["axisPointer","show"],!0)===!1||Z(n.coordSysAxesInfo[qT(i.model)],function(s){var o=s.axis;i.getAxis(o.dim)===o&&(s.seriesModels.push(t),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=t.getData().count())})})}function Rze(n,e){for(var t=e.model,i=e.dim,r=0;r<n.length;r++){var a=n[r]||{};if(H5(a[i+"AxisId"],t.id)||H5(a[i+"AxisIndex"],t.componentIndex)||H5(a[i+"AxisName"],t.name))return r}}function H5(n,e){return n==="all"||Ve(n)&&rn(n,e)>=0||n===e}function Lze(n){var e=m9(n);if(e){var t=e.axisPointerModel,i=e.axis.scale,r=t.option,a=t.get("status"),s=t.get("value");s!=null&&(s=i.parse(s));var o=XU(t);a==null&&(r.status=o?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),r.value=s,o&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}function m9(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[qT(n)]}function Nze(n){var e=m9(n);return e&&e.axisPointerModel}function XU(n){return!!n.get(["handle","show"])}function qT(n){return n.type+"||"+n.id}var SK={},$y=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r,a){this.axisPointerClass&&Lze(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,r,!0)},e.prototype.updateAxisPointer=function(t,i,r,a){this._doUpdateAxisPointerClass(t,r,!1)},e.prototype.remove=function(t,i){var r=this._axisPointer;r&&r.remove(i)},e.prototype.dispose=function(t,i){this._disposeAxisPointer(i),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,i,r){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var s=Nze(t);s?(this._axisPointer||(this._axisPointer=new a)).render(t,s,i,r):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,i){SK[t]=i},e.getAxisPointerClass=function(t){return t&&SK[t]},e.type="axis",e})(Bi),YU=_n();function whe(n,e,t,i){var r=t.axis;if(!r.scale.isBlank()){var a=t.getModel("splitArea"),s=a.getModel("areaStyle"),o=s.get("color"),l=i.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:a,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(u.length){var c=o.length,f=YU(n).splitAreaColors,h=bt(),d=0;if(f)for(var v=0;v<u.length;v++){var m=f.get(u[v].tickValue);if(m!=null){d=(m+(c-1)*v)%c;break}}var y=r.toGlobalCoord(u[0].coord),x=s.getAreaStyle();o=Ve(o)?o:[o];for(var v=1;v<u.length;v++){var b=r.toGlobalCoord(u[v].coord),M=void 0,C=void 0,w=void 0,E=void 0;r.isHorizontal()?(M=y,C=l.y,w=b-M,E=l.height,y=M+w):(M=l.x,C=y,w=l.width,E=b-C,y=C+E);var L=u[v-1].tickValue;L!=null&&h.set(L,d),e.add(new pn({anid:L!=null?"area_"+L:null,shape:{x:M,y:C,width:w,height:E},style:Bt({fill:o[d]},x),autoBatch:!0,silent:!0})),d=(d+1)%c}YU(n).splitAreaColors=h}}}function Ehe(n){YU(n).splitAreaColors=null}var Ize=["splitArea","splitLine","minorSplitLine","breakArea"],Dhe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,i,r,a){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new It,this.group.add(this._axisGroup),!!HT(t)){this._axisGroup.add(t.axis.axisBuilder.group),Z(Ize,function(l){t.get([l,"show"])&&Pze[l](this,this._axisGroup,t,t.getCoordSysModel(),r)},this);var o=a&&a.type==="changeAxisOrder"&&a.isInitSort;o||kC(s,this._axisGroup,t),n.prototype.render.call(this,t,i,r,a)}},e.prototype.remove=function(){Ehe(this)},e.type="cartesianAxis",e})($y),Pze={splitLine:function(n,e,t,i,r){var a=t.axis;if(!a.scale.isBlank()){var s=t.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=s.get("showMinLine")!==!1,c=s.get("showMaxLine")!==!1;l=Ve(l)?l:[l];for(var f=i.coordinateSystem.getRect(),h=a.isHorizontal(),d=0,v=a.getTicksCoords({tickModel:s,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),m=[],y=[],x=o.getLineStyle(),b=0;b<v.length;b++){var M=a.toGlobalCoord(v[b].coord);if(!(b===0&&!u||b===v.length-1&&!c)){var C=v[b].tickValue;h?(m[0]=M,m[1]=f.y,y[0]=M,y[1]=f.y+f.height):(m[0]=f.x,m[1]=M,y[0]=f.x+f.width,y[1]=M);var w=d++%l.length,E=new Qr({anid:C!=null?"line_"+C:null,autoBatch:!0,shape:{x1:m[0],y1:m[1],x2:y[0],y2:y[1]},style:Bt({stroke:l[w]},x),silent:!0});pb(E.shape,x.lineWidth),e.add(E)}}}},minorSplitLine:function(n,e,t,i,r){var a=t.axis,s=t.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=i.coordinateSystem.getRect(),u=a.isHorizontal(),c=a.getMinorTicksCoords();if(c.length)for(var f=[],h=[],d=o.getLineStyle(),v=0;v<c.length;v++)for(var m=0;m<c[v].length;m++){var y=a.toGlobalCoord(c[v][m].coord);u?(f[0]=y,f[1]=l.y,h[0]=y,h[1]=l.y+l.height):(f[0]=l.x,f[1]=y,h[0]=l.x+l.width,h[1]=y);var x=new Qr({anid:"minor_line_"+c[v][m].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:h[0],y2:h[1]},style:d,silent:!0});pb(x.shape,d.lineWidth),e.add(x)}},splitArea:function(n,e,t,i,r){whe(n,e,t,i)},breakArea:function(n,e,t,i,r){var a=YC(),s=t.axis.scale;a&&s.type!=="ordinal"&&a.rectCoordBuildBreakAxis(e,n,t,i.coordinateSystem.getRect(),r)}},Rhe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e})(Dhe),Bze=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=Rhe.type,t}return e.type="yAxis",e})(Dhe),Oze=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,i){this.group.removeAll(),t.get("show")&&this.group.add(new pn({shape:t.coordinateSystem.getRect(),style:Bt({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e})(Bi),AK={offset:0};function Lhe(n){n.registerComponentView(Oze),n.registerComponentModel(H4e),n.registerCoordinateSystem("cartesian2d",_ze),_b(n,"x",UU,AK),_b(n,"y",UU,AK),n.registerComponentView(Rhe),n.registerComponentView(Bze),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function zze(n,e){var t=n.coordinateSystem,i=t&&t.type,r=t&&t.getBaseAxis&&t.getBaseAxis(),a=r&&r.scale&&r.scale.type,s=i==="cartesian2d"&&a==="ordinal"||i==="single",o=e.model.get("jitter")>0;return s&&o}var kze=_n();function MK(n,e,t,i){if(n instanceof vhe){var r=n.scale.type;if(r!=="category"&&r!=="ordinal")return t}var a=n.model,s=a.get("jitter"),o=a.get("jitterOverlap"),l=a.get("jitterMargin")||0,u=n.scale.type==="ordinal"?n.getBandWidth():null;return s>0?o?Nhe(t,s,u,i):Fze(n,e,t,i,s,l):t}function Nhe(n,e,t,i){if(t===null)return n+(Math.random()-.5)*e;var r=t-i*2,a=Math.min(Math.max(0,e),r);return n+(Math.random()-.5)*a}function Fze(n,e,t,i,r,a){var s=kze(n);s.items||(s.items=[]);var o=s.items,l=TK(o,e,t,i,r,a,1),u=TK(o,e,t,i,r,a,-1),c=Math.abs(l-t)<Math.abs(u-t)?l:u,f=n.scale.type==="ordinal"?n.getBandWidth():null,h=Math.abs(c-t);return h>r/2||f&&h>f/2-i?Nhe(t,r,f,i):(o.push({fixedCoord:e,floatCoord:c,r:i}),c)}function TK(n,e,t,i,r,a,s){for(var o=t,l=0;l<n.length;l++){var u=n[l],c=e-u.fixedCoord,f=o-u.floatCoord,h=c*c+f*f,d=i+u.r+a;if(h<d*d){var v=u.floatCoord+Math.sqrt(d*d-c*c)*s;if(Math.abs(v-t)>r/2)return Number.MAX_VALUE;if(s===1&&v>o||s===-1&&v<o){o=v,l=-1;continue}}}return o}function Uze(n){n.eachSeriesByType("scatter",function(e){var t=e.coordinateSystem;if(t&&(t.type==="cartesian2d"||t.type==="single")){var i=t.getBaseAxis?t.getBaseAxis():null,r=i&&zze(e,i);if(r){var a=e.getData();a.each(function(s){var o=i.dim,l=i.orient,u=l==="horizontal"&&i.type!=="category"||l==="vertical"&&i.type==="category",c=a.getItemLayout(s),f=a.getItemVisual(s,"symbolSize"),h=f instanceof Array?(f[1]+f[0])/2:f;if(o==="y"||o==="single"&&u){var d=MK(i,c[0],c[1],h/2);a.setItemLayout(s,[c[0],d])}else if(o==="x"||o==="single"&&!u){var d=MK(i,c[1],c[0],h/2);a.setItemLayout(s,[d,c[1]])}})}}})}function Gze(n){cn(Lhe),n.registerSeriesModel(F4e),n.registerChartView(j4e),n.registerLayout(XC("scatter"))}function Vze(n){n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,Uze)}function jze(n){n.eachSeriesByType("radar",function(e){var t=e.getData(),i=[],r=e.coordinateSystem;if(r){var a=r.getIndicatorAxes();Z(a,function(s,o){t.each(t.mapDimension(a[o].dim),function(l,u){i[u]=i[u]||[];var c=r.dataToPoint(l,o);i[u][o]=CK(c)?c:wK(r)})}),t.each(function(s){var o=Im(i[s],function(l){return CK(l)})||wK(r);i[s].push(o.slice()),t.setItemLayout(s,i[s])})}})}function CK(n){return!isNaN(n[0])&&!isNaN(n[1])}function wK(n){return[n.cx,n.cy]}function Hze(n){var e=n.polar;if(e){Ve(e)||(e=[e]);var t=[];Z(e,function(i,r){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),n.radar=n.radar||[],Ve(n.radar)||(n.radar=[n.radar]),n.radar.push(i)):t.push(i)}),n.polar=t}Z(n.series,function(i){i&&i.type==="radar"&&i.polarIndex&&(i.radarIndex=i.polarIndex)})}var Wze=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var a=t.coordinateSystem,s=this.group,o=t.getData(),l=this._data;function u(h,d){var v=h.getItemVisual(d,"symbol")||"circle";if(v!=="none"){var m=dS(h.getItemVisual(d,"symbolSize")),y=$r(v,-1,-1,2,2),x=h.getItemVisual(d,"symbolRotate")||0;return y.attr({style:{strokeNoScale:!0},z2:100,scaleX:m[0]/2,scaleY:m[1]/2,rotation:x*Math.PI/180||0}),y}}function c(h,d,v,m,y,x){v.removeAll();for(var b=0;b<d.length-1;b++){var M=u(m,y);M&&(M.__dimIdx=b,h[b]?(M.setPosition(h[b]),Zy[x?"initProps":"updateProps"](M,{x:d[b][0],y:d[b][1]},t,y)):M.setPosition(d[b]),v.add(M))}}function f(h){return We(h,function(d){return[a.cx,a.cy]})}o.diff(l).add(function(h){var d=o.getItemLayout(h);if(d){var v=new Fs,m=new ys,y={shape:{points:d}};v.shape.points=f(d),m.shape.points=f(d),Xi(v,y,t,h),Xi(m,y,t,h);var x=new It,b=new It;x.add(m),x.add(v),x.add(b),c(m.shape.points,d,b,o,h,!0),o.setItemGraphicEl(h,x)}}).update(function(h,d){var v=l.getItemGraphicEl(d),m=v.childAt(0),y=v.childAt(1),x=v.childAt(2),b={shape:{points:o.getItemLayout(h)}};b.shape.points&&(c(m.shape.points,b.shape.points,x,o,h,!1),ec(y),ec(m),Gn(m,b,t),Gn(y,b,t),o.setItemGraphicEl(h,v))}).remove(function(h){s.remove(l.getItemGraphicEl(h))}).execute(),o.eachItemGraphicEl(function(h,d){var v=o.getItemModel(d),m=h.childAt(0),y=h.childAt(1),x=h.childAt(2),b=o.getItemVisual(d,"style"),M=b.fill;s.add(h),m.useStyle(Bt(v.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:M})),Da(m,v,"lineStyle"),Da(y,v,"areaStyle");var C=v.getModel("areaStyle"),w=C.isEmpty()&&C.parentModel.isEmpty();y.ignore=w,Z(["emphasis","select","blur"],function(L){var P=v.getModel([L,"areaStyle"]),I=P.isEmpty()&&P.parentModel.isEmpty();y.ensureState(L).ignore=I&&w;var N=v.getModel([L,"lineStyle"]).getLineStyle();m.ensureState(L).style=N;var z=P.getAreaStyle();y.ensureState(L).style=z;var V=v.getModel([L,"itemStyle"]).getItemStyle();x.eachChild(function(U){U.ensureState(L).style=Nt(V)})}),y.useStyle(Bt(v.getModel("areaStyle").getAreaStyle(),{fill:M,opacity:.7,decal:b.decal}));var E=v.getModel("emphasis");x.eachChild(function(L){if(L instanceof Za){var P=L.style;L.useStyle(Ie({image:P.image,x:P.x,y:P.y,width:P.width,height:P.height},b))}else L.useStyle(b),L.setColor(M),L.style.strokeNoScale=!0;var I=o.getStore().get(o.getDimensionIndex(L.__dimIdx),d);(I==null||isNaN(I))&&(I=""),Xa(L,Ra(v),{labelFetcher:o.hostModel,labelDataIndex:d,labelDimIndex:L.__dimIdx,defaultText:I,inheritColor:M,defaultOpacity:b.opacity})}),rr(h,E.get("focus"),E.get("blurScope"),E.get("disabled"))}),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e})(xi),Xze=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new xS(ct(this.getData,this),ct(this.getRawData,this))},e.prototype.getInitialData=function(t,i){return yS(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,i,r){var a=this.getData(),s=this.coordinateSystem,o=s.getIndicatorAxes(),l=this.getData().getName(t),u=l===""?this.name:l,c=hce(this,t);return pa("section",{header:u,sortBlocks:!0,blocks:We(o,function(f){var h=a.get(a.mapDimension(f.dim),t);return pa("nameValue",{markerType:"subItem",markerColor:c,name:f.name,value:h,sortParam:h})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var i=this.getData(),r=this.coordinateSystem,a=i.getValues(We(r.dimensions,function(u){return i.mapDimension(u)}),t),s=0,o=a.length;s<o;s++)if(!isNaN(a[s])){var l=r.getIndicatorAxes();return r.coordToPoint(l[s].dataToCoord(a[s]),s)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e})(Ti),bM=phe.value;function DD(n,e){return Bt({show:e},n)}var Yze=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),i=this.get("splitNumber"),r=this.get("scale"),a=this.get("axisLine"),s=this.get("axisTick"),o=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),h=this.get("triggerEvent"),d=We(this.get("indicator")||[],function(v){v.max!=null&&v.max>0&&!v.min?v.min=0:v.min!=null&&v.min<0&&!v.max&&(v.max=0);var m=l;v.color!=null&&(m=Bt({color:v.color},l));var y=an(Nt(v),{boundaryGap:t,splitNumber:i,scale:r,axisLine:a,axisTick:s,axisLabel:o,name:v.text,showName:u,nameLocation:"end",nameGap:f,nameTextStyle:m,triggerEvent:h},!1);if(ot(c)){var x=y.name;y.name=c.replace("{value}",x??"")}else wt(c)&&(y.name=c(y.name,y));var b=new Sn(y,null,this.ecModel);return kr(b,mS.prototype),b.mainType="radar",b.componentIndex=this.componentIndex,b},this);this._indicatorModels=d},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:xe.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:an({lineStyle:{color:xe.color.neutral20}},bM.axisLine),axisLabel:DD(bM.axisLabel,!1),axisTick:DD(bM.axisTick,!1),splitLine:DD(bM.splitLine,!0),splitArea:DD(bM.splitArea,!0),indicator:[]},e})(xn),qze=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var a=this.group;a.removeAll(),this._buildAxes(t,r),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t,i){var r=t.coordinateSystem,a=r.getIndicatorAxes(),s=We(a,function(o){var l=o.model.get("showName")?o.name:"",u=new Wo(o.model,i,{axisName:l,position:[r.cx,r.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return u});Z(s,function(o){o.build(),this.group.add(o.group)},this)},e.prototype._buildSplitLineAndArea=function(t){var i=t.coordinateSystem,r=i.getIndicatorAxes();if(!r.length)return;var a=t.get("shape"),s=t.getModel("splitLine"),o=t.getModel("splitArea"),l=s.getModel("lineStyle"),u=o.getModel("areaStyle"),c=s.get("show"),f=o.get("show"),h=l.get("color"),d=u.get("color"),v=Ve(h)?h:[h],m=Ve(d)?d:[d],y=[],x=[];function b(W,G,X){var q=X%G.length;return W[q]=W[q]||[],q}if(a==="circle")for(var M=r[0].getTicksCoords(),C=i.cx,w=i.cy,E=0;E<M.length;E++){if(c){var L=b(y,v,E);y[L].push(new Uh({shape:{cx:C,cy:w,r:M[E].coord}}))}if(f&&E<M.length-1){var L=b(x,m,E);x[L].push(new iS({shape:{cx:C,cy:w,r0:M[E].coord,r:M[E+1].coord}}))}}else for(var P,I=We(r,function(W,G){var X=W.getTicksCoords();return P=P==null?X.length-1:Math.min(X.length-1,P),We(X,function(q){return i.coordToPoint(q.coord,G)})}),N=[],E=0;E<=P;E++){for(var z=[],V=0;V<r.length;V++)z.push(I[V][E]);if(z[0]&&z.push(z[0].slice()),c){var L=b(y,v,E);y[L].push(new ys({shape:{points:z}}))}if(f&&N){var L=b(x,m,E-1);x[L].push(new Fs({shape:{points:z.concat(N)}}))}N=z.slice().reverse()}var U=l.getLineStyle(),j=u.getAreaStyle();Z(x,function(W,G){this.group.add(jl(W,{style:Bt({stroke:"none",fill:m[G%m.length]},j),silent:!0}))},this),Z(y,function(W,G){this.group.add(jl(W,{style:Bt({fill:"none",stroke:v[G%v.length]},U),silent:!0}))},this)},e.type="radar",e})(Bi),Zze=(function(n){me(e,n);function e(t,i,r){var a=n.call(this,t,i,r)||this;return a.type="value",a.angle=0,a.name="",a}return e})(oc),Kze=(function(){function n(e,t,i){this.dimensions=[],this._model=e,this._indicatorAxes=We(e.getIndicatorModels(),function(r,a){var s="indicator_"+a,o=new Zze(s,new Tp);return o.name=r.get("name"),o.model=r,r.axis=o,this.dimensions.push(s),o},this),this.resize(e,i)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(e,t){var i=this._indicatorAxes[t];return this.coordToPoint(i.dataToCoord(e),t)},n.prototype.coordToPoint=function(e,t){var i=this._indicatorAxes[t],r=i.angle,a=this.cx+e*Math.cos(r),s=this.cy-e*Math.sin(r);return[a,s]},n.prototype.pointToData=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,r=Math.sqrt(t*t+i*i);t/=r,i/=r;for(var a=Math.atan2(-i,t),s=1/0,o,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],f=Math.abs(a-c.angle);f<s&&(o=c,l=u,s=f)}return[l,+(o&&o.coordToData(r))]},n.prototype.resize=function(e,t){var i=Na(e,t).refContainer,r=e.get("center"),a=Math.min(i.width,i.height)/2;this.cx=st(r[0],i.width)+i.x,this.cy=st(r[1],i.height)+i.y,this.startAngle=e.get("startAngle")*Math.PI/180;var s=e.get("radius");(ot(s)||Pn(s))&&(s=[0,s]),this.r0=st(s[0],a),this.r=st(s[1],a),Z(this._indicatorAxes,function(o,l){o.setExtent(this.r0,this.r);var u=this.startAngle+l*Math.PI*2/this._indicatorAxes.length;u=Math.atan2(Math.sin(u),Math.cos(u)),o.angle=u},this)},n.prototype.update=function(e,t){var i=this._indicatorAxes,r=this._model;Z(i,function(o){o.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(o,l){if(!(o.get("coordinateSystem")!=="radar"||e.getComponent("radar",o.get("radarIndex"))!==r)){var u=o.getData();Z(i,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var a=r.get("splitNumber"),s=new Tp;s.setExtent(0,a),s.setInterval(1),Z(i,function(o,l){The(o.scale,o.model,s)})},n.prototype.convertToPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.create=function(e,t){var i=[];return e.eachComponent("radar",function(r){var a=new n(r,e,t);i.push(a),r.coordinateSystem=a}),e.eachSeriesByType("radar",function(r){r.get("coordinateSystem")==="radar"&&(r.coordinateSystem=i[r.get("radarIndex")||0])}),i},n.dimensions=[],n})();function Jze(n){n.registerCoordinateSystem("radar",Kze),n.registerComponentModel(Yze),n.registerComponentView(qze),n.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(i){t.setItemVisual(i,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}function Qze(n){cn(Jze),n.registerChartView(Wze),n.registerSeriesModel(Xze),n.registerLayout(jze),n.registerProcessor(gS("radar")),n.registerPreprocessor(Hze)}var g9=_n();function $ze(n,e,t){g9(n)[e]=t}function eke(n,e,t){var i=g9(n),r=i[e];r===t&&(i[e]=null)}function EK(n,e){return!!g9(n)[e]}df({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Or);var tke={axisPointer:1,tooltip:1,brush:1};function Ihe(n,e,t){var i=e.getComponentByElement(n.topTarget);if(!i||i===t||tke.hasOwnProperty(i.mainType))return!1;var r=i.coordinateSystem;if(!r||r.model===t)return!1;var a=Py(i),s=Py(t);return!((a.zlevel-s.zlevel||a.z-s.z)<=0)}var ex=(function(n){me(e,n);function e(t){var i=n.call(this)||this;i._zr=t;var r=ct(i._mousedownHandler,i),a=ct(i._mousemoveHandler,i),s=ct(i._mouseupHandler,i),o=ct(i._mousewheelHandler,i),l=ct(i._pinchHandler,i);return i.enable=function(u,c){var f=c.zInfo,h=Py(f.component),d=h.z,v=h.zlevel,m={component:f.component,z:d,zlevel:v,z2:At(f.z2,-1/0)},y=Ie({},c.triggerInfo);this._opt=Bt(Ie({},c),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:m,triggerInfo:y}),u==null&&(u=!0),(!this._enabled||this._controlType!==u)&&(this._enabled=!0,this.disable(),(u===!0||u==="move"||u==="pan")&&(AM(t,"mousedown",r,m),AM(t,"mousemove",a,m),AM(t,"mouseup",s,m)),(u===!0||u==="scale"||u==="zoom")&&(AM(t,"mousewheel",o,m),AM(t,"pinch",l,m)))},i.disable=function(){this._enabled=!1,MM(t,"mousedown",r),MM(t,"mousemove",a),MM(t,"mouseup",s),MM(t,"mousewheel",o),MM(t,"pinch",l)},i}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype._checkPointer=function(t,i,r){var a=this._opt,s=a.zInfoParsed;if(Ihe(t,a.api,s.component))return!1;var o=a.triggerInfo,l=o.roamTrigger,u=!1;return l==="global"&&(u=!0),u||(u=o.isInSelf(t,i,r)),u&&o.isInClip&&!o.isInClip(t,i,r)&&(u=!1),u},e.prototype._decideCursorStyle=function(t,i,r,a){var s=t.target;if(!s&&this._checkPointer(t,i,r))return"grab";if(a)return s&&s.cursor||"default"},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!(ZX(t)||SM(t))){for(var i=t.target;i;){if(i.draggable)return;i=i.__hostTarget||i.parent}var r=t.offsetX,a=t.offsetY;this._checkPointer(t,r,a)&&(this._x=r,this._y=a,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){var i=this._zr;if(!(t.gestureEvent==="pinch"||EK(i,"globalPan")||SM(t))){var r=t.offsetX,a=t.offsetY;if(!this._dragging||!M3("moveOnMouseMove",t,this._opt)){var s=this._decideCursorStyle(t,r,a,!1);s&&i.setCursorStyle(s);return}i.setCursorStyle("grabbing");var o=this._x,l=this._y,u=r-o,c=a-l;this._x=r,this._y=a,this._opt.preventDefaultMouseMove&&_p(t.event),t.__ecRoamConsumed=!0,DK(this,"pan","moveOnMouseMove",t,{dx:u,dy:c,oldX:o,oldY:l,newX:r,newY:a,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){if(!SM(t)){var i=this._zr;if(!ZX(t)){this._dragging=!1;var r=this._decideCursorStyle(t,t.offsetX,t.offsetY,!0);r&&i.setCursorStyle(r)}}},e.prototype._mousewheelHandler=function(t){if(!SM(t)){var i=M3("zoomOnMouseWheel",t,this._opt),r=M3("moveOnMouseWheel",t,this._opt),a=t.wheelDelta,s=Math.abs(a),o=t.offsetX,l=t.offsetY;if(!(a===0||!i&&!r)){if(i){var u=s>3?1.4:s>1?1.2:1.1,c=a>0?u:1/u;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",t,{scale:c,originX:o,originY:l,isAvailableBehavior:null})}if(r){var f=Math.abs(a),h=(a>0?1:-1)*(f>3?.4:f>1?.15:.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:h,originX:o,originY:l,isAvailableBehavior:null})}}}},e.prototype._pinchHandler=function(t){if(!(EK(this._zr,"globalPan")||SM(t))){var i=t.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,t,{scale:i,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e.prototype._checkTriggerMoveZoom=function(t,i,r,a,s){t._checkPointer(a,s.originX,s.originY)&&(_p(a.event),a.__ecRoamConsumed=!0,DK(t,i,r,a,s))},e})(ac);function SM(n){return n.__ecRoamConsumed}var nke=_n();function sP(n){var e=nke(n);return e.roam=e.roam||{},e.uniform=e.uniform||{},e}function AM(n,e,t,i){for(var r=sP(n),a=r.roam,s=a[e]=a[e]||[],o=0;o<s.length;o++){var l=s[o].zInfoParsed;if((l.zlevel-i.zlevel||l.z-i.z||l.z2-i.z2)<=0)break}s.splice(o,0,{listener:t,zInfoParsed:i}),ike(n,e)}function MM(n,e,t){for(var i=sP(n),r=i.roam[e]||[],a=0;a<r.length;a++)if(r[a].listener===t){r.splice(a,1),r.length||rke(n,e);return}}function ike(n,e){var t=sP(n);t.uniform[e]||n.on(e,t.uniform[e]=function(i){var r=t.roam[e];if(r)for(var a=0;a<r.length;a++)r[a].listener(i)})}function rke(n,e){var t=sP(n),i=t.uniform;i[e]&&(n.off(e,i[e]),i[e]=null)}function DK(n,e,t,i,r){r.isAvailableBehavior=ct(M3,null,t,i),n.trigger(e,r)}function M3(n,e,t){var i=t[n];return!n||i&&(!ot(i)||e.event[i+"Key"])}function y9(n,e,t){var i=n.target;i.x+=e,i.y+=t,i.dirty()}function x9(n,e,t,i){var r=n.target,a=n.zoomLimit,s=n.zoom=n.zoom||1;s*=e,s=_9(s,a);var o=s/n.zoom;n.zoom=s,Bhe(r,t,i,o),r.dirty()}function Phe(n,e,t,i,r,a){var s=new Ut(0,0,0,0);i.enable(n.get("roam"),{api:e,zInfo:{component:n},triggerInfo:{roamTrigger:n.get("roamTrigger"),isInSelf:function(u,c,f){return s.copy(t.getBoundingRect()),s.applyTransform(t.getComputedTransform()),s.contain(c,f)},isInClip:function(u,c,f){return!a||a.contain(c,f)}}}),r.zoomLimit=n.get("scaleLimit");var o=n.coordinateSystem;r.zoom=o?o.getZoom():1;var l=n.subType+"Roam";i.off("pan").off("zoom").on("pan",function(u){y9(r,u.dx,u.dy),e.dispatchAction({seriesId:n.id,type:l,dx:u.dx,dy:u.dy})}).on("zoom",function(u){x9(r,u.scale,u.originX,u.originY),e.dispatchAction({seriesId:n.id,type:l,zoom:u.scale,originX:u.originX,originY:u.originY}),e.updateLabelLayout()})}function RK(n,e){return n.pointToProjected?n.pointToProjected(e):n.pointToData(e)}function oP(n,e,t){var i=n.getZoom(),r=n.getCenter(),a=e.zoom,s=n.projectedToPoint?n.projectedToPoint(r):n.dataToPoint(r);return e.dx!=null&&e.dy!=null&&(s[0]-=e.dx,s[1]-=e.dy,n.setCenter(RK(n,s))),a!=null&&(a=_9(i*a,t)/i,Bhe(n,e.originX,e.originY,a),n.updateTransform(),n.setCenter(RK(n,s)),n.setZoom(a*i)),{center:n.getCenter(),zoom:n.getZoom()}}function Bhe(n,e,t,i){n.x-=(e-n.x)*(i-1),n.y-=(t-n.y)*(i-1),n.scaleX*=i,n.scaleY*=i}function _9(n,e){if(e){var t=e.min||0,i=e.max||1/0;n=Math.max(Math.min(i,n),t)}return n}function Ohe(n){if(ot(n)){var e=new DOMParser;n=e.parseFromString(n,"text/xml")}var t=n;for(t.nodeType===9&&(t=t.firstChild);t.nodeName.toLowerCase()!=="svg"||t.nodeType!==1;)t=t.nextSibling;return t}var W5,XL={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},LK=Dn(XL),YL={"alignment-baseline":"textBaseline","stop-color":"stopColor"},NK=Dn(YL),ake=(function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(e,t){t=t||{};var i=Ohe(e);this._defsUsePending=[];var r=new It;this._root=r;var a=[],s=i.getAttribute("viewBox")||"",o=parseFloat(i.getAttribute("width")||t.width),l=parseFloat(i.getAttribute("height")||t.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),Il(i,r,null,!0,!1);for(var u=i.firstChild;u;)this._parseNode(u,r,a,null,!1,!1),u=u.nextSibling;lke(this._defs,this._defsUsePending),this._defsUsePending=[];var c,f;if(s){var h=lP(s);h.length>=4&&(c={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(c&&o!=null&&l!=null&&(f=khe(c,{x:0,y:0,width:o,height:l}),!t.ignoreViewBox)){var d=r;r=new It,r.add(d),d.scaleX=d.scaleY=f.scale,d.x=f.x,d.y=f.y}return!t.ignoreRootClip&&o!=null&&l!=null&&r.setClipPath(new pn({shape:{x:0,y:0,width:o,height:l}})),{root:r,width:o,height:l,viewBoxRect:c,viewBoxTransform:f,named:a}},n.prototype._parseNode=function(e,t,i,r,a,s){var o=e.nodeName.toLowerCase(),l,u=r;if(o==="defs"&&(a=!0),o==="text"&&(s=!0),o==="defs"||o==="switch")l=t;else{if(!a){var c=W5[o];if(c&&yt(W5,o)){l=c.call(this,e,t);var f=e.getAttribute("name");if(f){var h={name:f,namedFrom:null,svgNodeTagLower:o,el:l};i.push(h),o==="g"&&(u=h)}else r&&i.push({name:r.name,namedFrom:r,svgNodeTagLower:o,el:l});t.add(l)}}var d=IK[o];if(d&&yt(IK,o)){var v=d.call(this,e),m=e.getAttribute("id");m&&(this._defs[m]=v)}}if(l&&l.isGroup)for(var y=e.firstChild;y;)y.nodeType===1?this._parseNode(y,l,i,u,a,s):y.nodeType===3&&s&&this._parseText(y,l),y=y.nextSibling},n.prototype._parseText=function(e,t){var i=new hb({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Du(t,i),Il(e,i,this._defsUsePending,!1,!1),ske(i,t);var r=i.style,a=r.fontSize;a&&a<9&&(r.fontSize=9,i.scaleX*=a/9,i.scaleY*=a/9);var s=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=s;var o=i.getBoundingRect();return this._textX+=o.width,t.add(i),i},n.internalField=(function(){W5={g:function(e,t){var i=new It;return Du(t,i),Il(e,i,this._defsUsePending,!1,!1),i},rect:function(e,t){var i=new pn;return Du(t,i),Il(e,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(e,t){var i=new Uh;return Du(t,i),Il(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),i.silent=!0,i},line:function(e,t){var i=new Qr;return Du(t,i),Il(e,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(e,t){var i=new BC;return Du(t,i),Il(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(e,t){var i=e.getAttribute("points"),r;i&&(r=OK(i));var a=new Fs({shape:{points:r||[]},silent:!0});return Du(t,a),Il(e,a,this._defsUsePending,!1,!1),a},polyline:function(e,t){var i=e.getAttribute("points"),r;i&&(r=OK(i));var a=new ys({shape:{points:r||[]},silent:!0});return Du(t,a),Il(e,a,this._defsUsePending,!1,!1),a},image:function(e,t){var i=new Za;return Du(t,i),Il(e,i,this._defsUsePending,!1,!1),i.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),i.silent=!0,i},text:function(e,t){var i=e.getAttribute("x")||"0",r=e.getAttribute("y")||"0",a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(a),this._textY=parseFloat(r)+parseFloat(s);var o=new It;return Du(t,o),Il(e,o,this._defsUsePending,!1,!0),o},tspan:function(e,t){var i=e.getAttribute("x"),r=e.getAttribute("y");i!=null&&(this._textX=parseFloat(i)),r!=null&&(this._textY=parseFloat(r));var a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0",o=new It;return Du(t,o),Il(e,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(s),o},path:function(e,t){var i=e.getAttribute("d")||"",r=eue(i);return Du(t,r),Il(e,r,this._defsUsePending,!1,!1),r.silent=!0,r}}})(),n})(),IK={lineargradient:function(n){var e=parseInt(n.getAttribute("x1")||"0",10),t=parseInt(n.getAttribute("y1")||"0",10),i=parseInt(n.getAttribute("x2")||"10",10),r=parseInt(n.getAttribute("y2")||"0",10),a=new qy(e,t,i,r);return PK(n,a),BK(n,a),a},radialgradient:function(n){var e=parseInt(n.getAttribute("cx")||"0",10),t=parseInt(n.getAttribute("cy")||"0",10),i=parseInt(n.getAttribute("r")||"0",10),r=new u6(e,t,i);return PK(n,r),BK(n,r),r}};function PK(n,e){var t=n.getAttribute("gradientUnits");t==="userSpaceOnUse"&&(e.global=!0)}function BK(n,e){for(var t=n.firstChild;t;){if(t.nodeType===1&&t.nodeName.toLocaleLowerCase()==="stop"){var i=t.getAttribute("offset"),r=void 0;i&&i.indexOf("%")>0?r=parseInt(i,10)/100:i?r=parseFloat(i):r=0;var a={};zhe(t,a,a);var s=a.stopColor||t.getAttribute("stop-color")||"#000000",o=a.stopOpacity||t.getAttribute("stop-opacity");if(o){var l=co(s),u=l&&l[3];u&&(l[3]*=np(o),s=Zu(l,"rgba"))}e.colorStops.push({offset:r,color:s})}t=t.nextSibling}}function Du(n,e){n&&n.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Bt(e.__inheritedStyle,n.__inheritedStyle))}function OK(n){for(var e=lP(n),t=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),a=parseFloat(e[i+1]);t.push([r,a])}return t}function Il(n,e,t,i,r){var a=e,s=a.__inheritedStyle=a.__inheritedStyle||{},o={};n.nodeType===1&&(fke(n,e),zhe(n,s,o),i||hke(n,s,o)),a.style=a.style||{},s.fill!=null&&(a.style.fill=zK(a,"fill",s.fill,t)),s.stroke!=null&&(a.style.stroke=zK(a,"stroke",s.stroke,t)),Z(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){s[l]!=null&&(a.style[l]=parseFloat(s[l]))}),Z(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){s[l]!=null&&(a.style[l]=s[l])}),r&&(a.__selfStyle=o),s.lineDash&&(a.style.lineDash=We(lP(s.lineDash),function(l){return parseFloat(l)})),(s.visibility==="hidden"||s.visibility==="collapse")&&(a.invisible=!0),s.display==="none"&&(a.ignore=!0)}function ske(n,e){var t=e.__selfStyle;if(t){var i=t.textBaseline,r=i;!i||i==="auto"||i==="baseline"?r="alphabetic":i==="before-edge"||i==="text-before-edge"?r="top":i==="after-edge"||i==="text-after-edge"?r="bottom":(i==="central"||i==="mathematical")&&(r="middle"),n.style.textBaseline=r}var a=e.__inheritedStyle;if(a){var s=a.textAlign,o=s;s&&(s==="middle"&&(o="center"),n.style.textAlign=o)}}var oke=/^url\(\s*#(.*?)\)/;function zK(n,e,t,i){var r=t&&t.match(oke);if(r){var a=Wl(r[1]);i.push([n,e,a]);return}return t==="none"&&(t=null),t}function lke(n,e){for(var t=0;t<e.length;t++){var i=e[t];i[0].style[i[1]]=n[i[2]]}}var uke=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function lP(n){return n.match(uke)||[]}var cke=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,X5=Math.PI/180;function fke(n,e){var t=n.getAttribute("transform");if(t){t=t.replace(/,/g," ");var i=[],r=null;t.replace(cke,function(f,h,d){return i.push(h,d),""});for(var a=i.length-1;a>0;a-=2){var s=i[a],o=i[a-1],l=lP(s);switch(r=r||ja(),o){case"translate":af(r,r,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":PI(r,r,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Lp(r,r,-parseFloat(l[0])*X5,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*X5);Jc(r,[1,0,u,1,0,0],r);break;case"skewY":var c=Math.tan(parseFloat(l[0])*X5);Jc(r,[1,c,0,1,0,0],r);break;case"matrix":r[0]=parseFloat(l[0]),r[1]=parseFloat(l[1]),r[2]=parseFloat(l[2]),r[3]=parseFloat(l[3]),r[4]=parseFloat(l[4]),r[5]=parseFloat(l[5]);break}}e.setLocalTransform(r)}}var kK=/([^\s:;]+)\s*:\s*([^:;]+)/g;function zhe(n,e,t){var i=n.getAttribute("style");if(i){kK.lastIndex=0;for(var r;(r=kK.exec(i))!=null;){var a=r[1],s=yt(XL,a)?XL[a]:null;s&&(e[s]=r[2]);var o=yt(YL,a)?YL[a]:null;o&&(t[o]=r[2])}}}function hke(n,e,t){for(var i=0;i<LK.length;i++){var r=LK[i],a=n.getAttribute(r);a!=null&&(e[XL[r]]=a)}for(var i=0;i<NK.length;i++){var r=NK[i],a=n.getAttribute(r);a!=null&&(t[YL[r]]=a)}}function khe(n,e){var t=e.width/n.width,i=e.height/n.height,r=Math.min(t,i);return{scale:r,x:-(n.x+n.width/2)*r+(e.x+e.width/2),y:-(n.y+n.height/2)*r+(e.y+e.height/2)}}function dke(n,e){var t=new ake;return t.parse(n,e)}var pke=bt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),vke=(function(){function n(e,t){this.type="geoSVG",this._usedGraphicMap=bt(),this._freedGraphics=[],this._mapName=e,this._parsedXML=Ohe(t)}return n.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=gke(e.named),i=t.regions,r=t.regionsMap;this._regions=i,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(e){var t,i;try{t=e&&dke(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},i=t.root,zs(i!=null)}catch(y){throw new Error(`Invalid svg format
`+y.message)}var r=new It;r.add(i),r.isGeoSVGGraphicRoot=!0;var a=t.width,s=t.height,o=t.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,f=void 0,h=void 0;if(a!=null?(u=0,f=a):o&&(u=o.x,f=o.width),s!=null?(c=0,h=s):o&&(c=o.y,h=o.height),u==null||c==null){var d=i.getBoundingRect();u==null&&(u=d.x,f=d.width),c==null&&(c=d.y,h=d.height)}l=this._boundingRect=new Ut(u,c,f,h)}if(o){var v=khe(o,l);i.scaleX=i.scaleY=v.scale,i.x=v.x,i.y=v.y}r.setClipPath(new pn({shape:l.plain()}));var m=[];return Z(t.named,function(y){pke.get(y.svgNodeTagLower)!=null&&(m.push(y),mke(y.el))}),{root:r,boundingRect:l,named:m}},n.prototype.useGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,i),i)},n.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);i&&(t.removeKey(e),this._freedGraphics.push(i))},n})();function mke(n){n.silent=!1,n.isGroup&&n.traverse(function(e){e.silent=!1})}function gke(n){var e=[],t=bt();return Z(n,function(i){if(i.namedFrom==null){var r=new MOe(i.name,i.el);e.push(r),t.set(i.name,r)}}),{regions:e,regionsMap:t}}var qU=[126,25],FK="",E0=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var u0=0;u0<E0.length;u0++)for(var L_=0;L_<E0[u0].length;L_++)E0[u0][L_][0]/=10.5,E0[u0][L_][1]/=-10.5/.75,E0[u0][L_][0]+=qU[0],E0[u0][L_][1]+=qU[1];function yke(n,e){if(n==="china"){for(var t=0;t<e.length;t++)if(e[t].name===FK)return;e.push(new _fe(FK,We(E0,function(i){return{type:"polygon",exterior:i}}),qU))}}var xke={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function _ke(n,e){if(n==="china"){var t=xke[e.name];if(t){var i=e.getCenter();i[0]+=t[0]/10.5,i[1]+=-t[1]/(10.5/.75),e.setCenter(i)}}}var bke=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function Ske(n,e){n==="china"&&e.name===""&&e.geometries.push({type:"polygon",exterior:bke[0]})}var Ake="name",Mke=(function(){function n(e,t,i){this.type="geoJSON",this._parsedMap=bt(),this._mapName=e,this._specialAreas=i,this._geoJSON=Cke(t)}return n.prototype.load=function(e,t){t=t||Ake;var i=this._parsedMap.get(t);if(!i){var r=this._parseToRegions(t);i=this._parsedMap.set(t,{regions:r,boundingRect:Tke(r)})}var a=bt(),s=[];return Z(i.regions,function(o){var l=o.name;e&&yt(e,l)&&(o=o.cloneShallow(l=e[l])),s.push(o),a.set(l,o)}),{regions:s,boundingRect:i.boundingRect||new Ut(0,0,0,0),regionsMap:a}},n.prototype._parseToRegions=function(e){var t=this._mapName,i=this._geoJSON,r;try{r=i?LU(i,e):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return yke(t,r),Z(r,function(a){var s=a.name;_ke(t,a),Ske(t,a);var o=this._specialAreas&&this._specialAreas[s];o&&a.transformTo(o.left,o.top,o.width,o.height)},this),r},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n})();function Tke(n){for(var e,t=0;t<n.length;t++){var i=n[t].getBoundingRect();e=e||i.clone(),e.union(i)}return e}function Cke(n){return ot(n)?typeof JSON<"u"&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}var TM=bt();const Cp={registerMap:function(n,e,t){if(e.svg){var i=new vke(n,e.svg);TM.set(n,i)}else{var r=e.geoJson||e.geoJSON;r&&!e.features?t=e.specialAreas:r=e;var i=new Mke(n,r,t);TM.set(n,i)}},getGeoResource:function(n){return TM.get(n)},getMapForUser:function(n){var e=TM.get(n);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(n,e,t){var i=TM.get(n);if(i)return i.load(e,t)}};var b9=["rect","circle","line","ellipse","polygon","polyline","path"],wke=bt(b9),Eke=bt(b9.concat(["g"])),Dke=bt(b9.concat(["g"])),Fhe=_n();function RD(n){var e=n.getItemStyle(),t=n.get("areaColor");return t!=null&&(e.fill=t),e}function UK(n){var e=n.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var Uhe=(function(){function n(e){var t=this.group=new It,i=this._transformGroup=new It;t.add(i),this.uid=lS("ec_map_draw"),this._controller=new ex(e.getZr()),this._controllerHost={target:i},i.add(this._regionsGroup=new It),i.add(this._svgGroup=new It)}return n.prototype.draw=function(e,t,i,r,a){var s=e.mainType==="geo",o=e.getData&&e.getData();s&&t.eachComponent({mainType:"series",subType:"map"},function(M){!o&&M.getHostGeoModel()===e&&(o=M.getData())});var l=e.coordinateSystem,u=this._regionsGroup,c=this._transformGroup,f=l.getTransformInfo(),h=f.raw,d=f.roam,v=!u.childAt(0)||a,m=e.getShallow("clip",!0),y;m?(y=l.getViewRect().clone(),this.group.setClipPath(new pn({shape:y.clone()}))):this.group.removeClipPath(),v?(c.x=d.x,c.y=d.y,c.scaleX=d.scaleX,c.scaleY=d.scaleY,c.dirty()):Gn(c,d,e);var x=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0,b={api:i,geo:l,mapOrGeoModel:e,data:o,isVisualEncodedByVisualMap:x,isGeo:s,transformInfoRaw:h};l.resourceType==="geoJSON"?this._buildGeoJSON(b):l.resourceType==="geoSVG"&&this._buildSVG(b),this._updateController(e,y,t,i),this._updateMapSelectHandler(e,u,i,r)},n.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=bt(),i=bt(),r=this._regionsGroup,a=e.transformInfoRaw,s=e.mapOrGeoModel,o=e.data,l=e.geo.projection,u=l&&l.stream;function c(d,v){return v&&(d=v(d)),d&&[d[0]*a.scaleX+a.x,d[1]*a.scaleY+a.y]}function f(d){for(var v=[],m=!u&&l&&l.project,y=0;y<d.length;++y){var x=c(d[y],m);x&&v.push(x)}return v}function h(d){return{shape:{points:f(d)}}}r.removeAll(),Z(e.geo.regions,function(d){var v=d.name,m=t.get(v),y=i.get(v)||{},x=y.dataIdx,b=y.regionModel;if(!m){m=t.set(v,new It),r.add(m),x=o?o.indexOfName(v):null,b=e.isGeo?s.getRegionModel(v):o?o.getItemModel(x):null;var M=b.get("silent",!0);M!=null&&(m.silent=M),i.set(v,{dataIdx:x,regionModel:b})}var C=[],w=[];Z(d.geometries,function(P){if(P.type==="polygon"){var I=[P.exterior].concat(P.interiors||[]);u&&(I=XK(I,u)),Z(I,function(z){C.push(new Fs(h(z)))})}else{var N=P.points;u&&(N=XK(N,u,!0)),Z(N,function(z){w.push(new ys(h(z)))})}});var E=c(d.getCenter(),l&&l.project);function L(P,I){if(P.length){var N=new zC({culling:!0,segmentIgnoreThreshold:1,shape:{paths:P}});m.add(N),GK(e,N,x,b),VK(e,N,v,b,s,x,E),I&&(UK(N),Z(N.states,UK))}}L(C),L(w,!0)}),t.each(function(d,v){var m=i.get(v),y=m.dataIdx,x=m.regionModel;jK(e,d,v,x,s,y),HK(e,d,v,x,s),WK(e,d,v,x,s)},this)},n.prototype._buildSVG=function(e){var t=e.geo.map,i=e.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var r=this._svgDispatcherMap=bt(),a=!1;Z(this._svgGraphicRecord.named,function(s){var o=s.name,l=e.mapOrGeoModel,u=e.data,c=s.svgNodeTagLower,f=s.el,h=u?u.indexOfName(o):null,d=l.getRegionModel(o);wke.get(c)!=null&&f instanceof $u&&GK(e,f,h,d),f instanceof $u&&(f.culling=!0);var v=d.get("silent",!0);if(v!=null&&(f.silent=v),f.z2EmphasisLift=0,!s.namedFrom&&(Dke.get(c)!=null&&VK(e,f,o,d,l,h,null),jK(e,f,o,d,l,h),HK(e,f,o,d,l),Eke.get(c)!=null)){var m=WK(e,f,o,d,l);m==="self"&&(a=!0);var y=r.get(o)||r.set(o,[]);y.push(f)}},this),this._enableBlurEntireSVG(a,e)},n.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var i=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),r=i.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){Ny(a);var s=a.ensureState("blur").style||{};s.opacity==null&&r!=null&&(s.opacity=r),a.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(e,t){if(e==null)return[];var i=t.coordinateSystem;if(i.resourceType==="geoJSON"){var r=this._regionsGroupByName;if(r){var a=r.get(e);return a?[a]:[]}}else if(i.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},n.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},n.prototype._useSVG=function(e){var t=Cp.getGeoResource(e);if(t&&t.type==="geoSVG"){var i=t.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=e}},n.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var t=Cp.getGeoResource(e);t&&t.type==="geoSVG"&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(e,t,i,r){var a=e.coordinateSystem,s=this._controller,o=this._controllerHost;o.zoomLimit=e.get("scaleLimit"),o.zoom=a.getZoom(),s.enable(e.get("roam")||!1,{api:r,zInfo:{component:e},triggerInfo:{roamTrigger:e.get("roamTrigger"),isInSelf:function(c,f,h){return a.containPoint([f,h])},isInClip:function(c,f,h){return!t||t.contain(f,h)}}});var l=e.mainType;function u(){var c={type:"geoRoam",componentType:l};return c[l+"Id"]=e.id,c}s.off("pan").on("pan",function(c){this._mouseDownFlag=!1,y9(o,c.dx,c.dy),r.dispatchAction(Ie(u(),{dx:c.dx,dy:c.dy,animation:{duration:0}}))},this),s.off("zoom").on("zoom",function(c){this._mouseDownFlag=!1,x9(o,c.scale,c.originX,c.originY),r.dispatchAction(Ie(u(),{totalZoom:o.zoom,zoom:c.scale,originX:c.originX,originY:c.originY,animation:{duration:0}}))},this)},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=Fhe(t).ignore)})},n.prototype._updateMapSelectHandler=function(e,t,i,r){var a=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){a._mouseDownFlag=!0}),t.on("click",function(s){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},n})();function GK(n,e,t,i){var r=i.getModel("itemStyle"),a=i.getModel(["emphasis","itemStyle"]),s=i.getModel(["blur","itemStyle"]),o=i.getModel(["select","itemStyle"]),l=RD(r),u=RD(a),c=RD(o),f=RD(s),h=n.data;if(h){var d=h.getItemVisual(t,"style"),v=h.getItemVisual(t,"decal");n.isVisualEncodedByVisualMap&&d.fill&&(l.fill=d.fill),v&&(l.decal=mb(v,n.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=u,e.ensureState("select").style=c,e.ensureState("blur").style=f,Ny(e)}function VK(n,e,t,i,r,a,s){var o=n.data,l=n.isGeo,u=o&&isNaN(o.get(o.mapDimension("value"),a)),c=o&&o.getItemLayout(a);if(l||u||c&&c.showLabel){var f=l?t:a,h=void 0;(!o||a>=0)&&(h=r);var d=s?{normal:{align:"center",verticalAlign:"middle"}}:null;Xa(e,Ra(i),{labelFetcher:h,labelDataIndex:f,defaultText:t},d);var v=e.getTextContent();if(v&&(Fhe(v).ignore=v.ignore,e.textConfig&&s)){var m=e.getBoundingRect().clone();e.textConfig.layoutRect=m,e.textConfig.position=[(s[0]-m.x)/m.width*100+"%",(s[1]-m.y)/m.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function jK(n,e,t,i,r,a){n.data?n.data.setItemGraphicEl(a,e):jt(e).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:t,region:i&&i.option||{}}}function HK(n,e,t,i,r){n.data||Ip({el:e,componentModel:r,itemName:t,itemTooltipOption:i.get("tooltip")})}function WK(n,e,t,i,r){e.highDownSilentOnTouch=!!r.get("selectedMode");var a=i.getModel("emphasis"),s=a.get("focus");return rr(e,s,a.get("blurScope"),a.get("disabled")),n.isGeo&&bLe(e,r,t),s}function XK(n,e,t){var i=[],r;function a(){r=[]}function s(){r.length&&(i.push(r),r=[])}var o=e({polygonStart:a,polygonEnd:s,lineStart:a,lineEnd:s,point:function(l,u){isFinite(l)&&isFinite(u)&&r.push([l,u])},sphere:function(){}});return!t&&o.polygonStart(),Z(n,function(l){o.lineStart();for(var u=0;u<l.length;u++)o.point(l[u][0],l[u][1]);o.lineEnd()}),!t&&o.polygonEnd(),i}var Rke=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var s=this.group;if(s.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===t.id){var o=this._mapDraw;o&&s.add(o.group)}else if(t.needsDrawMap){var o=this._mapDraw||new Uhe(r);s.add(o.group),o.draw(t,i,r,this,a),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&i.getComponent("legend")&&this._renderSymbols(t,i,r)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,i,r){var a=t.originalData,s=this.group;a.each(a.mapDimension("value"),function(o,l){if(!isNaN(o)){var u=a.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,f=u.offset,h=new Uh({style:{fill:t.getData().getVisual("style").fill},shape:{cx:c[0]+f*9,cy:c[1],r:3},silent:!0,z2:8+(f?0:nS+1)});if(!f){var d=t.mainSeries.getData(),v=a.getName(l),m=d.indexOfName(v),y=a.getItemModel(l),x=y.getModel("label"),b=d.getItemGraphicEl(m);Xa(h,Ra(y),{labelFetcher:{getFormattedLabel:function(M,C){return t.getFormattedLabel(m,C)}},defaultText:v}),h.disableLabelAnimation=!0,x.get("position")||h.setTextConfig({position:"bottom"}),b.onHoverStateChange=function(M){_L(h,M)}}s.add(h)}}})},e.type="map",e})(xi),Lke=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(i){if(i!=null){var r=this.getData().getName(i),a=this.coordinateSystem,s=a.getRegion(r);return s&&a.dataToPoint(s.getCenter())}},t}return e.prototype.getInitialData=function(t){for(var i=yS(this,{coordDimensions:["value"],encodeDefaulter:$t(N6,this)}),r=bt(),a=[],s=0,o=i.count();s<o;s++){var l=i.getName(s);r.set(l,s)}var u=Cp.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return Z(u.regions,function(c){var f=c.name,h=r.get(f),d=c.properties&&c.properties.echartsStyle,v;h==null?(v={name:f},a.push(v)):v=i.getRawDataItem(h),d&&an(v,d)}),i.appendData(a),i},e.prototype.getHostGeoModel=function(){if(Due(this).kind!==fh.boxCoordSys)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var i=this.getData();return i.get(i.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var i=this.getData();return i.getItemModel(i.indexOfName(t))},e.prototype.formatTooltip=function(t,i,r){for(var a=this.getData(),s=this.getRawValue(t),o=a.getName(t),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var f=l[c].originalData.indexOfName(o),h=a.mapDimension("value");isNaN(l[c].originalData.get(h,f))||u.push(l[c].name)}return pa("section",{header:u.join(", "),noHeader:!u.length,blocks:[pa("nameValue",{name:o,value:s})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var i=t.icon||"roundRect",r=$r(i,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return r.setStyle(t.itemStyle),r.style.stroke="none",i.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill=xe.color.neutral00,r.style.lineWidth=2),r},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:xe.color.tertiary},itemStyle:{borderWidth:.5,borderColor:xe.color.border,areaColor:xe.color.background},emphasis:{label:{show:!0,color:xe.color.primary},itemStyle:{areaColor:xe.color.highlight}},select:{label:{show:!0,color:xe.color.primary},itemStyle:{color:xe.color.highlight}},nameProperty:"name"},e})(Ti);function Nke(n,e){var t={};return Z(n,function(i){i.each(i.mapDimension("value"),function(r,a){var s="ec-"+i.getName(a);t[s]=t[s]||[],isNaN(r)||t[s].push(r)})}),n[0].map(n[0].mapDimension("value"),function(i,r){for(var a="ec-"+n[0].getName(r),s=0,o=1/0,l=-1/0,u=t[a].length,c=0;c<u;c++)o=Math.min(o,t[a][c]),l=Math.max(l,t[a][c]),s+=t[a][c];var f;return e==="min"?f=o:e==="max"?f=l:e==="average"?f=s/u:f=s,u===0?NaN:f})}function Ike(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getHostGeoModel(),r=i?"o"+i.id:"i"+t.getMapType();(e[r]=e[r]||[]).push(t)}),Z(e,function(t,i){for(var r=Nke(We(t,function(s){return s.getData()}),t[0].get("mapValueCalculation")),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(var a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=a===0&&!t[a].getHostGeoModel(),t[a].setData(r.cloneShallow()),t[a].mainSeries=t[0]})}function Pke(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getMapType();if(!(t.getHostGeoModel()||e[i])){var r={};Z(t.seriesGroup,function(s){var o=s.coordinateSystem,l=s.originalData;s.get("showLegendSymbol")&&n.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var f=l.getName(c),h=o.getRegion(f);if(!(!h||isNaN(u))){var d=r[f]||0,v=o.dataToPoint(h.getCenter());r[f]=d+1,l.setItemLayout(c,{point:v,offset:d})}})});var a=t.getData();a.each(function(s){var o=a.getName(s),l=a.getItemLayout(s)||{};l.showLabel=!r[o],a.setItemLayout(s,l)}),e[i]=!0}})}var YK=zr,tx=(function(n){me(e,n);function e(t,i){var r=n.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new Qd,r._rawTransformable=new Qd,r.name=t,r._opt=i,r}return e.prototype.setBoundingRect=function(t,i,r,a){return this._rect=new Ut(t,i,r,a),this._updateCenterAndZoom(),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,i,r,a){this._transformTo(t,i,r,a),this._viewRect=new Ut(t,i,r,a)},e.prototype._transformTo=function(t,i,r,a){var s=this.getBoundingRect(),o=this._rawTransformable;o.transform=s.calculateTransform(new Ut(t,i,r,a));var l=o.parent;o.parent=null,o.decomposeTransform(),o.parent=l,this._updateTransform()},e.prototype.setCenter=function(t){var i=this._opt;i&&i.api&&i.ecModel&&i.ecModel.getShallow("legacyViewCoordSysCenterBase")&&t&&(t=[st(t[0],i.api.getWidth()),st(t[1],i.api.getWidth())]),this._centerOption=Nt(t),this._updateCenterAndZoom()},e.prototype.setZoom=function(t){this._zoom=_9(t||1,this.zoomLimit),this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),i=t.x+t.width/2,r=t.y+t.height/2;return[i,r]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._centerOption,i=this._rect;t&&i&&(this._center=[st(t[0],i.width,i.x),st(t[1],i.height,i.y)]);var r=this._rawTransformable.getLocalTransform(),a=this._roamTransformable,s=this.getDefaultCenter(),o=this.getCenter(),l=this.getZoom();o=zr([],o,r),s=zr([],s,r),a.originX=o[0],a.originY=o[1],a.x=s[0]-o[0],a.y=s[1]-o[1],a.scaleX=a.scaleY=l,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,i=this._rawTransformable;i.parent=t,t.updateTransform(),i.updateTransform(),NC(this.transform||(this.transform=[]),i.transform||ja()),this._rawTransform=i.getLocalTransform(),this.invTransform=this.invTransform||[],Qu(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,i=this._roamTransformable,r=new Qd;return r.transform=i.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,i,r){var a=i?this._rawTransform:this.transform;return r=r||[],a?YK(r,t,a):no(r,t)},e.prototype.pointToData=function(t,i,r){r=r||[];var a=this.invTransform;return a?YK(r,t,a):(r[0]=t[0],r[1]=t[1],r)},e.prototype.convertToPixel=function(t,i,r){var a=qK(i);return a===this?a.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,i,r){var a=qK(i);return a===this?a.pointToData(r):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e})(Qd);function qK(n){var e=n.seriesModel;return e?e.coordinateSystem:null}var Bke={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Ghe=["lng","lat"],ZU=(function(n){me(e,n);function e(t,i,r){var a=n.call(this,t,{api:r.api,ecModel:r.ecModel})||this;a.dimensions=Ghe,a.type="geo",a._nameCoordMap=bt(),a.map=i;var s=r.projection,o=Cp.load(i,r.nameMap,r.nameProperty),l=Cp.getGeoResource(i);a.resourceType=l?l.type:null;var u=a.regions=o.regions,c=Bke[l.type];a._regionsMap=o.regionsMap,a.regions=o.regions,a.projection=s;var f;if(s)for(var h=0;h<u.length;h++){var d=u[h].getBoundingRect(s);f=f||d.clone(),f.union(d)}else f=o.boundingRect;return a.setBoundingRect(f.x,f.y,f.width,f.height),a.aspectScale=s?1:At(r.aspectScale,c.aspectScale),a._invertLongitute=s?!1:c.invertLongitute,a}return e.prototype._transformTo=function(t,i,r,a){var s=this.getBoundingRect(),o=this._invertLongitute;s=s.clone(),o&&(s.y=-s.y-s.height);var l=this._rawTransformable;l.transform=s.calculateTransform(new Ut(t,i,r,a));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,o&&(l.scaleY=-l.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var i=this.regions,r=0;r<i.length;r++){var a=i[r];if(a.type==="geoJSON"&&a.contain(t))return i[r]}},e.prototype.addGeoCoord=function(t,i){this._nameCoordMap.set(t,i)},e.prototype.getGeoCoord=function(t){var i=this._regionsMap.get(t);return this._nameCoordMap.get(t)||i&&i.getCenter()},e.prototype.dataToPoint=function(t,i,r){if(ot(t)&&(t=this.getGeoCoord(t)),t){var a=this.projection;return a&&(t=a.project(t)),t&&this.projectedToPoint(t,i,r)}},e.prototype.pointToData=function(t,i,r){var a=this.projection;return a&&(t=a.unproject(t)),t&&this.pointToProjected(t,r)},e.prototype.pointToProjected=function(t,i){return n.prototype.pointToData.call(this,t,0,i)},e.prototype.projectedToPoint=function(t,i,r){return n.prototype.dataToPoint.call(this,t,i,r)},e.prototype.convertToPixel=function(t,i,r){var a=ZK(i);return a===this?a.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,i,r){var a=ZK(i);return a===this?a.pointToData(r):null},e})(tx);kr(ZU,tx);function ZK(n){var e=n.geoModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",Sr).models[0]||{}).coordinateSystem:null}function KK(n,e){var t=n.get("boundingCoords");if(t!=null){var i=t[0],r=t[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])){var a=this.projection;if(a){var s=i[0],o=i[1],l=r[0],u=r[1];i=[1/0,1/0],r=[-1/0,-1/0];var c=function(w,E,L,P){for(var I=L-w,N=P-E,z=0;z<=100;z++){var V=z/100,U=a.project([w+I*V,E+N*V]);Kd(i,i,U),Jd(r,r,U)}};c(s,o,l,o),c(l,o,l,u),c(l,u,s,u),c(s,u,l,o)}this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}}var f=this.getBoundingRect(),h=n.get("layoutCenter"),d=n.get("layoutSize"),v=Na(n,e).refContainer,m=f.width/f.height*this.aspectScale,y=!1,x,b;h&&d&&(x=[st(h[0],v.width)+v.x,st(h[1],v.height)+v.y],b=st(d,Math.min(v.width,v.height)),!isNaN(x[0])&&!isNaN(x[1])&&!isNaN(b)&&(y=!0));var M;if(y)M={},m>1?(M.width=b,M.height=b/m):(M.height=b,M.width=b*m),M.y=x[1]-M.height/2,M.x=x[0]-M.width/2;else{var C=n.getBoxLayoutParams();C.aspect=m,M=Ji(C,v),M=Pue(n,M,m)}this.setViewRect(M.x,M.y,M.width,M.height),this.setCenter(n.get("center")),this.setZoom(n.get("zoom"))}function Oke(n,e){Z(e.get("geoCoord"),function(t,i){n.addGeoCoord(i,t)})}var zke=(function(){function n(){this.dimensions=Ghe}return n.prototype.create=function(e,t){var i=[];function r(s){return{nameProperty:s.get("nameProperty"),aspectScale:s.get("aspectScale"),projection:s.get("projection")}}e.eachComponent("geo",function(s,o){var l=s.get("map"),u=new ZU(l+o,l,Ie({nameMap:s.get("nameMap"),api:t,ecModel:e},r(s)));u.zoomLimit=s.get("scaleLimit"),i.push(u),s.coordinateSystem=u,u.model=s,u.resize=KK,u.resize(s,t)}),e.eachSeries(function(s){UC({targetModel:s,coordSysType:"geo",coordSysProvider:function(){var o=s.subType==="map"?s.getHostGeoModel():s.getReferringComponents("geo",Sr).models[0];return o&&o.coordinateSystem},allowNotFound:!0})});var a={};return e.eachSeriesByType("map",function(s){if(!s.getHostGeoModel()){var o=s.getMapType();a[o]=a[o]||[],a[o].push(s)}}),Z(a,function(s,o){var l=We(s,function(c){return c.get("nameMap")}),u=new ZU(o,o,Ie({nameMap:LI(l),api:t,ecModel:e},r(s[0])));u.zoomLimit=ds.apply(null,We(s,function(c){return c.get("scaleLimit")})),i.push(u),u.resize=KK,u.resize(s[0],t),Z(s,function(c){c.coordinateSystem=u,Oke(u,c)})}),i},n.prototype.getFilledRegions=function(e,t,i,r){for(var a=(e||[]).slice(),s=bt(),o=0;o<a.length;o++)s.set(a[o].name,a[o]);var l=Cp.load(t,i,r);return Z(l.regions,function(u){var c=u.name,f=s.get(c),h=u.properties&&u.properties.echartsStyle;f||(f={name:c},a.push(f)),h&&an(f,h)}),a},n})(),Vhe=new zke,kke=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r);var a=Cp.getGeoResource(t.map);if(a&&a.type==="geoJSON"){var s=t.itemStyle=t.itemStyle||{};"color"in s||(s.color=t.defaultItemStyleColor||xe.color.backgroundTint)}Dy(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,i=this.option;i.regions=Vhe.getFilledRegions(i.regions,i.map,i.nameMap,i.nameProperty);var r={};this._optionModelMap=Ju(i.regions||[],function(a,s){var o=s.name;return o&&(a.set(o,new Sn(s,t,t.ecModel)),s.selected&&(r[o]=!0)),a},bt()),i.selectedMap||(i.selectedMap=r)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Sn(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,i){var r=this.getRegionModel(t),a=i==="normal"?r.get(["label","formatter"]):r.get(["emphasis","label","formatter"]),s={name:t};if(wt(a))return s.status=i,a(s);if(ot(a))return a.replace("{a}",t??"")},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var i=this.option,r=i.selectedMode;if(r){r!=="multiple"&&(i.selectedMap=null);var a=i.selectedMap||(i.selectedMap={});a[t]=!0}},e.prototype.unSelect=function(t){var i=this.option.selectedMap;i&&(i[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var i=this.option.selectedMap;return!!(i&&i[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:xe.color.tertiary},itemStyle:{borderWidth:.5,borderColor:xe.color.border},emphasis:{label:{show:!0,color:xe.color.primary},itemStyle:{color:xe.color.highlight}},select:{label:{show:!0,color:xe.color.primary},itemStyle:{color:xe.color.highlight}},regions:[]},e})(xn),Fke=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return e.prototype.init=function(t,i){this._api=i},e.prototype.render=function(t,i,r,a){if(this._model=t,!t.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new Uhe(r));var s=this._mapDraw;s.draw(t,i,r,this,a),s.group.on("click",this._handleRegionClick,this),s.group.silent=t.get("silent"),this.group.add(s.group),this.updateSelectStatus(t,i,r)},e.prototype._handleRegionClick=function(t){var i;Z0(t.target,function(r){return(i=jt(r).eventData)!=null},!0),i&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:i.name})},e.prototype.updateSelectStatus=function(t,i,r){var a=this;this._mapDraw.group.traverse(function(s){var o=jt(s).eventData;if(o)return a._model.isSelected(o.name)?r.enterSelect(s):r.leaveSelect(s),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e})(Bi);function Uke(n,e,t){Cp.registerMap(n,e,t)}function jhe(n){n.registerCoordinateSystem("geo",Vhe),n.registerComponentModel(kke),n.registerComponentView(Fke),n.registerImpl("registerMap",Uke),n.registerImpl("getMap",function(t){return Cp.getMapForUser(t)});function e(t,i){i.update="geo:updateSelectStatus",n.registerAction(i,function(r,a){var s={},o=[];return a.eachComponent({mainType:"geo",query:r},function(l){l[t](r.name);var u=l.coordinateSystem;Z(u.regions,function(f){s[f.name]=l.isSelected(f.name)||!1});var c=[];Z(s,function(f,h){s[h]&&c.push(h)}),o.push({geoIndex:l.componentIndex,name:c})}),{selected:s,allSelected:o,name:r.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,i,r){var a=t.componentType;a||(t.geoId!=null?a="geo":t.seriesId!=null&&(a="series")),a||(a="series"),i.eachComponent({mainType:a,query:t},function(s){var o=s.coordinateSystem;if(o.type==="geo"){var l=oP(o,t,s.get("scaleLimit"));s.setCenter&&s.setCenter(l.center),s.setZoom&&s.setZoom(l.zoom),a==="series"&&Z(s.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function Gke(n){cn(jhe),n.registerChartView(Rke),n.registerSeriesModel(Lke),n.registerLayout(Pke),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,Ike),Mce("map",n.registerAction)}function Vke(n){var e=n;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t=[e],i,r;i=t.pop();)if(r=i.children,i.isExpand&&r.length)for(var a=r.length,s=a-1;s>=0;s--){var o=r[s];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},t.push(o)}}function jke(n,e){var t=n.isExpand?n.children:[],i=n.parentNode.children,r=n.hierNode.i?i[n.hierNode.i-1]:null;if(t.length){Wke(n);var a=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;r?(n.hierNode.prelim=r.hierNode.prelim+e(n,r),n.hierNode.modifier=n.hierNode.prelim-a):n.hierNode.prelim=a}else r&&(n.hierNode.prelim=r.hierNode.prelim+e(n,r));n.parentNode.hierNode.defaultAncestor=Xke(n,r,n.parentNode.hierNode.defaultAncestor||i[0],e)}function Hke(n){var e=n.hierNode.prelim+n.parentNode.hierNode.modifier;n.setLayout({x:e},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function JK(n){return arguments.length?n:Zke}function d2(n,e){return n-=Math.PI/2,{x:e*Math.cos(n),y:e*Math.sin(n)}}function Wke(n){for(var e=n.children,t=e.length,i=0,r=0;--t>=0;){var a=e[t];a.hierNode.prelim+=i,a.hierNode.modifier+=i,r+=a.hierNode.change,i+=a.hierNode.shift+r}}function Xke(n,e,t,i){if(e){for(var r=n,a=n,s=a.parentNode.children[0],o=e,l=r.hierNode.modifier,u=a.hierNode.modifier,c=s.hierNode.modifier,f=o.hierNode.modifier;o=Y5(o),a=q5(a),o&&a;){r=Y5(r),s=q5(s),r.hierNode.ancestor=n;var h=o.hierNode.prelim+f-a.hierNode.prelim-u+i(o,a);h>0&&(qke(Yke(o,n,t),n,h),u+=h,l+=h),f+=o.hierNode.modifier,u+=a.hierNode.modifier,l+=r.hierNode.modifier,c+=s.hierNode.modifier}o&&!Y5(r)&&(r.hierNode.thread=o,r.hierNode.modifier+=f-l),a&&!q5(s)&&(s.hierNode.thread=a,s.hierNode.modifier+=u-c,t=n)}return t}function Y5(n){var e=n.children;return e.length&&n.isExpand?e[e.length-1]:n.hierNode.thread}function q5(n){var e=n.children;return e.length&&n.isExpand?e[0]:n.hierNode.thread}function Yke(n,e,t){return n.hierNode.ancestor.parentNode===e.parentNode?n.hierNode.ancestor:t}function qke(n,e,t){var i=t/(e.hierNode.i-n.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,n.hierNode.change+=i}function Zke(n,e){return n.parentNode===e.parentNode?1:2}var Kke=(function(){function n(){this.parentPoint=[],this.childPoints=[]}return n})(),Jke=(function(n){me(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:xe.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new Kke},e.prototype.buildPath=function(t,i){var r=i.childPoints,a=r.length,s=i.parentPoint,o=r[0],l=r[a-1];if(a===1){t.moveTo(s[0],s[1]),t.lineTo(o[0],o[1]);return}var u=i.orient,c=u==="TB"||u==="BT"?0:1,f=1-c,h=st(i.forkPosition,1),d=[];d[c]=s[c],d[f]=s[f]+(l[f]-s[f])*h,t.moveTo(s[0],s[1]),t.lineTo(d[0],d[1]),t.moveTo(o[0],o[1]),d[c]=o[c],t.lineTo(d[0],d[1]),d[c]=l[c],t.lineTo(d[0],d[1]),t.lineTo(l[0],l[1]);for(var v=1;v<a-1;v++){var m=r[v];t.moveTo(m[0],m[1]),d[c]=m[c],t.lineTo(d[0],d[1])}},e})(An),Qke=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new It,t}return e.prototype.init=function(t,i){this._controller=new ex(i.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,i,r){var a=t.getData(),s=t.layoutInfo,o=this._mainGroup,l=t.get("layout");l==="radial"?(o.x=s.x+s.width/2,o.y=s.y+s.height/2):(o.x=s.x,o.y=s.y),this._updateViewCoordSys(t,r),this._updateController(t,null,i,r);var u=this._data;a.diff(u).add(function(c){QK(a,c)&&$K(a,c,null,o,t)}).update(function(c,f){var h=u.getItemGraphicEl(f);if(!QK(a,c)){h&&tJ(u,f,h,o,t);return}$K(a,c,h,o,t)}).remove(function(c){var f=u.getItemGraphicEl(c);f&&tJ(u,c,f,o,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),t.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(c,f){c.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:f})})}),this._data=a},e.prototype._updateViewCoordSys=function(t,i){var r=t.getData(),a=[];r.each(function(f){var h=r.getItemLayout(f);h&&!isNaN(h.x)&&!isNaN(h.y)&&a.push([+h.x,+h.y])});var s=[],o=[];VI(a,s,o);var l=this._min,u=this._max;o[0]-s[0]===0&&(s[0]=l?l[0]:s[0]-1,o[0]=u?u[0]:o[0]+1),o[1]-s[1]===0&&(s[1]=l?l[1]:s[1]-1,o[1]=u?u[1]:o[1]+1);var c=t.coordinateSystem=new tx(null,{api:i,ecModel:t.ecModel});c.zoomLimit=t.get("scaleLimit"),c.setBoundingRect(s[0],s[1],o[0]-s[0],o[1]-s[1]),c.setCenter(t.get("center")),c.setZoom(t.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=s,this._max=o},e.prototype._updateController=function(t,i,r,a){var s=this;Phe(t,a,this.group,this._controller,this._controllerHost,i),this._controller.on("zoom",function(o){s._updateNodeAndLinkScale(t)})},e.prototype._updateNodeAndLinkScale=function(t){var i=t.getData(),r=this._getNodeGlobalScale(t);i.eachItemGraphicEl(function(a,s){a.setSymbolScale(r)})},e.prototype._getNodeGlobalScale=function(t){var i=t.coordinateSystem;if(i.type!=="view")return 1;var r=this._nodeScaleRatio,a=i.scaleX||1,s=i.getZoom(),o=(s-1)*r+1;return o/a},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e})(xi);function QK(n,e){var t=n.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function $K(n,e,t,i,r){var a=!t,s=n.tree.getNodeByDataIndex(e),o=s.getModel(),l=s.getVisual("style").fill,u=s.isExpand===!1&&s.children.length!==0?l:xe.color.neutral00,c=n.tree.root,f=s.parentNode===c?s:s.parentNode||s,h=n.getItemGraphicEl(f.dataIndex),d=f.getLayout(),v=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:d,m=s.getLayout();a?(t=new jC(n,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.x=v.x,t.y=v.y):t.updateData(n,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=m.rawX,t.__radialRawY=m.rawY,i.add(t),n.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,Gn(t,{x:m.x,y:m.y},r);var y=t.getSymbolPath();if(r.get("layout")==="radial"){var x=c.children[0],b=x.getLayout(),M=x.children.length,C=void 0,w=void 0;if(m.x===b.x&&s.isExpand===!0&&x.children.length){var E={x:(x.children[0].getLayout().x+x.children[M-1].getLayout().x)/2,y:(x.children[0].getLayout().y+x.children[M-1].getLayout().y)/2};C=Math.atan2(E.y-b.y,E.x-b.x),C<0&&(C=Math.PI*2+C),w=E.x<b.x,w&&(C=C-Math.PI)}else C=Math.atan2(m.y-b.y,m.x-b.x),C<0&&(C=Math.PI*2+C),s.children.length===0||s.children.length!==0&&s.isExpand===!1?(w=m.x<b.x,w&&(C=C-Math.PI)):(w=m.x>b.x,w||(C=C-Math.PI));var L=w?"left":"right",P=o.getModel("label"),I=P.get("rotate"),N=I*(Math.PI/180),z=y.getTextContent();z&&(y.setTextConfig({position:P.get("position")||L,rotation:I==null?-C:N,origin:"center"}),z.setStyle("verticalAlign","middle"))}var V=o.get(["emphasis","focus"]),U=V==="relative"?lb(s.getAncestorsIndices(),s.getDescendantIndices()):V==="ancestor"?s.getAncestorsIndices():V==="descendant"?s.getDescendantIndices():null;U&&(jt(t).focus=U),$ke(r,s,c,t,v,d,m,i),t.__edge&&(t.onHoverStateChange=function(j){if(j!=="blur"){var W=s.parentNode&&n.getItemGraphicEl(s.parentNode.dataIndex);W&&W.hoverState===PC||_L(t.__edge,j)}})}function $ke(n,e,t,i,r,a,s,o){var l=e.getModel(),u=n.get("edgeShape"),c=n.get("layout"),f=n.getOrient(),h=n.get(["lineStyle","curveness"]),d=n.get("edgeForkPosition"),v=l.getModel("lineStyle").getLineStyle(),m=i.__edge;if(u==="curve")e.parentNode&&e.parentNode!==t&&(m||(m=i.__edge=new rS({shape:KU(c,f,h,r,r)})),Gn(m,{shape:KU(c,f,h,a,s)},n));else if(u==="polyline"&&c==="orthogonal"&&e!==t&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var y=e.children,x=[],b=0;b<y.length;b++){var M=y[b].getLayout();x.push([M.x,M.y])}m||(m=i.__edge=new Jke({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:f,forkPosition:d}})),Gn(m,{shape:{parentPoint:[s.x,s.y],childPoints:x}},n)}m&&!(u==="polyline"&&!e.isExpand)&&(m.useStyle(Bt({strokeNoScale:!0,fill:null},v)),Da(m,l,"lineStyle"),Ny(m),o.add(m))}function eJ(n,e,t,i,r){var a=e.tree.root,s=Hhe(a,n),o=s.source,l=s.sourceLayout,u=e.getItemGraphicEl(n.dataIndex);if(u){var c=e.getItemGraphicEl(o.dataIndex),f=c.__edge,h=u.__edge||(o.isExpand===!1||o.children.length===1?f:void 0),d=i.get("edgeShape"),v=i.get("layout"),m=i.get("orient"),y=i.get(["lineStyle","curveness"]);h&&(d==="curve"?bm(h,{shape:KU(v,m,y,l,l),style:{opacity:0}},i,{cb:function(){t.remove(h)},removeOpt:r}):d==="polyline"&&i.get("layout")==="orthogonal"&&bm(h,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},i,{cb:function(){t.remove(h)},removeOpt:r}))}}function Hhe(n,e){for(var t=e.parentNode===n?e:e.parentNode||e,i;i=t.getLayout(),i==null;)t=t.parentNode===n?t:t.parentNode||t;return{source:t,sourceLayout:i}}function tJ(n,e,t,i,r){var a=n.tree.getNodeByDataIndex(e),s=n.tree.root,o=Hhe(s,a).sourceLayout,l={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};bm(t,{x:o.x+1,y:o.y+1},r,{cb:function(){i.remove(t),n.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(u){eJ(u,n,i,r,l)}),eJ(a,n,i,r,l)}function KU(n,e,t,i,r){var a,s,o,l,u,c,f,h;if(n==="radial"){u=i.rawX,f=i.rawY,c=r.rawX,h=r.rawY;var d=d2(u,f),v=d2(u,f+(h-f)*t),m=d2(c,h+(f-h)*t),y=d2(c,h);return{x1:d.x||0,y1:d.y||0,x2:y.x||0,y2:y.y||0,cpx1:v.x||0,cpy1:v.y||0,cpx2:m.x||0,cpy2:m.y||0}}else u=i.x,f=i.y,c=r.x,h=r.y,(e==="LR"||e==="RL")&&(a=u+(c-u)*t,s=f,o=c+(u-c)*t,l=h),(e==="TB"||e==="BT")&&(a=u,s=f+(h-f)*t,o=c,l=h+(f-h)*t);return{x1:u,y1:f,x2:c,y2:h,cpx1:a,cpy1:s,cpx2:o,cpy2:l}}var Ku=_n();function Whe(n){var e=n.mainData,t=n.datas;t||(t={main:e},n.datasAttr={main:"data"}),n.datas=n.mainData=null,Xhe(e,t,n),Z(t,function(i){Z(e.TRANSFERABLE_METHODS,function(r){i.wrapMethod(r,$t(eFe,n))})}),e.wrapMethod("cloneShallow",$t(nFe,n)),Z(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,$t(tFe,n))}),zs(t[e.dataType]===e)}function eFe(n,e){if(aFe(this)){var t=Ie({},Ku(this).datas);t[this.dataType]=e,Xhe(e,t,n)}else S9(e,this.dataType,Ku(this).mainData,n);return e}function tFe(n,e){return n.struct&&n.struct.update(),e}function nFe(n,e){return Z(Ku(e).datas,function(t,i){t!==e&&S9(t.cloneShallow(),i,e,n)}),e}function iFe(n){var e=Ku(this).mainData;return n==null||e==null?e:Ku(e).datas[n]}function rFe(){var n=Ku(this).mainData;return n==null?[{data:n}]:We(Dn(Ku(n).datas),function(e){return{type:e,data:Ku(n).datas[e]}})}function aFe(n){return Ku(n).mainData===n}function Xhe(n,e,t){Ku(n).datas={},Z(e,function(i,r){S9(i,r,n,t)})}function S9(n,e,t,i){Ku(t).datas[e]=n,Ku(n).mainData=t,n.dataType=e,i.struct&&(n[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=n),n.getLinkedData=iFe,n.getLinkedDataAll=rFe}var sFe=(function(){function n(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(e,t,i){wt(e)&&(i=t,t=e,e=null),e=e||{},ot(e)&&(e={order:e});var r=e.order||"preorder",a=this[e.attr||"children"],s;r==="preorder"&&(s=t.call(i,this));for(var o=0;!s&&o<a.length;o++)a[o].eachNode(e,t,i);r==="postorder"&&t.call(i,this)},n.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var i=0;i<this.children.length;i++){var r=this.children[i];r.updateDepthAndHeight(e+1),r.height>t&&(t=r.height)}this.height=t+1},n.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,i=this.children,r=i.length;t<r;t++){var a=i[t].getNodeById(e);if(a)return a}},n.prototype.contains=function(e){if(e===this)return!0;for(var t=0,i=this.children,r=i.length;t<r;t++){var a=i[t].contains(e);if(a)return a}},n.prototype.getAncestors=function(e){for(var t=[],i=e?this:this.parentNode;i;)t.push(i),i=i.parentNode;return t.reverse(),t},n.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},n.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},n.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},n.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostTree,i=t.data.getItemModel(this.dataIndex);return i.getModel(e)}},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},n.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},n.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},n.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},n})(),A9=(function(){function n(e){this.type="tree",this._nodes=[],this.hostModel=e}return n.prototype.eachNode=function(e,t,i){this.root.eachNode(e,t,i)},n.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},n.prototype.getNodeById=function(e){return this.root.getNodeById(e)},n.prototype.update=function(){for(var e=this.data,t=this._nodes,i=0,r=t.length;i<r;i++)t[i].dataIndex=-1;for(var i=0,r=e.count();i<r;i++)t[e.getRawIndex(i)].dataIndex=i},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(e,t,i){var r=new n(t),a=[],s=1;o(e);function o(c,f){var h=c.value;s=Math.max(s,Ve(h)?h.length:1),a.push(c);var d=new sFe(Ea(c.name,""),r);f?oFe(d,f):r.root=d,r._nodes.push(d);var v=c.children;if(v)for(var m=0;m<v.length;m++)o(v[m],d)}r.root.updateDepthAndHeight(0);var l=pS(a,{coordDimensions:["value"],dimensionsCount:s}).dimensions,u=new fo(l,t);return u.initData(a),i&&i(u),Whe({mainData:u,struct:r,structAttr:"tree"}),r.update(),r},n})();function oFe(n,e){var t=e.children;n.parentNode!==e&&(t.push(n),n.parentNode=e)}function ZT(n,e,t){if(n&&rn(e,n.type)>=0){var i=t.getData().tree.root,r=n.targetNode;if(ot(r)&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var a=n.targetNodeId;if(a!=null&&(r=i.getNodeById(a)))return{node:r}}}function Yhe(n){for(var e=[];n;)n=n.parentNode,n&&e.push(n);return e.reverse()}function M9(n,e){var t=Yhe(n);return rn(t,e)>=0}function uP(n,e){for(var t=[];n;){var i=n.dataIndex;t.push({name:n.name,dataIndex:i,value:e.getRawValue(i)}),n=n.parentNode}return t.reverse(),t}var lFe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t){var i={name:t.name,children:t.data},r=t.leaves||{},a=new Sn(r,this,this.ecModel),s=A9.createTree(i,this,o);function o(f){f.wrapMethod("getItemModel",function(h,d){var v=s.getNodeByDataIndex(d);return v&&v.children.length&&v.isExpand||(h.parentModel=a),h})}var l=0;s.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=t.expandAndCollapse,c=u&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return s.root.eachNode("preorder",function(f){var h=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=h&&h.collapsed!=null?!h.collapsed:f.depth<=c}),s.data},e.prototype.getOrient=function(){var t=this.get("orient");return t==="horizontal"?t="LR":t==="vertical"&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,i,r){for(var a=this.getData().tree,s=a.root.children[0],o=a.getNodeByDataIndex(t),l=o.getValue(),u=o.name;o&&o!==s;)u=o.parentNode.name+"."+u,o=o.parentNode;return pa("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=uP(r,this),i.collapsed=!r.isExpand,i},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:xe.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e})(Ti);function uFe(n,e,t){for(var i=[n],r=[],a;a=i.pop();)if(r.push(a),a.isExpand){var s=a.children;if(s.length)for(var o=0;o<s.length;o++)i.push(s[o])}for(;a=r.pop();)e(a,t)}function CM(n,e){for(var t=[n],i;i=t.pop();)if(e(i),i.isExpand){var r=i.children;if(r.length)for(var a=r.length-1;a>=0;a--)t.push(r[a])}}function cFe(n,e){n.eachSeriesByType("tree",function(t){fFe(t,e)})}function fFe(n,e){var t=Na(n,e).refContainer,i=Ji(n.getBoxLayoutParams(),t);n.layoutInfo=i;var r=n.get("layout"),a=0,s=0,o=null;r==="radial"?(a=2*Math.PI,s=Math.min(i.height,i.width)/2,o=JK(function(C,w){return(C.parentNode===w.parentNode?1:2)/C.depth})):(a=i.width,s=i.height,o=JK());var l=n.getData().tree.root,u=l.children[0];if(u){Vke(l),uFe(u,jke,o),l.hierNode.modifier=-u.hierNode.prelim,CM(u,Hke);var c=u,f=u,h=u;CM(u,function(C){var w=C.getLayout().x;w<c.getLayout().x&&(c=C),w>f.getLayout().x&&(f=C),C.depth>h.depth&&(h=C)});var d=c===f?1:o(c,f)/2,v=d-c.getLayout().x,m=0,y=0,x=0,b=0;if(r==="radial")m=a/(f.getLayout().x+d+v),y=s/(h.depth-1||1),CM(u,function(C){x=(C.getLayout().x+v)*m,b=(C.depth-1)*y;var w=d2(x,b);C.setLayout({x:w.x,y:w.y,rawX:x,rawY:b},!0)});else{var M=n.getOrient();M==="RL"||M==="LR"?(y=s/(f.getLayout().x+d+v),m=a/(h.depth-1||1),CM(u,function(C){b=(C.getLayout().x+v)*y,x=M==="LR"?(C.depth-1)*m:a-(C.depth-1)*m,C.setLayout({x,y:b},!0)})):(M==="TB"||M==="BT")&&(m=a/(f.getLayout().x+d+v),y=s/(h.depth-1||1),CM(u,function(C){x=(C.getLayout().x+v)*m,b=M==="TB"?(C.depth-1)*y:s-(C.depth-1)*y,C.setLayout({x,y:b},!0)}))}}}function hFe(n){n.eachSeriesByType("tree",function(e){var t=e.getData(),i=t.tree;i.eachNode(function(r){var a=r.getModel(),s=a.getModel("itemStyle").getItemStyle(),o=t.ensureUniqueItemVisual(r.dataIndex,"style");Ie(o,s)})})}function dFe(n){n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var r=e.dataIndex,a=i.getData().tree,s=a.getNodeByDataIndex(r);s.isExpand=!s.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,i){t.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var a=r.coordinateSystem,s=oP(a,e,r.get("scaleLimit"));r.setCenter(s.center),r.setZoom(s.zoom)})})}function pFe(n){n.registerChartView(Qke),n.registerSeriesModel(lFe),n.registerLayout(cFe),n.registerVisual(hFe),dFe(n)}var nJ=["treemapZoomToNode","treemapRender","treemapMove"];function vFe(n){for(var e=0;e<nJ.length;e++)n.registerAction({type:nJ[e],update:"updateView"},Or);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,i){i.eachComponent({mainType:"series",subType:"treemap",query:t},r);function r(a,s){var o=["treemapZoomToNode","treemapRootToNode"],l=ZT(t,o,a);if(l){var u=a.getViewRoot();u&&(t.direction=M9(u,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}}})}function qhe(n){var e=n.getData(),t=e.tree,i={};t.eachNode(function(r){for(var a=r;a&&a.depth>1;)a=a.parentNode;var s=dU(n.ecModel,a.name||a.dataIndex+"",i);r.setVisual("decal",s)})}var mFe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return e.prototype.getInitialData=function(t,i){var r={name:t.name,children:t.data};Zhe(r);var a=t.levels||[],s=this.designatedVisualItemStyle={},o=new Sn({itemStyle:s},this,i);a=t.levels=gFe(a,i);var l=We(a||[],function(f){return new Sn(f,o,i)},this),u=A9.createTree(r,this,c);function c(f){f.wrapMethod("getItemModel",function(h,d){var v=u.getNodeByDataIndex(d),m=v?l[v.depth]:null;return h.parentModel=m||o,h})}return u.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,i,r){var a=this.getData(),s=this.getRawValue(t),o=a.getName(t);return pa("nameValue",{name:o,value:s})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=uP(r,this),i.treePathInfo=i.treeAncestors,i},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},Ie(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var i=this._idIndexMap;i||(i=this._idIndexMap=bt(),this._idIndexMapCount=0);var r=i.get(t);return r==null&&i.set(t,r=this._idIndexMapCount++),r},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;(!t||t!==i&&!i.contains(t))&&(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){qhe(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,coordinateSystemUsage:"box",left:xe.size.l,top:xe.size.xxxl,right:xe.size.l,bottom:xe.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:xe.size.m,emptyItemWidth:25,itemStyle:{color:xe.color.backgroundShade,textStyle:{color:xe.color.secondary}},emphasis:{itemStyle:{color:xe.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:xe.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:xe.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e})(Ti);function Zhe(n){var e=0;Z(n.children,function(i){Zhe(i);var r=i.value;Ve(r)&&(r=r[0]),e+=r});var t=n.value;Ve(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),Ve(n.value)?n.value[0]=t:n.value=t}function gFe(n,e){var t=Pi(e.get("color")),i=Pi(e.get(["aria","decal","decals"]));if(t){n=n||[];var r,a;Z(n,function(o){var l=new Sn(o),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(r=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(a=!0)});var s=n[0]||(n[0]={});return r||(s.color=t.slice()),!a&&i&&(s.decal=i.slice()),n}}var yFe=8,iJ=8,Z5=5,xFe=(function(){function n(e){this.group=new It,e.add(this.group)}return n.prototype.render=function(e,t,i,r){var a=e.getModel("breadcrumb"),s=this.group;if(s.removeAll(),!(!a.get("show")||!i)){var o=a.getModel("itemStyle"),l=a.getModel("emphasis"),u=o.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),f=Na(e,t).refContainer,h={left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},d={emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]},v=Ji(h,f);this._prepare(i,d,u),this._renderContent(e,d,v,o,l,u,c,r),KI(s,h,f)}},n.prototype._prepare=function(e,t,i){for(var r=e;r;r=r.parentNode){var a=Ea(r.getModel().get("name"),""),s=i.getTextRect(a),o=Math.max(s.width+yFe*2,t.emptyItemWidth);t.totalWidth+=o+iJ,t.renderList.push({node:r,text:a,width:o})}},n.prototype._renderContent=function(e,t,i,r,a,s,o,l){for(var u=0,c=t.emptyItemWidth,f=e.get(["breadcrumb","height"]),h=t.totalWidth,d=t.renderList,v=a.getModel("itemStyle").getItemStyle(),m=d.length-1;m>=0;m--){var y=d[m],x=y.node,b=y.width,M=y.text;h>i.width&&(h-=b-c,b=c,M=null);var C=new Fs({shape:{points:_Fe(u,0,b,f,m===d.length-1,m===0)},style:Bt(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new In({style:Ii(s,{text:M})}),textConfig:{position:"inside"},z2:nS*1e4,onclick:$t(l,x)});C.disableLabelAnimation=!0,C.getTextContent().ensureState("emphasis").style=Ii(o,{text:M}),C.ensureState("emphasis").style=v,rr(C,a.get("focus"),a.get("blurScope"),a.get("disabled")),this.group.add(C),bFe(C,e,x),u+=b+iJ}},n.prototype.remove=function(){this.group.removeAll()},n})();function _Fe(n,e,t,i,r,a){var s=[[r?n:n-Z5,e],[n+t,e],[n+t,e+i],[r?n:n-Z5,e+i]];return!a&&s.splice(2,0,[n+t+Z5,e+i/2]),!r&&s.push([n,e+i/2]),s}function bFe(n,e,t){jt(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&uP(t,e)}}var SFe=(function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(e,t,i,r,a){return this._elExistsMap[e.id]?!1:(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:i,delay:r,easing:a}),!0)},n.prototype.finished=function(e){return this._finishedCallback=e,this},n.prototype.start=function(){for(var e=this,t=this._storage.length,i=function(){t--,t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},r=0,a=this._storage.length;r<a;r++){var s=this._storage[r];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:i,aborted:i})}return this},n})();function AFe(){return new SFe}var JU=It,rJ=pn,aJ=3,sJ="label",oJ="upperLabel",MFe=nS*10,TFe=nS*2,CFe=nS*3,D0=Ly([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),lJ=function(n){var e=D0(n);return e.stroke=e.fill=e.lineWidth=null,e},qL=_n(),wFe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage=wM(),t}return e.prototype.render=function(t,i,r,a){var s=i.findComponents({mainType:"series",subType:"treemap",query:a});if(!(rn(s,t)<0)){this.seriesModel=t,this.api=r,this.ecModel=i;var o=["treemapZoomToNode","treemapRootToNode"],l=ZT(a,o,t),u=a&&a.type,c=t.layoutInfo,f=!this._oldTree,h=this._storage,d=u==="treemapRootToNode"&&l&&h?{rootNodeGroup:h.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,v=this._giveContainerGroup(c),m=t.get("animation"),y=this._doRender(v,t,d);m&&!f&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(v,y,t,d):y.renderFinally(),this._resetController(r),this._renderBreadcrumb(t,r,l)}},e.prototype._giveContainerGroup=function(t){var i=this._containerGroup;return i||(i=this._containerGroup=new JU,this._initEvents(i),this.group.add(i)),i.x=t.x,i.y=t.y,i},e.prototype._doRender=function(t,i,r){var a=i.getData().tree,s=this._oldTree,o=wM(),l=wM(),u=this._storage,c=[];function f(b,M,C,w){return EFe(i,l,u,r,o,c,b,M,C,w)}m(a.root?[a.root]:[],s&&s.root?[s.root]:[],t,a===s||!s,0);var h=y(u);if(this._oldTree=a,this._storage=l,this._controllerHost){var d=this.seriesModel.layoutInfo,v=a.root.getLayout();v.width===d.width&&v.height===d.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:o,willDeleteEls:h,renderFinally:x};function m(b,M,C,w,E){w?(M=b,Z(b,function(I,N){!I.isRemoved()&&P(N,N)})):new Ap(M,b,L,L).add(P).update(P).remove($t(P,null)).execute();function L(I){return I.getId()}function P(I,N){var z=I!=null?b[I]:null,V=N!=null?M[N]:null,U=f(z,V,C,E);U&&m(z&&z.viewChildren||[],V&&V.viewChildren||[],U,w,E+1)}}function y(b){var M=wM();return b&&Z(b,function(C,w){var E=M[w];Z(C,function(L){L&&(E.push(L),qL(L).willDelete=!0)})}),M}function x(){Z(h,function(b){Z(b,function(M){M.parent&&M.parent.remove(M)})}),Z(c,function(b){b.invisible=!0,b.dirty()})}},e.prototype._doAnimation=function(t,i,r,a){var s=r.get("animationDurationUpdate"),o=r.get("animationEasing"),l=(wt(s)?0:s)||0,u=(wt(o)?null:o)||"cubicOut",c=AFe();Z(i.willDeleteEls,function(f,h){Z(f,function(d,v){if(!d.invisible){var m=d.parent,y,x=qL(m);if(a&&a.direction==="drillDown")y=m===a.rootNodeGroup?{shape:{x:0,y:0,width:x.nodeWidth,height:x.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var b=0,M=0;x.willDelete||(b=x.nodeWidth/2,M=x.nodeHeight/2),y=h==="nodeGroup"?{x:b,y:M,style:{opacity:0}}:{shape:{x:b,y:M,width:0,height:0},style:{opacity:0}}}y&&c.add(d,y,l,0,u)}})}),Z(this._storage,function(f,h){Z(f,function(d,v){var m=i.lastsForAnimation[h][v],y={};m&&(d instanceof It?m.oldX!=null&&(y.x=d.x,y.y=d.y,d.x=m.oldX,d.y=m.oldY):(m.oldShape&&(y.shape=Ie({},d.shape),d.setShape(m.oldShape)),m.fadein?(d.setStyle("opacity",0),y.style={opacity:1}):d.style.opacity!==1&&(y.style={opacity:1})),c.add(d,y,l,0,u))})},this),this._state="animating",c.finished(ct(function(){this._state="ready",i.renderFinally()},this)).start()},e.prototype._resetController=function(t){var i=this,r=this._controller,a=this._controllerHost;a||(this._controllerHost={target:this.group},a=this._controllerHost);var s=this.seriesModel;r||(r=this._controller=new ex(t.getZr()),r.on("pan",ct(this._onPan,this)),r.on("zoom",ct(this._onZoom,this))),r.enable(s.get("roam"),{api:t,zInfo:{component:s},triggerInfo:{roamTrigger:s.get("roamTrigger"),isInSelf:function(o,l,u){var c=i._containerGroup;return c?c.getBoundingRect().contain(l-c.x,u-c.y):!1}}}),a.zoomLimit=s.get("scaleLimit"),a.zoom=s.get("zoom")},e.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if(this._state!=="animating"&&(Math.abs(t.dx)>aJ||Math.abs(t.dy)>aJ)){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+t.dx,y:r.y+t.dy,width:r.width,height:r.height}})}},e.prototype._onZoom=function(t){var i=t.originX,r=t.originY,a=t.scale;if(this._state!=="animating"){var s=this.seriesModel.getData().tree.root;if(!s)return;var o=s.getLayout();if(!o)return;var l=new Ut(o.x,o.y,o.width,o.height),u=null,c=this._controllerHost;u=c.zoomLimit;var f=c.zoom=c.zoom||1;if(f*=a,u){var h=u.min||0,d=u.max||1/0;f=Math.max(Math.min(d,f),h)}var v=f/c.zoom;c.zoom=f;var m=this.seriesModel.layoutInfo;i-=m.x,r-=m.y;var y=ja();af(y,y,[-i,-r]),PI(y,y,[v,v]),af(y,y,[i,r]),l.applyTransform(y),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},e.prototype._initEvents=function(t){var i=this;t.on("click",function(r){if(i._state==="ready"){var a=i.seriesModel.get("nodeClick",!0);if(a){var s=i.findTarget(r.offsetX,r.offsetY);if(s){var o=s.node;if(o.getLayout().isLeafRoot)i._rootToNode(s);else if(a==="zoomToNode")i._zoomToNode(s);else if(a==="link"){var l=o.hostTree.data.getItemModel(o.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&ML(u,c)}}}}},this)},e.prototype._renderBreadcrumb=function(t,i,r){var a=this;r||(r=t.get("leafDepth",!0)!=null?{node:t.getViewRoot()}:this.findTarget(i.getWidth()/2,i.getHeight()/2),r||(r={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new xFe(this.group))).render(t,i,r.node,function(s){a._state!=="animating"&&(M9(t.getViewRoot(),s)?a._rootToNode({node:s}):a._zoomToNode({node:s}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=wM(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,i){var r,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(s){var o=this._storage.background[s.getRawIndex()];if(o){var l=o.transformCoordToLocal(t,i),u=o.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)r={node:s,offsetX:l[0],offsetY:l[1]};else return!1}},this),r},e.type="treemap",e})(xi);function wM(){return{nodeGroup:[],background:[],content:[]}}function EFe(n,e,t,i,r,a,s,o,l,u){if(!s)return;var c=s.getLayout(),f=n.getData(),h=s.getModel();if(f.setItemGraphicEl(s.dataIndex,null),!c||!c.isInView)return;var d=c.width,v=c.height,m=c.borderWidth,y=c.invisible,x=s.getRawIndex(),b=o&&o.getRawIndex(),M=s.viewChildren,C=c.upperHeight,w=M&&M.length,E=h.getModel("itemStyle"),L=h.getModel(["emphasis","itemStyle"]),P=h.getModel(["blur","itemStyle"]),I=h.getModel(["select","itemStyle"]),N=E.get("borderRadius")||0,z=ue("nodeGroup",JU);if(!z)return;if(l.add(z),z.x=c.x||0,z.y=c.y||0,z.markRedraw(),qL(z).nodeWidth=d,qL(z).nodeHeight=v,c.isAboveViewRoot)return z;var V=ue("background",rJ,u,TFe);V&&te(z,V,w&&c.upperLabelHeight);var U=h.getModel("emphasis"),j=U.get("focus"),W=U.get("blurScope"),G=U.get("disabled"),X=j==="ancestor"?s.getAncestorsIndices():j==="descendant"?s.getDescendantIndices():j;if(w)PT(z)&&Y0(z,!1),V&&(Y0(V,!G),f.setItemGraphicEl(s.dataIndex,V),nU(V,X,W));else{var q=ue("content",rJ,u,CFe);q&&J(z,q),V.disableMorphing=!0,V&&PT(V)&&Y0(V,!1),Y0(z,!G),f.setItemGraphicEl(s.dataIndex,z);var $=h.getShallow("cursor");$&&q.attr("cursor",$),nU(z,X,W)}return z;function te(Se,Ee,Ue){var _e=jt(Ee);if(_e.dataIndex=s.dataIndex,_e.seriesIndex=n.seriesIndex,Ee.setShape({x:0,y:0,width:d,height:v,r:N}),y)Q(Ee);else{Ee.invisible=!1;var ke=s.getVisual("style"),dt=ke.stroke,De=lJ(E);De.fill=dt;var ae=D0(L);ae.fill=L.get("borderColor");var Fe=D0(P);Fe.fill=P.get("borderColor");var qe=D0(I);if(qe.fill=I.get("borderColor"),Ue){var rt=d-2*m;se(Ee,dt,ke.opacity,{x:m,y:0,width:rt,height:C})}else Ee.removeTextContent();Ee.setStyle(De),Ee.ensureState("emphasis").style=ae,Ee.ensureState("blur").style=Fe,Ee.ensureState("select").style=qe,Ny(Ee)}Se.add(Ee)}function J(Se,Ee){var Ue=jt(Ee);Ue.dataIndex=s.dataIndex,Ue.seriesIndex=n.seriesIndex;var _e=Math.max(d-2*m,0),ke=Math.max(v-2*m,0);if(Ee.culling=!0,Ee.setShape({x:m,y:m,width:_e,height:ke,r:N}),y)Q(Ee);else{Ee.invisible=!1;var dt=s.getVisual("style"),De=dt.fill,ae=lJ(E);ae.fill=De,ae.decal=dt.decal;var Fe=D0(L),qe=D0(P),rt=D0(I);se(Ee,De,dt.opacity,null),Ee.setStyle(ae),Ee.ensureState("emphasis").style=Fe,Ee.ensureState("blur").style=qe,Ee.ensureState("select").style=rt,Ny(Ee)}Se.add(Ee)}function Q(Se){!Se.invisible&&a.push(Se)}function se(Se,Ee,Ue,_e){var ke=h.getModel(_e?oJ:sJ),dt=Ea(h.get("name"),null),De=ke.getShallow("show");Xa(Se,Ra(h,_e?oJ:sJ),{defaultText:De?dt:null,inheritColor:Ee,defaultOpacity:Ue,labelFetcher:n,labelDataIndex:s.dataIndex});var ae=Se.getTextContent();if(ae){var Fe=ae.style,qe=DC(Fe.padding||0);_e&&(Se.setTextConfig({layoutRect:_e}),ae.disableLabelLayout=!0),ae.beforeUpdate=function(){var Je=Math.max((_e?_e.width:Se.shape.width)-qe[1]-qe[3],0),_t=Math.max((_e?_e.height:Se.shape.height)-qe[0]-qe[2],0);(Fe.width!==Je||Fe.height!==_t)&&ae.setStyle({width:Je,height:_t})},Fe.truncateMinChar=2,Fe.lineOverflow="truncate",ce(Fe,_e,c);var rt=ae.getState("emphasis");ce(rt?rt.style:null,_e,c)}}function ce(Se,Ee,Ue){var _e=Se?Se.text:null;if(!Ee&&Ue.isLeafRoot&&_e!=null){var ke=n.get("drillDownIcon",!0);Se.text=ke?ke+" "+_e:_e}}function ue(Se,Ee,Ue,_e){var ke=b!=null&&t[Se][b],dt=r[Se];return ke?(t[Se][b]=null,fe(dt,ke)):y||(ke=new Ee,ke instanceof $u&&(ke.z2=DFe(Ue,_e)),ge(dt,ke)),e[Se][x]=ke}function fe(Se,Ee){var Ue=Se[x]={};Ee instanceof JU?(Ue.oldX=Ee.x,Ue.oldY=Ee.y):Ue.oldShape=Ie({},Ee.shape)}function ge(Se,Ee){var Ue=Se[x]={},_e=s.parentNode,ke=Ee instanceof It;if(_e&&(!i||i.direction==="drillDown")){var dt=0,De=0,ae=r.background[_e.getRawIndex()];!i&&ae&&ae.oldShape&&(dt=ae.oldShape.width,De=ae.oldShape.height),ke?(Ue.oldX=0,Ue.oldY=De):Ue.oldShape={x:dt,y:De,width:0,height:0}}Ue.fadein=!ke}}function DFe(n,e){return n*MFe+e}var KT=Z,RFe=Ot,ZL=-1,Ha=(function(){function n(e){var t=e.mappingMethod,i=e.type,r=this.option=Nt(e);this.type=i,this.mappingMethod=t,this._normalizeData=IFe[t];var a=n.visualHandlers[i];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[t],t==="piecewise"?(K5(r),LFe(r)):t==="category"?r.categories?NFe(r):K5(r,!0):(zs(t!=="linear"||r.dataExtent),K5(r))}return n.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},n.prototype.getNormalizer=function(){return ct(this._normalizeData,this)},n.listVisualTypes=function(){return Dn(n.visualHandlers)},n.isValidType=function(e){return n.visualHandlers.hasOwnProperty(e)},n.eachVisual=function(e,t,i){Ot(e)?Z(e,t,i):t.call(i,e)},n.mapVisual=function(e,t,i){var r,a=Ve(e)?[]:Ot(e)?{}:(r=!0,null);return n.eachVisual(e,function(s,o){var l=t.call(i,s,o);r?a=l:a[o]=l}),a},n.retrieveVisuals=function(e){var t={},i;return e&&KT(n.visualHandlers,function(r,a){e.hasOwnProperty(a)&&(t[a]=e[a],i=!0)}),i?t:null},n.prepareVisualTypes=function(e){if(Ve(e))e=e.slice();else if(RFe(e)){var t=[];KT(e,function(i,r){t.push(r)}),e=t}else return[];return e.sort(function(i,r){return r==="color"&&i!=="color"&&i.indexOf("color")===0?1:-1}),e},n.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t},n.findPieceIndex=function(e,t,i){for(var r,a=1/0,s=0,o=t.length;s<o;s++){var l=t[s].value;if(l!=null){if(l===e||ot(l)&&l===e+"")return s;i&&h(l,s)}}for(var s=0,o=t.length;s<o;s++){var u=t[s],c=u.interval,f=u.close;if(c){if(c[0]===-1/0){if(ND(f[1],e,c[1]))return s}else if(c[1]===1/0){if(ND(f[0],c[0],e))return s}else if(ND(f[0],c[0],e)&&ND(f[1],e,c[1]))return s;i&&h(c[0],s),i&&h(c[1],s)}}if(i)return e===1/0?t.length-1:e===-1/0?0:r;function h(d,v){var m=Math.abs(d-e);m<a&&(a=m,r=v)}},n.visualHandlers={color:{applyVisual:EM("color"),getColorMapper:function(){var e=this.option;return ct(e.mappingMethod==="category"?function(t,i){return!i&&(t=this._normalizeData(t)),p2.call(this,t)}:function(t,i,r){var a=!!r;return!i&&(t=this._normalizeData(t)),r=G2(t,e.parsedVisual,r),a?r:Zu(r,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Zu(G2(e,this.option.parsedVisual),"rgba")},category:p2,piecewise:function(e,t){var i=$U.call(this,t);return i==null&&(i=Zu(G2(e,this.option.parsedVisual),"rgba")),i},fixed:R0}},colorHue:LD(function(e,t){return ip(e,t)}),colorSaturation:LD(function(e,t){return ip(e,null,t)}),colorLightness:LD(function(e,t){return ip(e,null,null,t)}),colorAlpha:LD(function(e,t){return DT(e,t)}),decal:{applyVisual:EM("decal"),_normalizedToVisual:{linear:null,category:p2,piecewise:null,fixed:null}},opacity:{applyVisual:EM("opacity"),_normalizedToVisual:QU([0,1])},liftZ:{applyVisual:EM("liftZ"),_normalizedToVisual:{linear:R0,category:R0,piecewise:R0,fixed:R0}},symbol:{applyVisual:function(e,t,i){var r=this.mapValueToVisual(e);i("symbol",r)},_normalizedToVisual:{linear:uJ,category:p2,piecewise:function(e,t){var i=$U.call(this,t);return i==null&&(i=uJ.call(this,e)),i},fixed:R0}},symbolSize:{applyVisual:EM("symbolSize"),_normalizedToVisual:QU([0,1])}},n})();function LFe(n){var e=n.pieceList;n.hasSpecialVisual=!1,Z(e,function(t,i){t.originIndex=i,t.visual!=null&&(n.hasSpecialVisual=!0)})}function NFe(n){var e=n.categories,t=n.categoryMap={},i=n.visual;if(KT(e,function(s,o){t[s]=o}),!Ve(i)){var r=[];Ot(i)?KT(i,function(s,o){var l=t[o];r[l??ZL]=s}):r[ZL]=i,i=Khe(n,r)}for(var a=e.length-1;a>=0;a--)i[a]==null&&(delete t[e[a]],e.pop())}function K5(n,e){var t=n.visual,i=[];Ot(t)?KT(t,function(a){i.push(a)}):t!=null&&i.push(t);var r={color:1,symbol:1};!e&&i.length===1&&!r.hasOwnProperty(n.type)&&(i[1]=i[0]),Khe(n,i)}function LD(n){return{applyVisual:function(e,t,i){var r=this.mapValueToVisual(e);i("color",n(t("color"),r))},_normalizedToVisual:QU([0,1])}}function uJ(n){var e=this.option.visual;return e[Math.round(ei(n,[0,1],[0,e.length-1],!0))]||{}}function EM(n){return function(e,t,i){i(n,this.mapValueToVisual(e))}}function p2(n){var e=this.option.visual;return e[this.option.loop&&n!==ZL?n%e.length:n]}function R0(){return this.option.visual[0]}function QU(n){return{linear:function(e){return ei(e,n,this.option.visual,!0)},category:p2,piecewise:function(e,t){var i=$U.call(this,t);return i==null&&(i=ei(e,n,this.option.visual,!0)),i},fixed:R0}}function $U(n){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var i=Ha.findPieceIndex(n,t),r=t[i];if(r&&r.visual)return r.visual[this.type]}}function Khe(n,e){return n.visual=e,n.type==="color"&&(n.parsedVisual=We(e,function(t){var i=co(t);return i||[0,0,0,1]})),e}var IFe={linear:function(n){return ei(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var e=this.option.pieceList,t=Ha.findPieceIndex(n,e,!0);if(t!=null)return ei(t,[0,e.length-1],[0,1],!0)},category:function(n){var e=this.option.categories?this.option.categoryMap[n]:n;return e??ZL},fixed:Or};function ND(n,e,t){return n?e<=t:e<t}var PFe="itemStyle",Jhe=_n();const BFe={seriesType:"treemap",reset:function(n){var e=n.getData().tree,t=e.root;t.isRemoved()||Qhe(t,{},n.getViewRoot().getAncestors(),n)}};function Qhe(n,e,t,i){var r=n.getModel(),a=n.getLayout(),s=n.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var o=r.getModel(PFe),l=OFe(o,e,i),u=s.ensureUniqueItemVisual(n.dataIndex,"style"),c=o.get("borderColor"),f=o.get("borderColorSaturation"),h;f!=null&&(h=cJ(l),c=zFe(f,h)),u.stroke=c;var d=n.viewChildren;if(!d||!d.length)h=cJ(l),u.fill=h;else{var v=kFe(n,r,a,o,l,d);Z(d,function(m,y){if(m.depth>=t.length||m===t[m.depth]){var x=FFe(r,l,m,y,v,i);Qhe(m,x,t,i)}})}}}function OFe(n,e,t){var i=Ie({},e),r=t.designatedVisualItemStyle;return Z(["color","colorAlpha","colorSaturation"],function(a){r[a]=e[a];var s=n.get(a);r[a]=null,s!=null&&(i[a]=s)}),i}function cJ(n){var e=J5(n,"color");if(e){var t=J5(n,"colorAlpha"),i=J5(n,"colorSaturation");return i&&(e=ip(e,null,null,i)),t&&(e=DT(e,t)),e}}function zFe(n,e){return e!=null?ip(e,null,null,n):null}function J5(n,e){var t=n[e];if(t!=null&&t!=="none")return t}function kFe(n,e,t,i,r,a){if(!(!a||!a.length)){var s=Q5(e,"color")||r.color!=null&&r.color!=="none"&&(Q5(e,"colorAlpha")||Q5(e,"colorSaturation"));if(s){var o=e.get("visualMin"),l=e.get("visualMax"),u=t.dataExtent.slice();o!=null&&o<u[0]&&(u[0]=o),l!=null&&l>u[1]&&(u[1]=l);var c=e.get("colorMappingBy"),f={type:s.name,dataExtent:u,visual:s.range};f.type==="color"&&(c==="index"||c==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var h=new Ha(f);return Jhe(h).drColorMappingBy=c,h}}}function Q5(n,e){var t=n.get(e);return Ve(t)&&t.length?{name:e,range:t}:null}function FFe(n,e,t,i,r,a){var s=Ie({},e);if(r){var o=r.type,l=o==="color"&&Jhe(r).drColorMappingBy,u=l==="index"?i:l==="id"?a.mapIdToIndex(t.getId()):t.getValue(n.get("visualDimension"));s[o]=r.mapValueToVisual(u)}return s}var JT=Math.max,KL=Math.min,fJ=ds,T9=Z,$he=["itemStyle","borderWidth"],UFe=["itemStyle","gapWidth"],GFe=["upperLabel","show"],VFe=["upperLabel","height"];const jFe={seriesType:"treemap",reset:function(n,e,t,i){var r=n.option,a=Na(n,t).refContainer,s=Ji(n.getBoxLayoutParams(),a),o=r.size||[],l=st(fJ(s.width,o[0]),a.width),u=st(fJ(s.height,o[1]),a.height),c=i&&i.type,f=["treemapZoomToNode","treemapRootToNode"],h=ZT(i,f,n),d=c==="treemapRender"||c==="treemapMove"?i.rootRect:null,v=n.getViewRoot(),m=Yhe(v);if(c!=="treemapMove"){var y=c==="treemapZoomToNode"?ZFe(n,h,v,l,u):d?[d.width,d.height]:[l,u],x=r.sort;x&&x!=="asc"&&x!=="desc"&&(x="desc");var b={squareRatio:r.squareRatio,sort:x,leafDepth:r.leafDepth};v.hostTree.clearLayouts();var M={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};v.setLayout(M),ede(v,b,!1,0),M=v.getLayout(),T9(m,function(w,E){var L=(m[E+1]||v).getValue();w.setLayout(Ie({dataExtent:[L,L],borderWidth:0,upperHeight:0},M))})}var C=n.getData().tree.root;C.setLayout(KFe(s,d,h),!0),n.setLayoutInfo(s),tde(C,new Ut(-s.x,-s.y,t.getWidth(),t.getHeight()),m,v,0)}};function ede(n,e,t,i){var r,a;if(!n.isRemoved()){var s=n.getLayout();r=s.width,a=s.height;var o=n.getModel(),l=o.get($he),u=o.get(UFe)/2,c=nde(o),f=Math.max(l,c),h=l-u,d=f-u;n.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:c},!0),r=JT(r-2*h,0),a=JT(a-h-d,0);var v=r*a,m=HFe(n,o,v,e,t,i);if(m.length){var y={x:h,y:d,width:r,height:a},x=KL(r,a),b=1/0,M=[];M.area=0;for(var C=0,w=m.length;C<w;){var E=m[C];M.push(E),M.area+=E.getLayout().area;var L=qFe(M,x,e.squareRatio);L<=b?(C++,b=L):(M.area-=M.pop().getLayout().area,hJ(M,x,y,u,!1),x=KL(y.width,y.height),M.length=M.area=0,b=1/0)}if(M.length&&hJ(M,x,y,u,!0),!t){var P=o.get("childrenVisibleMin");P!=null&&v<P&&(t=!0)}for(var C=0,w=m.length;C<w;C++)ede(m[C],e,t,i+1)}}}function HFe(n,e,t,i,r,a){var s=n.children||[],o=i.sort;o!=="asc"&&o!=="desc"&&(o=null);var l=i.leafDepth!=null&&i.leafDepth<=a;if(r&&!l)return n.viewChildren=[];s=Zn(s,function(d){return!d.isRemoved()}),XFe(s,o);var u=YFe(e,s,o);if(u.sum===0)return n.viewChildren=[];if(u.sum=WFe(e,t,u.sum,o,s),u.sum===0)return n.viewChildren=[];for(var c=0,f=s.length;c<f;c++){var h=s[c].getValue()/u.sum*t;s[c].setLayout({area:h})}return l&&(s.length&&n.setLayout({isLeafRoot:!0},!0),s.length=0),n.viewChildren=s,n.setLayout({dataExtent:u.dataExtent},!0),s}function WFe(n,e,t,i,r){if(!i)return t;for(var a=n.get("visibleMin"),s=r.length,o=s,l=s-1;l>=0;l--){var u=r[i==="asc"?s-l-1:l].getValue();u/t*e<a&&(o=l,t-=u)}return i==="asc"?r.splice(0,s-o):r.splice(o,s-o),t}function XFe(n,e){return e&&n.sort(function(t,i){var r=e==="asc"?t.getValue()-i.getValue():i.getValue()-t.getValue();return r===0?e==="asc"?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:r}),n}function YFe(n,e,t){for(var i=0,r=0,a=e.length;r<a;r++)i+=e[r].getValue();var s=n.get("visualDimension"),o;return!e||!e.length?o=[NaN,NaN]:s==="value"&&t?(o=[e[e.length-1].getValue(),e[0].getValue()],t==="asc"&&o.reverse()):(o=[1/0,-1/0],T9(e,function(l){var u=l.getValue(s);u<o[0]&&(o[0]=u),u>o[1]&&(o[1]=u)})),{sum:i,dataExtent:o}}function qFe(n,e,t){for(var i=0,r=1/0,a=0,s=void 0,o=n.length;a<o;a++)s=n[a].getLayout().area,s&&(s<r&&(r=s),s>i&&(i=s));var l=n.area*n.area,u=e*e*t;return l?JT(u*i/l,l/(u*r)):1/0}function hJ(n,e,t,i,r){var a=e===t.width?0:1,s=1-a,o=["x","y"],l=["width","height"],u=t[o[a]],c=e?n.area/e:0;(r||c>t[l[s]])&&(c=t[l[s]]);for(var f=0,h=n.length;f<h;f++){var d=n[f],v={},m=c?d.getLayout().area/c:0,y=v[l[s]]=JT(c-2*i,0),x=t[o[a]]+t[l[a]]-u,b=f===h-1||x<m?x:m,M=v[l[a]]=JT(b-2*i,0);v[o[s]]=t[o[s]]+KL(i,y/2),v[o[a]]=u+KL(i,M/2),u+=b,d.setLayout(v,!0)}t[o[s]]+=c,t[l[s]]-=c}function ZFe(n,e,t,i,r){var a=(e||{}).node,s=[i,r];if(!a||a===t)return s;for(var o,l=i*r,u=l*n.option.zoomToNodeRatio;o=a.parentNode;){for(var c=0,f=o.children,h=0,d=f.length;h<d;h++)c+=f[h].getValue();var v=a.getValue();if(v===0)return s;u*=c/v;var m=o.getModel(),y=m.get($he),x=Math.max(y,nde(m));u+=4*y*y+(3*y+x)*Math.pow(u,.5),u>WF&&(u=WF),a=o}u<l&&(u=l);var b=Math.pow(u/l,.5);return[i*b,r*b]}function KFe(n,e,t){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!t)return i;var r=t.node,a=r.getLayout();if(!a)return i;for(var s=[a.width/2,a.height/2],o=r;o;){var l=o.getLayout();s[0]+=l.x,s[1]+=l.y,o=o.parentNode}return{x:n.width/2-s[0],y:n.height/2-s[1]}}function tde(n,e,t,i,r){var a=n.getLayout(),s=t[r],o=s&&s===n;if(!(s&&!o||r===t.length&&n!==i)){n.setLayout({isInView:!0,invisible:!o&&!e.intersect(a),isAboveViewRoot:o},!0);var l=new Ut(e.x-a.x,e.y-a.y,e.width,e.height);T9(n.viewChildren||[],function(u){tde(u,l,t,i,r+1)})}}function nde(n){return n.get(GFe)?n.get(VFe):0}function JFe(n){n.registerSeriesModel(mFe),n.registerChartView(wFe),n.registerVisual(BFe),n.registerLayout(jFe),vFe(n)}function QFe(n){var e=n.findComponents({mainType:"legend"});!e||!e.length||n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),r=t.getGraph(),a=r.data,s=i.mapArray(i.getName);a.filterSelf(function(o){var l=a.getItemModel(o),u=l.getShallow("category");if(u!=null){Pn(u)&&(u=s[u]);for(var c=0;c<e.length;c++)if(!e[c].isSelected(u))return!1}return!0})})}function $Fe(n){var e={};n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),r=t.getData(),a={};i.each(function(s){var o=i.getName(s);a["ec-"+o]=s;var l=i.getItemModel(s),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=t.getColorFromPalette(o,e)),i.setItemVisual(s,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++){var h=l.getShallow(c[f],!0);h!=null&&i.setItemVisual(s,c[f],h)}}),i.count()&&r.each(function(s){var o=r.getItemModel(s),l=o.getShallow("category");if(l!=null){ot(l)&&(l=a["ec-"+l]);var u=i.getItemVisual(l,"style"),c=r.ensureUniqueItemVisual(s,"style");Ie(c,u);for(var f=["symbol","symbolSize","symbolKeepAspect"],h=0;h<f.length;h++)r.setItemVisual(s,f[h],i.getItemVisual(l,f[h]))}})})}function ID(n){return n instanceof Array||(n=[n,n]),n}function eUe(n){n.eachSeriesByType("graph",function(e){var t=e.getGraph(),i=e.getEdgeData(),r=ID(e.get("edgeSymbol")),a=ID(e.get("edgeSymbolSize"));i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",a&&a[0]),i.setVisual("toSymbolSize",a&&a[1]),i.setVisual("style",e.getModel("lineStyle").getLineStyle()),i.each(function(s){var o=i.getItemModel(s),l=t.getEdgeByIndex(s),u=ID(o.getShallow("symbol",!0)),c=ID(o.getShallow("symbolSize",!0)),f=o.getModel("lineStyle").getLineStyle(),h=i.ensureUniqueItemVisual(s,"style");switch(Ie(h,f),h.stroke){case"source":{var d=l.node1.getVisual("style");h.stroke=d&&d.fill;break}case"target":{var d=l.node2.getVisual("style");h.stroke=d&&d.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var e8="-->",cP=function(n){return n.get("autoCurveness")||null},ide=function(n,e){var t=cP(n),i=20,r=[];if(Pn(t))i=t;else if(Ve(t)){n.__curvenessList=t;return}e>i&&(i=e);var a=i%2?i+2:i+3;r=[];for(var s=0;s<a;s++)r.push((s%2?s+1:s)/10*(s%2?-1:1));n.__curvenessList=r},QT=function(n,e,t){var i=[n.id,n.dataIndex].join("."),r=[e.id,e.dataIndex].join(".");return[t.uid,i,r].join(e8)},rde=function(n){var e=n.split(e8);return[e[0],e[2],e[1]].join(e8)},tUe=function(n,e){var t=QT(n.node1,n.node2,e);return e.__edgeMap[t]},nUe=function(n,e){var t=t8(QT(n.node1,n.node2,e),e),i=t8(QT(n.node2,n.node1,e),e);return t+i},t8=function(n,e){var t=e.__edgeMap;return t[n]?t[n].length:0};function iUe(n){cP(n)&&(n.__curvenessList=[],n.__edgeMap={},ide(n))}function rUe(n,e,t,i){if(cP(t)){var r=QT(n,e,t),a=t.__edgeMap,s=a[rde(r)];a[r]&&!s?a[r].isForward=!0:s&&a[r]&&(s.isForward=!0,a[r].isForward=!1),a[r]=a[r]||[],a[r].push(i)}}function C9(n,e,t,i){var r=cP(e),a=Ve(r);if(!r)return null;var s=tUe(n,e);if(!s)return null;for(var o=-1,l=0;l<s.length;l++)if(s[l]===t){o=l;break}var u=nUe(n,e);ide(e,u),n.lineStyle=n.lineStyle||{};var c=QT(n.node1,n.node2,e),f=e.__curvenessList,h=a||u%2?0:1;if(s.isForward)return f[h+o];var d=rde(c),v=t8(d,e),m=f[o+v+h];return i?a?r&&r[0]===0?(v+h)%2?m:-m:((v%2?0:1)+h)%2?m:-m:(v+h)%2?m:-m:f[o+v+h]}function ade(n){var e=n.coordinateSystem;if(!(e&&e.type!=="view")){var t=n.getGraph();t.eachNode(function(i){var r=i.getModel();i.setLayout([+r.get("x"),+r.get("y")])}),w9(t,n)}}function w9(n,e){n.eachEdge(function(t,i){var r=gl(t.getModel().get(["lineStyle","curveness"]),-C9(t,e,i,!0),0),a=Mh(t.node1.getLayout()),s=Mh(t.node2.getLayout()),o=[a,s];+r&&o.push([(a[0]+s[0])/2-(a[1]-s[1])*r,(a[1]+s[1])/2-(s[0]-a[0])*r]),t.setLayout(o)})}function aUe(n,e){n.eachSeriesByType("graph",function(t){var i=t.get("layout"),r=t.coordinateSystem;if(r&&r.type!=="view"){var a=t.getData(),s=[];Z(r.dimensions,function(h){s=s.concat(a.mapDimensionsAll(h))});for(var o=0;o<a.count();o++){for(var l=[],u=!1,c=0;c<s.length;c++){var f=a.get(s[c],o);isNaN(f)||(u=!0),l.push(f)}u?a.setItemLayout(o,r.dataToPoint(l)):a.setItemLayout(o,[NaN,NaN])}w9(a.graph,t)}else(!i||i==="none")&&ade(t)})}function v2(n){var e=n.coordinateSystem;if(e.type!=="view")return 1;var t=n.option.nodeScaleRatio,i=e.scaleX,r=e.getZoom(),a=(r-1)*t+1;return a/i}function m2(n){var e=n.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var dJ=Math.PI,$5=[];function E9(n,e,t,i){var r=n.coordinateSystem;if(!(r&&r.type!=="view")){var a=r.getBoundingRect(),s=n.getData(),o=s.graph,l=a.width/2+a.x,u=a.height/2+a.y,c=Math.min(a.width,a.height)/2,f=s.count();if(s.setLayout({cx:l,cy:u}),!!f){if(t){var h=r.pointToData(i),d=h[0],v=h[1],m=[d-l,v-u];Yy(m,m),z2(m,m,c),t.setLayout([l+m[0],u+m[1]],!0);var y=n.get(["circular","rotateLabel"]);sde(t,y,l,u)}sUe[e](n,o,s,c,l,u,f),o.eachEdge(function(x,b){var M=gl(x.getModel().get(["lineStyle","curveness"]),C9(x,n,b),0),C=Mh(x.node1.getLayout()),w=Mh(x.node2.getLayout()),E,L=(C[0]+w[0])/2,P=(C[1]+w[1])/2;+M&&(M*=3,E=[l*M+L*(1-M),u*M+P*(1-M)]),x.setLayout([C,w,E])})}}}var sUe={value:function(n,e,t,i,r,a,s){var o=0,l=t.getSum("value"),u=Math.PI*2/(l||s);e.eachNode(function(c){var f=c.getValue("value"),h=u*(l?f:1)/2;o+=h,c.setLayout([i*Math.cos(o)+r,i*Math.sin(o)+a]),o+=h})},symbolSize:function(n,e,t,i,r,a,s){var o=0;$5.length=s;var l=v2(n);e.eachNode(function(f){var h=m2(f);isNaN(h)&&(h=2),h<0&&(h=0),h*=l;var d=Math.asin(h/2/i);isNaN(d)&&(d=dJ/2),$5[f.dataIndex]=d,o+=d*2});var u=(2*dJ-o)/s/2,c=0;e.eachNode(function(f){var h=u+$5[f.dataIndex];c+=h,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([i*Math.cos(c)+r,i*Math.sin(c)+a]),c+=h})}};function sde(n,e,t,i){var r=n.getGraphicEl();if(r){var a=n.getModel(),s=a.get(["label","rotate"])||0,o=r.getSymbolPath();if(e){var l=n.getLayout(),u=Math.atan2(l[1]-i,l[0]-t);u<0&&(u=Math.PI*2+u);var c=l[0]<t;c&&(u=u-Math.PI);var f=c?"left":"right";o.setTextConfig({rotation:-u,position:f,origin:"center"});var h=o.ensureState("emphasis");Ie(h.textConfig||(h.textConfig={}),{position:f})}else o.setTextConfig({rotation:s*=Math.PI/180})}}function oUe(n){n.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&E9(e,"symbolSize")})}var N_=rL;function lUe(n,e,t){for(var i=n,r=e,a=t.rect,s=a.width,o=a.height,l=[a.x+s/2,a.y+o/2],u=t.gravity==null?.1:t.gravity,c=0;c<i.length;c++){var f=i[c];f.p||(f.p=Pm(s*(Math.random()-.5)+l[0],o*(Math.random()-.5)+l[1])),f.pp=Mh(f.p),f.edges=null}var h=t.friction==null?.6:t.friction,d=h,v,m;return{warmUp:function(){d=h*.8},setFixed:function(y){i[y].fixed=!0},setUnfixed:function(y){i[y].fixed=!1},beforeStep:function(y){v=y},afterStep:function(y){m=y},step:function(y){v&&v(i,r);for(var x=[],b=i.length,M=0;M<r.length;M++){var C=r[M];if(!C.ignoreForceLayout){var w=C.n1,E=C.n2;Yv(x,E.p,w.p);var L=CT(x)-C.d,P=E.w/(w.w+E.w);isNaN(P)&&(P=0),Yy(x,x),!w.fixed&&N_(w.p,w.p,x,P*L*d),!E.fixed&&N_(E.p,E.p,x,-(1-P)*L*d)}}for(var M=0;M<b;M++){var I=i[M];I.fixed||(Yv(x,l,I.p),N_(I.p,I.p,x,u*d))}for(var M=0;M<b;M++)for(var w=i[M],N=M+1;N<b;N++){var E=i[N];Yv(x,E.p,w.p);var L=CT(x);L===0&&(II(x,Math.random()-.5,Math.random()-.5),L=1);var z=(w.rep+E.rep)/L/L;!w.fixed&&N_(w.pp,w.pp,x,z),!E.fixed&&N_(E.pp,E.pp,x,-z)}for(var V=[],M=0;M<b;M++){var I=i[M];I.fixed||(Yv(V,I.p,I.pp),N_(I.p,I.p,V,d),no(I.pp,I.p))}d=d*.992;var U=d<.01;m&&m(i,r,U),y&&y(U)}}}function uUe(n){n.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view"))if(e.get("layout")==="force"){var i=e.preservedPoints||{},r=e.getGraph(),a=r.data,s=r.edgeData,o=e.getModel("force"),l=o.get("initLayout");e.preservedPoints?a.each(function(M){var C=a.getId(M);a.setItemLayout(M,i[C]||[NaN,NaN])}):!l||l==="none"?ade(e):l==="circular"&&E9(e,"value");var u=a.getDataExtent("value"),c=s.getDataExtent("value"),f=o.get("repulsion"),h=o.get("edgeLength"),d=Ve(f)?f:[f,f],v=Ve(h)?h:[h,h];v=[v[1],v[0]];var m=a.mapArray("value",function(M,C){var w=a.getItemLayout(C),E=ei(M,u,d);return isNaN(E)&&(E=(d[0]+d[1])/2),{w:E,rep:E,fixed:a.getItemModel(C).get("fixed"),p:!w||isNaN(w[0])||isNaN(w[1])?null:w}}),y=s.mapArray("value",function(M,C){var w=r.getEdgeByIndex(C),E=ei(M,c,v);isNaN(E)&&(E=(v[0]+v[1])/2);var L=w.getModel(),P=gl(w.getModel().get(["lineStyle","curveness"]),-C9(w,e,C,!0),0);return{n1:m[w.node1.dataIndex],n2:m[w.node2.dataIndex],d:E,curveness:P,ignoreForceLayout:L.get("ignoreForceLayout")}}),x=t.getBoundingRect(),b=lUe(m,y,{rect:x,gravity:o.get("gravity"),friction:o.get("friction")});b.beforeStep(function(M,C){for(var w=0,E=M.length;w<E;w++)M[w].fixed&&no(M[w].p,r.getNodeByIndex(w).getLayout())}),b.afterStep(function(M,C,w){for(var E=0,L=M.length;E<L;E++)M[E].fixed||r.getNodeByIndex(E).setLayout(M[E].p),i[a.getId(E)]=M[E].p;for(var E=0,L=C.length;E<L;E++){var P=C[E],I=r.getEdgeByIndex(E),N=P.n1.p,z=P.n2.p,V=I.getLayout();V=V?V.slice():[],V[0]=V[0]||[],V[1]=V[1]||[],no(V[0],N),no(V[1],z),+P.curveness&&(V[2]=[(N[0]+z[0])/2-(N[1]-z[1])*P.curveness,(N[1]+z[1])/2-(z[0]-N[0])*P.curveness]),I.setLayout(V)}}),e.forceLayout=b,e.preservedPoints=i,b.step()}else e.forceLayout=null})}function cUe(n,e,t){var i=Na(n,e),r=Ie(n.getBoxLayoutParams(),{aspect:t}),a=Ji(r,i.refContainer);return Pue(n,a,t)}function fUe(n,e){var t=[];return n.eachSeriesByType("graph",function(i){UC({targetModel:i,coordSysType:"view",coordSysProvider:r,isDefaultDataCoordSys:!0});function r(){var a=i.getData(),s=a.mapArray(function(v){var m=a.getItemModel(v);return[+m.get("x"),+m.get("y")]}),o=[],l=[];VI(s,o,l),l[0]-o[0]===0&&(l[0]+=1,o[0]-=1),l[1]-o[1]===0&&(l[1]+=1,o[1]-=1);var u=(l[0]-o[0])/(l[1]-o[1]),c=cUe(i,e,u);isNaN(u)&&(o=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var f=l[0]-o[0],h=l[1]-o[1],d=new tx(null,{api:e,ecModel:n});return d.zoomLimit=i.get("scaleLimit"),d.setBoundingRect(o[0],o[1],f,h),d.setViewRect(c.x,c.y,c.width,c.height),d.setCenter(i.get("center")),d.setZoom(i.get("zoom")),t.push(d),d}}),t}var pJ=Qr.prototype,e4=rS.prototype,ode=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n})();(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(ode);function t4(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}var lde=(function(n){me(e,n);function e(t){var i=n.call(this,t)||this;return i.type="ec-line",i}return e.prototype.getDefaultStyle=function(){return{stroke:xe.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new ode},e.prototype.buildPath=function(t,i){t4(i)?pJ.buildPath.call(this,t,i):e4.buildPath.call(this,t,i)},e.prototype.pointAt=function(t){return t4(this.shape)?pJ.pointAt.call(this,t):e4.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var i=this.shape,r=t4(i)?[i.x2-i.x1,i.y2-i.y1]:e4.tangentAt.call(this,t);return Yy(r,r)},e})(An),n4=["fromSymbol","toSymbol"];function vJ(n){return"_"+n+"Type"}function mJ(n,e,t){var i=e.getItemVisual(t,n);if(!i||i==="none")return i;var r=e.getItemVisual(t,n+"Size"),a=e.getItemVisual(t,n+"Rotate"),s=e.getItemVisual(t,n+"Offset"),o=e.getItemVisual(t,n+"KeepAspect"),l=dS(r),u=Qy(s||0,l);return i+l+u+(a||"")+(o||"")}function gJ(n,e,t){var i=e.getItemVisual(t,n);if(!(!i||i==="none")){var r=e.getItemVisual(t,n+"Size"),a=e.getItemVisual(t,n+"Rotate"),s=e.getItemVisual(t,n+"Offset"),o=e.getItemVisual(t,n+"KeepAspect"),l=dS(r),u=Qy(s||0,l),c=$r(i,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,o);return c.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=n,c}}function hUe(n){var e=new lde({name:"line",subPixelOptimize:!0});return n8(e.shape,n),e}function n8(n,e){n.x1=e[0][0],n.y1=e[0][1],n.x2=e[1][0],n.y2=e[1][1],n.percent=1;var t=e[2];t?(n.cpx1=t[0],n.cpy1=t[1]):(n.cpx1=NaN,n.cpy1=NaN)}var D9=(function(n){me(e,n);function e(t,i,r){var a=n.call(this)||this;return a._createLine(t,i,r),a}return e.prototype._createLine=function(t,i,r){var a=t.hostModel,s=t.getItemLayout(i),o=t.getItemVisual(i,"z2"),l=hUe(s);l.shape.percent=0,Xi(l,{z2:At(o,0),shape:{percent:1}},a,i),this.add(l),Z(n4,function(u){var c=gJ(u,t,i);this.add(c),this[vJ(u)]=mJ(u,t,i)},this),this._updateCommonStl(t,i,r)},e.prototype.updateData=function(t,i,r){var a=t.hostModel,s=this.childOfName("line"),o=t.getItemLayout(i),l={shape:{}};n8(l.shape,o),Gn(s,l,a,i),Z(n4,function(u){var c=mJ(u,t,i),f=vJ(u);if(this[f]!==c){this.remove(this.childOfName(u));var h=gJ(u,t,i);this.add(h)}this[f]=c},this),this._updateCommonStl(t,i,r)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,i,r){var a=t.hostModel,s=this.childOfName("line"),o=r&&r.emphasisLineStyle,l=r&&r.blurLineStyle,u=r&&r.selectLineStyle,c=r&&r.labelStatesModels,f=r&&r.emphasisDisabled,h=r&&r.focus,d=r&&r.blurScope;if(!r||t.hasItemOption){var v=t.getItemModel(i),m=v.getModel("emphasis");o=m.getModel("lineStyle").getLineStyle(),l=v.getModel(["blur","lineStyle"]).getLineStyle(),u=v.getModel(["select","lineStyle"]).getLineStyle(),f=m.get("disabled"),h=m.get("focus"),d=m.get("blurScope"),c=Ra(v)}var y=t.getItemVisual(i,"style"),x=y.stroke;s.useStyle(y),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=o,s.ensureState("blur").style=l,s.ensureState("select").style=u,Z(n4,function(E){var L=this.childOfName(E);if(L){L.setColor(x),L.style.opacity=y.opacity;for(var P=0;P<qo.length;P++){var I=qo[P],N=s.getState(I);if(N){var z=N.style||{},V=L.ensureState(I),U=V.style||(V.style={});z.stroke!=null&&(U[L.__isEmptyBrush?"stroke":"fill"]=z.stroke),z.opacity!=null&&(U.opacity=z.opacity)}}L.markRedraw()}},this);var b=a.getRawValue(i);Xa(this,c,{labelDataIndex:i,labelFetcher:{getFormattedLabel:function(E,L){return a.getFormattedLabel(E,L,t.dataType)}},inheritColor:x||xe.color.neutral99,defaultOpacity:y.opacity,defaultText:(b==null?t.getName(i):isFinite(b)?Jr(b):b)+""});var M=this.getTextContent();if(M){var C=c.normal;M.__align=M.style.align,M.__verticalAlign=M.style.verticalAlign,M.__position=C.get("position")||"middle";var w=C.get("distance");Ve(w)||(w=[w,w]),M.__labelDistance=w}this.setTextConfig({position:null,local:!0,inside:!1}),rr(this,h,d,f)},e.prototype.highlight=function(){bp(this)},e.prototype.downplay=function(){Sp(this)},e.prototype.updateLayout=function(t,i){this.setLinePoints(t.getItemLayout(i))},e.prototype.setLinePoints=function(t){var i=this.childOfName("line");n8(i.shape,t),i.dirty()},e.prototype.beforeUpdate=function(){var t=this,i=t.childOfName("fromSymbol"),r=t.childOfName("toSymbol"),a=t.getTextContent();if(!i&&!r&&(!a||a.ignore))return;for(var s=1,o=this.parent;o;)o.scaleX&&(s/=o.scaleX),o=o.parent;var l=t.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),f=l.pointAt(u),h=Yv([],f,c);Yy(h,h);function d(N,z){var V=N.__specifiedRotation;if(V==null){var U=l.tangentAt(z);N.attr("rotation",(z===1?-1:1)*Math.PI/2-Math.atan2(U[1],U[0]))}else N.attr("rotation",V)}if(i&&(i.setPosition(c),d(i,0),i.scaleX=i.scaleY=s*u,i.markRedraw()),r&&(r.setPosition(f),d(r,1),r.scaleX=r.scaleY=s*u,r.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var v=void 0,m=void 0,y=a.__labelDistance,x=y[0]*s,b=y[1]*s,M=u/2,C=l.tangentAt(M),w=[C[1],-C[0]],E=l.pointAt(M);w[1]>0&&(w[0]=-w[0],w[1]=-w[1]);var L=C[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var P=-Math.atan2(C[1],C[0]);f[0]<c[0]&&(P=Math.PI+P),a.rotation=P}var I=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":I=-b,m="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":I=b,m="top";break;default:I=0,m="middle"}switch(a.__position){case"end":a.x=h[0]*x+f[0],a.y=h[1]*b+f[1],v=h[0]>.8?"left":h[0]<-.8?"right":"center",m=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":a.x=-h[0]*x+c[0],a.y=-h[1]*b+c[1],v=h[0]>.8?"right":h[0]<-.8?"left":"center",m=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=x*L+c[0],a.y=c[1]+I,v=C[0]<0?"right":"left",a.originX=-x*L,a.originY=-I;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=E[0],a.y=E[1]+I,v="center",a.originY=-I;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-x*L+f[0],a.y=f[1]+I,v=C[0]>=0?"right":"left",a.originX=x*L,a.originY=-I;break}a.scaleX=a.scaleY=s,a.setStyle({verticalAlign:a.__verticalAlign||m,align:a.__align||v})}},e})(It),R9=(function(){function n(e){this.group=new It,this._LineCtor=e||D9}return n.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var i=this,r=i.group,a=i._lineData;i._lineData=e,a||r.removeAll();var s=yJ(e);e.diff(a).add(function(o){t._doAdd(e,o,s)}).update(function(o,l){t._doUpdate(a,e,l,o,s)}).remove(function(o){r.remove(a.getItemGraphicEl(o))}).execute()},n.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,i){t.updateLayout(e,i)},this)},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=yJ(e),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t){this._progressiveEls=[];function i(o){!o.isGroup&&!dUe(o)&&(o.incremental=!0,o.ensureState("emphasis").hoverLayer=!0)}for(var r=e.start;r<e.end;r++){var a=t.getItemLayout(r);if(i4(a)){var s=new this._LineCtor(t,r,this._seriesScope);s.traverse(i),this.group.add(s),t.setItemGraphicEl(r,s),this._progressiveEls.push(s)}}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(e){Bm(this._progressiveEls||this.group,e)},n.prototype._doAdd=function(e,t,i){var r=e.getItemLayout(t);if(i4(r)){var a=new this._LineCtor(e,t,i);e.setItemGraphicEl(t,a),this.group.add(a)}},n.prototype._doUpdate=function(e,t,i,r,a){var s=e.getItemGraphicEl(i);if(!i4(t.getItemLayout(r))){this.group.remove(s);return}s?s.updateData(t,r,a):s=new this._LineCtor(t,r,a),t.setItemGraphicEl(r,s),this.group.add(s)},n})();function dUe(n){return n.animators&&n.animators.length>0}function yJ(n){var e=n.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:Ra(e)}}function xJ(n){return isNaN(n[0])||isNaN(n[1])}function i4(n){return n&&!xJ(n[0])&&!xJ(n[1])}var r4=[],a4=[],s4=[],I_=us,o4=rm,_J=Math.abs;function bJ(n,e,t){for(var i=n[0],r=n[1],a=n[2],s=1/0,o,l=t*t,u=.1,c=.1;c<=.9;c+=.1){r4[0]=I_(i[0],r[0],a[0],c),r4[1]=I_(i[1],r[1],a[1],c);var f=_J(o4(r4,e)-l);f<s&&(s=f,o=c)}for(var h=0;h<32;h++){var d=o+u;a4[0]=I_(i[0],r[0],a[0],o),a4[1]=I_(i[1],r[1],a[1],o),s4[0]=I_(i[0],r[0],a[0],d),s4[1]=I_(i[1],r[1],a[1],d);var f=o4(a4,e)-l;if(_J(f)<.01)break;var v=o4(s4,e)-l;u/=2,f<0?v>=0?o=o+u:o=o-u:v>=0?o=o-u:o=o+u}return o}function l4(n,e){var t=[],i=wT,r=[[],[],[]],a=[[],[]],s=[];e/=2,n.eachEdge(function(o,l){var u=o.getLayout(),c=o.getVisual("fromSymbol"),f=o.getVisual("toSymbol");u.__original||(u.__original=[Mh(u[0]),Mh(u[1])],u[2]&&u.__original.push(Mh(u[2])));var h=u.__original;if(u[2]!=null){if(no(r[0],h[0]),no(r[1],h[2]),no(r[2],h[1]),c&&c!=="none"){var d=m2(o.node1),v=bJ(r,h[0],d*e);i(r[0][0],r[1][0],r[2][0],v,t),r[0][0]=t[3],r[1][0]=t[4],i(r[0][1],r[1][1],r[2][1],v,t),r[0][1]=t[3],r[1][1]=t[4]}if(f&&f!=="none"){var d=m2(o.node2),v=bJ(r,h[1],d*e);i(r[0][0],r[1][0],r[2][0],v,t),r[1][0]=t[1],r[2][0]=t[2],i(r[0][1],r[1][1],r[2][1],v,t),r[1][1]=t[1],r[2][1]=t[2]}no(u[0],r[0]),no(u[1],r[2]),no(u[2],r[1])}else{if(no(a[0],h[0]),no(a[1],h[1]),Yv(s,a[1],a[0]),Yy(s,s),c&&c!=="none"){var d=m2(o.node1);rL(a[0],a[0],s,d*e)}if(f&&f!=="none"){var d=m2(o.node2);rL(a[1],a[1],s,-d*e)}no(u[0],a[0]),no(u[1],a[1])}})}var ude=_n();function pUe(n){if(n)return ude(n).bridge}function SJ(n,e){n&&(ude(n).bridge=e)}function AJ(n){return n.type==="view"}var vUe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,i){var r=new HC,a=new R9,s=this.group,o=new It;this._controller=new ex(i.getZr()),this._controllerHost={target:o},o.add(r.group),o.add(a.group),s.add(o),this._symbolDraw=r,this._lineDraw=a,this._mainGroup=o,this._firstRender=!0},e.prototype.render=function(t,i,r){var a=this,s=t.coordinateSystem,o=!1;this._model=t,this._api=r,this._active=!0;var l=this._getThumbnailInfo();l&&l.bridge.reset(r);var u=this._symbolDraw,c=this._lineDraw;if(AJ(s)){var f={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY};this._firstRender?this._mainGroup.attr(f):Gn(this._mainGroup,f,t)}l4(t.getGraph(),v2(t));var h=t.getData();u.updateData(h);var d=t.getEdgeData();c.updateData(d),this._updateNodeAndLinkScale(),this._updateController(null,t,r),clearTimeout(this._layoutTimeout);var v=t.forceLayout,m=t.get(["force","layoutAnimation"]);v&&(o=!0,this._startForceLayoutIteration(v,r,m));var y=t.get("layout");h.graph.eachNode(function(C){var w=C.dataIndex,E=C.getGraphicEl(),L=C.getModel();if(E){E.off("drag").off("dragend");var P=L.get("draggable");P&&E.on("drag",function(N){switch(y){case"force":v.warmUp(),!a._layouting&&a._startForceLayoutIteration(v,r,m),v.setFixed(w),h.setItemLayout(w,[E.x,E.y]);break;case"circular":h.setItemLayout(w,[E.x,E.y]),C.setLayout({fixed:!0},!0),E9(t,"symbolSize",C,[N.offsetX,N.offsetY]),a.updateLayout(t);break;case"none":default:h.setItemLayout(w,[E.x,E.y]),w9(t.getGraph(),t),a.updateLayout(t);break}}).on("dragend",function(){v&&v.setUnfixed(w)}),E.setDraggable(P,!!L.get("cursor"));var I=L.get(["emphasis","focus"]);I==="adjacency"&&(jt(E).focus=C.getAdjacentDataIndices())}}),h.graph.eachEdge(function(C){var w=C.getGraphicEl(),E=C.getModel().get(["emphasis","focus"]);w&&E==="adjacency"&&(jt(w).focus={edge:[C.dataIndex],node:[C.node1.dataIndex,C.node2.dataIndex]})});var x=t.get("layout")==="circular"&&t.get(["circular","rotateLabel"]),b=h.getLayout("cx"),M=h.getLayout("cy");h.graph.eachNode(function(C){sde(C,x,b,M)}),this._firstRender=!1,o||this._renderThumbnail(t,r,this._symbolDraw,this._lineDraw)},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,i,r){var a=this,s=!1;(function o(){t.step(function(l){a.updateLayout(a._model),(l||!s)&&(s=!0,a._renderThumbnail(a._model,i,a._symbolDraw,a._lineDraw)),(a._layouting=!l)&&(r?a._layoutTimeout=setTimeout(o,16):o())})})()},e.prototype._updateController=function(t,i,r){var a=this._controller,s=this._controllerHost,o=i.coordinateSystem;if(!AJ(o)){a.disable();return}a.enable(i.get("roam"),{api:r,zInfo:{component:i},triggerInfo:{roamTrigger:i.get("roamTrigger"),isInSelf:function(l,u,c){return o.containPoint([u,c])},isInClip:function(l,u,c){return!t||t.contain(u,c)}}}),s.zoomLimit=i.get("scaleLimit"),s.zoom=o.getZoom(),a.off("pan").off("zoom").on("pan",function(l){r.dispatchAction({seriesId:i.id,type:"graphRoam",dx:l.dx,dy:l.dy})}).on("zoom",function(l){r.dispatchAction({seriesId:i.id,type:"graphRoam",zoom:l.scale,originX:l.originX,originY:l.originY})})},e.prototype.updateViewOnPan=function(t,i,r){this._active&&(y9(this._controllerHost,r.dx,r.dy),this._updateThumbnailWindow())},e.prototype.updateViewOnZoom=function(t,i,r){this._active&&(x9(this._controllerHost,r.zoom,r.originX,r.originY),this._updateNodeAndLinkScale(),l4(t.getGraph(),v2(t)),this._lineDraw.updateLayout(),i.updateLabelLayout(),this._updateThumbnailWindow())},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,i=t.getData(),r=v2(t);i.eachItemGraphicEl(function(a,s){a&&a.setSymbolScale(r)})},e.prototype.updateLayout=function(t){this._active&&(l4(t.getGraph(),v2(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},e.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},e.prototype._getThumbnailInfo=function(){var t=this._model,i=t.coordinateSystem;if(i.type==="view"){var r=pUe(t);if(r)return{bridge:r,coordSys:i}}},e.prototype._updateThumbnailWindow=function(){var t=this._getThumbnailInfo();t&&t.bridge.updateWindow(t.coordSys.transform,this._api)},e.prototype._renderThumbnail=function(t,i,r,a){var s=this._getThumbnailInfo();if(s){var o=new It,l=r.group.children(),u=a.group.children(),c=new It,f=new It;o.add(f),o.add(c);for(var h=0;h<l.length;h++){var d=l[h],v=d.children()[0],m=d.x,y=d.y,x=Nt(v.shape),b=Ie(x,{width:v.scaleX,height:v.scaleY,x:m-v.scaleX/2,y:y-v.scaleY/2}),M=Nt(v.style),C=new v.constructor({shape:b,style:M,z2:151});f.add(C)}for(var h=0;h<u.length;h++){var d=u[h],w=d.children()[0],M=Nt(w.style),b=Nt(w.shape),E=new lde({style:M,shape:b,z2:151});c.add(E)}s.bridge.renderContent({api:i,roamType:t.get("roam"),viewportRect:null,group:o,targetTrans:s.coordSys.transform})}},e.type="graph",e})(xi);function P_(n){return"_EC_"+n}var mUe=(function(){function n(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(e,t){e=e==null?""+t:""+e;var i=this._nodesMap;if(!i[P_(e)]){var r=new L0(e,t);return r.hostGraph=this,this.nodes.push(r),i[P_(e)]=r,r}},n.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},n.prototype.getNodeById=function(e){return this._nodesMap[P_(e)]},n.prototype.addEdge=function(e,t,i){var r=this._nodesMap,a=this._edgesMap;if(Pn(e)&&(e=this.nodes[e]),Pn(t)&&(t=this.nodes[t]),e instanceof L0||(e=r[P_(e)]),t instanceof L0||(t=r[P_(t)]),!(!e||!t)){var s=e.id+"-"+t.id,o=new cde(e,t,i);return o.hostGraph=this,this._directed&&(e.outEdges.push(o),t.inEdges.push(o)),e.edges.push(o),e!==t&&t.edges.push(o),this.edges.push(o),a[s]=o,o}},n.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},n.prototype.getEdge=function(e,t){e instanceof L0&&(e=e.id),t instanceof L0&&(t=t.id);var i=this._edgesMap;return this._directed?i[e+"-"+t]:i[e+"-"+t]||i[t+"-"+e]},n.prototype.eachNode=function(e,t){for(var i=this.nodes,r=i.length,a=0;a<r;a++)i[a].dataIndex>=0&&e.call(t,i[a],a)},n.prototype.eachEdge=function(e,t){for(var i=this.edges,r=i.length,a=0;a<r;a++)i[a].dataIndex>=0&&i[a].node1.dataIndex>=0&&i[a].node2.dataIndex>=0&&e.call(t,i[a],a)},n.prototype.breadthFirstTraverse=function(e,t,i,r){if(t instanceof L0||(t=this._nodesMap[P_(t)]),!!t){for(var a=i==="out"?"outEdges":i==="in"?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!e.call(r,t,null))for(var o=[t];o.length;)for(var l=o.shift(),u=l[a],s=0;s<u.length;s++){var c=u[s],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(e.call(r,f,l))return;o.push(f),f.__visited=!0}}}},n.prototype.update=function(){for(var e=this.data,t=this.edgeData,i=this.nodes,r=this.edges,a=0,s=i.length;a<s;a++)i[a].dataIndex=-1;for(var a=0,s=e.count();a<s;a++)i[e.getRawIndex(a)].dataIndex=a;t.filterSelf(function(o){var l=r[t.getRawIndex(o)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var a=0,s=r.length;a<s;a++)r[a].dataIndex=-1;for(var a=0,s=t.count();a<s;a++)r[t.getRawIndex(a)].dataIndex=a},n.prototype.clone=function(){for(var e=new n(this._directed),t=this.nodes,i=this.edges,r=0;r<t.length;r++)e.addNode(t[r].id,t[r].dataIndex);for(var r=0;r<i.length;r++){var a=i[r];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e},n})(),L0=(function(){function n(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,i=t.data.getItemModel(this.dataIndex);return i.getModel(e)}},n.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var i=this.edges[t];i.dataIndex<0||(e.edge.push(i.dataIndex),e.node.push(i.node1.dataIndex,i.node2.dataIndex))}return e},n.prototype.getTrajectoryDataIndices=function(){for(var e=bt(),t=bt(),i=0,r=this.edges.length;i<r;i++){var a=this.edges[i];if(!(a.dataIndex<0)){e.set(a.dataIndex,!0);for(var s=[a.node1],o=[a.node2],l=0;l<s.length;){var u=s[l];l++,t.set(u.dataIndex,!0);for(var c=u.inEdges,f=0,h=c.length,d=void 0,v=void 0;f<h;f++)d=c[f],v=d.dataIndex,v>=0&&!e.hasKey(v)&&(e.set(v,!0),s.push(d.node1))}for(l=0;l<o.length;){var m=o[l];l++,t.set(m.dataIndex,!0);for(var y=m.outEdges,f=0,x=y.length,b=void 0,M=void 0;f<x;f++)b=y[f],M=b.dataIndex,M>=0&&!e.hasKey(M)&&(e.set(M,!0),o.push(b.node2))}}}return{edge:e.keys(),node:t.keys()}},n})(),cde=(function(){function n(e,t,i){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=i??-1}return n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,i=t.edgeData.getItemModel(this.dataIndex);return i.getModel(e)}},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n.prototype.getTrajectoryDataIndices=function(){var e=bt(),t=bt();e.set(this.dataIndex,!0);for(var i=[this.node1],r=[this.node2],a=0;a<i.length;){var s=i[a];a++,t.set(s.dataIndex,!0);for(var o=s.inEdges,l=0,u=o.length,c=void 0,f=void 0;l<u;l++)c=s.inEdges[l],f=c.dataIndex,f>=0&&!e.hasKey(f)&&(e.set(f,!0),i.push(c.node1))}for(a=0;a<r.length;){var h=r[a];a++,t.set(h.dataIndex,!0);for(var d=h.outEdges,l=0,u=d.length,v=void 0,m=void 0;l<u;l++)v=h.outEdges[l],m=v.dataIndex,m>=0&&!e.hasKey(m)&&(e.set(m,!0),r.push(v.node2))}return{edge:e.keys(),node:t.keys()}},n})();function fde(n,e){return{getValue:function(t){var i=this[n][e];return i.getStore().get(i.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,i){this.dataIndex>=0&&this[n][e].setItemVisual(this.dataIndex,t,i)},getVisual:function(t){return this[n][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,i){this.dataIndex>=0&&this[n][e].setItemLayout(this.dataIndex,t,i)},getLayout:function(){return this[n][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][e].getRawIndex(this.dataIndex)}}}kr(L0,fde("hostGraph","data"));kr(cde,fde("hostGraph","edgeData"));function L9(n,e,t,i,r){for(var a=new mUe(i),s=0;s<n.length;s++)a.addNode(ds(n[s].id,n[s].name,s),s);for(var o=[],l=[],u=0,s=0;s<e.length;s++){var c=e[s],f=c.source,h=c.target;a.addEdge(f,h,u)&&(l.push(c),o.push(ds(Ea(c.id,null),f+" > "+h)),u++)}var d=t.get("coordinateSystem"),v;if(d==="cartesian2d"||d==="polar"||d==="matrix")v=Gh(n,t);else{var m=cS.get(d),y=m?m.dimensions||[]:[];rn(y,"value")<0&&y.concat(["value"]);var x=pS(n,{coordDimensions:y,encodeDefine:t.getEncode()}).dimensions;v=new fo(x,t),v.initData(n)}var b=new fo(["value"],t);return b.initData(l,o),r&&r(v,b),Whe({mainData:v,struct:a,structAttr:"graph",datas:{node:v,edge:b},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var gUe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments);var i=this;function r(){return i._categoriesData}this.legendVisualProvider=new xS(r,r),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){n.prototype.mergeDefaultAndTheme.apply(this,arguments),Dy(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,i){var r=t.edges||t.links||[],a=t.data||t.nodes||[],s=this;if(a&&r){iUe(this);var o=L9(a,r,this,!0,l);return Z(o.edges,function(u){rUe(u.node1,u.node2,this,u.dataIndex)},this),o.data}function l(u,c){u.wrapMethod("getItemModel",function(v){var m=s._categoriesModels,y=v.getShallow("category"),x=m[y];return x&&(x.parentModel=v.parentModel,v.parentModel=x),v});var f=Sn.prototype.getModel;function h(v,m){var y=f.call(this,v,m);return y.resolveParentPath=d,y}c.wrapMethod("getItemModel",function(v){return v.resolveParentPath=d,v.getModel=h,v});function d(v){if(v&&(v[0]==="label"||v[1]==="label")){var m=v.slice();return v[0]==="label"?m[0]="edgeLabel":v[1]==="label"&&(m[1]="edgeLabel"),m}return v}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,i,r){if(r==="edge"){var a=this.getData(),s=this.getDataParams(t,r),o=a.graph.getEdgeByIndex(t),l=a.getName(o.node1.dataIndex),u=a.getName(o.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),pa("nameValue",{name:c.join(" > "),value:s.value,noValue:s.value==null})}var f=pce({series:this,dataIndex:t,multipleSeries:i});return f},e.prototype._updateCategoriesData=function(){var t=We(this.option.categories||[],function(r){return r.value!=null?r:Ie({value:0},r)}),i=new fo(["value"],this);i.initData(t),this._categoriesData=i,this._categoriesModels=i.mapArray(function(r){return i.getItemModel(r)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:xe.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:xe.color.primary}}},e})(Ti);function yUe(n){n.registerChartView(vUe),n.registerSeriesModel(gUe),n.registerProcessor(QFe),n.registerVisual($Fe),n.registerVisual(eUe),n.registerLayout(aUe),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,oUe),n.registerLayout(uUe),n.registerCoordinateSystem("graphView",{dimensions:tx.dimensions,create:fUe}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Or),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Or),n.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t,i){t.eachComponent({mainType:"series",query:e},function(r){var a=i.getViewOfSeriesModel(r);a&&(e.dx!=null&&e.dy!=null&&a.updateViewOnPan(r,i,e),e.zoom!=null&&e.originX!=null&&e.originY!=null&&a.updateViewOnZoom(r,i,e));var s=r.coordinateSystem,o=oP(s,e,r.get("scaleLimit"));r.setCenter&&r.setCenter(o.center),r.setZoom&&r.setZoom(o.zoom)})})}var MJ=(function(n){me(e,n);function e(t,i,r){var a=n.call(this)||this;jt(a).dataType="node",a.z2=2;var s=new In;return a.setTextContent(s),a.updateData(t,i,r,!0),a}return e.prototype.updateData=function(t,i,r,a){var s=this,o=t.graph.getNodeByIndex(i),l=t.hostModel,u=o.getModel(),c=u.getModel("emphasis"),f=t.getItemLayout(i),h=Ie(_h(u.getModel("itemStyle"),f,!0),f),d=this;if(isNaN(h.startAngle)){d.setShape(h);return}a?d.setShape(h):Gn(d,{shape:h},l,i);var v=Ie(_h(u.getModel("itemStyle"),f,!0),f);s.setShape(v),s.useStyle(t.getItemVisual(i,"style")),Da(s,u),this._updateLabel(l,u,o),t.setItemGraphicEl(i,d),Da(d,u,"itemStyle");var m=c.get("focus");rr(this,m==="adjacency"?o.getAdjacentDataIndices():m,c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t,i,r){var a=this.getTextContent(),s=r.getLayout(),o=(s.startAngle+s.endAngle)/2,l=Math.cos(o),u=Math.sin(o),c=i.getModel("label");a.ignore=!c.get("show");var f=Ra(i),h=r.getVisual("style");Xa(a,f,{labelFetcher:{getFormattedLabel:function(b,M,C,w,E,L){return t.getFormattedLabel(b,M,"node",w,gl(E,f.normal&&f.normal.get("formatter"),i.get("name")),L)}},labelDataIndex:r.dataIndex,defaultText:r.dataIndex+"",inheritColor:h.fill,defaultOpacity:h.opacity,defaultOutsidePosition:"startArc"});var d=c.get("position")||"outside",v=c.get("distance")||0,m;d==="outside"?m=s.r+v:m=(s.r+s.r0)/2,this.textConfig={inside:d!=="outside"};var y=d!=="outside"?c.get("align")||"center":l>0?"left":"right",x=d!=="outside"?c.get("verticalAlign")||"middle":u>0?"top":"bottom";a.attr({x:l*m+s.cx,y:u*m+s.cy,rotation:0,style:{align:y,verticalAlign:x}})},e})(ks),xUe=(function(n){me(e,n);function e(t,i,r,a){var s=n.call(this)||this;return jt(s).dataType="edge",s.updateData(t,i,r,a,!0),s}return e.prototype.buildPath=function(t,i){t.moveTo(i.s1[0],i.s1[1]);var r=.7,a=i.clockwise;t.arc(i.cx,i.cy,i.r,i.sStartAngle,i.sEndAngle,!a),t.bezierCurveTo((i.cx-i.s2[0])*r+i.s2[0],(i.cy-i.s2[1])*r+i.s2[1],(i.cx-i.t1[0])*r+i.t1[0],(i.cy-i.t1[1])*r+i.t1[1],i.t1[0],i.t1[1]),t.arc(i.cx,i.cy,i.r,i.tStartAngle,i.tEndAngle,!a),t.bezierCurveTo((i.cx-i.t2[0])*r+i.t2[0],(i.cy-i.t2[1])*r+i.t2[1],(i.cx-i.s1[0])*r+i.s1[0],(i.cy-i.s1[1])*r+i.s1[1],i.s1[0],i.s1[1]),t.closePath()},e.prototype.updateData=function(t,i,r,a,s){var o=t.hostModel,l=i.graph.getEdgeByIndex(r),u=l.getLayout(),c=l.node1.getModel(),f=i.getItemModel(l.dataIndex),h=f.getModel("lineStyle"),d=f.getModel("emphasis"),v=d.get("focus"),m=Ie(_h(c.getModel("itemStyle"),u,!0),u),y=this;if(isNaN(m.sStartAngle)||isNaN(m.tStartAngle)){y.setShape(m);return}s?(y.setShape(m),TJ(y,l,t,h)):(ec(y),TJ(y,l,t,h),Gn(y,{shape:m},o,r)),rr(this,v==="adjacency"?l.getAdjacentDataIndices():v,d.get("blurScope"),d.get("disabled")),Da(y,f,"lineStyle"),i.setItemGraphicEl(l.dataIndex,y)},e})(An);function TJ(n,e,t,i){var r=e.node1,a=e.node2,s=n.style;n.setStyle(i.getLineStyle());var o=i.get("color");switch(o){case"source":s.fill=t.getItemVisual(r.dataIndex,"style").fill,s.decal=r.getVisual("style").decal;break;case"target":s.fill=t.getItemVisual(a.dataIndex,"style").fill,s.decal=a.getVisual("style").decal;break;case"gradient":var l=t.getItemVisual(r.dataIndex,"style").fill,u=t.getItemVisual(a.dataIndex,"style").fill;if(ot(l)&&ot(u)){var c=n.shape,f=(c.s1[0]+c.s2[0])/2,h=(c.s1[1]+c.s2[1])/2,d=(c.t1[0]+c.t2[0])/2,v=(c.t1[1]+c.t2[1])/2;s.fill=new qy(f,h,d,v,[{offset:0,color:l},{offset:1,color:u}],!0)}break}}var _Ue=Math.PI/180,bUe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,i){},e.prototype.render=function(t,i,r){var a=t.getData(),s=this._data,o=this.group,l=-t.get("startAngle")*_Ue;if(a.diff(s).add(function(c){var f=a.getItemLayout(c);if(f){var h=new MJ(a,c,l);jt(h).dataIndex=c,o.add(h)}}).update(function(c,f){var h=s.getItemGraphicEl(f),d=a.getItemLayout(c);if(!d){h&&rp(h,t,f);return}h?h.updateData(a,c,l):h=new MJ(a,c,l),o.add(h)}).remove(function(c){var f=s.getItemGraphicEl(c);f&&rp(f,t,c)}).execute(),!s){var u=t.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=st(u[0],r.getWidth()),this.group.originY=st(u[1],r.getHeight()),Xi(this.group,{scaleX:1,scaleY:1},t)}this._data=a,this.renderEdges(t,l)},e.prototype.renderEdges=function(t,i){var r=t.getData(),a=t.getEdgeData(),s=this._edgeData,o=this.group;a.diff(s).add(function(l){var u=new xUe(r,a,l,i);jt(u).dataIndex=l,o.add(u)}).update(function(l,u){var c=s.getItemGraphicEl(u);c.updateData(r,a,l,i),o.add(c)}).remove(function(l){var u=s.getItemGraphicEl(l);u&&rp(u,t,l)}).execute(),this._edgeData=a},e.prototype.dispose=function(){},e.type="chord",e})(xi),SUe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this.legendVisualProvider=new xS(ct(this.getData,this),ct(this.getRawData,this))},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links)},e.prototype.getInitialData=function(t,i){var r=t.edges||t.links||[],a=t.data||t.nodes||[];if(a&&r){var s=L9(a,r,this,!0,o);return s.data}function o(l,u){var c=Sn.prototype.getModel;function f(d,v){var m=c.call(this,d,v);return m.resolveParentPath=h,m}u.wrapMethod("getItemModel",function(d){return d.resolveParentPath=h,d.getModel=f,d});function h(d){if(d&&(d[0]==="label"||d[1]==="label")){var v=d.slice();return d[0]==="label"?v[0]="edgeLabel":d[1]==="label"&&(v[1]="edgeLabel"),v}return d}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,i,r){var a=this.getDataParams(t,r);if(r==="edge"){var s=this.getData(),o=s.graph.getEdgeByIndex(t),l=s.getName(o.node1.dataIndex),u=s.getName(o.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),pa("nameValue",{name:c.join(" > "),value:a.value,noValue:a.value==null})}return pa("nameValue",{name:a.name,value:a.value,noValue:a.value==null})},e.prototype.getDataParams=function(t,i){var r=n.prototype.getDataParams.call(this,t,i);if(i==="node"){var a=this.getData(),s=this.getGraph().getNodeByIndex(t);if(r.name==null&&(r.name=a.getName(t)),r.value==null){var o=s.getLayout().value;r.value=o}}return r},e.type="series.chord",e.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},e})(Ti),u4=Math.PI/180;function AUe(n,e){n.eachSeriesByType("chord",function(t){MUe(t,e)})}function MUe(n,e){var t=n.getData(),i=t.graph,r=n.getEdgeData(),a=r.count();if(a){var s=Iue(n,e),o=s.cx,l=s.cy,u=s.r,c=s.r0,f=Math.max((n.get("padAngle")||0)*u4,0),h=Math.max((n.get("minAngle")||0)*u4,0),d=-n.get("startAngle")*u4,v=d+Math.PI*2,m=n.get("clockwise"),y=m?1:-1,x=[d,v];jI(x,!m);var b=x[0],M=x[1],C=M-b,w=t.getSum("value")===0&&r.getSum("value")===0,E=[],L=0;i.eachEdge(function(q){var $=w?1:q.getValue("value");w&&($>0||h)&&(L+=2);var te=q.node1.dataIndex,J=q.node2.dataIndex;E[te]=(E[te]||0)+$,E[J]=(E[J]||0)+$});var P=0;if(i.eachNode(function(q){var $=q.getValue("value");isNaN($)||(E[q.dataIndex]=Math.max($,E[q.dataIndex]||0)),!w&&(E[q.dataIndex]>0||h)&&L++,P+=E[q.dataIndex]||0}),!(L===0||P===0)){f*L>=Math.abs(C)&&(f=Math.max(0,(Math.abs(C)-h*L)/L)),(f+h)*L>=Math.abs(C)&&(h=(Math.abs(C)-f*L)/L);var I=(C-f*L*y)/P,N=0,z=0,V=0;i.eachNode(function(q){var $=E[q.dataIndex]||0,te=I*(P?$:1)*y;Math.abs(te)<h?N+=h-Math.abs(te):(z+=Math.abs(te)-h,V+=Math.abs(te)),q.setLayout({angle:te,value:$})});var U=!1;if(N>z){var j=N/z;i.eachNode(function(q){var $=q.getLayout().angle;Math.abs($)>=h?q.setLayout({angle:$*j,ratio:j},!0):q.setLayout({angle:h,ratio:h===0?1:$/h},!0)})}else i.eachNode(function(q){if(!U){var $=q.getLayout().angle,te=Math.min($/V,1),J=te*N;$-J<h&&(U=!0)}});var W=N;i.eachNode(function(q){if(!(W<=0)){var $=q.getLayout().angle;if($>h&&h>0){var te=U?1:Math.min($/V,1),J=$-h,Q=Math.min(J,Math.min(W,N*te));W-=Q,q.setLayout({angle:$-Q,ratio:($-Q)/$},!0)}else h>0&&q.setLayout({angle:h,ratio:$===0?1:h/$},!0)}});var G=b,X=[];i.eachNode(function(q){var $=Math.max(q.getLayout().angle,h);q.setLayout({cx:o,cy:l,r0:c,r:u,startAngle:G,endAngle:G+$*y,clockwise:m},!0),X[q.dataIndex]=G,G+=($+f)*y}),i.eachEdge(function(q){var $=w?1:q.getValue("value"),te=I*(P?$:1)*y,J=q.node1.dataIndex,Q=X[J]||0,se=Math.abs((q.node1.getLayout().ratio||1)*te),ce=Q+se*y,ue=[o+c*Math.cos(Q),l+c*Math.sin(Q)],fe=[o+c*Math.cos(ce),l+c*Math.sin(ce)],ge=q.node2.dataIndex,Se=X[ge]||0,Ee=Math.abs((q.node2.getLayout().ratio||1)*te),Ue=Se+Ee*y,_e=[o+c*Math.cos(Se),l+c*Math.sin(Se)],ke=[o+c*Math.cos(Ue),l+c*Math.sin(Ue)];q.setLayout({s1:ue,s2:fe,sStartAngle:Q,sEndAngle:ce,t1:_e,t2:ke,tStartAngle:Se,tEndAngle:Ue,cx:o,cy:l,r:c,value:$,clockwise:m}),X[J]=ce,X[ge]=Ue})}}}function TUe(n){n.registerChartView(bUe),n.registerSeriesModel(SUe),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,AUe),n.registerProcessor(gS("chord"))}var CUe=(function(){function n(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return n})(),wUe=(function(n){me(e,n);function e(t){var i=n.call(this,t)||this;return i.type="pointer",i}return e.prototype.getDefaultShape=function(){return new CUe},e.prototype.buildPath=function(t,i){var r=Math.cos,a=Math.sin,s=i.r,o=i.width,l=i.angle,u=i.x-r(l)*o*(o>=s/3?1:2),c=i.y-a(l)*o*(o>=s/3?1:2);l=i.angle-Math.PI/2,t.moveTo(u,c),t.lineTo(i.x+r(l)*o,i.y+a(l)*o),t.lineTo(i.x+r(i.angle)*s,i.y+a(i.angle)*s),t.lineTo(i.x-r(l)*o,i.y-a(l)*o),t.lineTo(u,c)},e})(An);function EUe(n,e){var t=n.get("center"),i=e.getWidth(),r=e.getHeight(),a=Math.min(i,r),s=st(t[0],e.getWidth()),o=st(t[1],e.getHeight()),l=st(n.get("radius"),a/2);return{cx:s,cy:o,r:l}}function PD(n,e){var t=n==null?"":n+"";return e&&(ot(e)?t=e.replace("{value}",t):wt(e)&&(t=e(n))),t}var DUe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){this.group.removeAll();var a=t.get(["axisLine","lineStyle","color"]),s=EUe(t,r);this._renderMain(t,i,r,a,s),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,i,r,a,s){var o=this.group,l=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,c=-t.get("endAngle")/180*Math.PI,f=t.getModel("axisLine"),h=f.get("roundCap"),d=h?jL:ks,v=f.get("show"),m=f.getModel("lineStyle"),y=m.get("width"),x=[u,c];jI(x,!l),u=x[0],c=x[1];for(var b=c-u,M=u,C=[],w=0;v&&w<a.length;w++){var E=Math.min(Math.max(a[w][0],0),1);c=u+b*E;var L=new d({shape:{startAngle:M,endAngle:c,cx:s.cx,cy:s.cy,clockwise:l,r0:s.r-y,r:s.r},silent:!0});L.setStyle({fill:a[w][1]}),L.setStyle(m.getLineStyle(["color","width"])),C.push(L),M=c}C.reverse(),Z(C,function(I){return o.add(I)});var P=function(I){if(I<=0)return a[0][1];var N;for(N=0;N<a.length;N++)if(a[N][0]>=I&&(N===0?0:a[N-1][0])<I)return a[N][1];return a[N-1][1]};this._renderTicks(t,i,r,P,s,u,c,l,y),this._renderTitleAndDetail(t,i,r,P,s),this._renderAnchor(t,s),this._renderPointer(t,i,r,P,s,u,c,l,y)},e.prototype._renderTicks=function(t,i,r,a,s,o,l,u,c){for(var f=this.group,h=s.cx,d=s.cy,v=s.r,m=+t.get("min"),y=+t.get("max"),x=t.getModel("splitLine"),b=t.getModel("axisTick"),M=t.getModel("axisLabel"),C=t.get("splitNumber"),w=b.get("splitNumber"),E=st(x.get("length"),v),L=st(b.get("length"),v),P=o,I=(l-o)/C,N=I/w,z=x.getModel("lineStyle").getLineStyle(),V=b.getModel("lineStyle").getLineStyle(),U=x.get("distance"),j,W,G=0;G<=C;G++){if(j=Math.cos(P),W=Math.sin(P),x.get("show")){var X=U?U+c:c,q=new Qr({shape:{x1:j*(v-X)+h,y1:W*(v-X)+d,x2:j*(v-E-X)+h,y2:W*(v-E-X)+d},style:z,silent:!0});z.stroke==="auto"&&q.setStyle({stroke:a(G/C)}),f.add(q)}if(M.get("show")){var X=M.get("distance")+U,$=PD(Jr(G/C*(y-m)+m),M.get("formatter")),te=a(G/C),J=j*(v-E-X)+h,Q=W*(v-E-X)+d,se=M.get("rotate"),ce=0;se==="radial"?(ce=-P+2*Math.PI,ce>Math.PI/2&&(ce+=Math.PI)):se==="tangential"?ce=-P-Math.PI/2:Pn(se)&&(ce=se*Math.PI/180),ce===0?f.add(new In({style:Ii(M,{text:$,x:J,y:Q,verticalAlign:W<-.8?"top":W>.8?"bottom":"middle",align:j<-.4?"left":j>.4?"right":"center"},{inheritColor:te}),silent:!0})):f.add(new In({style:Ii(M,{text:$,x:J,y:Q,verticalAlign:"middle",align:"center"},{inheritColor:te}),silent:!0,originX:J,originY:Q,rotation:ce}))}if(b.get("show")&&G!==C){var X=b.get("distance");X=X?X+c:c;for(var ue=0;ue<=w;ue++){j=Math.cos(P),W=Math.sin(P);var fe=new Qr({shape:{x1:j*(v-X)+h,y1:W*(v-X)+d,x2:j*(v-L-X)+h,y2:W*(v-L-X)+d},silent:!0,style:V});V.stroke==="auto"&&fe.setStyle({stroke:a((G+ue/w)/C)}),f.add(fe),P+=N}P-=N}else P+=I}},e.prototype._renderPointer=function(t,i,r,a,s,o,l,u,c){var f=this.group,h=this._data,d=this._progressEls,v=[],m=t.get(["pointer","show"]),y=t.getModel("progress"),x=y.get("show"),b=t.getData(),M=b.mapDimension("value"),C=+t.get("min"),w=+t.get("max"),E=[C,w],L=[o,l];function P(N,z){var V=b.getItemModel(N),U=V.getModel("pointer"),j=st(U.get("width"),s.r),W=st(U.get("length"),s.r),G=t.get(["pointer","icon"]),X=U.get("offsetCenter"),q=st(X[0],s.r),$=st(X[1],s.r),te=U.get("keepAspect"),J;return G?J=$r(G,q-j/2,$-W,j,W,null,te):J=new wUe({shape:{angle:-Math.PI/2,width:j,r:W,x:q,y:$}}),J.rotation=-(z+Math.PI/2),J.x=s.cx,J.y=s.cy,J}function I(N,z){var V=y.get("roundCap"),U=V?jL:ks,j=y.get("overlap"),W=j?y.get("width"):c/b.count(),G=j?s.r-W:s.r-(N+1)*W,X=j?s.r:s.r-N*W,q=new U({shape:{startAngle:o,endAngle:z,cx:s.cx,cy:s.cy,clockwise:u,r0:G,r:X}});return j&&(q.z2=ei(b.get(M,N),[C,w],[100,0],!0)),q}(x||m)&&(b.diff(h).add(function(N){var z=b.get(M,N);if(m){var V=P(N,o);Xi(V,{rotation:-((isNaN(+z)?L[0]:ei(z,E,L,!0))+Math.PI/2)},t),f.add(V),b.setItemGraphicEl(N,V)}if(x){var U=I(N,o),j=y.get("clip");Xi(U,{shape:{endAngle:ei(z,E,L,j)}},t),f.add(U),QF(t.seriesIndex,b.dataType,N,U),v[N]=U}}).update(function(N,z){var V=b.get(M,N);if(m){var U=h.getItemGraphicEl(z),j=U?U.rotation:o,W=P(N,j);W.rotation=j,Gn(W,{rotation:-((isNaN(+V)?L[0]:ei(V,E,L,!0))+Math.PI/2)},t),f.add(W),b.setItemGraphicEl(N,W)}if(x){var G=d[z],X=G?G.shape.endAngle:o,q=I(N,X),$=y.get("clip");Gn(q,{shape:{endAngle:ei(V,E,L,$)}},t),f.add(q),QF(t.seriesIndex,b.dataType,N,q),v[N]=q}}).execute(),b.each(function(N){var z=b.getItemModel(N),V=z.getModel("emphasis"),U=V.get("focus"),j=V.get("blurScope"),W=V.get("disabled");if(m){var G=b.getItemGraphicEl(N),X=b.getItemVisual(N,"style"),q=X.fill;if(G instanceof Za){var $=G.style;G.useStyle(Ie({image:$.image,x:$.x,y:$.y,width:$.width,height:$.height},X))}else G.useStyle(X),G.type!=="pointer"&&G.setColor(q);G.setStyle(z.getModel(["pointer","itemStyle"]).getItemStyle()),G.style.fill==="auto"&&G.setStyle("fill",a(ei(b.get(M,N),E,[0,1],!0))),G.z2EmphasisLift=0,Da(G,z),rr(G,U,j,W)}if(x){var te=v[N];te.useStyle(b.getItemVisual(N,"style")),te.setStyle(z.getModel(["progress","itemStyle"]).getItemStyle()),te.z2EmphasisLift=0,Da(te,z),rr(te,U,j,W)}}),this._progressEls=v)},e.prototype._renderAnchor=function(t,i){var r=t.getModel("anchor"),a=r.get("show");if(a){var s=r.get("size"),o=r.get("icon"),l=r.get("offsetCenter"),u=r.get("keepAspect"),c=$r(o,i.cx-s/2+st(l[0],i.r),i.cy-s/2+st(l[1],i.r),s,s,null,u);c.z2=r.get("showAbove")?1:0,c.setStyle(r.getModel("itemStyle").getItemStyle()),this.group.add(c)}},e.prototype._renderTitleAndDetail=function(t,i,r,a,s){var o=this,l=t.getData(),u=l.mapDimension("value"),c=+t.get("min"),f=+t.get("max"),h=new It,d=[],v=[],m=t.isAnimationEnabled(),y=t.get(["pointer","showAbove"]);l.diff(this._data).add(function(x){d[x]=new In({silent:!0}),v[x]=new In({silent:!0})}).update(function(x,b){d[x]=o._titleEls[b],v[x]=o._detailEls[b]}).execute(),l.each(function(x){var b=l.getItemModel(x),M=l.get(u,x),C=new It,w=a(ei(M,[c,f],[0,1],!0)),E=b.getModel("title");if(E.get("show")){var L=E.get("offsetCenter"),P=s.cx+st(L[0],s.r),I=s.cy+st(L[1],s.r),N=d[x];N.attr({z2:y?0:2,style:Ii(E,{x:P,y:I,text:l.getName(x),align:"center",verticalAlign:"middle"},{inheritColor:w})}),C.add(N)}var z=b.getModel("detail");if(z.get("show")){var V=z.get("offsetCenter"),U=s.cx+st(V[0],s.r),j=s.cy+st(V[1],s.r),W=st(z.get("width"),s.r),G=st(z.get("height"),s.r),X=t.get(["progress","show"])?l.getItemVisual(x,"style").fill:w,N=v[x],q=z.get("formatter");N.attr({z2:y?0:2,style:Ii(z,{x:U,y:j,text:PD(M,q),width:isNaN(W)?null:W,height:isNaN(G)?null:G,align:"center",verticalAlign:"middle"},{inheritColor:X})}),vue(N,{normal:z},M,function(te){return PD(te,q)}),m&&mue(N,x,l,t,{getFormattedLabel:function(te,J,Q,se,ce,ue){return PD(ue?ue.interpolatedValue:M,q)}}),C.add(N)}h.add(C)}),this.group.add(h),this._titleEls=d,this._detailEls=v},e.type="gauge",e})(xi),RUe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return e.prototype.getInitialData=function(t,i){return yS(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,xe.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:xe.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:xe.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:xe.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:xe.color.neutral00,borderWidth:0,borderColor:xe.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:xe.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:xe.color.transparent,borderWidth:0,borderColor:xe.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:xe.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e})(Ti);function LUe(n){n.registerChartView(DUe),n.registerSeriesModel(RUe)}var NUe=["itemStyle","opacity"],IUe=(function(n){me(e,n);function e(t,i){var r=n.call(this)||this,a=r,s=new ys,o=new In;return a.setTextContent(o),r.setTextGuideLine(s),r.updateData(t,i,!0),r}return e.prototype.updateData=function(t,i,r){var a=this,s=t.hostModel,o=t.getItemModel(i),l=t.getItemLayout(i),u=o.getModel("emphasis"),c=o.get(NUe);c=c??1,r||ec(a),a.useStyle(t.getItemVisual(i,"style")),a.style.lineJoin="round",r?(a.setShape({points:l.points}),a.style.opacity=0,Xi(a,{style:{opacity:c}},s,i)):Gn(a,{style:{opacity:c},shape:{points:l.points}},s,i),Da(a,o),this._updateLabel(t,i),rr(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,i){var r=this,a=this.getTextGuideLine(),s=r.getTextContent(),o=t.hostModel,l=t.getItemModel(i),u=t.getItemLayout(i),c=u.label,f=t.getItemVisual(i,"style"),h=f.fill;Xa(s,Ra(l),{labelFetcher:t.hostModel,labelDataIndex:i,defaultOpacity:f.opacity,defaultText:t.getName(i)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}});var d=l.getModel("label"),v=d.get("color"),m=v==="inherit"?h:null;r.setTextConfig({local:!0,inside:!!c.inside,insideStroke:m,outsideFill:m});var y=c.linePoints;a.setShape({points:y}),r.textGuideLineConfig={anchor:y?new Ft(y[0][0],y[0][1]):null},Gn(s,{style:{x:c.x,y:c.y}},o,i),s.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),r9(r,a9(l),{stroke:h})},e})(Fs),PUe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,i,r){var a=t.getData(),s=this._data,o=this.group;a.diff(s).add(function(l){var u=new IUe(a,l);a.setItemGraphicEl(l,u),o.add(u)}).update(function(l,u){var c=s.getItemGraphicEl(u);c.updateData(a,l),o.add(c),a.setItemGraphicEl(l,c)}).remove(function(l){var u=s.getItemGraphicEl(l);rp(u,t,l)}).execute(),this._data=a},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e})(xi),BUe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new xS(ct(this.getData,this),ct(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,i){return yS(this,{coordDimensions:["value"],encodeDefaulter:$t(N6,this)})},e.prototype._defaultLabelLine=function(t){Dy(t,"labelLine",["show"]);var i=t.labelLine,r=t.emphasis.labelLine;i.show=i.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var i=this.getData(),r=n.prototype.getDataParams.call(this,t),a=i.mapDimension("value"),s=i.getSum(a);return r.percent=s?+(i.get(a,t)/s*100).toFixed(2):0,r.$vars.push("percent"),r},e.type="series.funnel",e.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:xe.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:xe.color.primary}}},e})(Ti);function OUe(n,e){for(var t=n.mapDimension("value"),i=n.mapArray(t,function(l){return l}),r=[],a=e==="ascending",s=0,o=n.count();s<o;s++)r[s]=s;return wt(e)?r.sort(e):e!=="none"&&r.sort(function(l,u){return a?i[l]-i[u]:i[u]-i[l]}),r}function zUe(n){var e=n.hostModel,t=e.get("orient");n.each(function(i){var r=n.getItemModel(i),a=r.getModel("label"),s=a.get("position"),o=r.getModel("labelLine"),l=n.getItemLayout(i),u=l.points,c=s==="inner"||s==="inside"||s==="center"||s==="insideLeft"||s==="insideRight",f,h,d,v;if(c)s==="insideLeft"?(h=(u[0][0]+u[3][0])/2+5,d=(u[0][1]+u[3][1])/2,f="left"):s==="insideRight"?(h=(u[1][0]+u[2][0])/2-5,d=(u[1][1]+u[2][1])/2,f="right"):(h=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,d=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,f="center"),v=[[h,d],[h,d]];else{var m=void 0,y=void 0,x=void 0,b=void 0,M=o.get("length");s==="left"?(m=(u[3][0]+u[0][0])/2,y=(u[3][1]+u[0][1])/2,x=m-M,h=x-5,f="right"):s==="right"?(m=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,x=m+M,h=x+5,f="left"):s==="top"?(m=(u[3][0]+u[0][0])/2,y=(u[3][1]+u[0][1])/2,b=y-M,d=b-5,f="center"):s==="bottom"?(m=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,b=y+M,d=b+5,f="center"):s==="rightTop"?(m=t==="horizontal"?u[3][0]:u[1][0],y=t==="horizontal"?u[3][1]:u[1][1],t==="horizontal"?(b=y-M,d=b-5,f="center"):(x=m+M,h=x+5,f="top")):s==="rightBottom"?(m=u[2][0],y=u[2][1],t==="horizontal"?(b=y+M,d=b+5,f="center"):(x=m+M,h=x+5,f="bottom")):s==="leftTop"?(m=u[0][0],y=t==="horizontal"?u[0][1]:u[1][1],t==="horizontal"?(b=y-M,d=b-5,f="center"):(x=m-M,h=x-5,f="right")):s==="leftBottom"?(m=t==="horizontal"?u[1][0]:u[3][0],y=t==="horizontal"?u[1][1]:u[2][1],t==="horizontal"?(b=y+M,d=b+5,f="center"):(x=m-M,h=x-5,f="right")):(m=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,t==="horizontal"?(b=y+M,d=b+5,f="center"):(x=m+M,h=x+5,f="left")),t==="horizontal"?(x=m,h=x):(b=y,d=b),v=[[m,y],[x,b]]}l.label={linePoints:v,x:h,y:d,verticalAlign:"middle",textAlign:f,inside:c}})}function kUe(n,e){n.eachSeriesByType("funnel",function(t){var i=t.getData(),r=i.mapDimension("value"),a=t.get("sort"),s=Na(t,e),o=Ji(t.getBoxLayoutParams(),s.refContainer),l=t.get("orient"),u=o.width,c=o.height,f=OUe(i,a),h=o.x,d=o.y,v=l==="horizontal"?[st(t.get("minSize"),c),st(t.get("maxSize"),c)]:[st(t.get("minSize"),u),st(t.get("maxSize"),u)],m=i.getDataExtent(r),y=t.get("min"),x=t.get("max");y==null&&(y=Math.min(m[0],0)),x==null&&(x=m[1]);var b=t.get("funnelAlign"),M=t.get("gap"),C=l==="horizontal"?u:c,w=(C-M*(i.count()-1))/i.count(),E=function(W,G){if(l==="horizontal"){var X=i.get(r,W)||0,q=ei(X,[y,x],v,!0),$=void 0;switch(b){case"top":$=d;break;case"center":$=d+(c-q)/2;break;case"bottom":$=d+(c-q);break}return[[G,$],[G,$+q]]}var te=i.get(r,W)||0,J=ei(te,[y,x],v,!0),Q;switch(b){case"left":Q=h;break;case"center":Q=h+(u-J)/2;break;case"right":Q=h+u-J;break}return[[Q,G],[Q+J,G]]};a==="ascending"&&(w=-w,M=-M,l==="horizontal"?h+=u:d+=c,f=f.reverse());for(var L=0;L<f.length;L++){var P=f[L],I=f[L+1],N=i.getItemModel(P);if(l==="horizontal"){var z=N.get(["itemStyle","width"]);z==null?z=w:(z=st(z,u),a==="ascending"&&(z=-z));var V=E(P,h),U=E(I,h+z);h+=z+M,i.setItemLayout(P,{points:V.concat(U.slice().reverse())})}else{var j=N.get(["itemStyle","height"]);j==null?j=w:(j=st(j,c),a==="ascending"&&(j=-j));var V=E(P,d),U=E(I,d+j);d+=j+M,i.setItemLayout(P,{points:V.concat(U.slice().reverse())})}}zUe(i)})}function FUe(n){n.registerChartView(PUe),n.registerSeriesModel(BUe),n.registerLayout(kUe),n.registerProcessor(gS("funnel"))}var UUe=.3,GUe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new It,t._initialized=!1,t}return e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,i,r,a){this._progressiveEls=null;var s=this._dataGroup,o=t.getData(),l=this._data,u=t.coordinateSystem,c=u.dimensions,f=wJ(t);o.diff(l).add(h).update(d).remove(v).execute();function h(y){var x=CJ(o,s,y,c,u);c4(x,o,y,f)}function d(y,x){var b=l.getItemGraphicEl(x),M=hde(o,y,c,u);o.setItemGraphicEl(y,b),Gn(b,{shape:{points:M}},t,y),ec(b),c4(b,o,y,f)}function v(y){var x=l.getItemGraphicEl(y);s.remove(x)}if(!this._initialized){this._initialized=!0;var m=VUe(u,t,function(){setTimeout(function(){s.removeClipPath()})});s.setClipPath(m)}this._data=o},e.prototype.incrementalPrepareRender=function(t,i,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,i,r){for(var a=i.getData(),s=i.coordinateSystem,o=s.dimensions,l=wJ(i),u=this._progressiveEls=[],c=t.start;c<t.end;c++){var f=CJ(a,this._dataGroup,c,o,s);f.incremental=!0,c4(f,a,c,l),u.push(f)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e})(xi);function VUe(n,e,t){var i=n.model,r=n.getRect(),a=new pn({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),s=i.get("layout")==="horizontal"?"width":"height";return a.setShape(s,0),Xi(a,{shape:{width:r.width,height:r.height}},e,t),a}function hde(n,e,t,i){for(var r=[],a=0;a<t.length;a++){var s=t[a],o=n.get(n.mapDimension(s),e);jUe(o,i.getAxis(s).type)||r.push(i.dataToPoint(o,s))}return r}function CJ(n,e,t,i,r){var a=hde(n,t,i,r),s=new ys({shape:{points:a},z2:10});return e.add(s),n.setItemGraphicEl(t,s),s}function wJ(n){var e=n.get("smooth",!0);return e===!0&&(e=UUe),e=Nh(e),Ns(e)&&(e=0),{smooth:e}}function c4(n,e,t,i){n.useStyle(e.getItemVisual(t,"style")),n.style.fill=null,n.setShape("smooth",i.smooth);var r=e.getItemModel(t),a=r.getModel("emphasis");Da(n,r,"lineStyle"),rr(n,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function jUe(n,e){return e==="category"?n==null:n==null||isNaN(n)}var HUe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.getInitialData=function(t,i){return Gh(null,this,{useEncodeDefaulter:ct(WUe,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var i=this.coordinateSystem,r=this.getData(),a=[];return i.eachActiveState(r,function(s,o){t===s&&a.push(r.getRawIndex(o))}),a},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e})(Ti);function WUe(n){var e=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(e){var t={};return Z(e.dimensions,function(i){var r=XUe(i);t[i]=r}),t}}function XUe(n){return+n.replace("dim","")}var YUe=["lineStyle","opacity"],qUe={seriesType:"parallel",reset:function(n,e){var t=n.coordinateSystem,i={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(r,a){t.eachActiveState(a,function(s,o){var l=i[s];if(s==="normal"&&a.hasItemOption){var u=a.getItemModel(o).get(YUe,!0);u!=null&&(l=u)}var c=a.ensureUniqueItemVisual(o,"style");c.opacity=l},r.start,r.end)}}}};function ZUe(n){KUe(n),JUe(n)}function KUe(n){if(!n.parallel){var e=!1;Z(n.series,function(t){t&&t.type==="parallel"&&(e=!0)}),e&&(n.parallel=[{}])}}function JUe(n){var e=Pi(n.parallelAxis);Z(e,function(t){if(Ot(t)){var i=t.parallelIndex||0,r=Pi(n.parallel)[i];r&&r.parallelAxisDefault&&an(t,r.parallelAxisDefault,!1)}})}var QUe=5,$Ue=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){this._model=t,this._api=r,this._handlers||(this._handlers={},Z(e8e,function(a,s){r.getZr().on(s,this._handlers[s]=ct(a,this))},this)),hS(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,i){FT(this,"_throttledDispatchExpand"),Z(this._handlers,function(r,a){i.getZr().off(a,r)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(Ie({type:"parallelAxisExpand"},t))},e.type="parallel",e})(Bi),e8e={mousedown:function(n){f4(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var e=this._mouseDownPoint;if(f4(this,"click")&&e){var t=[n.offsetX,n.offsetY],i=Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2);if(i>QUe)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);r.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!(this._mouseDownPoint||!f4(this,"mousemove"))){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),i=t.behavior;i==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(i==="none"?null:{axisExpandWindow:t.axisExpandWindow,animation:i==="jump"?null:{duration:0}})}}};function f4(n,e){var t=n._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}var t8e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var i=this.option;t&&an(i,t,!0),this._initDimensions()},e.prototype.contains=function(t,i){var r=t.get("parallelIndex");return r!=null&&i.getComponent("parallel",r)===this},e.prototype.setAxisExpand=function(t){Z(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){t.hasOwnProperty(i)&&(this.option[i]=t[i])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],i=this.parallelAxisIndex=[],r=Zn(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);Z(r,function(a){t.push("dim"+a.get("dim")),i.push(a.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e})(xn),n8e=(function(n){me(e,n);function e(t,i,r,a,s){var o=n.call(this,t,i,r)||this;return o.type=a||"value",o.axisIndex=s,o}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e})(oc);function Am(n,e,t,i,r,a){n=n||0;var s=t[1]-t[0];if(r!=null&&(r=B_(r,[0,s])),a!=null&&(a=Math.max(a,r??0)),i==="all"){var o=Math.abs(e[1]-e[0]);o=B_(o,[0,s]),r=a=B_(o,[r,a]),i=0}e[0]=B_(e[0],t),e[1]=B_(e[1],t);var l=h4(e,i);e[i]+=n;var u=r||0,c=t.slice();l.sign<0?c[0]+=u:c[1]-=u,e[i]=B_(e[i],c);var f;return f=h4(e,i),r!=null&&(f.sign!==l.sign||f.span<r)&&(e[1-i]=e[i]+l.sign*r),f=h4(e,i),a!=null&&f.span>a&&(e[1-i]=e[i]+f.sign*a),e}function h4(n,e){var t=n[e]-n[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function B_(n,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,n))}var d4=Z,dde=Math.min,pde=Math.max,EJ=Math.floor,i8e=Math.ceil,DJ=Jr,r8e=Math.PI,a8e=(function(){function n(e,t,i){this.type="parallel",this._axesMap=bt(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var r=e.dimensions,a=e.parallelAxisIndex;d4(r,function(s,o){var l=a[o],u=t.getComponent("parallelAxis",l),c=this._axesMap.set(s,new n8e(s,VC(u),[0,0],u.get("type"),l)),f=c.type==="category";c.onBand=f&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},n.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},n.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),i=t.axisBase,r=t.layoutBase,a=t.pixelDimIndex,s=e[1-a],o=e[a];return s>=i&&s<=i+t.axisLength&&o>=r&&o<=r+t.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(i){if(e.contains(i,t)){var r=i.getData();d4(this.dimensions,function(a){var s=this._axesMap.get(a);s.scale.unionExtentFromData(r,r.mapDimension(a)),Oy(s.scale,s.model)},this)}},this)},n.prototype.resize=function(e,t){var i=Na(e,t).refContainer;this._rect=Ji(e.getBoxLayoutParams(),i),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var e=this._model,t=this._rect,i=["x","y"],r=["width","height"],a=e.get("layout"),s=a==="horizontal"?0:1,o=t[r[s]],l=[0,o],u=this.dimensions.length,c=BD(e.get("axisExpandWidth"),l),f=BD(e.get("axisExpandCount")||0,[0,u]),h=e.get("axisExpandable")&&u>3&&u>f&&f>1&&c>0&&o>0,d=e.get("axisExpandWindow"),v;if(d)v=BD(d[1]-d[0],l),d[1]=d[0]+v;else{v=BD(c*(f-1),l);var m=e.get("axisExpandCenter")||EJ(u/2);d=[c*m-v/2],d[1]=d[0]+v}var y=(o-v)/(u-f);y<3&&(y=0);var x=[EJ(DJ(d[0]/c,1))+1,i8e(DJ(d[1]/c,1))-1],b=y/c*d[0];return{layout:a,pixelDimIndex:s,layoutBase:t[i[s]],layoutLength:o,axisBase:t[i[1-s]],axisLength:t[r[1-s]],axisExpandable:h,axisExpandWidth:c,axisCollapseWidth:y,axisExpandWindow:d,axisCount:u,winInnerIndices:x,axisExpandWindow0Pos:b}},n.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,i=this.dimensions,r=this._makeLayoutInfo(),a=r.layout;t.each(function(s){var o=[0,r.axisLength],l=s.inverse?1:0;s.setExtent(o[l],o[1-l])}),d4(i,function(s,o){var l=(r.axisExpandable?o8e:s8e)(o,r),u={horizontal:{x:l.position,y:r.axisLength},vertical:{x:0,y:l.position}},c={horizontal:r8e/2,vertical:0},f=[u[a].x+e.x,u[a].y+e.y],h=c[a],d=ja();Lp(d,d,h),af(d,d,f),this._axesLayout[s]={position:f,rotation:h,transform:d,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(e){return this._axesMap.get(e)},n.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},n.prototype.eachActiveState=function(e,t,i,r){i==null&&(i=0),r==null&&(r=e.count());var a=this._axesMap,s=this.dimensions,o=[],l=[];Z(s,function(y){o.push(e.mapDimension(y)),l.push(a.get(y).model)});for(var u=this.hasAxisBrushed(),c=i;c<r;c++){var f=void 0;if(!u)f="normal";else{f="active";for(var h=e.getValues(o,c),d=0,v=s.length;d<v;d++){var m=l[d].getActiveState(h[d]);if(m==="inactive"){f="inactive";break}}}t(f,c)}},n.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,i=!1,r=0,a=e.length;r<a;r++)t.get(e[r]).model.getActiveState()!=="normal"&&(i=!0);return i},n.prototype.axisCoordToPoint=function(e,t){var i=this._axesLayout[t];return $c([e,0],i.transform)},n.prototype.getAxisLayout=function(e){return Nt(this._axesLayout[e])},n.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),i=t.pixelDimIndex,r=t.axisExpandWindow.slice(),a=r[1]-r[0],s=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:r};var o=e[i]-t.layoutBase-t.axisExpandWindow0Pos,l,u="slide",c=t.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),h=f[0]!=null;if(c)h&&c&&o<a*f[0]?(u="jump",l=o-a*f[2]):h&&c&&o>a*(1-f[0])?(u="jump",l=o-a*(1-f[2])):(l=o-a*f[1])>=0&&(l=o-a*(1-f[1]))<=0&&(l=0),l*=t.axisExpandWidth/c,l?Am(l,r,s,"all"):u="none";else{var d=r[1]-r[0],v=s[1]*o/d;r=[pde(0,v-d/2)],r[1]=dde(s[1],r[0]+d),r[0]=r[1]-d}return{axisExpandWindow:r,behavior:u}},n})();function BD(n,e){return dde(pde(n,e[0]),e[1])}function s8e(n,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*n,axisNameAvailableWidth:t,axisLabelShow:!0}}function o8e(n,e){var t=e.layoutLength,i=e.axisExpandWidth,r=e.axisCount,a=e.axisCollapseWidth,s=e.winInnerIndices,o,l=a,u=!1,c;return n<s[0]?(o=n*a,c=a):n<=s[1]?(o=e.axisExpandWindow0Pos+n*i-e.axisExpandWindow[0],l=i,u=!0):(o=t-(r-1-n)*a,c=a),{position:o,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function l8e(n,e){var t=[];return n.eachComponent("parallel",function(i,r){var a=new a8e(i,n,e);a.name="parallel_"+r,a.resize(i,e),i.coordinateSystem=a,a.model=i,t.push(a)}),n.eachSeries(function(i){if(i.get("coordinateSystem")==="parallel"){var r=i.getReferringComponents("parallel",Sr).models[0];i.coordinateSystem=r.coordinateSystem}}),t}var u8e={create:l8e},i8=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return e.prototype.getAreaSelectStyle=function(){return Ly([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var i=this.activeIntervals=Nt(t);if(i)for(var r=i.length-1;r>=0;r--)Xl(i[r])},e.prototype.getActiveState=function(t){var i=this.activeIntervals;if(!i.length)return"normal";if(t==null||isNaN(+t))return"inactive";if(i.length===1){var r=i[0];if(r[0]<=t&&t<=r[1])return"active"}else for(var a=0,s=i.length;a<s;a++)if(i[a][0]<=t&&t<=i[a][1])return"active";return"inactive"},e})(xn);kr(i8,mS);var zy=!0,$T=Math.min,Sb=Math.max,c8e=Math.pow,f8e=1e4,h8e=6,d8e=6,RJ="globalPan",p8e={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},v8e={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},LJ={brushStyle:{lineWidth:2,stroke:xe.color.backgroundTint,fill:xe.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},m8e=0,N9=(function(n){me(e,n);function e(t){var i=n.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=t,i.group=new It,i._uid="brushController_"+m8e++,Z(A8e,function(r,a){this._handlers[a]=ct(r,this)},i),i}return e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var i=this._zr;this._enableGlobalPan||$ze(i,RJ,this._uid),Z(this._handlers,function(r,a){i.on(a,r)}),this._brushType=t.brushType,this._brushOption=an(Nt(LJ),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;eke(t,RJ,this._uid),Z(this._handlers,function(i,r){t.off(r,i)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var i=this._panels={};Z(t,function(r){i[r.panelId]=Nt(r)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var i=this.group;return this._zr.add(i),i.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=i.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=We(t,function(h){return an(Nt(LJ),h,!0)});var i="\0-brush-index-",r=this._covers,a=this._covers=[],s=this,o=this._creatingCover;return new Ap(r,t,u,l).add(c).update(c).remove(f).execute(),this;function l(h,d){return(h.id!=null?h.id:i+d)+"-"+h.brushType}function u(h,d){return l(h.__brushOption,d)}function c(h,d){var v=t[h];if(d!=null&&r[d]===o)a[h]=r[d];else{var m=a[h]=d!=null?(r[d].__brushOption=v,r[d]):mde(s,vde(s,v));I9(s,m)}}function f(h){r[h]!==o&&s.group.remove(r[h])}},e.prototype.unmount=function(){return this.enableBrush(!1),r8(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e})(ac);function vde(n,e){var t=fP[e.brushType].createCover(n,e);return t.__brushOption=e,yde(t,e),n.group.add(t),t}function mde(n,e){var t=P9(e);return t.endCreating&&(t.endCreating(n,e),yde(e,e.__brushOption)),e}function gde(n,e){var t=e.__brushOption;P9(e).updateCoverShape(n,e,t.range,t)}function yde(n,e){var t=e.z;t==null&&(t=f8e),n.traverse(function(i){i.z=t,i.z2=t})}function I9(n,e){P9(e).updateCommon(n,e),gde(n,e)}function P9(n){return fP[n.__brushOption.brushType]}function B9(n,e,t){var i=n._panels;if(!i)return zy;var r,a=n._transform;return Z(i,function(s){s.isTargetByCursor(e,t,a)&&(r=s)}),r}function xde(n,e){var t=n._panels;if(!t)return zy;var i=e.__brushOption.panelId;return i!=null?t[i]:zy}function r8(n){var e=n._covers,t=e.length;return Z(e,function(i){n.group.remove(i)},n),e.length=0,!!t}function ky(n,e){var t=We(n._covers,function(i){var r=i.__brushOption,a=Nt(r.range);return{brushType:r.brushType,panelId:r.panelId,range:a}});n.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function g8e(n){var e=n._track;if(!e.length)return!1;var t=e[e.length-1],i=e[0],r=t[0]-i[0],a=t[1]-i[1],s=c8e(r*r+a*a,.5);return s>h8e}function _de(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function bde(n,e,t,i){var r=new It;return r.add(new pn({name:"main",style:O9(t),silent:!0,draggable:!0,cursor:"move",drift:$t(NJ,n,e,r,["n","s","w","e"]),ondragend:$t(ky,e,{isEnd:!0})})),Z(i,function(a){r.add(new pn({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:$t(NJ,n,e,r,a),ondragend:$t(ky,e,{isEnd:!0})}))}),r}function Sde(n,e,t,i){var r=i.brushStyle.lineWidth||0,a=Sb(r,d8e),s=t[0][0],o=t[1][0],l=s-r/2,u=o-r/2,c=t[0][1],f=t[1][1],h=c-a+r/2,d=f-a+r/2,v=c-s,m=f-o,y=v+r,x=m+r;wd(n,e,"main",s,o,v,m),i.transformable&&(wd(n,e,"w",l,u,a,x),wd(n,e,"e",h,u,a,x),wd(n,e,"n",l,u,y,a),wd(n,e,"s",l,d,y,a),wd(n,e,"nw",l,u,a,a),wd(n,e,"ne",h,u,a,a),wd(n,e,"sw",l,d,a,a),wd(n,e,"se",h,d,a,a))}function a8(n,e){var t=e.__brushOption,i=t.transformable,r=e.childAt(0);r.useStyle(O9(t)),r.attr({silent:!i,cursor:i?"move":"default"}),Z([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var s=e.childOfName(a.join("")),o=a.length===1?s8(n,a[0]):x8e(n,a);s&&s.attr({silent:!i,invisible:!i,cursor:i?v8e[o]+"-resize":null})})}function wd(n,e,t,i,r,a,s){var o=e.childOfName(t);o&&o.setShape(b8e(z9(n,e,[[i,r],[i+a,r+s]])))}function O9(n){return Bt({strokeNoScale:!0},n.brushStyle)}function Ade(n,e,t,i){var r=[$T(n,t),$T(e,i)],a=[Sb(n,t),Sb(e,i)];return[[r[0],a[0]],[r[1],a[1]]]}function y8e(n){return lm(n.group)}function s8(n,e){var t={w:"left",e:"right",n:"top",s:"bottom"},i={left:"w",right:"e",top:"n",bottom:"s"},r=YI(t[e],y8e(n));return i[r]}function x8e(n,e){var t=[s8(n,e[0]),s8(n,e[1])];return(t[0]==="e"||t[0]==="w")&&t.reverse(),t.join("")}function NJ(n,e,t,i,r,a){var s=t.__brushOption,o=n.toRectRange(s.range),l=Mde(e,r,a);Z(i,function(u){var c=p8e[u];o[c[0]][c[1]]+=l[c[0]]}),s.range=n.fromRectRange(Ade(o[0][0],o[1][0],o[0][1],o[1][1])),I9(e,t),ky(e,{isEnd:!1})}function _8e(n,e,t,i){var r=e.__brushOption.range,a=Mde(n,t,i);Z(r,function(s){s[0]+=a[0],s[1]+=a[1]}),I9(n,e),ky(n,{isEnd:!1})}function Mde(n,e,t){var i=n.group,r=i.transformCoordToLocal(e,t),a=i.transformCoordToLocal(0,0);return[r[0]-a[0],r[1]-a[1]]}function z9(n,e,t){var i=xde(n,e);return i&&i!==zy?i.clipPath(t,n._transform):Nt(t)}function b8e(n){var e=$T(n[0][0],n[1][0]),t=$T(n[0][1],n[1][1]),i=Sb(n[0][0],n[1][0]),r=Sb(n[0][1],n[1][1]);return{x:e,y:t,width:i-e,height:r-t}}function S8e(n,e,t){if(!(!n._brushType||M8e(n,e.offsetX,e.offsetY))){var i=n._zr,r=n._covers,a=B9(n,e,t);if(!n._dragging)for(var s=0;s<r.length;s++){var o=r[s].__brushOption;if(a&&(a===zy||o.panelId===a.panelId)&&fP[o.brushType].contain(r[s],t[0],t[1]))return}a&&i.setCursorStyle("crosshair")}}function o8(n){var e=n.event;e.preventDefault&&e.preventDefault()}function l8(n,e,t){return n.childOfName("main").contain(e,t)}function Tde(n,e,t,i){var r=n._creatingCover,a=n._creatingPanel,s=n._brushOption,o;if(n._track.push(t.slice()),g8e(n)||r){if(a&&!r){s.brushMode==="single"&&r8(n);var l=Nt(s);l.brushType=IJ(l.brushType,a),l.panelId=a===zy?null:a.panelId,r=n._creatingCover=vde(n,l),n._covers.push(r)}if(r){var u=fP[IJ(n._brushType,a)],c=r.__brushOption;c.range=u.getCreatingRange(z9(n,r,n._track)),i&&(mde(n,r),u.updateCommon(n,r)),gde(n,r),o={isEnd:i}}}else i&&s.brushMode==="single"&&s.removeOnClick&&B9(n,e,t)&&r8(n)&&(o={isEnd:i,removeOnClick:!0});return o}function IJ(n,e){return n==="auto"?e.defaultBrushType:n}var A8e={mousedown:function(n){if(this._dragging)PJ(this,n);else if(!n.target||!n.target.draggable){o8(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;var t=this._creatingPanel=B9(this,n,e);t&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var e=n.offsetX,t=n.offsetY,i=this.group.transformCoordToLocal(e,t);if(S8e(this,n,i),this._dragging){o8(n);var r=Tde(this,n,i,!1);r&&ky(this,r)}},mouseup:function(n){PJ(this,n)}};function PJ(n,e){if(n._dragging){o8(e);var t=e.offsetX,i=e.offsetY,r=n.group.transformCoordToLocal(t,i),a=Tde(n,e,r,!0);n._dragging=!1,n._track=[],n._creatingCover=null,a&&ky(n,a)}}function M8e(n,e,t){var i=n._zr;return e<0||e>i.getWidth()||t<0||t>i.getHeight()}var fP={lineX:BJ(0),lineY:BJ(1),rect:{createCover:function(n,e){function t(i){return i}return bde({toRectRange:t,fromRectRange:t},n,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var e=_de(n);return Ade(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,t,i){Sde(n,e,t,i)},updateCommon:a8,contain:l8},polygon:{createCover:function(n,e){var t=new It;return t.add(new ys({name:"main",style:O9(e),silent:!0})),t},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new Fs({name:"main",draggable:!0,drift:$t(_8e,n,e),ondragend:$t(ky,n,{isEnd:!0})}))},updateCoverShape:function(n,e,t,i){e.childAt(0).setShape({points:z9(n,e,t)})},updateCommon:a8,contain:l8}};function BJ(n){return{createCover:function(e,t){return bde({toRectRange:function(i){var r=[i,[0,100]];return n&&r.reverse(),r},fromRectRange:function(i){return i[n]}},e,t,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(e){var t=_de(e),i=$T(t[0][n],t[1][n]),r=Sb(t[0][n],t[1][n]);return[i,r]},updateCoverShape:function(e,t,i,r){var a,s=xde(e,t);if(s!==zy&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(n);else{var o=e._zr;a=[0,[o.getWidth(),o.getHeight()][1-n]]}var l=[i,a];n&&l.reverse(),Sde(e,t,l,r)},updateCommon:a8,contain:l8}}function Cde(n){return n=k9(n),function(e){return d6(e,n)}}function wde(n,e){return n=k9(n),function(t){var i=e??t,r=i?n.width:n.height,a=i?n.x:n.y;return[a,a+(r||0)]}}function Ede(n,e,t){var i=k9(n);return function(r,a){return i.contain(a[0],a[1])&&!Ihe(r,e,t)}}function k9(n){return Ut.create(n)}var T8e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,i){n.prototype.init.apply(this,arguments),(this._brushController=new N9(i.getZr())).on("brush",ct(this._onBrush,this))},e.prototype.render=function(t,i,r,a){if(!C8e(t,i,a)){this.axisModel=t,this.api=r,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new It,this.group.add(this._axisGroup),!!t.get("show")){var o=E8e(t,i),l=o.coordinateSystem,u=t.getAreaSelectStyle(),c=u.width,f=t.axis.dim,h=l.getAxisLayout(f),d=Ie({strokeContainThreshold:c},h),v=new Wo(t,r,d);v.build(),this._axisGroup.add(v.group),this._refreshBrushController(d,u,t,o,c,r),kC(s,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,i,r,a,s,o){var l=r.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),f=Ut.create({x:l[0],y:-s/2,width:u,height:s});f.x-=c,f.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:Cde(f),isTargetByCursor:Ede(f,o,a),getLinearBrushOtherExtent:wde(f,0)}]).enableBrush({brushType:"lineX",brushStyle:i,removeOnClick:!0}).updateCovers(w8e(r))},e.prototype._onBrush=function(t){var i=t.areas,r=this.axisModel,a=r.axis,s=We(i,function(o){return[a.coordToData(o.range[0],!0),a.coordToData(o.range[1],!0)]});(!r.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:s})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e})(Bi);function C8e(n,e,t){return t&&t.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:t})[0]===n}function w8e(n){var e=n.axis;return We(n.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function E8e(n,e){return e.getComponent("parallel",n.get("parallelIndex"))}var D8e={type:"axisAreaSelect",event:"axisAreaSelected"};function R8e(n){n.registerAction(D8e,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(i){i.axis.model.setActiveIntervals(e.intervals)})}),n.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(i){i.setAxisExpand(e)})})}var L8e={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Dde(n){n.registerComponentView($Ue),n.registerComponentModel(t8e),n.registerCoordinateSystem("parallel",u8e),n.registerPreprocessor(ZUe),n.registerComponentModel(i8),n.registerComponentView(T8e),_b(n,"parallel",i8,L8e),R8e(n)}function N8e(n){cn(Dde),n.registerChartView(GUe),n.registerSeriesModel(HUe),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,qUe)}var I8e=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return n})(),P8e=(function(n){me(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new I8e},e.prototype.buildPath=function(t,i){var r=i.extent;t.moveTo(i.x1,i.y1),t.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2),i.orient==="vertical"?(t.lineTo(i.x2+r,i.y2),t.bezierCurveTo(i.cpx2+r,i.cpy2,i.cpx1+r,i.cpy1,i.x1+r,i.y1)):(t.lineTo(i.x2,i.y2+r),t.bezierCurveTo(i.cpx2,i.cpy2+r,i.cpx1,i.cpy1+r,i.x1,i.y1+r)),t.closePath()},e.prototype.highlight=function(){bp(this)},e.prototype.downplay=function(){Sp(this)},e})(An),B8e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new It,t._focusAdjacencyDisabled=!1,t}return e.prototype.init=function(t,i){this._controller=new ex(i.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,i,r){var a=this,s=t.getGraph(),o=this._mainGroup,l=t.layoutInfo,u=l.width,c=l.height,f=t.getData(),h=t.getData("edge"),d=t.get("orient");this._model=t,o.removeAll(),o.x=l.x,o.y=l.y,this._updateViewCoordSys(t,r),Phe(t,r,o,this._controller,this._controllerHost,null),s.eachEdge(function(v){var m=new P8e,y=jt(m);y.dataIndex=v.dataIndex,y.seriesIndex=t.seriesIndex,y.dataType="edge";var x=v.getModel(),b=x.getModel("lineStyle"),M=b.get("curveness"),C=v.node1.getLayout(),w=v.node1.getModel(),E=w.get("localX"),L=w.get("localY"),P=v.node2.getLayout(),I=v.node2.getModel(),N=I.get("localX"),z=I.get("localY"),V=v.getLayout(),U,j,W,G,X,q,$,te;m.shape.extent=Math.max(1,V.dy),m.shape.orient=d,d==="vertical"?(U=(E!=null?E*u:C.x)+V.sy,j=(L!=null?L*c:C.y)+C.dy,W=(N!=null?N*u:P.x)+V.ty,G=z!=null?z*c:P.y,X=U,q=j*(1-M)+G*M,$=W,te=j*M+G*(1-M)):(U=(E!=null?E*u:C.x)+C.dx,j=(L!=null?L*c:C.y)+V.sy,W=N!=null?N*u:P.x,G=(z!=null?z*c:P.y)+V.ty,X=U*(1-M)+W*M,q=j,$=U*M+W*(1-M),te=G),m.setShape({x1:U,y1:j,x2:W,y2:G,cpx1:X,cpy1:q,cpx2:$,cpy2:te}),m.useStyle(b.getItemStyle()),OJ(m.style,d,v);var J=""+x.get("value"),Q=Ra(x,"edgeLabel");Xa(m,Q,{labelFetcher:{getFormattedLabel:function(ue,fe,ge,Se,Ee,Ue){return t.getFormattedLabel(ue,fe,"edge",Se,gl(Ee,Q.normal&&Q.normal.get("formatter"),J),Ue)}},labelDataIndex:v.dataIndex,defaultText:J}),m.setTextConfig({position:"inside"});var se=x.getModel("emphasis");Da(m,x,"lineStyle",function(ue){var fe=ue.getItemStyle();return OJ(fe,d,v),fe}),o.add(m),h.setItemGraphicEl(v.dataIndex,m);var ce=se.get("focus");rr(m,ce==="adjacency"?v.getAdjacentDataIndices():ce==="trajectory"?v.getTrajectoryDataIndices():ce,se.get("blurScope"),se.get("disabled"))}),s.eachNode(function(v){var m=v.getLayout(),y=v.getModel(),x=y.get("localX"),b=y.get("localY"),M=y.getModel("emphasis"),C=y.get(["itemStyle","borderRadius"])||0,w=new pn({shape:{x:x!=null?x*u:m.x,y:b!=null?b*c:m.y,width:m.dx,height:m.dy,r:C},style:y.getModel("itemStyle").getItemStyle(),z2:10});Xa(w,Ra(y),{labelFetcher:{getFormattedLabel:function(L,P){return t.getFormattedLabel(L,P,"node")}},labelDataIndex:v.dataIndex,defaultText:v.id}),w.disableLabelAnimation=!0,w.setStyle("fill",v.getVisual("color")),w.setStyle("decal",v.getVisual("style").decal),Da(w,y),o.add(w),f.setItemGraphicEl(v.dataIndex,w),jt(w).dataType="node";var E=M.get("focus");rr(w,E==="adjacency"?v.getAdjacentDataIndices():E==="trajectory"?v.getTrajectoryDataIndices():E,M.get("blurScope"),M.get("disabled"))}),f.eachItemGraphicEl(function(v,m){var y=f.getItemModel(m);y.get("draggable")&&(v.drift=function(x,b){a._focusAdjacencyDisabled=!0,this.shape.x+=x,this.shape.y+=b,this.dirty(),r.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:f.getRawIndex(m),localX:this.shape.x/u,localY:this.shape.y/c})},v.ondragend=function(){a._focusAdjacencyDisabled=!1},v.draggable=!0,v.cursor="move")}),!this._data&&t.isAnimationEnabled()&&o.setClipPath(O8e(o.getBoundingRect(),t,function(){o.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._updateViewCoordSys=function(t,i){var r=t.layoutInfo,a=r.width,s=r.height,o=t.coordinateSystem=new tx(null,{api:i,ecModel:t.ecModel});o.zoomLimit=t.get("scaleLimit"),o.setBoundingRect(0,0,a,s),o.setCenter(t.get("center")),o.setZoom(t.get("zoom")),this._controllerHost.target.attr({x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY})},e.type="sankey",e})(xi);function OJ(n,e,t){switch(n.fill){case"source":n.fill=t.node1.getVisual("color"),n.decal=t.node1.getVisual("style").decal;break;case"target":n.fill=t.node2.getVisual("color"),n.decal=t.node2.getVisual("style").decal;break;case"gradient":var i=t.node1.getVisual("color"),r=t.node2.getVisual("color");ot(i)&&ot(r)&&(n.fill=new qy(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:i,offset:0},{color:r,offset:1}]))}}function O8e(n,e,t){var i=new pn({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Xi(i,{shape:{width:n.width+20}},e,t),i}var z8e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,i){var r=t.edges||t.links||[],a=t.data||t.nodes||[],s=t.levels||[];this.levelModels=[];for(var o=this.levelModels,l=0;l<s.length;l++)s[l].depth!=null&&s[l].depth>=0&&(o[s[l].depth]=new Sn(s[l],this,i));var u=L9(a,r,this,!0,c);return u.data;function c(f,h){f.wrapMethod("getItemModel",function(d,v){var m=d.parentModel,y=m.getData().getItemLayout(v);if(y){var x=y.depth,b=m.levelModels[x];b&&(d.parentModel=b)}return d}),h.wrapMethod("getItemModel",function(d,v){var m=d.parentModel,y=m.getGraph().getEdgeByIndex(v),x=y.node1.getLayout();if(x){var b=x.depth,M=m.levelModels[b];M&&(d.parentModel=M)}return d})}},e.prototype.setNodePosition=function(t,i){var r=this.option.data||this.option.nodes,a=r[t];a.localX=i[0],a.localY=i[1]},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,i,r){function a(d){return isNaN(d)||d==null}if(r==="edge"){var s=this.getDataParams(t,r),o=s.data,l=s.value,u=o.source+" -- "+o.target;return pa("nameValue",{name:u,value:l,noValue:a(l)})}else{var c=this.getGraph().getNodeByIndex(t),f=c.getLayout().value,h=this.getDataParams(t,r).data.name;return pa("nameValue",{name:h!=null?h+"":null,value:f,noValue:a(f)})}},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,i){var r=n.prototype.getDataParams.call(this,t,i);if(r.value==null&&i==="node"){var a=this.getGraph().getNodeByIndex(t),s=a.getLayout().value;r.value=s}return r},e.type="series.sankey",e.layoutMode="box",e.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:xe.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:xe.color.primary}},animationEasing:"linear",animationDuration:1e3},e})(Ti);function k8e(n,e){n.eachSeriesByType("sankey",function(t){var i=t.get("nodeWidth"),r=t.get("nodeGap"),a=Na(t,e).refContainer,s=Ji(t.getBoxLayoutParams(),a);t.layoutInfo=s;var o=s.width,l=s.height,u=t.getGraph(),c=u.nodes,f=u.edges;U8e(c);var h=Zn(c,function(y){return y.getLayout().value===0}),d=h.length!==0?0:t.get("layoutIterations"),v=t.get("orient"),m=t.get("nodeAlign");F8e(c,f,i,r,o,l,d,v,m)})}function F8e(n,e,t,i,r,a,s,o,l){G8e(n,e,t,r,a,o,l),W8e(n,e,a,r,i,s,o),eGe(n,o)}function U8e(n){Z(n,function(e){var t=fm(e.outEdges,JL),i=fm(e.inEdges,JL),r=e.getValue()||0,a=Math.max(t,i,r);e.setLayout({value:a},!0)})}function G8e(n,e,t,i,r,a,s){for(var o=[],l=[],u=[],c=[],f=0,h=0;h<e.length;h++)o[h]=1;for(var h=0;h<n.length;h++)l[h]=n[h].inEdges.length,l[h]===0&&u.push(n[h]);for(var d=-1;u.length;){for(var v=0;v<u.length;v++){var m=u[v],y=m.hostGraph.data.getRawDataItem(m.dataIndex),x=y.depth!=null&&y.depth>=0;x&&y.depth>d&&(d=y.depth),m.setLayout({depth:x?y.depth:f},!0),a==="vertical"?m.setLayout({dy:t},!0):m.setLayout({dx:t},!0);for(var b=0;b<m.outEdges.length;b++){var M=m.outEdges[b],C=e.indexOf(M);o[C]=0;var w=M.node2,E=n.indexOf(w);--l[E]===0&&c.indexOf(w)<0&&c.push(w)}}++f,u=c,c=[]}for(var h=0;h<o.length;h++)if(o[h]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var L=d>f-1?d:f-1;s&&s!=="left"&&V8e(n,s,a,L);var P=a==="vertical"?(r-t)/L:(i-t)/L;H8e(n,P,a)}function Rde(n){var e=n.hostGraph.data.getRawDataItem(n.dataIndex);return e.depth!=null&&e.depth>=0}function V8e(n,e,t,i){if(e==="right"){for(var r=[],a=n,s=0;a.length;){for(var o=0;o<a.length;o++){var l=a[o];l.setLayout({skNodeHeight:s},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];r.indexOf(c.node1)<0&&r.push(c.node1)}}a=r,r=[],++s}Z(n,function(f){Rde(f)||f.setLayout({depth:Math.max(0,i-f.getLayout().skNodeHeight)},!0)})}else e==="justify"&&j8e(n,i)}function j8e(n,e){Z(n,function(t){!Rde(t)&&!t.outEdges.length&&t.setLayout({depth:e},!0)})}function H8e(n,e,t){Z(n,function(i){var r=i.getLayout().depth*e;t==="vertical"?i.setLayout({y:r},!0):i.setLayout({x:r},!0)})}function W8e(n,e,t,i,r,a,s){var o=X8e(n,s);Y8e(o,e,t,i,r,s),p4(o,r,t,i,s);for(var l=1;a>0;a--)l*=.99,q8e(o,l,s),p4(o,r,t,i,s),$8e(o,l,s),p4(o,r,t,i,s)}function X8e(n,e){var t=[],i=e==="vertical"?"y":"x",r=YF(n,function(a){return a.getLayout()[i]});return r.keys.sort(function(a,s){return a-s}),Z(r.keys,function(a){t.push(r.buckets.get(a))}),t}function Y8e(n,e,t,i,r,a){var s=1/0;Z(n,function(o){var l=o.length,u=0;Z(o,function(f){u+=f.getLayout().value});var c=a==="vertical"?(i-(l-1)*r)/u:(t-(l-1)*r)/u;c<s&&(s=c)}),Z(n,function(o){Z(o,function(l,u){var c=l.getLayout().value*s;a==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),Z(e,function(o){var l=+o.getValue()*s;o.setLayout({dy:l},!0)})}function p4(n,e,t,i,r){var a=r==="vertical"?"x":"y";Z(n,function(s){s.sort(function(m,y){return m.getLayout()[a]-y.getLayout()[a]});for(var o,l,u,c=0,f=s.length,h=r==="vertical"?"dx":"dy",d=0;d<f;d++)l=s[d],u=c-l.getLayout()[a],u>0&&(o=l.getLayout()[a]+u,r==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),c=l.getLayout()[a]+l.getLayout()[h]+e;var v=r==="vertical"?i:t;if(u=c-e-v,u>0){o=l.getLayout()[a]-u,r==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0),c=o;for(var d=f-2;d>=0;--d)l=s[d],u=l.getLayout()[a]+l.getLayout()[h]+e-c,u>0&&(o=l.getLayout()[a]-u,r==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),c=l.getLayout()[a]}})}function q8e(n,e,t){Z(n.slice().reverse(),function(i){Z(i,function(r){if(r.outEdges.length){var a=fm(r.outEdges,Z8e,t)/fm(r.outEdges,JL);if(isNaN(a)){var s=r.outEdges.length;a=s?fm(r.outEdges,K8e,t)/s:0}if(t==="vertical"){var o=r.getLayout().x+(a-Mm(r,t))*e;r.setLayout({x:o},!0)}else{var l=r.getLayout().y+(a-Mm(r,t))*e;r.setLayout({y:l},!0)}}})})}function Z8e(n,e){return Mm(n.node2,e)*n.getValue()}function K8e(n,e){return Mm(n.node2,e)}function J8e(n,e){return Mm(n.node1,e)*n.getValue()}function Q8e(n,e){return Mm(n.node1,e)}function Mm(n,e){return e==="vertical"?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function JL(n){return n.getValue()}function fm(n,e,t){for(var i=0,r=n.length,a=-1;++a<r;){var s=+e(n[a],t);isNaN(s)||(i+=s)}return i}function $8e(n,e,t){Z(n,function(i){Z(i,function(r){if(r.inEdges.length){var a=fm(r.inEdges,J8e,t)/fm(r.inEdges,JL);if(isNaN(a)){var s=r.inEdges.length;a=s?fm(r.inEdges,Q8e,t)/s:0}if(t==="vertical"){var o=r.getLayout().x+(a-Mm(r,t))*e;r.setLayout({x:o},!0)}else{var l=r.getLayout().y+(a-Mm(r,t))*e;r.setLayout({y:l},!0)}}})})}function eGe(n,e){var t=e==="vertical"?"x":"y";Z(n,function(i){i.outEdges.sort(function(r,a){return r.node2.getLayout()[t]-a.node2.getLayout()[t]}),i.inEdges.sort(function(r,a){return r.node1.getLayout()[t]-a.node1.getLayout()[t]})}),Z(n,function(i){var r=0,a=0;Z(i.outEdges,function(s){s.setLayout({sy:r},!0),r+=s.getLayout().dy}),Z(i.inEdges,function(s){s.setLayout({ty:a},!0),a+=s.getLayout().dy})})}function tGe(n){n.eachSeriesByType("sankey",function(e){var t=e.getGraph(),i=t.nodes,r=t.edges;if(i.length){var a=1/0,s=-1/0;Z(i,function(o){var l=o.getLayout().value;l<a&&(a=l),l>s&&(s=l)}),Z(i,function(o){var l=new Ha({type:"color",mappingMethod:"linear",dataExtent:[a,s],visual:e.get("color")}),u=l.mapValueToVisual(o.getLayout().value),c=o.getModel().get(["itemStyle","color"]);c!=null?(o.setVisual("color",c),o.setVisual("style",{fill:c})):(o.setVisual("color",u),o.setVisual("style",{fill:u}))})}r.length&&Z(r,function(o){var l=o.getModel().get("lineStyle");o.setVisual("style",l)})})}function nGe(n){n.registerChartView(B8e),n.registerSeriesModel(z8e),n.registerLayout(k8e),n.registerVisual(tGe),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(i){i.setNodePosition(e.dataIndex,[e.localX,e.localY])})}),n.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(e,t,i){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(r){var a=r.coordinateSystem,s=oP(a,e,r.get("scaleLimit"));r.setCenter(s.center),r.setZoom(s.zoom)})})}var Lde=(function(){function n(){}return n.prototype._hasEncodeRule=function(e){var t=this.getEncode();return t&&t.get(e)!=null},n.prototype.getInitialData=function(e,t){var i,r=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),s=r.get("type"),o=a.get("type"),l;s==="category"?(e.layout="horizontal",i=r.getOrdinalMeta(),l=!this._hasEncodeRule("x")):o==="category"?(e.layout="vertical",i=a.getOrdinalMeta(),l=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var u=["x","y"],c=e.layout==="horizontal"?0:1,f=this._baseAxisDim=u[c],h=u[1-c],d=[r,a],v=d[c].get("type"),m=d[1-c].get("type"),y=e.data;if(y&&l){var x=[];Z(y,function(C,w){var E;Ve(C)?(E=C.slice(),C.unshift(w)):Ve(C.value)?(E=Ie({},C),E.value=E.value.slice(),C.value.unshift(w)):E=C,x.push(E)}),e.data=x}var b=this.defaultValueDimensions,M=[{name:f,type:PL(v),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:PL(m),dimsDef:b.slice()}];return yS(this,{coordDimensions:M,dimensionsCount:b.length+1,encodeDefaulter:$t(Gue,M,this)})},n.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},n})(),Nde=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:xe.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:xe.color.shadow}},animationDuration:800},e})(Ti);kr(Nde,Lde,!0);var iGe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var a=t.getData(),s=this.group,o=this._data;this._data||s.removeAll();var l=t.get("layout")==="horizontal"?1:0;a.diff(o).add(function(u){if(a.hasValue(u)){var c=a.getItemLayout(u),f=zJ(c,a,u,l,!0);a.setItemGraphicEl(u,f),s.add(f)}}).update(function(u,c){var f=o.getItemGraphicEl(c);if(!a.hasValue(u)){s.remove(f);return}var h=a.getItemLayout(u);f?(ec(f),Ide(h,f,a,u)):f=zJ(h,a,u,l),s.add(f),a.setItemGraphicEl(u,f)}).remove(function(u){var c=o.getItemGraphicEl(u);c&&s.remove(c)}).execute(),this._data=a},e.prototype.remove=function(t){var i=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(a){a&&i.remove(a)})},e.type="boxplot",e})(xi),rGe=(function(){function n(){}return n})(),aGe=(function(n){me(e,n);function e(t){var i=n.call(this,t)||this;return i.type="boxplotBoxPath",i}return e.prototype.getDefaultShape=function(){return new rGe},e.prototype.buildPath=function(t,i){var r=i.points,a=0;for(t.moveTo(r[a][0],r[a][1]),a++;a<4;a++)t.lineTo(r[a][0],r[a][1]);for(t.closePath();a<r.length;a++)t.moveTo(r[a][0],r[a][1]),a++,t.lineTo(r[a][0],r[a][1])},e})(An);function zJ(n,e,t,i,r){var a=n.ends,s=new aGe({shape:{points:r?sGe(a,i,n):a}});return Ide(n,s,e,t,r),s}function Ide(n,e,t,i,r){var a=t.hostModel,s=Zy[r?"initProps":"updateProps"];s(e,{shape:{points:n.ends}},a,i),e.useStyle(t.getItemVisual(i,"style")),e.style.strokeNoScale=!0,e.z2=100;var o=t.getItemModel(i),l=o.getModel("emphasis");Da(e,o),rr(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function sGe(n,e,t){return We(n,function(i){return i=i.slice(),i[e]=t.initBaseline,i})}var Z2=Z;function oGe(n){var e=lGe(n);Z2(e,function(t){var i=t.seriesModels;i.length&&(uGe(t),Z2(i,function(r,a){cGe(r,t.boxOffsetList[a],t.boxWidthList[a])}))})}function lGe(n){var e=[],t=[];return n.eachSeriesByType("boxplot",function(i){var r=i.getBaseAxis(),a=rn(t,r);a<0&&(a=t.length,t[a]=r,e[a]={axis:r,seriesModels:[]}),e[a].seriesModels.push(i)}),e}function uGe(n){var e=n.axis,t=n.seriesModels,i=t.length,r=n.boxWidthList=[],a=n.boxOffsetList=[],s=[],o;if(e.type==="category")o=e.getBandWidth();else{var l=0;Z2(t,function(v){l=Math.max(l,v.getData().count())});var u=e.getExtent();o=Math.abs(u[1]-u[0])/l}Z2(t,function(v){var m=v.get("boxWidth");Ve(m)||(m=[m,m]),s.push([st(m[0],o)||0,st(m[1],o)||0])});var c=o*.8-2,f=c/i*.3,h=(c-f*(i-1))/i,d=h/2-c/2;Z2(t,function(v,m){a.push(d),d+=f+h,r.push(Math.min(Math.max(h,s[m][0]),s[m][1]))})}function cGe(n,e,t){var i=n.coordinateSystem,r=n.getData(),a=t/2,s=n.get("layout")==="horizontal"?0:1,o=1-s,l=["x","y"],u=r.mapDimension(l[s]),c=r.mapDimensionsAll(l[o]);if(u==null||c.length<5)return;for(var f=0;f<r.count();f++){var h=r.get(u,f),d=M(h,c[2],f),v=M(h,c[0],f),m=M(h,c[1],f),y=M(h,c[3],f),x=M(h,c[4],f),b=[];C(b,m,!1),C(b,y,!0),b.push(v,m,x,y),w(b,v),w(b,x),w(b,d),r.setItemLayout(f,{initBaseline:d[o],ends:b})}function M(E,L,P){var I=r.get(L,P),N=[];N[s]=E,N[o]=I;var z;return isNaN(E)||isNaN(I)?z=[NaN,NaN]:(z=i.dataToPoint(N),z[s]+=e),z}function C(E,L,P){var I=L.slice(),N=L.slice();I[s]+=a,N[s]-=a,P?E.push(I,N):E.push(N,I)}function w(E,L){var P=L.slice(),I=L.slice();P[s]-=a,I[s]+=a,E.push(P,I)}}function fGe(n,e){e=e||{};for(var t=[],i=[],r=e.boundIQR,a=r==="none"||r===0,s=0;s<n.length;s++){var o=Xl(n[s].slice()),l=v3(o,.25),u=v3(o,.5),c=v3(o,.75),f=o[0],h=o[o.length-1],d=(r??1.5)*(c-l),v=a?f:Math.max(f,l-d),m=a?h:Math.min(h,c+d),y=e.itemNameFormatter,x=wt(y)?y({value:s}):ot(y)?y.replace("{value}",s+""):s+"";t.push([x,v,l,u,c,m]);for(var b=0;b<o.length;b++){var M=o[b];if(M<v||M>m){var C=[x,M];i.push(C)}}}return{boxData:t,outliers:i}}var hGe={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==xs){var i="";ti(i)}var r=fGe(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:r.boxData},{data:r.outliers}]}};function dGe(n){n.registerSeriesModel(Nde),n.registerChartView(iGe),n.registerLayout(oGe),n.registerTransform(hGe)}var pGe=["itemStyle","borderColor"],vGe=["itemStyle","borderColor0"],mGe=["itemStyle","borderColorDoji"],gGe=["itemStyle","color"],yGe=["itemStyle","color0"];function F9(n,e){return e.get(n>0?gGe:yGe)}function U9(n,e){return e.get(n===0?mGe:n>0?pGe:vGe)}var xGe={seriesType:"candlestick",plan:fS(),performRawSeries:!0,reset:function(n,e){if(!e.isSeriesFiltered(n)){var t=n.pipelineContext.large;return!t&&{progress:function(i,r){for(var a;(a=i.next())!=null;){var s=r.getItemModel(a),o=r.getItemLayout(a).sign,l=s.getItemStyle();l.fill=F9(o,s),l.stroke=U9(o,s)||l.fill;var u=r.ensureUniqueItemVisual(a,"style");Ie(u,l)}}}}}},_Ge=["color","borderColor"],bGe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,i,r){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,i,r,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,i):this._incrementalRenderNormal(t,i)},e.prototype.eachRendered=function(t){Bm(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;(this._isLargeDraw==null||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t){var i=t.getData(),r=this._data,a=this.group,s=i.getLayout("isSimpleBox"),o=t.get("clip",!0),l=t.coordinateSystem,u=l.getArea&&l.getArea();this._data||a.removeAll(),i.diff(r).add(function(c){if(i.hasValue(c)){var f=i.getItemLayout(c);if(o&&kJ(u,f))return;var h=v4(f,c,!0);Xi(h,{shape:{points:f.ends}},t,c),m4(h,i,c,s),a.add(h),i.setItemGraphicEl(c,h)}}).update(function(c,f){var h=r.getItemGraphicEl(f);if(!i.hasValue(c)){a.remove(h);return}var d=i.getItemLayout(c);if(o&&kJ(u,d)){a.remove(h);return}h?(Gn(h,{shape:{points:d.ends}},t,c),ec(h)):h=v4(d),m4(h,i,c,s),a.add(h),i.setItemGraphicEl(c,h)}).remove(function(c){var f=r.getItemGraphicEl(c);f&&a.remove(f)}).execute(),this._data=i},e.prototype._renderLarge=function(t){this._clear(),FJ(t,this.group);var i=t.get("clip",!0)?WC(t.coordinateSystem,!1,t):null;i?this.group.setClipPath(i):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,i){for(var r=i.getData(),a=r.getLayout("isSimpleBox"),s;(s=t.next())!=null;){var o=r.getItemLayout(s),l=v4(o);m4(l,r,s,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(t,i){FJ(i,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e})(xi),SGe=(function(){function n(){}return n})(),AGe=(function(n){me(e,n);function e(t){var i=n.call(this,t)||this;return i.type="normalCandlestickBox",i}return e.prototype.getDefaultShape=function(){return new SGe},e.prototype.buildPath=function(t,i){var r=i.points;this.__simpleBox?(t.moveTo(r[4][0],r[4][1]),t.lineTo(r[6][0],r[6][1])):(t.moveTo(r[0][0],r[0][1]),t.lineTo(r[1][0],r[1][1]),t.lineTo(r[2][0],r[2][1]),t.lineTo(r[3][0],r[3][1]),t.closePath(),t.moveTo(r[4][0],r[4][1]),t.lineTo(r[5][0],r[5][1]),t.moveTo(r[6][0],r[6][1]),t.lineTo(r[7][0],r[7][1]))},e})(An);function v4(n,e,t){var i=n.ends;return new AGe({shape:{points:t?MGe(i,n):i},z2:100})}function kJ(n,e){for(var t=!0,i=0;i<e.ends.length;i++)if(n.contain(e.ends[i][0],e.ends[i][1])){t=!1;break}return t}function m4(n,e,t,i){var r=e.getItemModel(t);n.useStyle(e.getItemVisual(t,"style")),n.style.strokeNoScale=!0,n.__simpleBox=i,Da(n,r);var a=e.getItemLayout(t).sign;Z(n.states,function(o,l){var u=r.getModel(l),c=F9(a,u),f=U9(a,u)||c,h=o.style||(o.style={});c&&(h.fill=c),f&&(h.stroke=f)});var s=r.getModel("emphasis");rr(n,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function MGe(n,e){return We(n,function(t){return t=t.slice(),t[1]=e.initBaseline,t})}var TGe=(function(){function n(){}return n})(),g4=(function(n){me(e,n);function e(t){var i=n.call(this,t)||this;return i.type="largeCandlestickBox",i}return e.prototype.getDefaultShape=function(){return new TGe},e.prototype.buildPath=function(t,i){for(var r=i.points,a=0;a<r.length;)if(this.__sign===r[a++]){var s=r[a++];t.moveTo(s,r[a++]),t.lineTo(s,r[a++])}else a+=3},e})(An);function FJ(n,e,t,i){var r=n.getData(),a=r.getLayout("largePoints"),s=new g4({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});e.add(s);var o=new g4({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});e.add(o);var l=new g4({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});e.add(l),y4(1,s,n),y4(-1,o,n),y4(0,l,n),i&&(s.incremental=!0,o.incremental=!0),t&&t.push(s,o)}function y4(n,e,t,i){var r=U9(n,t)||F9(n,t),a=t.getModel("itemStyle").getItemStyle(_Ge);e.useStyle(a),e.style.fill=null,e.style.stroke=r}var Pde=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,i,r){var a=i.getItemLayout(t);return a&&r.rect(a.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e})(Ti);kr(Pde,Lde,!0);function CGe(n){!n||!Ve(n.series)||Z(n.series,function(e){Ot(e)&&e.type==="k"&&(e.type="candlestick")})}var wGe={seriesType:"candlestick",plan:fS(),reset:function(n){var e=n.coordinateSystem,t=n.getData(),i=EGe(n,t),r=0,a=1,s=["x","y"],o=t.getDimensionIndex(t.mapDimension(s[r])),l=We(t.mapDimensionsAll(s[a]),t.getDimensionIndex,t),u=l[0],c=l[1],f=l[2],h=l[3];if(t.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),o<0||l.length<4)return;return{progress:n.pipelineContext.large?v:d};function d(m,y){for(var x,b=y.getStore();(x=m.next())!=null;){var M=b.get(o,x),C=b.get(u,x),w=b.get(c,x),E=b.get(f,x),L=b.get(h,x),P=Math.min(C,w),I=Math.max(C,w),N=X(P,M),z=X(I,M),V=X(E,M),U=X(L,M),j=[];q(j,z,0),q(j,N,1),j.push(te(U),te(z),te(V),te(N));var W=y.getItemModel(x),G=!!W.get(["itemStyle","borderColorDoji"]);y.setItemLayout(x,{sign:UJ(b,x,C,w,c,G),initBaseline:C>w?z[a]:N[a],ends:j,brushRect:$(E,L,M)})}function X(J,Q){var se=[];return se[r]=Q,se[a]=J,isNaN(Q)||isNaN(J)?[NaN,NaN]:e.dataToPoint(se)}function q(J,Q,se){var ce=Q.slice(),ue=Q.slice();ce[r]=g3(ce[r]+i/2,1,!1),ue[r]=g3(ue[r]-i/2,1,!0),se?J.push(ce,ue):J.push(ue,ce)}function $(J,Q,se){var ce=X(J,se),ue=X(Q,se);return ce[r]-=i/2,ue[r]-=i/2,{x:ce[0],y:ce[1],width:i,height:ue[1]-ce[1]}}function te(J){return J[r]=g3(J[r],1),J}}function v(m,y){for(var x=yh(m.count*4),b=0,M,C=[],w=[],E,L=y.getStore(),P=!!n.get(["itemStyle","borderColorDoji"]);(E=m.next())!=null;){var I=L.get(o,E),N=L.get(u,E),z=L.get(c,E),V=L.get(f,E),U=L.get(h,E);if(isNaN(I)||isNaN(V)||isNaN(U)){x[b++]=NaN,b+=3;continue}x[b++]=UJ(L,E,N,z,c,P),C[r]=I,C[a]=V,M=e.dataToPoint(C,null,w),x[b++]=M?M[0]:NaN,x[b++]=M?M[1]:NaN,C[a]=U,M=e.dataToPoint(C,null,w),x[b++]=M?M[1]:NaN}y.setLayout("largePoints",x)}}};function UJ(n,e,t,i,r,a){var s;return t>i?s=-1:t<i?s=1:s=a?0:e>0?n.get(r,e-1)<=i?1:-1:1,s}function EGe(n,e){var t=n.getBaseAxis(),i,r=t.type==="category"?t.getBandWidth():(i=t.getExtent(),Math.abs(i[1]-i[0])/e.count()),a=st(At(n.get("barMaxWidth"),r),r),s=st(At(n.get("barMinWidth"),1),r),o=n.get("barWidth");return o!=null?st(o,r):Math.max(Math.min(r/2,a),s)}function DGe(n){n.registerChartView(bGe),n.registerSeriesModel(Pde),n.registerPreprocessor(CGe),n.registerVisual(xGe),n.registerLayout(wGe)}function GJ(n,e){var t=e.rippleEffectColor||e.color;n.eachChild(function(i){i.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?t:null,fill:e.brushType==="fill"?t:null}})})}var RGe=(function(n){me(e,n);function e(t,i){var r=n.call(this)||this,a=new jC(t,i),s=new It;return r.add(a),r.add(s),r.updateData(t,i),r}return e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var i=t.symbolType,r=t.color,a=t.rippleNumber,s=this.childAt(1),o=0;o<a;o++){var l=$r(i,-1,-1,2,2,r);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-o/a*t.period+t.effectOffset;l.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(t.period,{opacity:0}).delay(u).start(),s.add(l)}GJ(s,t)},e.prototype.updateEffectAnimation=function(t){for(var i=this._effectCfg,r=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],s=0;s<a.length;s++){var o=a[s];if(i[o]!==t[o]){this.stopEffectAnimation(),this.startEffectAnimation(t);return}}GJ(r,t)},e.prototype.highlight=function(){bp(this)},e.prototype.downplay=function(){Sp(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,i){var r=this,a=t.hostModel;this.childAt(0).updateData(t,i);var s=this.childAt(1),o=t.getItemModel(i),l=t.getItemVisual(i,"symbol"),u=dS(t.getItemVisual(i,"symbolSize")),c=t.getItemVisual(i,"style"),f=c&&c.fill,h=o.getModel("emphasis");s.setScale(u),s.traverse(function(y){y.setStyle("fill",f)});var d=Qy(t.getItemVisual(i,"symbolOffset"),u);d&&(s.x=d[0],s.y=d[1]);var v=t.getItemVisual(i,"symbolRotate");s.rotation=(v||0)*Math.PI/180||0;var m={};m.showEffectOn=a.get("showEffectOn"),m.rippleScale=o.get(["rippleEffect","scale"]),m.brushType=o.get(["rippleEffect","brushType"]),m.period=o.get(["rippleEffect","period"])*1e3,m.effectOffset=i/t.count(),m.z=a.getShallow("z")||0,m.zlevel=a.getShallow("zlevel")||0,m.symbolType=l,m.color=f,m.rippleEffectColor=o.get(["rippleEffect","color"]),m.rippleNumber=o.get(["rippleEffect","number"]),m.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(m):this.startEffectAnimation(m),this._effectCfg=m):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(y){y==="emphasis"?m.showEffectOn!=="render"&&r.startEffectAnimation(m):y==="normal"&&m.showEffectOn!=="render"&&r.stopEffectAnimation()}),this._effectCfg=m,rr(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e})(It),LGe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._symbolDraw=new HC(RGe)},e.prototype.render=function(t,i,r){var a=t.getData(),s=this._symbolDraw;s.updateData(a,{clipShape:this._getClipShape(t)}),this.group.add(s.group)},e.prototype._getClipShape=function(t){var i=t.coordinateSystem,r=i&&i.getArea&&i.getArea();return t.get("clip",!0)?r:null},e.prototype.updateTransform=function(t,i,r){var a=t.getData();this.group.dirty();var s=XC("").reset(t,i,r);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var i=t.coordinateSystem;i&&i.getRoamTransform&&(this.group.transform=Voe(i.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e})(xi),NGe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,i){return Gh(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,i,r){return r.point(i.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e})(Ti);function IGe(n){n.registerChartView(LGe),n.registerSeriesModel(NGe),n.registerLayout(XC("effectScatter"))}var Bde=(function(n){me(e,n);function e(t,i,r){var a=n.call(this)||this;return a.add(a.createLine(t,i,r)),a._updateEffectSymbol(t,i),a}return e.prototype.createLine=function(t,i,r){return new D9(t,i,r)},e.prototype._updateEffectSymbol=function(t,i){var r=t.getItemModel(i),a=r.getModel("effect"),s=a.get("symbolSize"),o=a.get("symbol");Ve(s)||(s=[s,s]);var l=t.getItemVisual(i,"style"),u=a.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==o&&(this.remove(c),c=$r(o,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(a.getItemStyle(["color"])),c.scaleX=s[0],c.scaleY=s[1],c.setColor(u),this._symbolType=o,this._symbolScale=s,this._updateEffectAnimation(t,a,i))},e.prototype._updateEffectAnimation=function(t,i,r){var a=this.childAt(1);if(a){var s=t.getItemLayout(r),o=i.get("period")*1e3,l=i.get("loop"),u=i.get("roundTrip"),c=i.get("constantSpeed"),f=ds(i.get("delay"),function(d){return d/t.count()*o/3});if(a.ignore=!0,this._updateAnimationPoints(a,s),c>0&&(o=this._getLineLength(a)/c*1e3),o!==this._period||l!==this._loop||u!==this._roundTrip){a.stopAnimation();var h=void 0;wt(f)?h=f(r):h=f,a.__t>0&&(h=-o*a.__t),this._animateSymbol(a,o,h,l,u)}this._period=o,this._loop=l,this._roundTrip=u}},e.prototype._animateSymbol=function(t,i,r,a,s){if(i>0){t.__t=0;var o=this,l=t.animate("",a).when(s?i*2:i,{__t:s?2:1}).delay(r).during(function(){o._updateSymbolPosition(t)});a||l.done(function(){o.remove(t)}),l.start()}},e.prototype._getLineLength=function(t){return Zd(t.__p1,t.__cp1)+Zd(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,i){t.__p1=i[0],t.__p2=i[1],t.__cp1=i[2]||[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]},e.prototype.updateData=function(t,i,r){this.childAt(0).updateData(t,i,r),this._updateEffectSymbol(t,i)},e.prototype._updateSymbolPosition=function(t){var i=t.__p1,r=t.__p2,a=t.__cp1,s=t.__t<1?t.__t:2-t.__t,o=[t.x,t.y],l=o.slice(),u=us,c=LF;o[0]=u(i[0],a[0],r[0],s),o[1]=u(i[1],a[1],r[1],s);var f=t.__t<1?c(i[0],a[0],r[0],s):c(r[0],a[0],i[0],1-s),h=t.__t<1?c(i[1],a[1],r[1],s):c(r[1],a[1],i[1],1-s);t.rotation=-Math.atan2(h,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(t.__lastT!==void 0&&t.__lastT<t.__t?(t.scaleY=Zd(l,o)*1.05,s===1&&(o[0]=l[0]+(o[0]-l[0])/2,o[1]=l[1]+(o[1]-l[1])/2)):t.__lastT===1?t.scaleY=2*Zd(i,o):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=o[0],t.y=o[1]},e.prototype.updateLayout=function(t,i){this.childAt(0).updateLayout(t,i);var r=t.getItemModel(i).getModel("effect");this._updateEffectAnimation(t,r,i)},e})(It),Ode=(function(n){me(e,n);function e(t,i,r){var a=n.call(this)||this;return a._createPolyline(t,i,r),a}return e.prototype._createPolyline=function(t,i,r){var a=t.getItemLayout(i),s=new ys({shape:{points:a}});this.add(s),this._updateCommonStl(t,i,r)},e.prototype.updateData=function(t,i,r){var a=t.hostModel,s=this.childAt(0),o={shape:{points:t.getItemLayout(i)}};Gn(s,o,a,i),this._updateCommonStl(t,i,r)},e.prototype._updateCommonStl=function(t,i,r){var a=this.childAt(0),s=t.getItemModel(i),o=r&&r.emphasisLineStyle,l=r&&r.focus,u=r&&r.blurScope,c=r&&r.emphasisDisabled;if(!r||t.hasItemOption){var f=s.getModel("emphasis");o=f.getModel("lineStyle").getLineStyle(),c=f.get("disabled"),l=f.get("focus"),u=f.get("blurScope")}a.useStyle(t.getItemVisual(i,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var h=a.ensureState("emphasis");h.style=o,rr(this,l,u,c)},e.prototype.updateLayout=function(t,i){var r=this.childAt(0);r.setShape("points",t.getItemLayout(i))},e})(It),PGe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return e.prototype.createLine=function(t,i,r){return new Ode(t,i,r)},e.prototype._updateAnimationPoints=function(t,i){this._points=i;for(var r=[0],a=0,s=1;s<i.length;s++){var o=i[s-1],l=i[s];a+=Zd(o,l),r.push(a)}if(a===0){this._length=0;return}for(var s=0;s<r.length;s++)r[s]/=a;this._offsets=r,this._length=a},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var i=t.__t<1?t.__t:2-t.__t,r=this._points,a=this._offsets,s=r.length;if(a){var o=this._lastFrame,l;if(i<this._lastFramePercent){var u=Math.min(o+1,s-1);for(l=u;l>=0&&!(a[l]<=i);l--);l=Math.min(l,s-2)}else{for(l=o;l<s&&!(a[l]>i);l++);l=Math.min(l-1,s-2)}var c=(i-a[l])/(a[l+1]-a[l]),f=r[l],h=r[l+1];t.x=f[0]*(1-c)+c*h[0],t.y=f[1]*(1-c)+c*h[1];var d=t.__t<1?h[0]-f[0]:f[0]-h[0],v=t.__t<1?h[1]-f[1]:f[1]-h[1];t.rotation=-Math.atan2(v,d)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=i,t.ignore=!1}},e})(Bde),BGe=(function(){function n(){this.polyline=!1,this.curveness=0,this.segs=[]}return n})(),OGe=(function(n){me(e,n);function e(t){var i=n.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:xe.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new BGe},e.prototype.buildPath=function(t,i){var r=i.segs,a=i.curveness,s;if(i.polyline)for(s=this._off;s<r.length;){var o=r[s++];if(o>0){t.moveTo(r[s++],r[s++]);for(var l=1;l<o;l++)t.lineTo(r[s++],r[s++])}}else for(s=this._off;s<r.length;){var u=r[s++],c=r[s++],f=r[s++],h=r[s++];if(t.moveTo(u,c),a>0){var d=(u+f)/2-(c-h)*a,v=(c+h)/2-(f-u)*a;t.quadraticCurveTo(d,v,f,h)}else t.lineTo(f,h)}this.incremental&&(this._off=s,this.notClear=!0)},e.prototype.findDataIndex=function(t,i){var r=this.shape,a=r.segs,s=r.curveness,o=this.style.lineWidth;if(r.polyline)for(var l=0,u=0;u<a.length;){var c=a[u++];if(c>0)for(var f=a[u++],h=a[u++],d=1;d<c;d++){var v=a[u++],m=a[u++];if(Fv(f,h,v,m,o,t,i))return l}l++}else for(var l=0,u=0;u<a.length;){var f=a[u++],h=a[u++],v=a[u++],m=a[u++];if(s>0){var y=(f+v)/2-(h-m)*s,x=(h+m)/2-(v-f)*s;if(Ole(f,h,y,x,v,m,o,t,i))return l}else if(Fv(f,h,v,m,o,t,i))return l;l++}return-1},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i),a=this.getBoundingRect();if(t=r[0],i=r[1],a.contain(t,i)){var s=this.hoverDataIdx=this.findDataIndex(t,i);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var i=this.shape,r=i.segs,a=1/0,s=1/0,o=-1/0,l=-1/0,u=0;u<r.length;){var c=r[u++],f=r[u++];a=Math.min(c,a),o=Math.max(c,o),s=Math.min(f,s),l=Math.max(f,l)}t=this._rect=new Ut(a,s,o,l)}return t},e})(An),zGe=(function(){function n(){this.group=new It}return n.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},n.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(e,t){var i=this._newAdded[0],r=t.getLayout("linesPoints"),a=i&&i.shape.segs;if(a&&a.length<2e4){var s=a.length,o=new Float32Array(s+r.length);o.set(a),o.set(r,s),i.setShape({segs:o})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:r}),this._setCommon(l,t),l.__startIndex=e.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new OGe({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},n.prototype._setCommon=function(e,t,i){var r=t.hostModel;e.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),e.useStyle(r.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var a=t.getVisual("style");a&&a.stroke&&e.setStyle("stroke",a.stroke),e.setStyle("fill",null);var s=jt(e);s.seriesIndex=r.seriesIndex,e.on("mousemove",function(o){s.dataIndex=null;var l=e.hoverDataIdx;l>0&&(s.dataIndex=l+e.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n})(),zde={seriesType:"lines",plan:fS(),reset:function(n){var e=n.coordinateSystem;if(e){var t=n.get("polyline"),i=n.pipelineContext.large;return{progress:function(r,a){var s=[];if(i){var o=void 0,l=r.end-r.start;if(t){for(var u=0,c=r.start;c<r.end;c++)u+=n.getLineCoordsCount(c);o=new Float32Array(l+u*2)}else o=new Float32Array(l*4);for(var f=0,h=[],c=r.start;c<r.end;c++){var d=n.getLineCoords(c,s);t&&(o[f++]=d);for(var v=0;v<d;v++)h=e.dataToPoint(s[v],!1,h),o[f++]=h[0],o[f++]=h[1]}a.setLayout("linesPoints",o)}else for(var c=r.start;c<r.end;c++){var m=a.getItemModel(c),d=n.getLineCoords(c,s),y=[];if(t)for(var x=0;x<d;x++)y.push(e.dataToPoint(s[x]));else{y[0]=e.dataToPoint(s[0]),y[1]=e.dataToPoint(s[1]);var b=m.get(["lineStyle","curveness"]);+b&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*b,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*b])}a.setItemLayout(c,y)}}}}}},kGe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var a=t.getData(),s=this._updateLineDraw(a,t),o=t.get("zlevel"),l=t.get(["effect","trailLength"]),u=r.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(o).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&l>0&&(c||u.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),s.updateData(a);var f=t.get("clip",!0)&&WC(t.coordinateSystem,!1,t);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,r){var a=t.getData(),s=this._updateLineDraw(a,t);s.incrementalPrepareUpdate(a),this._clearLayer(r),this._finished=!1},e.prototype.incrementalRender=function(t,i,r){this._lineDraw.incrementalUpdate(t,i.getData()),this._finished=t.end===i.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,i,r){var a=t.getData(),s=t.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var o=zde.reset(t,i,r);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(r)},e.prototype._updateLineDraw=function(t,i){var r=this._lineDraw,a=this._showEffect(i),s=!!i.get("polyline"),o=i.pipelineContext,l=o.large;return(!r||a!==this._hasEffet||s!==this._isPolyline||l!==this._isLargeDraw)&&(r&&r.remove(),r=this._lineDraw=l?new zGe:new R9(s?a?PGe:Ode:a?Bde:D9),this._hasEffet=a,this._isPolyline=s,this._isLargeDraw=l),this.group.add(r.group),r},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var i=t.getZr(),r=i.painter.getType()==="svg";!r&&this._lastZlevel!=null&&i.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,i){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(i)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.type="lines",e})(xi),FGe=typeof Uint32Array>"u"?Array:Uint32Array,UGe=typeof Float64Array>"u"?Array:Float64Array;function VJ(n){var e=n.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(n.data=We(e,function(t){var i=[t[0].coord,t[1].coord],r={coords:i};return t[0].name&&(r.fromName=t[0].name),t[1].name&&(r.toName=t[1].name),LI([r,t[0],t[1]])}))}var GGe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.init=function(t){t.data=t.data||[],VJ(t);var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count)),n.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(VJ(t),t.data){var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count))}n.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var i=this._processFlatCoordsArray(t.data);i.flatCoords&&(this._flatCoords?(this._flatCoords=lb(this._flatCoords,i.flatCoords),this._flatCoordsOffset=lb(this._flatCoordsOffset,i.flatCoordsOffset)):(this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset),t.data=new Float32Array(i.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var i=this.getData().getItemModel(t),r=i.option instanceof Array?i.option:i.getShallow("coords");return r},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[t*2+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,i){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[t*2],a=this._flatCoordsOffset[t*2+1],s=0;s<a;s++)i[s]=i[s]||[],i[s][0]=this._flatCoords[r+s*2],i[s][1]=this._flatCoords[r+s*2+1];return a}else{for(var o=this._getCoordsFromItemModel(t),s=0;s<o.length;s++)i[s]=i[s]||[],i[s][0]=o[s][0],i[s][1]=o[s][1];return o.length}},e.prototype._processFlatCoordsArray=function(t){var i=0;if(this._flatCoords&&(i=this._flatCoords.length),Pn(t[0])){for(var r=t.length,a=new FGe(r),s=new UGe(r),o=0,l=0,u=0,c=0;c<r;){u++;var f=t[c++];a[l++]=o+i,a[l++]=f;for(var h=0;h<f;h++){var d=t[c++],v=t[c++];s[o++]=d,s[o++]=v}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:s,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,i){var r=new fo(["value"],this);return r.hasItemOption=!1,r.initData(t.data,[],function(a,s,o,l){if(a instanceof Array)return NaN;r.hasItemOption=!0;var u=a.value;if(u!=null)return u instanceof Array?u[l]:u}),r},e.prototype.formatTooltip=function(t,i,r){var a=this.getData(),s=a.getItemModel(t),o=s.get("name");if(o)return o;var l=s.get("fromName"),u=s.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),pa("nameValue",{name:c.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),i=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&i>0?i+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e})(Ti);function OD(n){return n instanceof Array||(n=[n,n]),n}var VGe={seriesType:"lines",reset:function(n){var e=OD(n.get("symbol")),t=OD(n.get("symbolSize")),i=n.getData();i.setVisual("fromSymbol",e&&e[0]),i.setVisual("toSymbol",e&&e[1]),i.setVisual("fromSymbolSize",t&&t[0]),i.setVisual("toSymbolSize",t&&t[1]);function r(a,s){var o=a.getItemModel(s),l=OD(o.getShallow("symbol",!0)),u=OD(o.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(s,"fromSymbol",l[0]),l[1]&&a.setItemVisual(s,"toSymbol",l[1]),u[0]&&a.setItemVisual(s,"fromSymbolSize",u[0]),u[1]&&a.setItemVisual(s,"toSymbolSize",u[1])}return{dataEach:i.hasItemOption?r:null}}};function jGe(n){n.registerChartView(kGe),n.registerSeriesModel(GGe),n.registerLayout(zde),n.registerVisual(VGe)}var HGe=256,WGe=(function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=xl.createCanvas();this.canvas=e}return n.prototype.update=function(e,t,i,r,a,s){var o=this._getBrush(),l=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,f=this.canvas,h=f.getContext("2d"),d=e.length;f.width=t,f.height=i;for(var v=0;v<d;++v){var m=e[v],y=m[0],x=m[1],b=m[2],M=r(b);h.globalAlpha=M,h.drawImage(o,y-c,x-c)}if(!f.width||!f.height)return f;for(var C=h.getImageData(0,0,f.width,f.height),w=C.data,E=0,L=w.length,P=this.minOpacity,I=this.maxOpacity,N=I-P;E<L;){var M=w[E+3]/256,z=Math.floor(M*(HGe-1))*4;if(M>0){var V=s(M)?l:u;M>0&&(M=M*N+P),w[E++]=V[z],w[E++]=V[z+1],w[E++]=V[z+2],w[E++]=V[z+3]*M*256}else E+=4}return h.putImageData(C,0,0),f},n.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=xl.createCanvas()),t=this.pointSize+this.blurSize,i=t*2;e.width=i,e.height=i;var r=e.getContext("2d");return r.clearRect(0,0,i,i),r.shadowOffsetX=i,r.shadowBlur=this.blurSize,r.shadowColor=xe.color.neutral99,r.beginPath(),r.arc(-t,t,this.pointSize,0,Math.PI*2,!0),r.closePath(),r.fill(),e},n.prototype._getGradient=function(e,t){for(var i=this._gradientPixels,r=i[t]||(i[t]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],s=0,o=0;o<256;o++)e[t](o/255,!0,a),r[s++]=a[0],r[s++]=a[1],r[s++]=a[2],r[s++]=a[3];return r},n})();function XGe(n,e,t){var i=n[1]-n[0];e=We(e,function(s){return{interval:[(s.interval[0]-n[0])/i,(s.interval[1]-n[0])/i]}});var r=e.length,a=0;return function(s){var o;for(o=a;o<r;o++){var l=e[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}if(o===r)for(o=a-1;o>=0;o--){var l=e[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}return o>=0&&o<r&&t[o]}}function YGe(n,e){var t=n[1]-n[0];return e=[(e[0]-n[0])/t,(e[1]-n[0])/t],function(i){return i>=e[0]&&i<=e[1]}}function jJ(n){var e=n.dimensions;return e[0]==="lng"&&e[1]==="lat"}var qGe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var a;i.eachComponent("visualMap",function(o){o.eachTargetSeries(function(l){l===t&&(a=o)})}),this._progressiveEls=null,this.group.removeAll();var s=t.coordinateSystem;s.type==="cartesian2d"||s.type==="calendar"||s.type==="matrix"?this._renderOnGridLike(t,r,0,t.getData().count()):jJ(s)&&this._renderOnGeo(s,t,a,r)},e.prototype.incrementalPrepareRender=function(t,i,r){this.group.removeAll()},e.prototype.incrementalRender=function(t,i,r,a){var s=i.coordinateSystem;s&&(jJ(s)?this.render(i,r,a):(this._progressiveEls=[],this._renderOnGridLike(i,a,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Bm(this._progressiveEls||this.group,t)},e.prototype._renderOnGridLike=function(t,i,r,a,s){var o=t.coordinateSystem,l=Sm(o,"cartesian2d"),u=Sm(o,"matrix"),c,f,h,d;if(l){var v=o.getAxis("x"),m=o.getAxis("y");c=v.getBandWidth()+.5,f=m.getBandWidth()+.5,h=v.scale.getExtent(),d=m.scale.getExtent()}for(var y=this.group,x=t.getData(),b=t.getModel(["emphasis","itemStyle"]).getItemStyle(),M=t.getModel(["blur","itemStyle"]).getItemStyle(),C=t.getModel(["select","itemStyle"]).getItemStyle(),w=t.get(["itemStyle","borderRadius"]),E=Ra(t),L=t.getModel("emphasis"),P=L.get("focus"),I=L.get("blurScope"),N=L.get("disabled"),z=l||u?[x.mapDimension("x"),x.mapDimension("y"),x.mapDimension("value")]:[x.mapDimension("time"),x.mapDimension("value")],V=r;V<a;V++){var U=void 0,j=x.getItemVisual(V,"style");if(l){var W=x.get(z[0],V),G=x.get(z[1],V);if(isNaN(x.get(z[2],V))||isNaN(W)||isNaN(G)||W<h[0]||W>h[1]||G<d[0]||G>d[1])continue;var X=o.dataToPoint([W,G]);U=new pn({shape:{x:X[0]-c/2,y:X[1]-f/2,width:c,height:f},style:j})}else if(u){var q=o.dataToLayout([x.get(z[0],V),x.get(z[1],V)]).rect;if(Ns(q.x))continue;U=new pn({z2:1,shape:q,style:j})}else{if(isNaN(x.get(z[1],V)))continue;var $=o.dataToLayout([x.get(z[0],V)]),q=$.contentRect||$.rect;if(Ns(q.x)||Ns(q.y))continue;U=new pn({z2:1,shape:q,style:j})}if(x.hasItemOption){var te=x.getItemModel(V),J=te.getModel("emphasis");b=J.getModel("itemStyle").getItemStyle(),M=te.getModel(["blur","itemStyle"]).getItemStyle(),C=te.getModel(["select","itemStyle"]).getItemStyle(),w=te.get(["itemStyle","borderRadius"]),P=J.get("focus"),I=J.get("blurScope"),N=J.get("disabled"),E=Ra(te)}U.shape.r=w;var Q=t.getRawValue(V),se="-";Q&&Q[2]!=null&&(se=Q[2]+""),Xa(U,E,{labelFetcher:t,labelDataIndex:V,defaultOpacity:j.opacity,defaultText:se}),U.ensureState("emphasis").style=b,U.ensureState("blur").style=M,U.ensureState("select").style=C,rr(U,P,I,N),U.incremental=s,s&&(U.states.emphasis.hoverLayer=!0),y.add(U),x.setItemGraphicEl(V,U),this._progressiveEls&&this._progressiveEls.push(U)}},e.prototype._renderOnGeo=function(t,i,r,a){var s=r.targetVisuals.inRange,o=r.targetVisuals.outOfRange,l=i.getData(),u=this._hmLayer||this._hmLayer||new WGe;u.blurSize=i.get("blurSize"),u.pointSize=i.get("pointSize"),u.minOpacity=i.get("minOpacity"),u.maxOpacity=i.get("maxOpacity");var c=t.getViewRect().clone(),f=t.getRoamTransform();c.applyTransform(f);var h=Math.max(c.x,0),d=Math.max(c.y,0),v=Math.min(c.width+c.x,a.getWidth()),m=Math.min(c.height+c.y,a.getHeight()),y=v-h,x=m-d,b=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],M=l.mapArray(b,function(L,P,I){var N=t.dataToPoint([L,P]);return N[0]-=h,N[1]-=d,N.push(I),N}),C=r.getExtent(),w=r.type==="visualMap.continuous"?YGe(C,r.option.range):XGe(C,r.getPieceList(),r.option.selected);u.update(M,y,x,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:o.color.getColorMapper()},w);var E=new Za({style:{width:y,height:x,x:h,y:d,image:u.canvas},silent:!0});this.group.add(E)},e.type="heatmap",e})(xi),ZGe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,i){return Gh(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=cS.get(this.get("coordinateSystem"));if(t&&t.dimensions)return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:xe.color.primary}}},e})(Ti);function KGe(n){n.registerChartView(qGe),n.registerSeriesModel(ZGe)}var JGe=["itemStyle","borderWidth"],HJ=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],x4=new Uh,QGe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var a=this.group,s=t.getData(),o=this._data,l=t.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),f=l.master.getRect(),h={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:t,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:c,valueDim:HJ[+c],categoryDim:HJ[1-+c]};s.diff(o).add(function(v){if(s.hasValue(v)){var m=XJ(s,v),y=WJ(s,v,m,h),x=YJ(s,h,y);s.setItemGraphicEl(v,x),a.add(x),ZJ(x,h,y)}}).update(function(v,m){var y=o.getItemGraphicEl(m);if(!s.hasValue(v)){a.remove(y);return}var x=XJ(s,v),b=WJ(s,v,x,h),M=jde(s,b);y&&M!==y.__pictorialShapeStr&&(a.remove(y),s.setItemGraphicEl(v,null),y=null),y?aVe(y,h,b):y=YJ(s,h,b,!0),s.setItemGraphicEl(v,y),y.__pictorialSymbolMeta=b,a.add(y),ZJ(y,h,b)}).remove(function(v){var m=o.getItemGraphicEl(v);m&&qJ(o,v,m.__pictorialSymbolMeta.animationModel,m)}).execute();var d=t.get("clip",!0)?WC(t.coordinateSystem,!1,t):null;return d?a.setClipPath(d):a.removeClipPath(),this._data=s,this.group},e.prototype.remove=function(t,i){var r=this.group,a=this._data;t.get("animation")?a&&a.eachItemGraphicEl(function(s){qJ(a,jt(s).dataIndex,t,s)}):r.removeAll()},e.type="pictorialBar",e})(xi);function WJ(n,e,t,i){var r=n.getItemLayout(e),a=t.get("symbolRepeat"),s=t.get("symbolClip"),o=t.get("symbolPosition")||"start",l=t.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=t.get("symbolPatternSize")||2,f=t.isAnimationEnabled(),h={dataIndex:e,layout:r,itemModel:t,symbolType:n.getItemVisual(e,"symbol")||"circle",style:n.getItemVisual(e,"style"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:f?t:null,hoverScale:f&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};$Ge(t,a,r,i,h),eVe(n,e,r,a,s,h.boundingLength,h.pxSign,c,i,h),tVe(t,h.symbolScale,u,i,h);var d=h.symbolSize,v=Qy(t.get("symbolOffset"),d);return nVe(t,d,r,a,s,v,o,h.valueLineWidth,h.boundingLength,h.repeatCutLength,i,h),h}function $Ge(n,e,t,i,r){var a=i.valueDim,s=n.get("symbolBoundingData"),o=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),l=o.toGlobalCoord(o.dataToCoord(0)),u=1-+(t[a.wh]<=0),c;if(Ve(s)){var f=[_4(o,s[0])-l,_4(o,s[1])-l];f[1]<f[0]&&f.reverse(),c=f[u]}else s!=null?c=_4(o,s)-l:e?c=i.coordSysExtent[a.index][u]-l:c=t[a.wh];r.boundingLength=c,e&&(r.repeatCutLength=t[a.wh]);var h=a.xy==="x",d=o.inverse;r.pxSign=h&&!d||!h&&d?c>=0?1:-1:c>0?1:-1}function _4(n,e){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(e)))}function eVe(n,e,t,i,r,a,s,o,l,u){var c=l.valueDim,f=l.categoryDim,h=Math.abs(t[f.wh]),d=n.getItemVisual(e,"symbolSize"),v;Ve(d)?v=d.slice():d==null?v=["100%","100%"]:v=[d,d],v[f.index]=st(v[f.index],h),v[c.index]=st(v[c.index],i?h:Math.abs(a)),u.symbolSize=v;var m=u.symbolScale=[v[0]/o,v[1]/o];m[c.index]*=(l.isHorizontal?-1:1)*s}function tVe(n,e,t,i,r){var a=n.get(JGe)||0;a&&(x4.attr({scaleX:e[0],scaleY:e[1],rotation:t}),x4.updateTransform(),a/=x4.getLineScale(),a*=e[i.valueDim.index]),r.valueLineWidth=a||0}function nVe(n,e,t,i,r,a,s,o,l,u,c,f){var h=c.categoryDim,d=c.valueDim,v=f.pxSign,m=Math.max(e[d.index]+o,0),y=m;if(i){var x=Math.abs(l),b=ds(n.get("symbolMargin"),"15%")+"",M=!1;b.lastIndexOf("!")===b.length-1&&(M=!0,b=b.slice(0,b.length-1));var C=st(b,e[d.index]),w=Math.max(m+C*2,0),E=M?0:C*2,L=KV(i),P=L?i:KJ((x+E)/w),I=x-P*m;C=I/2/(M?P:Math.max(P-1,1)),w=m+C*2,E=M?0:C*2,!L&&i!=="fixed"&&(P=u?KJ((Math.abs(u)+E)/w):0),y=P*w-E,f.repeatTimes=P,f.symbolMargin=C}var N=v*(y/2),z=f.pathPosition=[];z[h.index]=t[h.wh]/2,z[d.index]=s==="start"?N:s==="end"?l-N:l/2,a&&(z[0]+=a[0],z[1]+=a[1]);var V=f.bundlePosition=[];V[h.index]=t[h.xy],V[d.index]=t[d.xy];var U=f.barRectShape=Ie({},t);U[d.wh]=v*Math.max(Math.abs(t[d.wh]),Math.abs(z[d.index]+N)),U[h.wh]=t[h.wh];var j=f.clipShape={};j[h.xy]=-t[h.xy],j[h.wh]=c.ecSize[h.wh],j[d.xy]=0,j[d.wh]=t[d.wh]}function kde(n){var e=n.symbolPatternSize,t=$r(n.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),t.type!=="image"&&t.setStyle({strokeNoScale:!0}),t}function Fde(n,e,t,i){var r=n.__pictorialBundle,a=t.symbolSize,s=t.valueLineWidth,o=t.pathPosition,l=e.valueDim,u=t.repeatTimes||0,c=0,f=a[e.valueDim.index]+s+t.symbolMargin*2;for(G9(n,function(m){m.__pictorialAnimationIndex=c,m.__pictorialRepeatTimes=u,c<u?K1(m,null,v(c),t,i):K1(m,null,{scaleX:0,scaleY:0},t,i,function(){r.remove(m)}),c++});c<u;c++){var h=kde(t);h.__pictorialAnimationIndex=c,h.__pictorialRepeatTimes=u,r.add(h);var d=v(c);K1(h,{x:d.x,y:d.y,scaleX:0,scaleY:0},{scaleX:d.scaleX,scaleY:d.scaleY,rotation:d.rotation},t,i)}function v(m){var y=o.slice(),x=t.pxSign,b=m;return(t.symbolRepeatDirection==="start"?x>0:x<0)&&(b=u-1-m),y[l.index]=f*(b-u/2+.5)+o[l.index],{x:y[0],y:y[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function Ude(n,e,t,i){var r=n.__pictorialBundle,a=n.__pictorialMainPath;a?K1(a,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,i):(a=n.__pictorialMainPath=kde(t),r.add(a),K1(a,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,i))}function Gde(n,e,t){var i=Ie({},e.barRectShape),r=n.__pictorialBarRect;r?K1(r,null,{shape:i},e,t):(r=n.__pictorialBarRect=new pn({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),r.disableMorphing=!0,n.add(r))}function Vde(n,e,t,i){if(t.symbolClip){var r=n.__pictorialClipPath,a=Ie({},t.clipShape),s=e.valueDim,o=t.animationModel,l=t.dataIndex;if(r)Gn(r,{shape:a},o,l);else{a[s.wh]=0,r=new pn({shape:a}),n.__pictorialBundle.setClipPath(r),n.__pictorialClipPath=r;var u={};u[s.wh]=t.clipShape[s.wh],Zy[i?"updateProps":"initProps"](r,{shape:u},o,l)}}}function XJ(n,e){var t=n.getItemModel(e);return t.getAnimationDelayParams=iVe,t.isAnimationEnabled=rVe,t}function iVe(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function rVe(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function YJ(n,e,t,i){var r=new It,a=new It;return r.add(a),r.__pictorialBundle=a,a.x=t.bundlePosition[0],a.y=t.bundlePosition[1],t.symbolRepeat?Fde(r,e,t):Ude(r,e,t),Gde(r,t,i),Vde(r,e,t,i),r.__pictorialShapeStr=jde(n,t),r.__pictorialSymbolMeta=t,r}function aVe(n,e,t){var i=t.animationModel,r=t.dataIndex,a=n.__pictorialBundle;Gn(a,{x:t.bundlePosition[0],y:t.bundlePosition[1]},i,r),t.symbolRepeat?Fde(n,e,t,!0):Ude(n,e,t,!0),Gde(n,t,!0),Vde(n,e,t,!0)}function qJ(n,e,t,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var a=[];G9(i,function(s){a.push(s)}),i.__pictorialMainPath&&a.push(i.__pictorialMainPath),i.__pictorialClipPath&&(t=null),Z(a,function(s){bm(s,{scaleX:0,scaleY:0},t,e,function(){i.parent&&i.parent.remove(i)})}),n.setItemGraphicEl(e,null)}function jde(n,e){return[n.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function G9(n,e,t){Z(n.__pictorialBundle.children(),function(i){i!==n.__pictorialBarRect&&e.call(t,i)})}function K1(n,e,t,i,r,a){e&&n.attr(e),i.symbolClip&&!r?t&&n.attr(t):t&&Zy[r?"updateProps":"initProps"](n,t,i.animationModel,i.dataIndex,a)}function ZJ(n,e,t){var i=t.dataIndex,r=t.itemModel,a=r.getModel("emphasis"),s=a.getModel("itemStyle").getItemStyle(),o=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),u=r.getShallow("cursor"),c=a.get("focus"),f=a.get("blurScope"),h=a.get("scale");G9(n,function(m){if(m instanceof Za){var y=m.style;m.useStyle(Ie({image:y.image,x:y.x,y:y.y,width:y.width,height:y.height},t.style))}else m.useStyle(t.style);var x=m.ensureState("emphasis");x.style=s,h&&(x.scaleX=m.scaleX*1.1,x.scaleY=m.scaleY*1.1),m.ensureState("blur").style=o,m.ensureState("select").style=l,u&&(m.cursor=u),m.z2=t.z2});var d=e.valueDim.posDesc[+(t.boundingLength>0)],v=n.__pictorialBarRect;v.ignoreClip=!0,Xa(v,Ra(r),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:xb(e.seriesModel.getData(),i),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:d}),rr(n,c,f,a.get("disabled"))}function KJ(n){var e=Math.round(n);return Math.abs(n-e)<1e-4?e:Math.ceil(n)}var sVe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return e.prototype.getInitialData=function(t){return t.stack=null,n.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Om(YT.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:xe.color.primary}}}),e})(YT);function oVe(n){n.registerChartView(QGe),n.registerSeriesModel(sVe),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,$t(ufe,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,cfe("pictorialBar"))}var lVe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return e.prototype.render=function(t,i,r){var a=t.getData(),s=this,o=this.group,l=t.getLayerSeries(),u=a.getLayout("layoutInfo"),c=u.rect,f=u.boundaryGap;o.x=0,o.y=c.y+f[0];function h(y){return y.name}var d=new Ap(this._layersSeries||[],l,h,h),v=[];d.add(ct(m,this,"add")).update(ct(m,this,"update")).remove(ct(m,this,"remove")).execute();function m(y,x,b){var M=s._layers;if(y==="remove"){o.remove(M[x]);return}for(var C=[],w=[],E,L=l[x].indices,P=0;P<L.length;P++){var I=a.getItemLayout(L[P]),N=I.x,z=I.y0,V=I.y;C.push(N,z),w.push(N,z+V),E=a.getItemVisual(L[P],"style")}var U,j=a.getItemLayout(L[0]),W=t.getModel("label"),G=W.get("margin"),X=t.getModel("emphasis");if(y==="add"){var q=v[x]=new It;U=new ehe({shape:{points:C,stackedOnPoints:w,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),q.add(U),o.add(q),t.isAnimationEnabled()&&U.setClipPath(uVe(U.getBoundingRect(),t,function(){U.removeClipPath()}))}else{var q=M[b];U=q.childAt(0),o.add(q),v[x]=q,Gn(U,{shape:{points:C,stackedOnPoints:w}},t),ec(U)}Xa(U,Ra(t),{labelDataIndex:L[P-1],defaultText:a.getName(L[P-1]),inheritColor:E.fill},{normal:{verticalAlign:"middle"}}),U.setTextConfig({position:null,local:!0});var $=U.getTextContent();$&&($.x=j.x-G,$.y=j.y0+j.y/2),U.useStyle(E),a.setItemGraphicEl(x,U),Da(U,t),rr(U,X.get("focus"),X.get("blurScope"),X.get("disabled"))}this._layersSeries=l,this._layers=v},e.type="themeRiver",e})(xi);function uVe(n,e,t){var i=new pn({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Xi(i,{shape:{x:n.x-50,width:n.width+100,height:n.height+20}},e,t),i}var b4=2,cVe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new xS(ct(this.getData,this),ct(this.getRawData,this))},e.prototype.fixData=function(t){var i=t.length,r={},a=YF(t,function(h){return r.hasOwnProperty(h[0]+"")||(r[h[0]+""]=-1),h[2]}),s=[];a.buckets.each(function(h,d){s.push({name:d,dataList:h})});for(var o=s.length,l=0;l<o;++l){for(var u=s[l].name,c=0;c<s[l].dataList.length;++c){var f=s[l].dataList[c][0]+"";r[f]=l}for(var f in r)r.hasOwnProperty(f)&&r[f]!==l&&(r[f]=l,t[i]=[f,0,u],i++)}return t},e.prototype.getInitialData=function(t,i){for(var r=this.getReferringComponents("singleAxis",Sr).models[0],a=r.get("type"),s=Zn(t.data,function(v){return v[2]!==void 0}),o=this.fixData(s||[]),l=[],u=this.nameMap=bt(),c=0,f=0;f<o.length;++f)l.push(o[f][b4]),u.get(o[f][b4])||(u.set(o[f][b4],c),c++);var h=pS(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:PL(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,d=new fo(h,this);return d.initData(o),d},e.prototype.getLayerSeries=function(){for(var t=this.getData(),i=t.count(),r=[],a=0;a<i;++a)r[a]=a;var s=t.mapDimension("single"),o=YF(r,function(u){return t.get("name",u)}),l=[];return o.buckets.each(function(u,c){u.sort(function(f,h){return t.get(s,f)-t.get(s,h)}),l.push({name:c,indices:u})}),l},e.prototype.getAxisTooltipData=function(t,i,r){Ve(t)||(t=t?[t]:[]);for(var a=this.getData(),s=this.getLayerSeries(),o=[],l=s.length,u,c=0;c<l;++c){for(var f=Number.MAX_VALUE,h=-1,d=s[c].indices.length,v=0;v<d;++v){var m=a.get(t[0],s[c].indices[v]),y=Math.abs(m-i);y<=f&&(u=m,f=y,h=s[c].indices[v])}o.push(h)}return{dataIndices:o,nestestValue:u}},e.prototype.formatTooltip=function(t,i,r){var a=this.getData(),s=a.getName(t),o=a.get(a.mapDimension("value"),t);return pa("nameValue",{name:s,value:o})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e})(Ti);function fVe(n,e){n.eachSeriesByType("themeRiver",function(t){var i=t.getData(),r=t.coordinateSystem,a={},s=r.getRect();a.rect=s;var o=t.get("boundaryGap"),l=r.getAxis();if(a.boundaryGap=o,l.orient==="horizontal"){o[0]=st(o[0],s.height),o[1]=st(o[1],s.height);var u=s.height-o[0]-o[1];JJ(i,t,u)}else{o[0]=st(o[0],s.width),o[1]=st(o[1],s.width);var c=s.width-o[0]-o[1];JJ(i,t,c)}i.setLayout("layoutInfo",a)})}function JJ(n,e,t){if(n.count())for(var i=e.coordinateSystem,r=e.getLayerSeries(),a=n.mapDimension("single"),s=n.mapDimension("value"),o=We(r,function(y){return We(y.indices,function(x){var b=i.dataToPoint(n.get(a,x));return b[1]=n.get(s,x),b})}),l=hVe(o),u=l.y0,c=t/l.max,f=r.length,h=r[0].indices.length,d,v=0;v<h;++v){d=u[v]*c,n.setItemLayout(r[0].indices[v],{layerIndex:0,x:o[0][v][0],y0:d,y:o[0][v][1]*c});for(var m=1;m<f;++m)d+=o[m-1][v][1]*c,n.setItemLayout(r[m].indices[v],{layerIndex:m,x:o[m][v][0],y0:d,y:o[m][v][1]*c})}}function hVe(n){for(var e=n.length,t=n[0].length,i=[],r=[],a=0,s=0;s<t;++s){for(var o=0,l=0;l<e;++l)o+=n[l][s][1];o>a&&(a=o),i.push(o)}for(var u=0;u<t;++u)r[u]=(a-i[u])/2;a=0;for(var c=0;c<t;++c){var f=i[c]+r[c];f>a&&(a=f)}return{y0:r,max:a}}function dVe(n){n.registerChartView(lVe),n.registerSeriesModel(cVe),n.registerLayout(fVe),n.registerProcessor(gS("themeRiver"))}var pVe=2,vVe=4,QJ=(function(n){me(e,n);function e(t,i,r,a){var s=n.call(this)||this;s.z2=pVe,s.textConfig={inside:!0},jt(s).seriesIndex=i.seriesIndex;var o=new In({z2:vVe,silent:t.getModel().get(["label","silent"])});return s.setTextContent(o),s.updateData(!0,t,i,r,a),s}return e.prototype.updateData=function(t,i,r,a,s){this.node=i,i.piece=this,r=r||this._seriesModel,a=a||this._ecModel;var o=this;jt(o).dataIndex=i.dataIndex;var l=i.getModel(),u=l.getModel("emphasis"),c=i.getLayout(),f=Ie({},c);f.label=null;var h=i.getVisual("style");h.lineJoin="bevel";var d=i.getVisual("decal");d&&(h.decal=mb(d,s));var v=_h(l.getModel("itemStyle"),f,!0);Ie(f,v),Z(qo,function(b){var M=o.ensureState(b),C=l.getModel([b,"itemStyle"]);M.style=C.getItemStyle();var w=_h(C,f);w&&(M.shape=w)}),t?(o.setShape(f),o.shape.r=c.r0,Xi(o,{shape:{r:c.r}},r,i.dataIndex)):(Gn(o,{shape:f},r),ec(o)),o.useStyle(h),this._updateLabel(r);var m=l.getShallow("cursor");m&&o.attr("cursor",m),this._seriesModel=r||this._seriesModel,this._ecModel=a||this._ecModel;var y=u.get("focus"),x=y==="relative"?lb(i.getAncestorsIndices(),i.getDescendantIndices()):y==="ancestor"?i.getAncestorsIndices():y==="descendant"?i.getDescendantIndices():y;rr(this,x,u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t){var i=this,r=this.node.getModel(),a=r.getModel("label"),s=this.node.getLayout(),o=s.endAngle-s.startAngle,l=(s.startAngle+s.endAngle)/2,u=Math.cos(l),c=Math.sin(l),f=this,h=f.getTextContent(),d=this.node.dataIndex,v=a.get("minAngle")/180*Math.PI,m=a.get("show")&&!(v!=null&&Math.abs(o)<v);h.ignore=!m,Z(IT,function(x){var b=x==="normal"?r.getModel("label"):r.getModel([x,"label"]),M=x==="normal",C=M?h:h.ensureState(x),w=t.getFormattedLabel(d,x);M&&(w=w||i.node.name),C.style=Ii(b,{},null,x!=="normal",!0),w&&(C.style.text=w);var E=b.get("show");E!=null&&!M&&(C.ignore=!E);var L=y(b,"position"),P=M?f:f.states[x],I=P.style.fill;P.textConfig={outsideFill:b.get("color")==="inherit"?I:null,inside:L!=="outside"};var N,z=y(b,"distance")||0,V=y(b,"align"),U=y(b,"rotate"),j=Math.PI*.5,W=Math.PI*1.5,G=Yl(U==="tangential"?Math.PI/2-l:l),X=G>j&&!fb(G-j)&&G<W;L==="outside"?(N=s.r+z,V=X?"right":"left"):!V||V==="center"?(o===2*Math.PI&&s.r0===0?N=0:N=(s.r+s.r0)/2,V="center"):V==="left"?(N=s.r0+z,V=X?"right":"left"):V==="right"&&(N=s.r-z,V=X?"left":"right"),C.style.align=V,C.style.verticalAlign=y(b,"verticalAlign")||"middle",C.x=N*u+s.cx,C.y=N*c+s.cy;var q=0;U==="radial"?q=Yl(-l)+(X?Math.PI:0):U==="tangential"?q=Yl(Math.PI/2-l)+(X?Math.PI:0):Pn(U)&&(q=U*Math.PI/180),C.rotation=Yl(q)});function y(x,b){var M=x.get(b);return M??a.get(b)}h.dirtyStyle()},e})(ks),u8="sunburstRootToNode",$J="sunburstHighlight",mVe="sunburstUnhighlight";function gVe(n){n.registerAction({type:u8,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},i);function i(r,a){var s=ZT(e,[u8],r);if(s){var o=r.getViewRoot();o&&(e.direction=M9(o,s.node)?"rollUp":"drillDown"),r.resetViewRoot(s.node)}}}),n.registerAction({type:$J,update:"none"},function(e,t,i){e=Ie({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},r);function r(a){var s=ZT(e,[$J],a);s&&(e.dataIndex=s.node.dataIndex)}i.dispatchAction(Ie(e,{type:"highlight"}))}),n.registerAction({type:mVe,update:"updateView"},function(e,t,i){e=Ie({},e),i.dispatchAction(Ie(e,{type:"downplay"}))})}var yVe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r,a){var s=this;this.seriesModel=t,this.api=r,this.ecModel=i;var o=t.getData(),l=o.tree.root,u=t.getViewRoot(),c=this.group,f=t.get("renderLabelForZeroData"),h=[];u.eachNode(function(b){h.push(b)});var d=this._oldChildren||[];v(h,d),x(l,u),this._initEvents(),this._oldChildren=h;function v(b,M){if(b.length===0&&M.length===0)return;new Ap(M,b,C,C).add(w).update(w).remove($t(w,null)).execute();function C(E){return E.getId()}function w(E,L){var P=E==null?null:b[E],I=L==null?null:M[L];m(P,I)}}function m(b,M){if(!f&&b&&!b.getValue()&&(b=null),b!==l&&M!==l){if(M&&M.piece)b?(M.piece.updateData(!1,b,t,i,r),o.setItemGraphicEl(b.dataIndex,M.piece)):y(M);else if(b){var C=new QJ(b,t,i,r);c.add(C),o.setItemGraphicEl(b.dataIndex,C)}}}function y(b){b&&b.piece&&(c.remove(b.piece),b.piece=null)}function x(b,M){M.depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,b,t,i,r):(s.virtualPiece=new QJ(b,t,i,r),c.add(s.virtualPiece)),M.piece.off("click"),s.virtualPiece.on("click",function(C){s._rootToNode(M.parentNode)})):s.virtualPiece&&(c.remove(s.virtualPiece),s.virtualPiece=null)}},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(i){var r=!1,a=t.seriesModel.getViewRoot();a.eachNode(function(s){if(!r&&s.piece&&s.piece===i.target){var o=s.getModel().get("nodeClick");if(o==="rootToNode")t._rootToNode(s);else if(o==="link"){var l=s.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";ML(u,c)}}r=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:u8,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,i){var r=i.getData(),a=r.getItemLayout(0);if(a){var s=t[0]-a.cx,o=t[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},e.type="sunburst",e})(xi),xVe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t,i){var r={name:t.name,children:t.data};Hde(r);var a=this._levelModels=We(t.levels||[],function(l){return new Sn(l,this,i)},this),s=A9.createTree(r,this,o);function o(l){l.wrapMethod("getItemModel",function(u,c){var f=s.getNodeByDataIndex(c),h=a[f.depth];return h&&(u.parentModel=h),u})}return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treePathInfo=uP(r,this),i},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;(!t||t!==i&&!i.contains(t))&&(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){qhe(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e})(Ti);function Hde(n){var e=0;Z(n.children,function(i){Hde(i);var r=i.value;Ve(r)&&(r=r[0]),e+=r});var t=n.value;Ve(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),Ve(n.value)?n.value[0]=t:n.value=t}var eQ=Math.PI/180;function _Ve(n,e,t){e.eachSeriesByType(n,function(i){var r=i.get("center"),a=i.get("radius");Ve(a)||(a=[0,a]),Ve(r)||(r=[r,r]);var s=t.getWidth(),o=t.getHeight(),l=Math.min(s,o),u=st(r[0],s),c=st(r[1],o),f=st(a[0],l/2),h=st(a[1],l/2),d=-i.get("startAngle")*eQ,v=i.get("minAngle")*eQ,m=i.getData().tree.root,y=i.getViewRoot(),x=y.depth,b=i.get("sort");b!=null&&Wde(y,b);var M=0;Z(y.children,function(G){!isNaN(G.getValue())&&M++});var C=y.getValue(),w=Math.PI/(C||M)*2,E=y.depth>0,L=y.height-(E?-1:1),P=(h-f)/(L||1),I=i.get("clockwise"),N=i.get("stillShowZeroSum"),z=I?1:-1,V=function(G,X){if(G){var q=X;if(G!==m){var $=G.getValue(),te=C===0&&N?w:$*w;te<v&&(te=v),q=X+z*te;var J=G.depth-x-(E?-1:1),Q=f+P*J,se=f+P*(J+1),ce=i.getLevelModel(G);if(ce){var ue=ce.get("r0",!0),fe=ce.get("r",!0),ge=ce.get("radius",!0);ge!=null&&(ue=ge[0],fe=ge[1]),ue!=null&&(Q=st(ue,l/2)),fe!=null&&(se=st(fe,l/2))}G.setLayout({angle:te,startAngle:X,endAngle:q,clockwise:I,cx:u,cy:c,r0:Q,r:se})}if(G.children&&G.children.length){var Se=0;Z(G.children,function(Ee){Se+=V(Ee,X+Se)})}return q-X}};if(E){var U=f,j=f+P,W=Math.PI*2;m.setLayout({angle:W,startAngle:d,endAngle:d+W,clockwise:I,cx:u,cy:c,r0:U,r:j})}V(y,d)})}function Wde(n,e){var t=n.children||[];n.children=bVe(t,e),t.length&&Z(n.children,function(i){Wde(i,e)})}function bVe(n,e){if(wt(e)){var t=We(n,function(r,a){var s=r.getValue();return{params:{depth:r.depth,height:r.height,dataIndex:r.dataIndex,getValue:function(){return s}},index:a}});return t.sort(function(r,a){return e(r.params,a.params)}),We(t,function(r){return n[r.index]})}else{var i=e==="asc";return n.sort(function(r,a){var s=(r.getValue()-a.getValue())*(i?1:-1);return s===0?(r.dataIndex-a.dataIndex)*(i?-1:1):s})}}function SVe(n){var e={};function t(i,r,a){if(i.depth===0)return xe.color.neutral50;for(var s=i;s&&s.depth>1;)s=s.parentNode;var o=r.getColorFromPalette(s.name||s.dataIndex+"",e);return i.depth>1&&ot(o)&&(o=cL(o,(i.depth-1)/(a-1)*.5)),o}n.eachSeriesByType("sunburst",function(i){var r=i.getData(),a=r.tree;a.eachNode(function(s){var o=s.getModel(),l=o.getModel("itemStyle").getItemStyle();l.fill||(l.fill=t(s,i,a.root.height));var u=r.ensureUniqueItemVisual(s.dataIndex,"style");Ie(u,l)})})}function AVe(n){n.registerChartView(yVe),n.registerSeriesModel(xVe),n.registerLayout($t(_Ve,"sunburst")),n.registerProcessor($t(gS,"sunburst")),n.registerVisual(SVe),gVe(n)}var tQ={color:"fill",borderColor:"stroke"},MVe={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},ap=_n(),TVe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,i){return Gh(null,this)},e.prototype.getDataParams=function(t,i,r){var a=n.prototype.getDataParams.call(this,t,i);return r&&(a.info=ap(r).info),a},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e})(Ti);function CVe(n,e){return e=e||[0,0],We(["x","y"],function(t,i){var r=this.getAxis(t),a=e[i],s=n[i]/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(a-s)-r.dataToCoord(a+s))},this)}function wVe(n){var e=n.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:ct(CVe,n)}}}function EVe(n,e){return e=e||[0,0],We([0,1],function(t){var i=e[t],r=n[t]/2,a=[],s=[];return a[t]=i-r,s[t]=i+r,a[1-t]=s[1-t]=e[1-t],Math.abs(this.dataToPoint(a)[t]-this.dataToPoint(s)[t])},this)}function DVe(n){var e=n.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:n.getZoom()},api:{coord:function(t){return n.dataToPoint(t)},size:ct(EVe,n)}}}function RVe(n,e){var t=this.getAxis(),i=e instanceof Array?e[0]:e,r=(n instanceof Array?n[0]:n)/2;return t.type==="category"?t.getBandWidth():Math.abs(t.dataToCoord(i-r)-t.dataToCoord(i+r))}function LVe(n){var e=n.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:ct(RVe,n)}}}function NVe(n,e){return e=e||[0,0],We(["Radius","Angle"],function(t,i){var r="get"+t+"Axis",a=this[r](),s=e[i],o=n[i]/2,l=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(s-o)-a.dataToCoord(s+o));return t==="Angle"&&(l=l*Math.PI/180),l},this)}function IVe(n){var e=n.getRadiusAxis(),t=n.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:i[1],r0:i[0]},api:{coord:function(r){var a=e.dataToRadius(r[0]),s=t.dataToAngle(r[1]),o=n.coordToPoint([a,s]);return o.push(a,s*Math.PI/180),o},size:ct(NVe,n)}}}function PVe(n){var e=n.getRect(),t=n.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(i,r){return n.dataToPoint(i,r)},layout:function(i,r){return n.dataToLayout(i,r)}}}}function BVe(n){var e=n.getRect();return{coordSys:{type:"matrix",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t,i){return n.dataToPoint(t,i)},layout:function(t,i){return n.dataToLayout(t,i)}}}}function Xde(n,e,t,i){return n&&(n.legacy||n.legacy!==!1&&!t&&!i&&e!=="tspan"&&(e==="text"||yt(n,"text")))}function Yde(n,e,t){var i=n,r,a,s;if(e==="text")s=i;else{s={},yt(i,"text")&&(s.text=i.text),yt(i,"rich")&&(s.rich=i.rich),yt(i,"textFill")&&(s.fill=i.textFill),yt(i,"textStroke")&&(s.stroke=i.textStroke),yt(i,"fontFamily")&&(s.fontFamily=i.fontFamily),yt(i,"fontSize")&&(s.fontSize=i.fontSize),yt(i,"fontStyle")&&(s.fontStyle=i.fontStyle),yt(i,"fontWeight")&&(s.fontWeight=i.fontWeight),a={type:"text",style:s,silent:!0},r={};var o=yt(i,"textPosition");t?r.position=o?i.textPosition:"inside":o&&(r.position=i.textPosition),yt(i,"textPosition")&&(r.position=i.textPosition),yt(i,"textOffset")&&(r.offset=i.textOffset),yt(i,"textRotation")&&(r.rotation=i.textRotation),yt(i,"textDistance")&&(r.distance=i.textDistance)}return nQ(s,n),Z(s.rich,function(l){nQ(l,l)}),{textConfig:r,textContent:a}}function nQ(n,e){e&&(e.font=e.textFont||e.font,yt(e,"textStrokeWidth")&&(n.lineWidth=e.textStrokeWidth),yt(e,"textAlign")&&(n.align=e.textAlign),yt(e,"textVerticalAlign")&&(n.verticalAlign=e.textVerticalAlign),yt(e,"textLineHeight")&&(n.lineHeight=e.textLineHeight),yt(e,"textWidth")&&(n.width=e.textWidth),yt(e,"textHeight")&&(n.height=e.textHeight),yt(e,"textBackgroundColor")&&(n.backgroundColor=e.textBackgroundColor),yt(e,"textPadding")&&(n.padding=e.textPadding),yt(e,"textBorderColor")&&(n.borderColor=e.textBorderColor),yt(e,"textBorderWidth")&&(n.borderWidth=e.textBorderWidth),yt(e,"textBorderRadius")&&(n.borderRadius=e.textBorderRadius),yt(e,"textBoxShadowColor")&&(n.shadowColor=e.textBoxShadowColor),yt(e,"textBoxShadowBlur")&&(n.shadowBlur=e.textBoxShadowBlur),yt(e,"textBoxShadowOffsetX")&&(n.shadowOffsetX=e.textBoxShadowOffsetX),yt(e,"textBoxShadowOffsetY")&&(n.shadowOffsetY=e.textBoxShadowOffsetY))}function iQ(n,e,t){var i=n;i.textPosition=i.textPosition||t.position||"inside",t.offset!=null&&(i.textOffset=t.offset),t.rotation!=null&&(i.textRotation=t.rotation),t.distance!=null&&(i.textDistance=t.distance);var r=i.textPosition.indexOf("inside")>=0,a=n.fill||xe.color.neutral99;rQ(i,e);var s=i.textFill==null;return r?s&&(i.textFill=t.insideFill||xe.color.neutral00,!i.textStroke&&t.insideStroke&&(i.textStroke=t.insideStroke),!i.textStroke&&(i.textStroke=a),i.textStrokeWidth==null&&(i.textStrokeWidth=2)):(s&&(i.textFill=n.fill||t.outsideFill||xe.color.neutral00),!i.textStroke&&t.outsideStroke&&(i.textStroke=t.outsideStroke)),i.text=e.text,i.rich=e.rich,Z(e.rich,function(o){rQ(o,o)}),i}function rQ(n,e){e&&(yt(e,"fill")&&(n.textFill=e.fill),yt(e,"stroke")&&(n.textStroke=e.fill),yt(e,"lineWidth")&&(n.textStrokeWidth=e.lineWidth),yt(e,"font")&&(n.font=e.font),yt(e,"fontStyle")&&(n.fontStyle=e.fontStyle),yt(e,"fontWeight")&&(n.fontWeight=e.fontWeight),yt(e,"fontSize")&&(n.fontSize=e.fontSize),yt(e,"fontFamily")&&(n.fontFamily=e.fontFamily),yt(e,"align")&&(n.textAlign=e.align),yt(e,"verticalAlign")&&(n.textVerticalAlign=e.verticalAlign),yt(e,"lineHeight")&&(n.textLineHeight=e.lineHeight),yt(e,"width")&&(n.textWidth=e.width),yt(e,"height")&&(n.textHeight=e.height),yt(e,"backgroundColor")&&(n.textBackgroundColor=e.backgroundColor),yt(e,"padding")&&(n.textPadding=e.padding),yt(e,"borderColor")&&(n.textBorderColor=e.borderColor),yt(e,"borderWidth")&&(n.textBorderWidth=e.borderWidth),yt(e,"borderRadius")&&(n.textBorderRadius=e.borderRadius),yt(e,"shadowColor")&&(n.textBoxShadowColor=e.shadowColor),yt(e,"shadowBlur")&&(n.textBoxShadowBlur=e.shadowBlur),yt(e,"shadowOffsetX")&&(n.textBoxShadowOffsetX=e.shadowOffsetX),yt(e,"shadowOffsetY")&&(n.textBoxShadowOffsetY=e.shadowOffsetY),yt(e,"textShadowColor")&&(n.textShadowColor=e.textShadowColor),yt(e,"textShadowBlur")&&(n.textShadowBlur=e.textShadowBlur),yt(e,"textShadowOffsetX")&&(n.textShadowOffsetX=e.textShadowOffsetX),yt(e,"textShadowOffsetY")&&(n.textShadowOffsetY=e.textShadowOffsetY))}var qde={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},aQ=Dn(qde);Ju(Lh,function(n,e){return n[e]=1,n},{});Lh.join(", ");var QL=["","style","shape","extra"],Ab=_n();function V9(n,e,t,i,r){var a=n+"Animation",s=aS(n,i,r)||{},o=Ab(e).userDuring;return s.duration>0&&(s.during=o?ct(UVe,{el:e,userDuring:o}):null,s.setToFinal=!0,s.scope=n),Ie(s,t[a]),s}function T3(n,e,t,i){i=i||{};var r=i.dataIndex,a=i.isInit,s=i.clearStyle,o=t.isAnimationEnabled(),l=Ab(n),u=e.style;l.userDuring=e.during;var c={},f={};if(VVe(n,e,f),n.type==="compound")for(var h=n.shape.paths,d=e.shape.paths,v=0;v<d.length;v++){var m=d[v];S4("shape",m,h[v])}else S4("shape",e,f),S4("extra",e,f);if(!a&&o&&(GVe(n,e,c),sQ("shape",n,e,c),sQ("extra",n,e,c),jVe(n,e,u,c)),f.style=u,OVe(n,f,s),kVe(n,e),o)if(a){var y={};Z(QL,function(b){var M=b?e[b]:e;M&&M.enterFrom&&(b&&(y[b]=y[b]||{}),Ie(b?y[b]:y,M.enterFrom))});var x=V9("enter",n,e,t,r);x.duration>0&&n.animateFrom(y,x)}else zVe(n,e,r||0,t,c);Zde(n,e),u?n.dirty():n.markRedraw()}function Zde(n,e){for(var t=Ab(n).leaveToProps,i=0;i<QL.length;i++){var r=QL[i],a=r?e[r]:e;a&&a.leaveTo&&(t||(t=Ab(n).leaveToProps={}),r&&(t[r]=t[r]||{}),Ie(r?t[r]:t,a.leaveTo))}}function hP(n,e,t,i){if(n){var r=n.parent,a=Ab(n).leaveToProps;if(a){var s=V9("update",n,e,t,0);s.done=function(){r&&r.remove(n)},n.animateTo(a,s)}else r&&r.remove(n)}}function yy(n){return n==="all"}function OVe(n,e,t){var i=e.style;if(!n.isGroup&&i){if(t){n.useStyle({});for(var r=n.animators,a=0;a<r.length;a++){var s=r[a];s.targetName==="style"&&s.changeTarget(n.style)}}n.setStyle(i)}e&&(e.style=null,e&&n.attr(e),e.style=i)}function zVe(n,e,t,i,r){if(r){var a=V9("update",n,e,i,t);a.duration>0&&n.animateFrom(r,a)}}function kVe(n,e){yt(e,"silent")&&(n.silent=e.silent),yt(e,"ignore")&&(n.ignore=e.ignore),n instanceof $u&&yt(e,"invisible")&&(n.invisible=e.invisible),n instanceof An&&yt(e,"autoBatch")&&(n.autoBatch=e.autoBatch)}var rh={},FVe={setTransform:function(n,e){return rh.el[n]=e,this},getTransform:function(n){return rh.el[n]},setShape:function(n,e){var t=rh.el,i=t.shape||(t.shape={});return i[n]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(n){var e=rh.el.shape;if(e)return e[n]},setStyle:function(n,e){var t=rh.el,i=t.style;return i&&(i[n]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(n){var e=rh.el.style;if(e)return e[n]},setExtra:function(n,e){var t=rh.el.extra||(rh.el.extra={});return t[n]=e,this},getExtra:function(n){var e=rh.el.extra;if(e)return e[n]}};function UVe(){var n=this,e=n.el;if(e){var t=Ab(e).userDuring,i=n.userDuring;if(t!==i){n.el=n.userDuring=null;return}rh.el=e,i(FVe)}}function sQ(n,e,t,i){var r=t[n];if(r){var a=e[n],s;if(a){var o=t.transition,l=r.transition;if(l)if(!s&&(s=i[n]={}),yy(l))Ie(s,a);else for(var u=Pi(l),c=0;c<u.length;c++){var f=u[c],h=a[f];s[f]=h}else if(yy(o)||rn(o,n)>=0){!s&&(s=i[n]={});for(var d=Dn(a),c=0;c<d.length;c++){var f=d[c],h=a[f];HVe(r[f],h)&&(s[f]=h)}}}}}function S4(n,e,t){var i=e[n];if(i)for(var r=t[n]={},a=Dn(i),s=0;s<a.length;s++){var o=a[s];r[o]=V2(i[o])}}function GVe(n,e,t){for(var i=e.transition,r=yy(i)?Lh:Pi(i||[]),a=0;a<r.length;a++){var s=r[a];if(!(s==="style"||s==="shape"||s==="extra")){var o=n[s];t[s]=o}}}function VVe(n,e,t){for(var i=0;i<aQ.length;i++){var r=aQ[i],a=qde[r],s=e[r];s&&(t[a[0]]=s[0],t[a[1]]=s[1])}for(var i=0;i<Lh.length;i++){var o=Lh[i];e[o]!=null&&(t[o]=e[o])}}function jVe(n,e,t,i){if(t){var r=n.style,a;if(r){var s=t.transition,o=e.transition;if(s&&!yy(s)){var l=Pi(s);!a&&(a=i.style={});for(var u=0;u<l.length;u++){var c=l[u],f=r[c];a[c]=f}}else if(n.getAnimationStyleProps&&(yy(o)||yy(s)||rn(o,"style")>=0)){var h=n.getAnimationStyleProps(),d=h?h.style:null;if(d){!a&&(a=i.style={});for(var v=Dn(t),u=0;u<v.length;u++){var c=v[u];if(d[c]){var f=r[c];a[c]=f}}}}}}}function HVe(n,e){return Os(n)?n!==e:n!=null&&isFinite(n)}var Kde=_n(),WVe=["percent","easing","shape","style","extra"];function Jde(n){n.stopAnimation("keyframe"),n.attr(Kde(n))}function $L(n,e,t){if(!(!t.isAnimationEnabled()||!e)){if(Ve(e)){Z(e,function(o){$L(n,o,t)});return}var i=e.keyframes,r=e.duration;if(t&&r==null){var a=aS("enter",t,0);r=a&&a.duration}if(!(!i||!r)){var s=Kde(n);Z(QL,function(o){if(!(o&&!n[o])){var l;i.sort(function(u,c){return u.percent-c.percent}),Z(i,function(u){var c=n.animators,f=o?u[o]:u;if(f){var h=Dn(f);if(o||(h=Zn(h,function(m){return rn(WVe,m)<0})),!!h.length){l||(l=n.animate(o,e.loop,!0),l.scope="keyframe");for(var d=0;d<c.length;d++)c[d]!==l&&c[d].targetName===l.targetName&&c[d].stopTracks(h);o&&(s[o]=s[o]||{});var v=o?s[o]:s;Z(h,function(m){v[m]=((o?n[o]:n)||{})[m]}),l.whenWithKeys(r*u.percent,f,h,u.easing)}}}),l&&l.delay(e.delay||0).duration(r).start(e.easing)}})}}}var sp="emphasis",Qv="normal",j9="blur",H9="select",Tm=[Qv,sp,j9,H9],A4={normal:["itemStyle"],emphasis:[sp,"itemStyle"],blur:[j9,"itemStyle"],select:[H9,"itemStyle"]},M4={normal:["label"],emphasis:[sp,"label"],blur:[j9,"label"],select:[H9,"label"]},XVe=["x","y"],YVe="e\0\0",Ru={normal:{},emphasis:{},blur:{},select:{}},qVe={cartesian2d:wVe,geo:DVe,single:LVe,polar:IVe,calendar:PVe,matrix:BVe};function c8(n){return n instanceof An}function f8(n){return n instanceof $u}function ZVe(n,e){e.copyTransform(n),f8(e)&&f8(n)&&(e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e.invisible=n.invisible,e.ignore=n.ignore,c8(e)&&c8(n)&&e.setShape(n.shape))}var KVe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r,a){this._progressiveEls=null;var s=this._data,o=t.getData(),l=this.group,u=oQ(t,o,i,r);s||l.removeAll(),o.diff(s).add(function(f){T4(r,null,f,u(f,a),t,l,o)}).remove(function(f){var h=s.getItemGraphicEl(f);h&&hP(h,ap(h).option,t)}).update(function(f,h){var d=s.getItemGraphicEl(h);T4(r,d,f,u(f,a),t,l,o)}).execute();var c=t.get("clip",!0)?WC(t.coordinateSystem,!1,t):null;c?l.setClipPath(c):l.removeClipPath(),this._data=o},e.prototype.incrementalPrepareRender=function(t,i,r){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,i,r,a,s){var o=i.getData(),l=oQ(i,o,r,a),u=this._progressiveEls=[];function c(d){d.isGroup||(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}for(var f=t.start;f<t.end;f++){var h=T4(null,null,f,l(f,s),i,this.group,o);h&&(h.traverse(c),u.push(h))}},e.prototype.eachRendered=function(t){Bm(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,i,r,a){var s=i.element;if(s==null||r.name===s)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===s)return!0;return!1},e.type="custom",e})(xi);function W9(n){var e=n.type,t;if(e==="path"){var i=n.shape,r=i.width!=null&&i.height!=null?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,a=epe(i);t=db(a,null,r,i.layout||"center"),ap(t).customPathData=a}else if(e==="image")t=new Za({}),ap(t).customImagePath=n.style.image;else if(e==="text")t=new In({});else if(e==="group")t=new It;else if(e==="compoundPath"){var i=n.shape;if(!i||!i.paths){var s="";ti(s)}var o=We(i.paths,function(c){if(c.type==="path")return db(c.shape.pathData,c,null);var f=BT(c.type);if(!f){var h="";ti(h)}return new f});t=new zC({shape:{paths:o}})}else{var l=BT(e);if(!l){var s="";ti(s)}t=new l}return ap(t).customGraphicType=e,t.name=n.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function X9(n,e,t,i,r,a,s){Jde(e);var o=r&&r.normal.cfg;o&&e.setTextConfig(o),i&&i.transition==null&&(i.transition=XVe);var l=i&&i.style;if(l){if(e.type==="text"){var u=l;yt(u,"textFill")&&(u.fill=u.textFill),yt(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,f=c8(e)?l.decal:null;n&&f&&(f.dirty=!0,c=mb(f,n)),l.__decalPattern=c}if(f8(e)&&l){var c=l.__decalPattern;c&&(l.decal=c)}T3(e,i,a,{dataIndex:t,isInit:s,clearStyle:!0}),$L(e,i.keyframeAnimation,a)}function Qde(n,e,t,i,r){var a=e.isGroup?null:e,s=r&&r[n].cfg;if(a){var o=a.ensureState(n);if(i===!1){var l=a.getState(n);l&&(l.style=null)}else o.style=i||null;s&&(o.textConfig=s),Ny(a)}}function JVe(n,e,t){if(!n.isGroup){var i=n,r=t.currentZ,a=t.currentZLevel;i.z=r,i.zlevel=a;var s=e.z2;s!=null&&(i.z2=s||0);for(var o=0;o<Tm.length;o++)QVe(i,e,Tm[o])}}function QVe(n,e,t){var i=t===Qv,r=i?e:eN(e,t),a=r?r.z2:null,s;a!=null&&(s=i?n:n.ensureState(t),s.z2=a||0)}function oQ(n,e,t,i){var r=n.get("renderItem");if(typeof r=="string"){var a=WPe(r);a&&(r=a)}var s=n.coordinateSystem,o={};s&&(o=s.prepareCustoms?s.prepareCustoms(s):qVe[s.type](s));for(var l=Bt({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:w,style:L,ordinalRawValue:E,styleEmphasis:P,visual:z,barLayout:V,currentSeriesIndices:U,font:j},o.api||{}),u={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:o.coordSys,dataInsideLength:e.count(),encode:$Ve(n.getData()),itemPayload:n.get("itemPayload")||{}},c,f,h={},d={},v={},m={},y=0;y<Tm.length;y++){var x=Tm[y];v[x]=n.getModel(A4[x]),m[x]=n.getModel(M4[x])}function b(W){return W===c?f||(f=e.getItemModel(W)):e.getItemModel(W)}function M(W,G){return e.hasItemOption?W===c?h[G]||(h[G]=b(W).getModel(A4[G])):b(W).getModel(A4[G]):v[G]}function C(W,G){return e.hasItemOption?W===c?d[G]||(d[G]=b(W).getModel(M4[G])):b(W).getModel(M4[G]):m[G]}return function(W,G){return c=W,f=null,h={},d={},r&&r(Bt({dataIndexInside:W,dataIndex:e.getRawIndex(W),actionType:G?G.type:null},u),l)};function w(W,G){return G==null&&(G=c),e.getStore().get(e.getDimensionIndex(W||0),G)}function E(W,G){G==null&&(G=c),W=W||0;var X=e.getDimensionInfo(W);if(!X){var q=e.getDimensionIndex(W);return q>=0?e.getStore().get(q,G):void 0}var $=e.get(X.name,G),te=X&&X.ordinalMeta;return te?te.categories[$]:$}function L(W,G){G==null&&(G=c);var X=e.getItemVisual(G,"style"),q=X&&X.fill,$=X&&X.opacity,te=M(G,Qv).getItemStyle();q!=null&&(te.fill=q),$!=null&&(te.opacity=$);var J={inheritColor:ot(q)?q:xe.color.neutral99},Q=C(G,Qv),se=Ii(Q,null,J,!1,!0);se.text=Q.getShallow("show")?At(n.getFormattedLabel(G,Qv),xb(e,G)):null;var ce=bL(Q,J,!1);return N(W,te),te=iQ(te,se,ce),W&&I(te,W),te.legacy=!0,te}function P(W,G){G==null&&(G=c);var X=M(G,sp).getItemStyle(),q=C(G,sp),$=Ii(q,null,null,!0,!0);$.text=q.getShallow("show")?gl(n.getFormattedLabel(G,sp),n.getFormattedLabel(G,Qv),xb(e,G)):null;var te=bL(q,null,!0);return N(W,X),X=iQ(X,$,te),W&&I(X,W),X.legacy=!0,X}function I(W,G){for(var X in G)yt(G,X)&&(W[X]=G[X])}function N(W,G){W&&(W.textFill&&(G.textFill=W.textFill),W.textPosition&&(G.textPosition=W.textPosition))}function z(W,G){if(G==null&&(G=c),yt(tQ,W)){var X=e.getItemVisual(G,"style");return X?X[tQ[W]]:null}if(yt(MVe,W))return e.getItemVisual(G,W)}function V(W){if(s.type==="cartesian2d"){var G=s.getBaseAxis();return qBe(Bt({axis:G},W))}}function U(){return t.getCurrentSeriesIndices()}function j(W){return m6(W,t)}}function $Ve(n){var e={};return Z(n.dimensions,function(t){var i=n.getDimensionInfo(t);if(!i.isExtraCoord){var r=i.coordDim,a=e[r]=e[r]||[];a[i.coordDimIndex]=n.getDimensionIndex(t)}}),e}function T4(n,e,t,i,r,a,s){if(!i){a.remove(e);return}var o=Y9(n,e,t,i,r,a);return o&&s.setItemGraphicEl(t,o),o&&rr(o,i.focus,i.blurScope,i.emphasisDisabled),o}function Y9(n,e,t,i,r,a){var s=-1,o=e;e&&$de(e,i,r)&&(s=rn(a.childrenRef(),e),e=null);var l=!e,u=e;u?u.clearStates():(u=W9(i),o&&ZVe(o,u)),i.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),i.tooltipDisabled&&(u.tooltipDisabled=!0),Ru.normal.cfg=Ru.normal.conOpt=Ru.emphasis.cfg=Ru.emphasis.conOpt=Ru.blur.cfg=Ru.blur.conOpt=Ru.select.cfg=Ru.select.conOpt=null,Ru.isLegacy=!1,t6e(u,t,i,r,l,Ru),e6e(u,t,i,r,l),X9(n,u,t,i,Ru,r,l),yt(i,"info")&&(ap(u).info=i.info);for(var c=0;c<Tm.length;c++){var f=Tm[c];if(f!==Qv){var h=eN(i,f),d=q9(i,h,f);Qde(f,u,h,d,Ru)}}return JVe(u,i,r),i.type==="group"&&n6e(n,u,t,i,r),s>=0?a.replaceAt(u,s):a.add(u),u}function $de(n,e,t){var i=ap(n),r=e.type,a=e.shape,s=e.style;return t.isUniversalTransitionEnabled()||r!=null&&r!==i.customGraphicType||r==="path"&&s6e(a)&&epe(a)!==i.customPathData||r==="image"&&yt(s,"image")&&s.image!==i.customImagePath}function e6e(n,e,t,i,r){var a=t.clipPath;if(a===!1)n&&n.getClipPath()&&n.removeClipPath();else if(a){var s=n.getClipPath();s&&$de(s,a,i)&&(s=null),s||(s=W9(a),n.setClipPath(s)),X9(null,s,e,a,null,i,r)}}function t6e(n,e,t,i,r,a){if(!(n.isGroup||n.type==="compoundPath")){lQ(t,null,a),lQ(t,sp,a);var s=a.normal.conOpt,o=a.emphasis.conOpt,l=a.blur.conOpt,u=a.select.conOpt;if(s!=null||o!=null||u!=null||l!=null){var c=n.getTextContent();if(s===!1)c&&n.removeTextContent();else{s=a.normal.conOpt=s||{type:"text"},c?c.clearStates():(c=W9(s),n.setTextContent(c)),X9(null,c,e,s,null,i,r);for(var f=s&&s.style,h=0;h<Tm.length;h++){var d=Tm[h];if(d!==Qv){var v=a[d].conOpt;Qde(d,c,v,q9(s,v,d),null)}}f?c.dirty():c.markRedraw()}}}}function lQ(n,e,t){var i=e?eN(n,e):n,r=e?q9(n,i,sp):n.style,a=n.type,s=i?i.textConfig:null,o=n.textContent,l=o?e?eN(o,e):o:null;if(r&&(t.isLegacy||Xde(r,a,!!s,!!l))){t.isLegacy=!0;var u=Yde(r,a,!e);!s&&u.textConfig&&(s=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var c=l;!c.type&&(c.type="text")}var f=e?t[e]:t.normal;f.cfg=s,f.conOpt=l}function eN(n,e){return e?n?n[e]:null:n}function q9(n,e,t){var i=e&&e.style;return i==null&&t===sp&&n&&(i=n.styleEmphasis),i}function n6e(n,e,t,i,r){var a=i.children,s=a?a.length:0,o=i.$mergeChildren,l=o==="byName"||i.diffChildrenByName,u=o===!1;if(!(!s&&!l&&!u)){if(l){r6e({api:n,oldChildren:e.children()||[],newChildren:a||[],dataIndex:t,seriesModel:r,group:e});return}u&&e.removeAll();for(var c=0;c<s;c++){var f=a[c],h=e.childAt(c);f?(f.ignore==null&&(f.ignore=!1),Y9(n,h,t,f,r,e)):h.ignore=!0}for(var d=e.childCount()-1;d>=c;d--){var v=e.childAt(d);i6e(e,v,r)}}}function i6e(n,e,t){e&&hP(e,ap(n).option,t)}function r6e(n){new Ap(n.oldChildren,n.newChildren,uQ,uQ,n).add(cQ).update(cQ).remove(a6e).execute()}function uQ(n,e){var t=n&&n.name;return t??YVe+e}function cQ(n,e){var t=this.context,i=n!=null?t.newChildren[n]:null,r=e!=null?t.oldChildren[e]:null;Y9(t.api,r,t.dataIndex,i,t.seriesModel,t.group)}function a6e(n){var e=this.context,t=e.oldChildren[n];t&&hP(t,ap(t).option,e.seriesModel)}function epe(n){return n&&(n.pathData||n.d)}function s6e(n){return n&&(yt(n,"pathData")||yt(n,"d"))}function o6e(n){n.registerChartView(KVe),n.registerSeriesModel(TVe)}var k0=_n(),fQ=Nt,C4=ct,Z9=(function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,i,r){var a=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,!(!r&&this._lastValue===a&&this._lastStatus===s)){this._lastValue=a,this._lastStatus=s;var o=this._group,l=this._handle;if(!s||s==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var u={};this.makeElOption(u,a,e,t,i);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(e,t);if(!o)o=this._group=new It,this.createPointerEl(o,u,e,t),this.createLabelEl(o,u,e,t),i.getZr().add(o);else{var h=$t(hQ,t,f);this.updatePointerEl(o,u,h),this.updateLabelEl(o,u,h,t)}pQ(o,t,!0),this._renderHandle(a)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var i=t.get("animation"),r=e.axis,a=r.type==="category",s=t.get("snap");if(!s&&!a)return!1;if(i==="auto"||i==null){var o=this.animationThreshold;if(a&&r.getBandWidth()>o)return!0;if(s){var l=m9(e).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/l>o}return!1}return i===!0},n.prototype.makeElOption=function(e,t,i,r,a){},n.prototype.createPointerEl=function(e,t,i,r){var a=t.pointer;if(a){var s=k0(e).pointerEl=new Zy[a.type](fQ(t.pointer));e.add(s)}},n.prototype.createLabelEl=function(e,t,i,r){if(t.label){var a=k0(e).labelEl=new In(fQ(t.label));e.add(a),dQ(a,r)}},n.prototype.updatePointerEl=function(e,t,i){var r=k0(e).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),i(r,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,i,r){var a=k0(e).labelEl;a&&(a.setStyle(t.label.style),i(a,{x:t.label.x,y:t.label.y}),dQ(a,r))},n.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,i=this._api.getZr(),r=this._handle,a=t.getModel("handle"),s=t.get("status");if(!a.get("show")||!s||s==="hide"){r&&i.remove(r),this._handle=null;return}var o;this._handle||(o=!0,r=this._handle=sS(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){_p(u.event)},onmousedown:C4(this._onHandleDragMove,this,0,0),drift:C4(this._onHandleDragMove,this),ondragend:C4(this._onHandleDragEnd,this)}),i.add(r)),pQ(r,t,!1),r.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");Ve(l)||(l=[l,l]),r.scaleX=l[0]/2,r.scaleY=l[1]/2,hS(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,o)}},n.prototype._moveHandleToValue=function(e,t){hQ(this._axisPointerModel,!t&&this._moveAnimation,this._handle,w4(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var i=this._handle;if(i){this._dragging=!0;var r=this.updateHandleTransform(w4(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,i.stopAnimation(),i.attr(w4(r)),k0(i).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,r=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),FT(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,i){return i=i||0,{x:e[i],y:e[1-i],width:t[i],height:t[1-i]}},n})();function hQ(n,e,t,i){tpe(k0(t).lastProp,i)||(k0(t).lastProp=i,e?Gn(t,i,n):(t.stopAnimation(),t.attr(i)))}function tpe(n,e){if(Ot(n)&&Ot(e)){var t=!0;return Z(e,function(i,r){t=t&&tpe(n[r],i)}),!!t}else return n===e}function dQ(n,e){n[e.get(["label","show"])?"show":"hide"]()}function w4(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function pQ(n,e,t){var i=e.get("z"),r=e.get("zlevel");n&&n.traverse(function(a){a.type!=="group"&&(i!=null&&(a.z=i),r!=null&&(a.zlevel=r),a.silent=t)})}function K9(n){var e=n.get("type"),t=n.getModel(e+"Style"),i;return e==="line"?(i=t.getLineStyle(),i.fill=null):e==="shadow"&&(i=t.getAreaStyle(),i.stroke=null),i}function npe(n,e,t,i,r){var a=t.get("value"),s=ipe(a,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),o=t.getModel("label"),l=uS(o.get("padding")||0),u=o.getFont(),c=OI(s,u),f=r.position,h=c.width+l[1]+l[3],d=c.height+l[0]+l[2],v=r.align;v==="right"&&(f[0]-=h),v==="center"&&(f[0]-=h/2);var m=r.verticalAlign;m==="bottom"&&(f[1]-=d),m==="middle"&&(f[1]-=d/2),l6e(f,h,d,i);var y=o.get("backgroundColor");(!y||y==="auto")&&(y=e.get(["axisLine","lineStyle","color"])),n.label={x:f[0],y:f[1],style:Ii(o,{text:s,font:u,fill:o.getTextColor(),padding:l,backgroundColor:y}),z2:10}}function l6e(n,e,t,i){var r=i.getWidth(),a=i.getHeight();n[0]=Math.min(n[0]+e,r)-e,n[1]=Math.min(n[1]+t,a)-t,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function ipe(n,e,t,i,r){n=e.scale.parse(n);var a=e.scale.getLabel({value:n},{precision:r.precision}),s=r.formatter;if(s){var o={value:BL(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};Z(i,function(l){var u=t.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&o.seriesData.push(f)}),ot(s)?a=s.replace("{value}",a):wt(s)&&(a=s(o))}return a}function J9(n,e,t){var i=ja();return Lp(i,i,t.rotation),af(i,i,t.position),$c([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],i)}function rpe(n,e,t,i,r,a){var s=Wo.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=r.get(["label","margin"]),npe(e,i,r,a,{position:J9(i.axis,n,t),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function Q9(n,e,t){return t=t||0,{x1:n[t],y1:n[1-t],x2:e[t],y2:e[1-t]}}function ape(n,e,t){return t=t||0,{x:n[t],y:n[1-t],width:e[t],height:e[1-t]}}function vQ(n,e,t,i,r,a){return{cx:n,cy:e,r0:t,r:i,startAngle:r,endAngle:a,clockwise:!0}}var u6e=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,i,r,a,s){var o=r.axis,l=o.grid,u=a.get("type"),c=mQ(l,o).getOtherAxis(o).getGlobalExtent(),f=o.toGlobalCoord(o.dataToCoord(i,!0));if(u&&u!=="none"){var h=K9(a),d=c6e[u](o,f,c);d.style=h,t.graphicKey=d.type,t.pointer=d}var v=WL(l.getRect(),r);rpe(i,t,v,r,a,s)},e.prototype.getHandleTransform=function(t,i,r){var a=WL(i.axis.grid.getRect(),i,{labelInside:!1});a.labelMargin=r.get(["handle","margin"]);var s=J9(i.axis,t,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,r,a){var s=r.axis,o=s.grid,l=s.getGlobalExtent(!0),u=mQ(o,s).getOtherAxis(s).getGlobalExtent(),c=s.dim==="x"?0:1,f=[t.x,t.y];f[c]+=i[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var h=(u[1]+u[0])/2,d=[h,h];d[c]=f[c];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:t.rotation,cursorPoint:d,tooltipOption:v[c]}},e})(Z9);function mQ(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var c6e={line:function(n,e,t){var i=Q9([e,t[0]],[e,t[1]],gQ(n));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(n,e,t){var i=Math.max(1,n.getBandWidth()),r=t[1]-t[0];return{type:"Rect",shape:ape([e-i/2,t[0]],[i,r],gQ(n))}}};function gQ(n){return n.dim==="x"?0:1}var f6e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:xe.color.border,width:1,type:"dashed"},shadowStyle:{color:xe.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:xe.color.neutral00,padding:[5,7,5,7],backgroundColor:xe.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:xe.color.accent40,throttle:40}},e})(xn),$d=_n(),h6e=Z;function spe(n,e,t){if(!wn.node){var i=e.getZr();$d(i).records||($d(i).records={}),d6e(i,e);var r=$d(i).records[n]||($d(i).records[n]={});r.handler=t}}function d6e(n,e){if($d(n).initialized)return;$d(n).initialized=!0,t("click",$t(yQ,"click")),t("mousemove",$t(yQ,"mousemove")),t("globalout",v6e);function t(i,r){n.on(i,function(a){var s=m6e(e);h6e($d(n).records,function(o){o&&r(o,a,s.dispatchAction)}),p6e(s.pendings,e)})}}function p6e(n,e){var t=n.showTip.length,i=n.hideTip.length,r;t?r=n.showTip[t-1]:i&&(r=n.hideTip[i-1]),r&&(r.dispatchAction=null,e.dispatchAction(r))}function v6e(n,e,t){n.handler("leave",null,t)}function yQ(n,e,t,i){e.handler(n,t,i)}function m6e(n){var e={showTip:[],hideTip:[]},t=function(i){var r=e[i.type];r?r.push(i):(i.dispatchAction=t,n.dispatchAction(i))};return{dispatchAction:t,pendings:e}}function h8(n,e){if(!wn.node){var t=e.getZr(),i=($d(t).records||{})[n];i&&($d(t).records[n]=null)}}var g6e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var a=i.getComponent("tooltip"),s=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";spe("axisPointer",r,function(o,l,u){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&u({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,i){h8("axisPointer",i)},e.prototype.dispose=function(t,i){h8("axisPointer",i)},e.type="axisPointer",e})(Bi);function ope(n,e){var t=[],i=n.seriesIndex,r;if(i==null||!(r=e.getSeriesByIndex(i)))return{point:[]};var a=r.getData(),s=Ry(a,n);if(s==null||s<0||Ve(s))return{point:[]};var o=a.getItemGraphicEl(s),l=r.coordinateSystem;if(r.getTooltipPosition)t=r.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(n.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,h=u.dim,d=f==="x"||f==="radius"?1:0,v=a.mapDimension(h),m=[];m[d]=a.get(v,s),m[1-d]=a.get(a.getCalculationInfo("stackResultDimension"),s),t=l.dataToPoint(m)||[]}else t=l.dataToPoint(a.getValues(We(l.dimensions,function(x){return a.mapDimension(x)}),s))||[];else if(o){var y=o.getBoundingRect().clone();y.applyTransform(o.transform),t=[y.x+y.width/2,y.y+y.height/2]}return{point:t,el:o}}var xQ=_n();function y6e(n,e,t){var i=n.currTrigger,r=[n.x,n.y],a=n,s=n.dispatchAction||ct(t.dispatchAction,t),o=e.getComponent("axisPointer").coordSysAxesInfo;if(o){C3(r)&&(r=ope({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=C3(r),u=a.axesInfo,c=o.axesInfo,f=i==="leave"||C3(r),h={},d={},v={list:[],map:{}},m={showPointer:$t(_6e,d),showTooltip:$t(b6e,v)};Z(o.coordSysMap,function(x,b){var M=l||x.containPoint(r);Z(o.coordSysAxesInfo[b],function(C,w){var E=C.axis,L=T6e(u,C);if(!f&&M&&(!u||L)){var P=L&&L.value;P==null&&!l&&(P=E.pointToData(r)),P!=null&&_Q(C,P,m,!1,h)}})});var y={};return Z(c,function(x,b){var M=x.linkGroup;M&&!d[b]&&Z(M.axesInfo,function(C,w){var E=d[w];if(C!==x&&E){var L=E.value;M.mapper&&(L=x.axis.scale.parse(M.mapper(L,bQ(C),bQ(x)))),y[x.key]=L}})}),Z(y,function(x,b){_Q(c[b],x,m,!0,h)}),S6e(d,c,h),A6e(v,r,n,s),M6e(c,s,t),h}}function _Q(n,e,t,i,r){var a=n.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!n.involveSeries){t.showPointer(n,e);return}var s=x6e(e,n),o=s.payloadBatch,l=s.snapToValue;o[0]&&r.seriesIndex==null&&Ie(r,o[0]),!i&&n.snap&&a.containData(l)&&l!=null&&(e=l),t.showPointer(n,e,o),t.showTooltip(n,s,l)}}function x6e(n,e){var t=e.axis,i=t.dim,r=n,a=[],s=Number.MAX_VALUE,o=-1;return Z(e.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(i),f,h;if(l.getAxisTooltipData){var d=l.getAxisTooltipData(c,n,t);h=d.dataIndices,f=d.nestestValue}else{if(h=l.indicesOfNearest(i,c[0],n,t.type==="category"?.5:null),!h.length)return;f=l.getData().get(c[0],h[0])}if(!(f==null||!isFinite(f))){var v=n-f,m=Math.abs(v);m<=s&&((m<s||v>=0&&o<0)&&(s=m,o=v,r=f,a.length=0),Z(h,function(y){a.push({seriesIndex:l.seriesIndex,dataIndexInside:y,dataIndex:l.getData().getRawIndex(y)})}))}}),{payloadBatch:a,snapToValue:r}}function _6e(n,e,t,i){n[e.key]={value:t,payloadBatch:i}}function b6e(n,e,t,i){var r=t.payloadBatch,a=e.axis,s=a.model,o=e.axisPointerModel;if(!(!e.triggerTooltip||!r.length)){var l=e.coordSys.model,u=qT(l),c=n.map[u];c||(c=n.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function S6e(n,e,t){var i=t.axesInfo=[];Z(e,function(r,a){var s=r.axisPointerModel.option,o=n[a];o?(!r.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!r.useHandle&&(s.status="hide"),s.status==="show"&&i.push({axisDim:r.axis.dim,axisIndex:r.axis.model.componentIndex,value:s.value})})}function A6e(n,e,t,i){if(C3(e)||!n.list.length){i({type:"hideTip"});return}var r=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:n.list})}function M6e(n,e,t){var i=t.getZr(),r="axisPointerLastHighlights",a=xQ(i)[r]||{},s=xQ(i)[r]={};Z(n,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&Z(f.seriesDataIndices,function(h){var d=h.seriesIndex+" | "+h.dataIndex;s[d]=h})});var o=[],l=[];Z(a,function(u,c){!s[c]&&l.push(u)}),Z(s,function(u,c){!a[c]&&o.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function T6e(n,e){for(var t=0;t<(n||[]).length;t++){var i=n[t];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}function bQ(n){var e=n.axis.model,t={},i=t.axisDim=n.axis.dim;return t.axisIndex=t[i+"AxisIndex"]=e.componentIndex,t.axisName=t[i+"AxisName"]=e.name,t.axisId=t[i+"AxisId"]=e.id,t}function C3(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function qC(n){$y.registerAxisPointerClass("CartesianAxisPointer",u6e),n.registerComponentModel(f6e),n.registerComponentView(g6e),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!Ve(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=Cze(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},y6e)}function C6e(n){cn(Lhe),cn(qC)}var w6e=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,i,r,a,s){var o=r.axis;o.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=o.polar,u=l.getOtherAxis(o),c=u.getExtent(),f=o.dataToCoord(i),h=a.get("type");if(h&&h!=="none"){var d=K9(a),v=D6e[h](o,l,f,c);v.style=d,t.graphicKey=v.type,t.pointer=v}var m=a.get(["label","margin"]),y=E6e(i,r,a,l,m);npe(t,r,a,s,y)},e})(Z9);function E6e(n,e,t,i,r){var a=e.axis,s=a.dataToCoord(n),o=i.getAngleAxis().getExtent()[0];o=o/180*Math.PI;var l=i.getRadiusAxis().getExtent(),u,c,f;if(a.dim==="radius"){var h=ja();Lp(h,h,o),af(h,h,[i.cx,i.cy]),u=$c([s,-r],h);var d=e.getModel("axisLabel").get("rotate")||0,v=Wo.innerTextLayout(o,d*Math.PI/180,-1);c=v.textAlign,f=v.textVerticalAlign}else{var m=l[1];u=i.coordToPoint([m+r,s]);var y=i.cx,x=i.cy;c=Math.abs(u[0]-y)/m<.3?"center":u[0]>y?"left":"right",f=Math.abs(u[1]-x)/m<.3?"middle":u[1]>x?"top":"bottom"}return{position:u,align:c,verticalAlign:f}}var D6e={line:function(n,e,t,i){return n.dim==="angle"?{type:"Line",shape:Q9(e.coordToPoint([i[0],t]),e.coordToPoint([i[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(n,e,t,i){var r=Math.max(1,n.getBandWidth()),a=Math.PI/180;return n.dim==="angle"?{type:"Sector",shape:vQ(e.cx,e.cy,i[0],i[1],(-t-r/2)*a,(-t+r/2)*a)}:{type:"Sector",shape:vQ(e.cx,e.cy,t-r/2,t+r/2,0,Math.PI*2)}}},R6e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var i,r=this.ecModel;return r.eachComponent(t,function(a){a.getCoordSysModel()===this&&(i=a)},this),i},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e})(xn),$9=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Sr).models[0]},e.type="polarAxis",e})(xn);kr($9,mS);var L6e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e})($9),N6e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e})($9),ej=(function(n){me(e,n);function e(t,i){return n.call(this,"radius",t,i)||this}return e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)[this.dim==="radius"?0:1]},e})(oc);ej.prototype.dataToRadius=oc.prototype.dataToCoord;ej.prototype.radiusToData=oc.prototype.coordToData;var I6e=_n(),tj=(function(n){me(e,n);function e(t,i){return n.call(this,"angle",t,i||[0,360])||this}return e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,i=t.getLabelModel(),r=t.scale,a=r.getExtent(),s=r.count();if(a[1]-a[0]<1)return 0;var o=a[0],l=t.dataToCoord(o+1)-t.dataToCoord(o),u=Math.abs(l),c=OI(o==null?"":o+"",i.getFont(),"center","top"),f=Math.max(c.height,7),h=f/u;isNaN(h)&&(h=1/0);var d=Math.max(0,Math.floor(h)),v=I6e(t.model),m=v.lastAutoInterval,y=v.lastTickCount;return m!=null&&y!=null&&Math.abs(m-d)<=1&&Math.abs(y-s)<=1&&m>d?d=m:(v.lastTickCount=s,v.lastAutoInterval=d),d},e})(oc);tj.prototype.dataToAngle=oc.prototype.dataToCoord;tj.prototype.angleToData=oc.prototype.coordToData;var lpe=["radius","angle"],P6e=(function(){function n(e){this.dimensions=lpe,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new ej,this._angleAxis=new tj,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},n.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},n.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(e){var t=[],i=this._angleAxis,r=this._radiusAxis;return i.scale.type===e&&t.push(i),r.scale.type===e&&t.push(r),t},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},n.prototype.dataToPoint=function(e,t,i){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)],i)},n.prototype.pointToData=function(e,t,i){i=i||[];var r=this.pointToCoord(e);return i[0]=this._radiusAxis.radiusToData(r[0],t),i[1]=this._angleAxis.angleToData(r[1],t),i},n.prototype.pointToCoord=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,r=this.getAngleAxis(),a=r.getExtent(),s=Math.min(a[0],a[1]),o=Math.max(a[0],a[1]);r.inverse?s=o-360:o=s+360;var l=Math.sqrt(t*t+i*i);t/=l,i/=l;for(var u=Math.atan2(-i,t)/Math.PI*180,c=u<s?1:-1;u<s||u>o;)u+=c*360;return[l,u]},n.prototype.coordToPoint=function(e,t){t=t||[];var i=e[0],r=e[1]/180*Math.PI;return t[0]=Math.cos(r)*i+this.cx,t[1]=-Math.sin(r)*i+this.cy,t},n.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),i=t.getExtent().slice();i[0]>i[1]&&i.reverse();var r=e.getExtent(),a=Math.PI/180,s=1e-4;return{cx:this.cx,cy:this.cy,r0:i[0],r:i[1],startAngle:-r[0]*a,endAngle:-r[1]*a,clockwise:e.inverse,contain:function(o,l){var u=o-this.cx,c=l-this.cy,f=u*u+c*c,h=this.r,d=this.r0;return h!==d&&f-s<=h*h&&f+s>=d*d},x:this.cx-i[1],y:this.cy-i[1],width:i[1]*2,height:i[1]*2}},n.prototype.convertToPixel=function(e,t,i){var r=SQ(t);return r===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){var r=SQ(t);return r===this?this.pointToData(i):null},n})();function SQ(n){var e=n.seriesModel,t=n.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function B6e(n,e,t){var i=e.get("center"),r=Na(e,t).refContainer;n.cx=st(i[0],r.width)+r.x,n.cy=st(i[1],r.height)+r.y;var a=n.getRadiusAxis(),s=Math.min(r.width,r.height)/2,o=e.get("radius");o==null?o=[0,"100%"]:Ve(o)||(o=[0,o]);var l=[st(o[0],s),st(o[1],s)];a.inverse?a.setExtent(l[1],l[0]):a.setExtent(l[0],l[1])}function O6e(n,e){var t=this,i=t.getAngleAxis(),r=t.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),n.eachSeries(function(o){if(o.coordinateSystem===t){var l=o.getData();Z(OL(l,"radius"),function(u){r.scale.unionExtentFromData(l,u)}),Z(OL(l,"angle"),function(u){i.scale.unionExtentFromData(l,u)})}}),Oy(i.scale,i.model),Oy(r.scale,r.model),i.type==="category"&&!i.onBand){var a=i.getExtent(),s=360/i.scale.count();i.inverse?a[1]+=s:a[1]-=s,i.setExtent(a[0],a[1])}}function z6e(n){return n.mainType==="angleAxis"}function AQ(n,e){var t;if(n.type=e.get("type"),n.scale=VC(e),n.onBand=e.get("boundaryGap")&&n.type==="category",n.inverse=e.get("inverse"),z6e(e)){n.inverse=n.inverse!==e.get("clockwise");var i=e.get("startAngle"),r=(t=e.get("endAngle"))!==null&&t!==void 0?t:i+(n.inverse?-360:360);n.setExtent(i,r)}e.axis=n,n.model=e}var k6e={dimensions:lpe,create:function(n,e){var t=[];return n.eachComponent("polar",function(i,r){var a=new P6e(r+"");a.update=O6e;var s=a.getRadiusAxis(),o=a.getAngleAxis(),l=i.findAxisModel("radiusAxis"),u=i.findAxisModel("angleAxis");AQ(s,l),AQ(o,u),B6e(a,i,e),t.push(a),i.coordinateSystem=a,a.model=i}),n.eachSeries(function(i){if(i.get("coordinateSystem")==="polar"){var r=i.getReferringComponents("polar",Sr).models[0];i.coordinateSystem=r.coordinateSystem}}),t}},F6e=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function zD(n,e,t){e[1]>e[0]&&(e=e.slice().reverse());var i=n.coordToPoint([e[0],t]),r=n.coordToPoint([e[1],t]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function kD(n){var e=n.getRadiusAxis();return e.inverse?0:1}function MQ(n){var e=n[0],t=n[n.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&n.pop()}var U6e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,i){if(this.group.removeAll(),!!t.get("show")){var r=t.axis,a=r.polar,s=a.getRadiusAxis().getExtent(),o=r.getTicksCoords({breakTicks:"none"}),l=r.getMinorTicksCoords(),u=We(r.getViewLabels(),function(c){c=Nt(c);var f=r.scale,h=f.type==="ordinal"?f.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=r.dataToCoord(h),c});MQ(u),MQ(o),Z(F6e,function(c){t.get([c,"show"])&&(!r.scale.isBlank()||c==="axisLine")&&G6e[c](this.group,t,a,o,l,s,u)},this)}},e.type="angleAxis",e})($y),G6e={axisLine:function(n,e,t,i,r,a){var s=e.getModel(["axisLine","lineStyle"]),o=t.getAngleAxis(),l=Math.PI/180,u=o.getExtent(),c=kD(t),f=c?0:1,h,d=Math.abs(u[1]-u[0])===360?"Circle":"Arc";a[f]===0?h=new Zy[d]({shape:{cx:t.cx,cy:t.cy,r:a[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:o.inverse},style:s.getLineStyle(),z2:1,silent:!0}):h=new iS({shape:{cx:t.cx,cy:t.cy,r:a[c],r0:a[f]},style:s.getLineStyle(),z2:1,silent:!0}),h.style.fill=null,n.add(h)},axisTick:function(n,e,t,i,r,a){var s=e.getModel("axisTick"),o=(s.get("inside")?-1:1)*s.get("length"),l=a[kD(t)],u=We(i,function(c){return new Qr({shape:zD(t,[l,l+o],c.coord)})});n.add(jl(u,{style:Bt(s.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,e,t,i,r,a){if(r.length){for(var s=e.getModel("axisTick"),o=e.getModel("minorTick"),l=(s.get("inside")?-1:1)*o.get("length"),u=a[kD(t)],c=[],f=0;f<r.length;f++)for(var h=0;h<r[f].length;h++)c.push(new Qr({shape:zD(t,[u,u+l],r[f][h].coord)}));n.add(jl(c,{style:Bt(o.getModel("lineStyle").getLineStyle(),Bt(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,e,t,i,r,a,s){var o=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),c=e.get("triggerEvent");Z(s,function(f,h){var d=l,v=f.tickValue,m=a[kD(t)],y=t.coordToPoint([m+u,f.coord]),x=t.cx,b=t.cy,M=Math.abs(y[0]-x)/m<.3?"center":y[0]>x?"left":"right",C=Math.abs(y[1]-b)/m<.3?"middle":y[1]>b?"top":"bottom";if(o&&o[v]){var w=o[v];Ot(w)&&w.textStyle&&(d=new Sn(w.textStyle,l,l.ecModel))}var E=new In({silent:Wo.isLabelSilent(e),style:Ii(d,{x:y[0],y:y[1],fill:d.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:M,verticalAlign:C})});if(n.add(E),Ip({el:E,componentModel:e,itemName:f.formattedLabel,formatterParamsExtra:{isTruncated:function(){return E.isTruncated},value:f.rawLabel,tickIndex:h}}),c){var L=Wo.makeAxisEventDataBase(e);L.targetType="axisLabel",L.value=f.rawLabel,jt(E).eventData=L}},this)},splitLine:function(n,e,t,i,r,a){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=0;f<i.length;f++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new Qr({shape:zD(t,a,i[f].coord)}))}for(var f=0;f<c.length;f++)n.add(jl(c[f],{style:Bt({stroke:l[f%l.length]},o.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(n,e,t,i,r,a){if(r.length){for(var s=e.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=[],u=0;u<r.length;u++)for(var c=0;c<r[u].length;c++)l.push(new Qr({shape:zD(t,a,r[u][c].coord)}));n.add(jl(l,{style:o.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(n,e,t,i,r,a){if(i.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=Math.PI/180,h=-i[0].coord*f,d=Math.min(a[0],a[1]),v=Math.max(a[0],a[1]),m=e.get("clockwise"),y=1,x=i.length;y<=x;y++){var b=y===x?i[0].coord:i[y].coord,M=u++%l.length;c[M]=c[M]||[],c[M].push(new ks({shape:{cx:t.cx,cy:t.cy,r0:d,r:v,startAngle:h,endAngle:-b*f,clockwise:m},silent:!0})),h=-b*f}for(var y=0;y<c.length;y++)n.add(jl(c[y],{style:Bt({fill:l[y%l.length]},o.getAreaStyle()),silent:!0}))}}},V6e=["splitLine","splitArea","minorSplitLine"],j6e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,i,r){if(this.group.removeAll(),!!t.get("show")){var a=this._axisGroup,s=this._axisGroup=new It;this.group.add(s);var o=t.axis,l=o.polar,u=l.getAngleAxis(),c=o.getTicksCoords(),f=o.getMinorTicksCoords(),h=u.getExtent()[0],d=o.getExtent(),v=W6e(l,t,h),m=new Wo(t,r,v);m.build(),s.add(m.group),kC(a,s,t),Z(V6e,function(y){t.get([y,"show"])&&!o.scale.isBlank()&&H6e[y](this.group,t,l,h,d,c,f)},this)}},e.type="radiusAxis",e})($y),H6e={splitLine:function(n,e,t,i,r,a){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=0,c=t.getAngleAxis(),f=Math.PI/180,h=c.getExtent(),d=Math.abs(h[1]-h[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var v=[],m=0;m<a.length;m++){var y=u++%l.length;v[y]=v[y]||[],v[y].push(new Zy[d]({shape:{cx:t.cx,cy:t.cy,r:Math.max(a[m].coord,0),startAngle:-h[0]*f,endAngle:-h[1]*f,clockwise:c.inverse}}))}for(var m=0;m<v.length;m++)n.add(jl(v[m],{style:Bt({stroke:l[m%l.length],fill:null},o.getLineStyle()),silent:!0}))},minorSplitLine:function(n,e,t,i,r,a,s){if(s.length){for(var o=e.getModel("minorSplitLine"),l=o.getModel("lineStyle"),u=[],c=0;c<s.length;c++)for(var f=0;f<s[c].length;f++)u.push(new Uh({shape:{cx:t.cx,cy:t.cy,r:s[c][f].coord}}));n.add(jl(u,{style:Bt({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(n,e,t,i,r,a){if(a.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=a[0].coord,h=1;h<a.length;h++){var d=u++%l.length;c[d]=c[d]||[],c[d].push(new ks({shape:{cx:t.cx,cy:t.cy,r0:f,r:a[h].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=a[h].coord}for(var h=0;h<c.length;h++)n.add(jl(c[h],{style:Bt({fill:l[h%l.length]},o.getAreaStyle()),silent:!0}))}}};function W6e(n,e,t){return{position:[n.cx,n.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function upe(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function cpe(n,e){return e.dim+n.model.componentIndex}function X6e(n,e,t){var i={},r=Y6e(Zn(e.getSeriesByType(n),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));e.eachSeriesByType(n,function(a){if(a.coordinateSystem.type==="polar"){var s=a.getData(),o=a.coordinateSystem,l=o.getBaseAxis(),u=cpe(o,l),c=upe(a),f=r[u][c],h=f.offset,d=f.width,v=o.getOtherAxis(l),m=a.coordinateSystem.cx,y=a.coordinateSystem.cy,x=a.get("barMinHeight")||0,b=a.get("barMinAngle")||0;i[c]=i[c]||[];for(var M=s.mapDimension(v.dim),C=s.mapDimension(l.dim),w=Mp(s,M),E=l.dim!=="radius"||!a.get("roundCap",!0),L=v.model,P=L.get("startValue"),I=v.dataToCoord(P||0),N=0,z=s.count();N<z;N++){var V=s.get(M,N),U=s.get(C,N),j=V>=0?"p":"n",W=I;w&&(i[c][U]||(i[c][U]={p:I,n:I}),W=i[c][U][j]);var G=void 0,X=void 0,q=void 0,$=void 0;if(v.dim==="radius"){var te=v.dataToCoord(V)-I,J=l.dataToCoord(U);Math.abs(te)<x&&(te=(te<0?-1:1)*x),G=W,X=W+te,q=J-h,$=q-d,w&&(i[c][U][j]=X)}else{var Q=v.dataToCoord(V,E)-I,se=l.dataToCoord(U);Math.abs(Q)<b&&(Q=(Q<0?-1:1)*b),G=se+h,X=G+d,q=W,$=W+Q,w&&(i[c][U][j]=$)}s.setItemLayout(N,{cx:m,cy:y,r0:G,r:X,startAngle:-q*Math.PI/180,endAngle:-$*Math.PI/180,clockwise:q>=$})}}})}function Y6e(n){var e={};Z(n,function(i,r){var a=i.getData(),s=i.coordinateSystem,o=s.getBaseAxis(),l=cpe(s,o),u=o.getExtent(),c=o.type==="category"?o.getBandWidth():Math.abs(u[1]-u[0])/a.count(),f=e[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=f.stacks;e[l]=f;var d=upe(i);h[d]||f.autoWidthCount++,h[d]=h[d]||{width:0,maxWidth:0};var v=st(i.get("barWidth"),c),m=st(i.get("barMaxWidth"),c),y=i.get("barGap"),x=i.get("barCategoryGap");v&&!h[d].width&&(v=Math.min(f.remainedWidth,v),h[d].width=v,f.remainedWidth-=v),m&&(h[d].maxWidth=m),y!=null&&(f.gap=y),x!=null&&(f.categoryGap=x)});var t={};return Z(e,function(i,r){t[r]={};var a=i.stacks,s=i.bandWidth,o=st(i.categoryGap,s),l=st(i.gap,1),u=i.remainedWidth,c=i.autoWidthCount,f=(u-o)/(c+(c-1)*l);f=Math.max(f,0),Z(a,function(m,y){var x=m.maxWidth;x&&x<f&&(x=Math.min(x,u),m.width&&(x=Math.min(x,m.width)),u-=x,m.width=x,c--)}),f=(u-o)/(c+(c-1)*l),f=Math.max(f,0);var h=0,d;Z(a,function(m,y){m.width||(m.width=f),d=m,h+=m.width*(1+l)}),d&&(h-=d.width*l);var v=-h/2;Z(a,function(m,y){t[r][y]=t[r][y]||{offset:v,width:m.width},v+=m.width*(1+l)})}),t}var q6e={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Z6e={splitNumber:5},K6e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e})(Bi);function J6e(n){cn(qC),$y.registerAxisPointerClass("PolarAxisPointer",w6e),n.registerCoordinateSystem("polar",k6e),n.registerComponentModel(R6e),n.registerComponentView(K6e),_b(n,"angle",L6e,q6e),_b(n,"radius",N6e,Z6e),n.registerComponentView(U6e),n.registerComponentView(j6e),n.registerLayout($t(X6e,"bar"))}function d8(n,e){e=e||{};var t=n.coordinateSystem,i=n.axis,r={},a=i.position,s=i.orient,o=t.getRect(),l=[o.x,o.x+o.width,o.y,o.y+o.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=[s==="vertical"?u.vertical[a]:l[0],s==="horizontal"?u.horizontal[a]:l[3]];var c={horizontal:0,vertical:1};r.rotation=Math.PI/2*c[s];var f={top:-1,bottom:1,right:1,left:-1};r.labelDirection=r.tickDirection=r.nameDirection=f[a],n.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),ds(e.labelInside,n.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var h=n.get(["axisLabel","rotate"]);return r.labelRotate=a==="top"?-h:h,r.z2=1,r}var Q6e=["splitArea","splitLine","breakArea"],$6e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return e.prototype.render=function(t,i,r,a){var s=this.group;s.removeAll();var o=this._axisGroup;this._axisGroup=new It;var l=d8(t),u=new Wo(t,r,l);u.build(),s.add(this._axisGroup),s.add(u.group),Z(Q6e,function(c){t.get([c,"show"])&&e9e[c](this,this.group,this._axisGroup,t,r)},this),kC(o,this._axisGroup,t),n.prototype.render.call(this,t,i,r,a)},e.prototype.remove=function(){Ehe(this)},e.type="singleAxis",e})($y),e9e={splitLine:function(n,e,t,i,r){var a=i.axis;if(!a.scale.isBlank()){var s=i.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color");l=l instanceof Array?l:[l];for(var u=o.get("width"),c=i.coordinateSystem.getRect(),f=a.isHorizontal(),h=[],d=0,v=a.getTicksCoords({tickModel:s,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),m=[],y=[],x=0;x<v.length;++x){var b=a.toGlobalCoord(v[x].coord);f?(m[0]=b,m[1]=c.y,y[0]=b,y[1]=c.y+c.height):(m[0]=c.x,m[1]=b,y[0]=c.x+c.width,y[1]=b);var M=new Qr({shape:{x1:m[0],y1:m[1],x2:y[0],y2:y[1]},silent:!0});pb(M.shape,u);var C=d++%l.length;h[C]=h[C]||[],h[C].push(M)}for(var w=o.getLineStyle(["color"]),x=0;x<h.length;++x)e.add(jl(h[x],{style:Bt({stroke:l[x%l.length]},w),silent:!0}))}},splitArea:function(n,e,t,i,r){whe(n,t,i,i)},breakArea:function(n,e,t,i,r){var a=YC(),s=i.axis.scale;a&&s.type!=="ordinal"&&a.rectCoordBuildBreakAxis(e,n,i,i.coordinateSystem.getRect(),r)}},w3=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},e})(xn);kr(w3,mS.prototype);var t9e=(function(n){me(e,n);function e(t,i,r,a,s){var o=n.call(this,t,i,r)||this;return o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,i){return this.coordinateSystem.pointToData(t)[0]},e})(oc),fpe=["single"],n9e=(function(){function n(e,t,i){this.type="single",this.dimension="single",this.dimensions=fpe,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var r=this.dimension,a=new t9e(r,VC(e),[0,0],e.get("type"),e.get("position")),s=a.type==="category";a.onBand=s&&e.get("boundaryGap"),a.inverse=e.get("inverse"),a.orient=e.get("orient"),e.axis=a,a.model=e,a.coordinateSystem=this,this._axis=a},n.prototype.update=function(e,t){e.eachSeries(function(i){if(i.coordinateSystem===this){var r=i.getData();Z(r.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(r,a)},this),Oy(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(e,t){var i=Na(e,t).refContainer;this._rect=Ji(e.getBoxLayoutParams(),i),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,i=t.isHorizontal(),r=i?[0,e.width]:[0,e.height],a=t.inverse?1:0;t.setExtent(r[a],r[1-a]),this._updateAxisTransform(t,i?e.x:e.y)},n.prototype._updateAxisTransform=function(e,t){var i=e.getExtent(),r=i[0]+i[1],a=e.isHorizontal();e.toGlobalCoord=a?function(s){return s+t}:function(s){return r-s+t},e.toLocalCoord=a?function(s){return s-t}:function(s){return r-s+t}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(e){var t=this.getRect(),i=this.getAxis(),r=i.orient;return r==="horizontal"?i.contain(i.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:i.contain(i.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},n.prototype.pointToData=function(e,t,i){i=i||[];var r=this.getAxis();return i[0]=r.coordToData(r.toLocalCoord(e[r.orient==="horizontal"?0:1])),i},n.prototype.dataToPoint=function(e,t,i){var r=this.getAxis(),a=this.getRect();i=i||[];var s=r.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),i[s]=r.toGlobalCoord(r.dataToCoord(+e)),i[1-s]=s===0?a.y+a.height/2:a.x+a.width/2,i},n.prototype.convertToPixel=function(e,t,i){var r=TQ(t);return r===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){var r=TQ(t);return r===this?this.pointToData(i):null},n})();function TQ(n){var e=n.seriesModel,t=n.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function i9e(n,e){var t=[];return n.eachComponent("singleAxis",function(i,r){var a=new n9e(i,n,e);a.name="single_"+r,a.resize(i,e),i.coordinateSystem=a,t.push(a)}),n.eachSeries(function(i){if(i.get("coordinateSystem")==="singleAxis"){var r=i.getReferringComponents("singleAxis",Sr).models[0];i.coordinateSystem=r&&r.coordinateSystem}}),t}var r9e={create:i9e,dimensions:fpe},CQ=["x","y"],a9e=["width","height"],s9e=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,i,r,a,s){var o=r.axis,l=o.coordinateSystem,u=E4(l,1-tN(o)),c=l.dataToPoint(i)[0],f=a.get("type");if(f&&f!=="none"){var h=K9(a),d=o9e[f](o,c,u);d.style=h,t.graphicKey=d.type,t.pointer=d}var v=d8(r);rpe(i,t,v,r,a,s)},e.prototype.getHandleTransform=function(t,i,r){var a=d8(i,{labelInside:!1});a.labelMargin=r.get(["handle","margin"]);var s=J9(i.axis,t,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,r,a){var s=r.axis,o=s.coordinateSystem,l=tN(s),u=E4(o,l),c=[t.x,t.y];c[l]+=i[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var f=E4(o,1-l),h=(f[1]+f[0])/2,d=[h,h];return d[l]=c[l],{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},e})(Z9),o9e={line:function(n,e,t){var i=Q9([e,t[0]],[e,t[1]],tN(n));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(n,e,t){var i=n.getBandWidth(),r=t[1]-t[0];return{type:"Rect",shape:ape([e-i/2,t[0]],[i,r],tN(n))}}};function tN(n){return n.isHorizontal()?0:1}function E4(n,e){var t=n.getRect();return[t[CQ[e]],t[CQ[e]]+t[a9e[e]]]}var l9e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="single",e})(Bi);function u9e(n){cn(qC),$y.registerAxisPointerClass("SingleAxisPointer",s9e),n.registerComponentView(l9e),n.registerComponentView($6e),n.registerComponentModel(w3),_b(n,"single",w3,w3.defaultOption),n.registerCoordinateSystem("single",r9e)}var c9e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,i,r){var a=Ky(t);n.prototype.init.apply(this,arguments),wQ(t,a)},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),wQ(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.layoutMode="box",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:xe.color.axisLine,width:1,type:"solid"}},itemStyle:{color:xe.color.neutral00,borderWidth:1,borderColor:xe.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:xe.size.s,color:xe.color.secondary},monthLabel:{show:!0,position:"start",margin:xe.size.s,align:"center",formatter:null,color:xe.color.secondary},yearLabel:{show:!0,position:null,margin:xe.size.xl,formatter:null,color:xe.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e})(xn);function wQ(n,e){var t=n.cellSize,i;Ve(t)?i=t:i=n.cellSize=[t,t],i.length===1&&(i[1]=i[0]);var r=We([0,1],function(a){return NNe(e,a)&&(i[a]="auto"),i[a]!=null&&i[a]!=="auto"});Ph(n,e,{type:"box",ignoreSize:r})}var f9e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var a=this.group;a.removeAll();var s=t.coordinateSystem,o=s.getRangeInfo(),l=s.getOrient(),u=i.getLocaleModel();this._renderDayRect(t,o,a),this._renderLines(t,o,l,a),this._renderYearText(t,o,l,a),this._renderMonthText(t,u,l,a),this._renderWeekText(t,u,o,l,a)},e.prototype._renderDayRect=function(t,i,r){for(var a=t.coordinateSystem,s=t.getModel("itemStyle").getItemStyle(),o=a.getCellWidth(),l=a.getCellHeight(),u=i.start.time;u<=i.end.time;u=a.getNextNDay(u,1).time){var c=a.dataToCalendarLayout([u],!1).tl,f=new pn({shape:{x:c[0],y:c[1],width:o,height:l},cursor:"default",style:s});r.add(f)}},e.prototype._renderLines=function(t,i,r,a){var s=this,o=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),u=t.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=i.start,h=0;f.time<=i.end.time;h++){v(f.formatedDate),h===0&&(f=o.getDateInfo(i.start.y+"-"+i.start.m));var d=f.date;d.setMonth(d.getMonth()+1),f=o.getDateInfo(d)}v(o.getNextNDay(i.end.time,1).formatedDate);function v(m){s._firstDayOfMonth.push(o.getDateInfo(m)),s._firstDayPoints.push(o.dataToCalendarLayout([m],!1).tl);var y=s._getLinePointsOfOneWeek(t,m,r);s._tlpoints.push(y[0]),s._blpoints.push(y[y.length-1]),u&&s._drawSplitline(y,l,a)}u&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,c,r),l,a),u&&this._drawSplitline(s._getEdgesPoints(s._blpoints,c,r),l,a)},e.prototype._getEdgesPoints=function(t,i,r){var a=[t[0].slice(),t[t.length-1].slice()],s=r==="horizontal"?0:1;return a[0][s]=a[0][s]-i/2,a[1][s]=a[1][s]+i/2,a},e.prototype._drawSplitline=function(t,i,r){var a=new ys({z2:20,shape:{points:t},style:i});r.add(a)},e.prototype._getLinePointsOfOneWeek=function(t,i,r){for(var a=t.coordinateSystem,s=a.getDateInfo(i),o=[],l=0;l<7;l++){var u=a.getNextNDay(s.time,l),c=a.dataToCalendarLayout([u.time],!1);o[2*u.day]=c.tl,o[2*u.day+1]=c[r==="horizontal"?"bl":"tr"]}return o},e.prototype._formatterLabel=function(t,i){return ot(t)&&t?TNe(t,i):wt(t)?t(i):i.nameMap},e.prototype._yearTextPositionControl=function(t,i,r,a,s){var o=i[0],l=i[1],u=["center","bottom"];a==="bottom"?(l+=s,u=["center","top"]):a==="left"?o-=s:a==="right"?(o+=s,u=["center","top"]):l-=s;var c=0;return(a==="left"||a==="right")&&(c=Math.PI/2),{rotation:c,x:o,y:l,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(t,i,r,a){var s=t.getModel("yearLabel");if(s.get("show")){var o=s.get("margin"),l=s.get("position");l||(l=r!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,h=r==="horizontal"?0:1,d={top:[c,u[h][1]],bottom:[c,u[1-h][1]],left:[u[1-h][0],f],right:[u[h][0],f]},v=i.start.y;+i.end.y>+i.start.y&&(v=v+"-"+i.end.y);var m=s.get("formatter"),y={start:i.start.y,end:i.end.y,nameMap:v},x=this._formatterLabel(m,y),b=new In({z2:30,style:Ii(s,{text:x}),silent:s.get("silent")});b.attr(this._yearTextPositionControl(b,d[l],r,l,o)),a.add(b)}},e.prototype._monthTextPositionControl=function(t,i,r,a,s){var o="left",l="top",u=t[0],c=t[1];return r==="horizontal"?(c=c+s,i&&(o="center"),a==="start"&&(l="bottom")):(u=u+s,i&&(l="middle"),a==="start"&&(o="right")),{x:u,y:c,align:o,verticalAlign:l}},e.prototype._renderMonthText=function(t,i,r,a){var s=t.getModel("monthLabel");if(s.get("show")){var o=s.get("nameMap"),l=s.get("margin"),u=s.get("position"),c=s.get("align"),f=[this._tlpoints,this._blpoints];(!o||ot(o))&&(o&&(i=lU(o)||i),o=i.get(["time","monthAbbr"])||[]);var h=u==="start"?0:1,d=r==="horizontal"?0:1;l=u==="start"?-l:l;for(var v=c==="center",m=s.get("silent"),y=0;y<f[h].length-1;y++){var x=f[h][y].slice(),b=this._firstDayOfMonth[y];if(v){var M=this._firstDayPoints[y];x[d]=(M[d]+f[0][y+1][d])/2}var C=s.get("formatter"),w=o[+b.m-1],E={yyyy:b.y,yy:(b.y+"").slice(2),MM:b.m,M:+b.m,nameMap:w},L=this._formatterLabel(C,E),P=new In({z2:30,style:Ie(Ii(s,{text:L}),this._monthTextPositionControl(x,v,r,u,l)),silent:m});a.add(P)}}},e.prototype._weekTextPositionControl=function(t,i,r,a,s){var o="center",l="middle",u=t[0],c=t[1],f=r==="start";return i==="horizontal"?(u=u+a+(f?1:-1)*s[0]/2,o=f?"right":"left"):(c=c+a+(f?1:-1)*s[1]/2,l=f?"bottom":"top"),{x:u,y:c,align:o,verticalAlign:l}},e.prototype._renderWeekText=function(t,i,r,a,s){var o=t.getModel("dayLabel");if(o.get("show")){var l=t.coordinateSystem,u=o.get("position"),c=o.get("nameMap"),f=o.get("margin"),h=l.getFirstDayOfWeek();if(!c||ot(c)){c&&(i=lU(c)||i);var d=i.get(["time","dayOfWeekShort"]);c=d||We(i.get(["time","dayOfWeekAbbr"]),function(E){return E[0]})}var v=l.getNextNDay(r.end.time,7-r.lweek).time,m=[l.getCellWidth(),l.getCellHeight()];f=st(f,Math.min(m[1],m[0])),u==="start"&&(v=l.getNextNDay(r.start.time,-(7+r.fweek)).time,f=-f);for(var y=o.get("silent"),x=0;x<7;x++){var b=l.getNextNDay(v,x),M=l.dataToCalendarLayout([b.time],!1).center,C=x;C=Math.abs((x+h)%7);var w=new In({z2:30,style:Ie(Ii(o,{text:c[C]}),this._weekTextPositionControl(M,a,u,f,m)),silent:y});s.add(w)}}},e.type="calendar",e})(Bi),D4=864e5,h9e=(function(){function n(e,t,i){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=e,this._update(t,i)}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(e){e=Fh(e);var t=e.getFullYear(),i=e.getMonth()+1,r=i<10?"0"+i:""+i,a=e.getDate(),s=a<10?"0"+a:""+a,o=e.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:t+"",m:r,d:s,day:o,time:e.getTime(),formatedDate:t+"-"+r+"-"+s,date:e}},n.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},n.prototype._update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],a=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),o=this._orient==="horizontal"?[i,7]:[7,i];Z([0,1],function(f){c(a,f)&&(s[r[f]]=a[f]*o[f])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=Ji(s,l);Z([0,1],function(f){c(a,f)||(a[f]=u[r[f]]/o[f])});function c(f,h){return f[h]!=null&&f[h]!=="auto"}this._sw=a[0],this._sh=a[1]},n.prototype.dataToPoint=function(e,t,i){i=i||[],Ve(e)&&(e=e[0]),t==null&&(t=!0);var r=this.getDateInfo(e),a=this._rangeInfo,s=r.formatedDate;if(t&&!(r.time>=a.start.time&&r.time<a.end.time+D4))return i[0]=i[1]=NaN,i;var o=r.day,l=this._getRangeInfo([a.start.time,s]).nthWeek;return this._orient==="vertical"?(i[0]=this._rect.x+o*this._sw+this._sw/2,i[1]=this._rect.y+l*this._sh+this._sh/2):(i[0]=this._rect.x+l*this._sw+this._sw/2,i[1]=this._rect.y+o*this._sh+this._sh/2),i},n.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},n.prototype.dataToLayout=function(e,t,i){i=i||{};var r=i.rect=i.rect||{},a=i.contentRect=i.contentRect||{},s=this.dataToPoint(e,t);return r.x=s[0]-this._sw/2,r.y=s[1]-this._sh/2,r.width=this._sw,r.height=this._sh,Ut.copy(a,r),Iy(a,this._lineWidth/2,!0,!0),i},n.prototype.dataToCalendarLayout=function(e,t){var i=this.dataToPoint(e,t);return{center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},n.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,i=Math.floor((e[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(i,t-1,r):this._getDateByWeeksAndDay(t,i-1,r)},n.prototype.convertToPixel=function(e,t,i){var r=R4(t);return r===this?r.dataToPoint(i):null},n.prototype.convertToLayout=function(e,t,i){var r=R4(t);return r===this?r.dataToLayout(i):null},n.prototype.convertFromPixel=function(e,t,i){var r=R4(t);return r===this?r.pointToData(i):null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(Ve(e)&&e.length===1&&(e=e[0]),Ve(e))t=e;else{var i=e.toString();if(/^\d{4}$/.test(i)&&(t=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var r=this.getDateInfo(i),a=r.date;a.setMonth(a.getMonth()+1);var s=this.getNextNDay(a,-1);t=[r.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(t=[i,i])}if(!t)return e;var o=this._getRangeInfo(t);return o.start.time>o.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],i;t[0].time>t[1].time&&(i=!0,t.reverse());var r=Math.floor(t[1].time/D4)-Math.floor(t[0].time/D4)+1,a=new Date(t[0].time),s=a.getDate(),o=t[1].date.getDate();a.setDate(s+r-1);var l=a.getDate();if(l!==o)for(var u=a.getTime()-t[1].time>0?1:-1;(l=a.getDate())!==o&&(a.getTime()-t[1].time)*u>0;)r-=u,a.setDate(l-u);var c=Math.floor((r+t[0].day+6)/7),f=i?-c+1:c-1;return i&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:r,weeks:c,nthWeek:f,fweek:t[0].day,lweek:t[1].day}},n.prototype._getDateByWeeksAndDay=function(e,t,i){var r=this._getRangeInfo(i);if(e>r.weeks||e===0&&t<r.fweek||e===r.weeks&&t>r.lweek)return null;var a=(e-1)*7-r.fweek+t,s=new Date(r.start.time);return s.setDate(+r.start.d+a),this.getDateInfo(s)},n.create=function(e,t){var i=[];return e.eachComponent("calendar",function(r){var a=new n(r,e,t);i.push(a),r.coordinateSystem=a}),e.eachComponent(function(r,a){UC({targetModel:a,coordSysType:"calendar",coordSysProvider:Rue})}),i},n.dimensions=["time","value"],n})();function R4(n){var e=n.calendarModel,t=n.seriesModel,i=e?e.coordinateSystem:t?t.coordinateSystem:null;return i}function d9e(n){n.registerComponentModel(c9e),n.registerComponentView(f9e),n.registerCoordinateSystem("calendar",h9e)}var Xd={level:1,leaf:2,nonLeaf:3},op={none:0,all:1,body:2,corner:3};function p8(n,e,t){var i=e[Zt[t]].getCell(n);return!i&&Pn(n)&&n<0&&(i=e[Zt[1-t]].getUnitLayoutInfo(t,Math.round(n))),i}function hpe(n){var e=n||[];return e[0]=e[0]||[],e[1]=e[1]||[],e[0][0]=e[0][1]=e[1][0]=e[1][1]=NaN,e}function dpe(n,e,t,i,r){EQ(n[0],e,r,t,i,0),EQ(n[1],e,r,t,i,1)}function EQ(n,e,t,i,r,a){n[0]=1/0,n[1]=-1/0;var s=i[a],o=Ve(s)?s:[s],l=o.length,u=!!t;if(l>=1?(DQ(n,e,o,u,r,a,0),l>1&&DQ(n,e,o,u,r,a,l-1)):n[0]=n[1]=NaN,u){var c=-r[Zt[1-a]].getLocatorCount(a),f=r[Zt[a]].getLocatorCount(a)-1;t===op.body?c=Kr(0,c):t===op.corner&&(f=Ql(-1,f)),f<c&&(c=f=NaN),Ns(n[0])&&(n[0]=c),Ns(n[1])&&(n[1]=f),n[0]=Kr(Ql(n[0],f),c),n[1]=Kr(Ql(n[1],f),c)}}function DQ(n,e,t,i,r,a,s){var o=p8(t[s],r,a);if(!o){n[0]=n[1]=NaN;return}var l=o.id[Zt[a]],u=l,c=g9e(o);c&&(u+=c.span[Zt[a]]-1),n[0]=Ql(n[0],l,u),n[1]=Kr(n[1],l,u)}function FD(n,e){return Ns(n[e][0])||Ns(n[e][1])}function RQ(n,e,t,i){e=e||p9e;for(var r=0;r<i;r++)e[r]=!1;for(;;){for(var a=!1,r=0;r<i;r++){var s=t[r];!e[r]&&s.cellMergeOwner&&v9e(n,s.locatorRange)&&(e[r]=!0,a=!0)}if(!a)break}}var p9e=[];function v9e(n,e){return!LQ(n[0],e[0])||!LQ(n[1],e[1])?!1:(n[0][0]=Ql(n[0][0],e[0][0]),n[0][1]=Kr(n[0][1],e[0][1]),n[1][0]=Ql(n[1][0],e[1][0]),n[1][1]=Kr(n[1][1],e[1][1]),!0)}function LQ(n,e){return n[1]>=e[0]&&n[0]<=e[1]}function NQ(n,e){n.id.set(e[0][0],e[1][0]),n.span.set(e[0][1]-n.id.x+1,e[1][1]-n.id.y+1)}function m9e(n,e){n[0][0]=e[0][0],n[0][1]=e[0][1],n[1][0]=e[1][0],n[1][1]=e[1][1]}function IQ(n,e,t,i){var r=p8(e[i][0],t,i),a=p8(e[i][1],t,i);n[Zt[i]]=n[da[i]]=NaN,r&&a&&(n[Zt[i]]=r.xy,n[da[i]]=a.xy+a.wh-r.xy)}function DM(n,e,t,i){return n[Zt[e]]=t,n[Zt[1-e]]=i,n}function g9e(n){return n&&(n.type===Xd.leaf||n.type===Xd.nonLeaf)?n:null}function nN(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var PQ=(function(){function n(e,t){this._cells=[],this._levels=[],this.dim=e,this.dimIdx=e==="x"?0:1,this._model=t,this._uniqueValueGen=y9e(e);var i=t.get("data",!0);i!=null&&!Ve(i)&&(i=[]),i?this._initByDimModelData(i):this._initBySeriesData()}return n.prototype._initByDimModelData=function(e){var t=this,i=t._cells,r=t._levels,a=[],s=0;t._leavesCount=o(e,0,0),l();return;function o(u,c,f){var h=0;return u&&Z(u,function(d,v){var m;ot(d)?m={value:d}:Ot(d)?(m=d,d.value!=null&&!ot(d.value)&&(m={value:null})):m={value:null};var y={type:Xd.nonLeaf,ordinal:NaN,level:f,firstLeafLocator:c,id:new Ft,span:DM(new Ft,t.dimIdx,1,1),option:m,xy:NaN,wh:NaN,dim:t,rect:nN()};s++,(a[c]||(a[c]=[])).push(y),r[f]||(r[f]={type:Xd.level,xy:NaN,wh:NaN,option:null,id:new Ft,dim:t});var x=o(m.children,c,f+1),b=Math.max(1,x);y.span[Zt[t.dimIdx]]=b,h+=b,c+=b}),h}function l(){for(var u=[];i.length<s;)for(var c=0;c<a.length;c++){var f=a[c].pop();if(f){f.ordinal=u.length;var h=f.option.value;u.push(h),i.push(f),t._uniqueValueGen.calcDupBase(h)}}t._uniqueValueGen.ensureValueUnique(u,i);var d=t._ordinalMeta=new jT({categories:u,needCollect:!1,deduplication:!1});t._scale=new gb({ordinalMeta:d});for(var v=0;v<t._leavesCount;v++){var m=t._cells[v];m.type=Xd.leaf,m.span[Zt[1-t.dimIdx]]=t._levels.length-m.level}t._initCellsId(),t._initLevelIdOptions()}},n.prototype._initBySeriesData=function(){var e=this;e._leavesCount=0,e._levels=[{type:Xd.level,xy:NaN,wh:NaN,option:null,id:new Ft,dim:e}],e._initLevelIdOptions();var t=e._ordinalMeta=new jT({needCollect:!0,deduplication:!0,onCollect:function(i,r){var a=e._cells[r]={type:Xd.leaf,ordinal:r,level:0,firstLeafLocator:r,id:new Ft,span:DM(new Ft,e.dimIdx,1,1),option:{value:i+""},xy:NaN,wh:NaN,dim:e,rect:nN()};e._leavesCount++,e._setCellId(a)}});e._scale=new gb({ordinalMeta:t})},n.prototype._setCellId=function(e){var t=this._levels.length,i=this.dimIdx;DM(e.id,i,e.firstLeafLocator,e.level-t)},n.prototype._initCellsId=function(){var e=this._levels.length,t=this.dimIdx;Z(this._cells,function(i){DM(i.id,t,i.firstLeafLocator,i.level-e)})},n.prototype._initLevelIdOptions=function(){var e=this._levels.length,t=this.dimIdx,i=this._model.get("levels",!0);i=Ve(i)?i:[],Z(this._levels,function(r,a){DM(r.id,t,0,a-e),r.option=i[a]})},n.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},n.prototype.resetLayoutIterator=function(e,t,i,r){if(e=e||new sm,t===this.dimIdx){var a=this._leavesCount,s=i!=null?Math.max(0,i):0;r=r!=null?Math.min(r,a):a,e.reset(this._cells,s,s+r)}else{var a=this._levels.length,s=i!=null?Math.max(0,i+a):0;r=r!=null?Math.min(r,a):a,e.reset(this._levels,s,s+r)}return e},n.prototype.resetCellIterator=function(e){return(e||new sm).reset(this._cells,0)},n.prototype.resetLevelIterator=function(e){return(e||new sm).reset(this._levels,0)},n.prototype.getLayout=function(e,t,i){var r=this.getUnitLayoutInfo(t,i);e[Zt[t]]=r?r.xy:NaN,e[da[t]]=r?r.wh:NaN},n.prototype.getUnitLayoutInfo=function(e,t){return e===this.dimIdx?t<this._leavesCount?this._cells[t]:void 0:this._levels[t+this._levels.length]},n.prototype.getCell=function(e){var t=this._scale.parse(e);return Ns(t)?void 0:this._cells[t]},n.prototype.getLocatorCount=function(e){return e===this.dimIdx?this._leavesCount:this._levels.length},n.prototype.getOrdinalMeta=function(){return this._ordinalMeta},n})();function y9e(n){var e=n.toUpperCase(),t=new RegExp("^"+e+"([0-9]+)$"),i=0;function r(o){var l;o!=null&&(l=o.match(t))&&(i=Kr(i,+l[1]+1))}function a(){return""+e+i++}function s(o,l){for(var u=bt(),c=0;c<o.length;c++){var f=o[c];(f==null||u.get(f)!=null)&&(o[c]=f=a(),l[c].option=Bt({value:f},l[c].option)),u.set(f,!0)}}return{calcDupBase:r,ensureValueUnique:s}}var BQ=(function(){function n(e,t,i){this._model=t,this._dims=i,this._kind=e,this._cellMergeOwnerList=[]}return n.prototype._ensureCellMap=function(){var e=this,t=e._cellMap;return t||(t=e._cellMap=bt(),i()),t;function i(){var a=[],s=e._model.getShallow("data");s&&!Ve(s)&&(s=null),Z(s,function(v,m){if(!(!Ot(v)||!Ve(v.coord))){var y=hpe([]),x=null;if(dpe(y,x,v.coord,e._dims,v.coordClamp?op[e._kind]:op.none),!(FD(y,0)||FD(y,1))){var b=v&&v.mergeCells,M={id:new Ft,span:new Ft,locatorRange:y,option:v,cellMergeOwner:b};NQ(M,y),a.push(M)}}});for(var o=[],l=0;l<a.length;l++){var u=a[l];if(u.cellMergeOwner){var c=u.locatorRange;RQ(c,o,a,l);for(var f=0;f<l;f++)o[f]&&(a[f].cellMergeOwner=!1);if(c[0][0]!==u.id.x||c[1][0]!==u.id.y){u.cellMergeOwner=!1;var h=Ie({},u.option);h.coord=null;var d={id:new Ft,span:new Ft,locatorRange:c,option:h,cellMergeOwner:!0};NQ(d,c),a.push(d)}}}Z(a,function(v){var m=r(v.id.x,v.id.y);if(v.cellMergeOwner&&(m.cellMergeOwner=!0,m.span=v.span,m.locatorRange=v.locatorRange,m.spanRect=nN(),e._cellMergeOwnerList.push(m)),!(!v.cellMergeOwner&&!v.option))for(var y=0;y<v.span.y;y++)for(var x=0;x<v.span.x;x++){var b=r(v.id.x+x,v.id.y+y);b.option=v.option,v.cellMergeOwner&&(b.inSpanOf=m)}})}function r(a,s){var o=OQ(a,s),l=t.get(o);return l||(l=t.set(o,{id:new Ft(a,s),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),l}},n.prototype.getCell=function(e){return this._ensureCellMap().get(OQ(e[0],e[1]))},n.prototype.travelExistingCells=function(e){this._ensureCellMap().each(e)},n.prototype.expandRangeByCellMerge=function(e){if(!FD(e,0)&&!FD(e,1)&&e[0][0]===e[0][1]&&e[1][0]===e[1][1]){L4[0]=e[0][0],L4[1]=e[1][0];var t=this.getCell(L4),i=t&&t.inSpanOf;if(i){m9e(e,i.locatorRange);return}}var r=this._cellMergeOwnerList;RQ(e,null,r,r.length)},n})(),L4=[];function OQ(n,e){return n+"|"+e}var nj={show:!0,color:xe.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function ij(n){return{color:"none",borderWidth:1,borderColor:n?"none":xe.color.borderTint}}var zQ={show:!0,label:nj,itemStyle:ij(!1),silent:void 0,dividerLineStyle:{width:1,color:xe.color.border}},x9e={label:nj,itemStyle:ij(!1),silent:void 0},_9e={label:nj,itemStyle:ij(!0),silent:void 0},b9e={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:zQ,y:zQ,body:x9e,corner:_9e,backgroundStyle:{color:"none",borderColor:xe.color.axisLine,borderWidth:1}},S9e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this._dimModels={x:new kQ(this.get("x",!0)||{}),y:new kQ(this.get("y",!0)||{})};t.x.option.type=t.y.option.type="category";var i=t.x.dim=new PQ("x",t.x),r=t.y.dim=new PQ("y",t.y),a={x:i,y:r};this._body=new BQ("body",new Sn(this.getShallow("body")),a),this._corner=new BQ("corner",new Sn(this.getShallow("corner")),a)},e.prototype.getDimensionModel=function(t){return this._dimModels[t]},e.prototype.getBody=function(){return this._body},e.prototype.getCorner=function(){return this._corner},e.type="matrix",e.layoutMode="box",e.defaultOption=b9e,e})(xn),kQ=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},e})(Sn),UD=Math.round,A9e=0,M9e=99,T9e={normal:25,special:100},C9e={normal:50,special:125},w9e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i){this.group.removeAll();var r=this.group,a=t.coordinateSystem,s=a.getRect(),o=t.getDimensionModel("x"),l=t.getDimensionModel("y"),u=o.dim,c=l.dim;E9e(r,t,i),D9e(r,t,u,c,i);var f=t.getShallow("borderZ2",!0),h=At(f,M9e),d=h-1,v=t.getModel("backgroundStyle").getItemStyle(["borderWidth"]);v.lineWidth=0;var m=t.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);m.fill="none";var y=v8(s.clone(),v,A9e),x=v8(s.clone(),m,h);y.silent=!0,x.silent=!0,r.add(y),r.add(x);var b=u.getUnitLayoutInfo(0,0),M=c.getUnitLayoutInfo(1,0);b&&M&&(u.shouldShow()&&r.add(FQ({x1:s.x,y1:M.xy,x2:s.x+s.width,y2:M.xy},o.getModel("dividerLineStyle").getLineStyle(),d)),c.shouldShow()&&r.add(FQ({x1:b.xy,y1:s.y,x2:b.xy,y2:s.y+s.height},l.getModel("dividerLineStyle").getLineStyle(),d)))},e.type="matrix",e})(Bi);function E9e(n,e,t){i(0),i(1);function i(r){var a=e.getDimensionModel(Zt[r]),s=a.dim;if(s.shouldShow())for(var o=a.getModel("itemStyle"),l=a.getModel("label"),u=e.getShallow("tooltip",!0),c=[],f=s.resetCellIterator();f.next();){var h=f.item,d={};Ut.copy(d,h.rect),II(c,h.id.x,h.id.y),ppe(c,e,n,t,h.option,o,l,a,d,h.option.value,C9e,u)}}}function D9e(n,e,t,i,r){a("body",e.getBody(),t,i),t.shouldShow()&&i.shouldShow()&&a("corner",e.getCorner(),i,t);function a(s,o,l,u){var c=new Sn(e.getShallow(s,!0)),f=c.getModel("itemStyle"),h=c.getModel("label"),d=new sm,v=new sm,m=[],y=e.getShallow("tooltip",!0);for(u.resetLayoutIterator(v,1);v.next();)for(l.resetLayoutIterator(d,0);d.next();){var x=d.item,b=v.item;II(m,x.id.x,b.id.y);var M=o.getCell(m);if(!(M&&M.inSpanOf&&M.inSpanOf!==M)){var C={};M&&M.span?Ut.copy(C,M.spanRect):(x.dim.getLayout(C,0,m[0]),b.dim.getLayout(C,1,m[1]));var w=M?M.option:null;ppe(m,e,n,r,w,f,h,c,C,w?w.value:null,T9e,y)}}}}function ppe(n,e,t,i,r,a,s,o,l,u,c,f){var h;GD.option=r?r.itemStyle:null,GD.parentModel=a,O_.option=r,O_.parentModel=o;var d=At(O_.getShallow("z2"),r&&r.itemStyle?c.special:c.normal),v=f&&f.show,m=v8(l,GD.getItemStyle(),d);t.add(m);var y=O_.get("cursor");y!=null&&m.attr("cursor",y);var x;if(u!=null){var b=u+"";if(z_.option=r?r.label:null,z_.parentModel=s,z_.ecModel=i,Xa(m,{normal:z_},{defaultText:b,autoOverflowArea:!0,layoutRect:Nt(m.shape)}),x=m.getTextContent(),x){x.z2=d+1;var M=x.style;if(M&&M.overflow&&M.overflow!=="none"&&M.lineOverflow){var C={};Ut.copy(C,l),Iy(C,(((h=m.style)===null||h===void 0?void 0:h.lineWidth)||0)/2,!0,!0),m.updateInnerText(),x.getLocalTransform(VD),Qu(VD,VD),Ut.applyTransform(C,C,VD),x.setClipPath(new pn({shape:C}))}}Ip({el:m,componentModel:e,itemName:b,itemTooltipOption:f,formatterParamsExtra:{xyLocator:n.slice()}})}if(x){var w=z_.get("silent");w==null&&(w=!v),x.silent=w,x.ignoreHostSilent=!0}var E=O_.get("silent");E==null&&(E=!m.style||m.style.fill==="none"||!m.style.fill),m.silent=E,HO(O_),HO(GD),HO(z_)}var O_=new Sn,GD=new Sn,z_=new Sn,VD=[];function v8(n,e,t){var i=e.lineWidth;if(i){var r=n.x+n.width,a=n.y+n.height;n.x=ql(n.x,i,!0),n.y=ql(n.y,i,!0),n.width=ql(r,i,!0)-n.x,n.height=ql(a,i,!0)-n.y}return new pn({shape:n,style:e,z2:t})}function FQ(n,e,t){var i=e.lineWidth;return i&&(UD(n.x1*2)===UD(n.x2*2)&&(n.x1=n.x2=ql(n.x1,i,!0)),UD(n.y1*2)===UD(n.y2*2)&&(n.y1=n.y2=ql(n.y1,i,!0))),new Qr({shape:n,style:e,silent:!0,z2:t})}var R9e=(function(){function n(e,t,i){this.dimensions=n.dimensions,this.type="matrix",this._model=e;var r=this._dimModels={x:e.getDimensionModel("x"),y:e.getDimensionModel("y")};this._dims={x:r.x.dim,y:r.y.dim},this._resize(e,i)}return n.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},n.create=function(e,t){var i=[];return e.eachComponent("matrix",function(r){var a=new n(r,e,t);i.push(a),r.coordinateSystem=a}),e.eachComponent(function(r,a){UC({targetModel:a,coordSysType:"matrix",coordSysProvider:Rue})}),i},n.prototype.getRect=function(){return this._rect},n.prototype._resize=function(e,t){var i=this._dims,r=this._dimModels,a=this._rect=Ji(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});UQ(r,i,a,0),UQ(r,i,a,1),GQ(0,i),GQ(1,i),VQ(this._model.getBody(),i),VQ(this._model.getCorner(),i)},n.prototype.dataToPoint=function(e,t,i){return i=i||[],this.dataToLayout(e,t,RM),i[0]=RM.rect.x+RM.rect.width/2,i[1]=RM.rect.y+RM.rect.height/2,i},n.prototype.dataToLayout=function(e,t,i){var r=this._dims;i=i||{};var a=i.rect=i.rect||{};a.x=a.y=a.width=a.height=NaN;var s=i.matrixXYLocatorRange=hpe(i.matrixXYLocatorRange);return Ve(e)&&(dpe(s,null,e,r,At(t&&t.clamp,op.none)),(!t||!t.ignoreMergeCells)&&((!t||t.clamp!==op.corner)&&this._model.getBody().expandRangeByCellMerge(s),(!t||t.clamp!==op.body)&&this._model.getCorner().expandRangeByCellMerge(s)),IQ(a,s,r,0),IQ(a,s,r,1)),i},n.prototype.pointToData=function(e,t,i){var r=this._dims;return jQ(eh,0,r,e,t&&t.clamp),jQ(eh,1,r,e,t&&t.clamp),i=i||[],i[0]=i[1]=NaN,eh.y===Rs.inCorner&&eh.x===Rs.inBody?HQ(eh,i,0,r):eh.x===Rs.inCorner&&eh.y===Rs.inBody?HQ(eh,i,1,r):(WQ(eh,i,0,r),WQ(eh,i,1,r)),i},n.prototype.convertToPixel=function(e,t,i,r){var a=I4(t);return a===this?a.dataToPoint(i,r):void 0},n.prototype.convertToLayout=function(e,t,i,r){var a=I4(t);return a===this?a.dataToLayout(i,r):void 0},n.prototype.convertFromPixel=function(e,t,i,r){var a=I4(t);return a===this?a.pointToData(i,r):void 0},n.prototype.containPoint=function(e){return this._rect.contain(e[0],e[1])},n.dimensions=["x","y","value"],n})(),RM={rect:nN()},jD=new sm,N4=new sm;function UQ(n,e,t,i){for(var r=1-i,a=e[Zt[i]],s=e[Zt[r]],o=s.shouldShow(),l=a.resetCellIterator();l.next();)l.item.wh=l.item.xy=NaN;for(var u=s.resetLayoutIterator(null,i);u.next();)u.item.wh=u.item.xy=NaN;for(var c=t[da[i]],f=a.getLocatorCount(i)+s.getLocatorCount(i),h=new Sn,d=s.resetLevelIterator();d.next();)h.option=d.item.option,h.parentModel=n[Zt[r]],y(d.item,o?h.get("levelSize"):0);for(var v=new Sn,m=a.resetCellIterator();m.next();)m.item.type===Xd.leaf&&(v.option=m.item.option,v.parentModel=void 0,y(m.item,v.get("size")));function y(L,P){var I=L9e(P,i,t);Ns(I)||(L.wh=m8(I,c),c=m8(c-L.wh),f--)}var x=f?c/f:0,b=!f&&c>=1,M=t[Zt[i]],C=a.getLocatorCount(i)-1,w=new sm;for(s.resetLayoutIterator(w,i);w.next();)E(w.item);for(a.resetLayoutIterator(w,i);w.next();)E(w.item);function E(L){Ns(L.wh)&&(L.wh=x),L.xy=M,L.id[Zt[i]]===C&&!b&&(L.wh=t[Zt[i]]+t[da[i]]-L.xy),M+=L.wh}}function GQ(n,e){for(var t=e[Zt[n]].resetCellIterator();t.next();){var i=t.item;iN(i.rect,n,i.id,i.span,e),iN(i.rect,1-n,i.id,i.span,e),i.type===Xd.nonLeaf&&(i.xy=i.rect[Zt[n]],i.wh=i.rect[da[n]])}}function VQ(n,e){n.travelExistingCells(function(t){var i=t.span;if(i){var r=t.spanRect,a=t.id;iN(r,0,a,i,e),iN(r,1,a,i,e)}})}function iN(n,e,t,i,r){n[da[e]]=0;var a=t[Zt[e]],s=a<0?r[Zt[1-e]]:r[Zt[e]],o=s.getUnitLayoutInfo(e,t[Zt[e]]);if(n[Zt[e]]=o.xy,n[da[e]]=o.wh,i[Zt[e]]>1){var l=s.getUnitLayoutInfo(e,t[Zt[e]]+i[Zt[e]]-1);n[da[e]]=l.xy+l.wh-o.xy}}function L9e(n,e,t){var i=mL(n,t[da[e]]);return m8(i,t[da[e]])}function m8(n,e){return Math.max(Math.min(n,At(e,1/0)),0)}function I4(n){var e=n.matrixModel,t=n.seriesModel,i=e?e.coordinateSystem:t?t.coordinateSystem:null;return i}var Rs={inBody:1,inCorner:2,outside:3},eh={x:null,y:null,point:[]};function jQ(n,e,t,i,r){var a=t[Zt[e]],s=t[Zt[1-e]],o=a.getUnitLayoutInfo(e,a.getLocatorCount(e)-1),l=a.getUnitLayoutInfo(e,0),u=s.getUnitLayoutInfo(e,-s.getLocatorCount(e)),c=s.shouldShow()?s.getUnitLayoutInfo(e,-1):null,f=n.point[e]=i[e];if(!l&&!c){n[Zt[e]]=Rs.outside;return}if(r===op.body){l?(n[Zt[e]]=Rs.inBody,f=Ql(o.xy+o.wh,Kr(l.xy,f)),n.point[e]=f):n[Zt[e]]=Rs.outside;return}else if(r===op.corner){c?(n[Zt[e]]=Rs.inCorner,f=Ql(c.xy+c.wh,Kr(u.xy,f)),n.point[e]=f):n[Zt[e]]=Rs.outside;return}var h=l?l.xy:c?c.xy+c.wh:NaN,d=u?u.xy:h,v=o?o.xy+o.wh:h;if(f<d){if(!r){n[Zt[e]]=Rs.outside;return}f=d}else if(f>v){if(!r){n[Zt[e]]=Rs.outside;return}f=v}n.point[e]=f,n[Zt[e]]=h<=f&&f<=v?Rs.inBody:d<=f&&f<=h?Rs.inCorner:Rs.outside}function HQ(n,e,t,i){var r=1-t;if(n[Zt[t]]!==Rs.outside)for(i[Zt[t]].resetCellIterator(N4);N4.next();){var a=N4.item;if(XQ(n.point[t],a.rect,t)&&XQ(n.point[r],a.rect,r)){e[t]=a.ordinal,e[r]=a.id[Zt[r]];return}}}function WQ(n,e,t,i){if(n[Zt[t]]!==Rs.outside){var r=n[Zt[t]]===Rs.inCorner?i[Zt[1-t]]:i[Zt[t]];for(r.resetLayoutIterator(jD,t);jD.next();)if(N9e(n.point[t],jD.item)){e[t]=jD.item.id[Zt[t]];return}}}function N9e(n,e){return e.xy<=n&&n<=e.xy+e.wh}function XQ(n,e,t){return e[Zt[t]]<=n&&n<=e[Zt[t]]+e[da[t]]}function I9e(n){n.registerComponentModel(S9e),n.registerComponentView(w9e),n.registerCoordinateSystem("matrix",R9e)}function P9e(n,e){var t=n.existing;if(e.id=n.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var i=e.parentOption;i?e.parentId=i.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function YQ(n,e){var t;return Z(e,function(i){n[i]!=null&&n[i]!=="auto"&&(t=!0)}),t}function B9e(n,e,t){var i=Ie({},t),r=n[e],a=t.$action||"merge";a==="merge"?r?(an(r,i,!0),Ph(r,i,{ignoreSize:!0}),Bue(t,r),HD(t,r),HD(t,r,"shape"),HD(t,r,"style"),HD(t,r,"extra"),t.clipPath=r.clipPath):n[e]=i:a==="replace"?n[e]=i:a==="remove"&&r&&(n[e]=null)}var vpe=["transition","enterFrom","leaveTo"],O9e=vpe.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function HD(n,e,t){if(t&&(!n[t]&&e[t]&&(n[t]={}),n=n[t],e=e[t]),!(!n||!e))for(var i=t?vpe:O9e,r=0;r<i.length;r++){var a=i[r];n[a]==null&&e[a]!=null&&(n[a]=e[a])}}function z9e(n,e){if(n&&(n.hv=e.hv=[YQ(e,["left","right"]),YQ(e,["top","bottom"])],n.type==="group")){var t=n,i=e;t.width==null&&(t.width=i.width=0),t.height==null&&(t.height=i.height=0)}}var k9e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,i){var r=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,t,i),this.option.elements=r},e.prototype.optionUpdated=function(t,i){var r=this.option,a=(i?r:t).elements,s=r.elements=i?[]:r.elements,o=[];this._flatten(a,o,null);var l=Tle(s,o,"normalMerge"),u=this._elOptionsToUpdate=[];Z(l,function(c,f){var h=c.newOption;h&&(u.push(h),P9e(c,h),B9e(s,f,h),z9e(s[f],h))},this),r.elements=Zn(s,function(c){return c&&delete c.$action,c!=null})},e.prototype._flatten=function(t,i,r){Z(t,function(a){if(a){r&&(a.parentOption=r),i.push(a);var s=a.children;s&&s.length&&this._flatten(s,i,a),delete a.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e})(xn),qQ={path:null,compoundPath:null,group:It,image:Za,text:In},Fu=_n(),F9e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=bt()},e.prototype.render=function(t,i,r){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,r)},e.prototype._updateElements=function(t){var i=t.useElOptionsToUpdate();if(i){var r=this._elMap,a=this.group,s=t.get("z"),o=t.get("zlevel");Z(i,function(l){var u=Ea(l.id,null),c=u!=null?r.get(u):null,f=Ea(l.parentId,null),h=f!=null?r.get(f):a,d=l.type,v=l.style;d==="text"&&v&&l.hv&&l.hv[1]&&(v.textVerticalAlign=v.textBaseline=v.verticalAlign=v.align=null);var m=l.textContent,y=l.textConfig;if(v&&Xde(v,d,!!y,!!m)){var x=Yde(v,d,!0);!y&&x.textConfig&&(y=l.textConfig=x.textConfig),!m&&x.textContent&&(m=x.textContent)}var b=U9e(l),M=l.$action||"merge",C=M==="merge",w=M==="replace";if(C){var E=!c,L=c;E?L=ZQ(u,h,l.type,r):(L&&(Fu(L).isNew=!1),Jde(L)),L&&(T3(L,b,t,{isInit:E}),KQ(L,l,s,o))}else if(w){E3(c,l,r,t);var P=ZQ(u,h,l.type,r);P&&(T3(P,b,t,{isInit:!0}),KQ(P,l,s,o))}else M==="remove"&&(Zde(c,l),E3(c,l,r,t));var I=r.get(u);if(I&&m)if(C){var N=I.getTextContent();N?N.attr(m):I.setTextContent(new In(m))}else w&&I.setTextContent(new In(m));if(I){var z=l.clipPath;if(z){var V=z.type,U=void 0,E=!1;if(C){var j=I.getClipPath();E=!j||Fu(j).type!==V,U=E?g8(V):j}else w&&(E=!0,U=g8(V));I.setClipPath(U),T3(U,z,t,{isInit:E}),$L(U,z.keyframeAnimation,t)}var W=Fu(I);I.setTextConfig(y),W.option=l,G9e(I,t,l),Ip({el:I,componentModel:t,itemName:I.name,itemTooltipOption:l.tooltip}),$L(I,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,i){for(var r=t.option.elements,a=this.group,s=this._elMap,o=i.getWidth(),l=i.getHeight(),u=["x","y"],c=0;c<r.length;c++){var f=r[c],h=Ea(f.id,null),d=h!=null?s.get(h):null;if(!(!d||!d.isGroup)){var v=d.parent,m=v===a,y=Fu(d),x=Fu(v);y.width=st(y.option.width,m?o:x.width)||0,y.height=st(y.option.height,m?l:x.height)||0}}for(var c=r.length-1;c>=0;c--){var f=r[c],h=Ea(f.id,null),d=h!=null?s.get(h):null;if(d){var v=d.parent,x=Fu(v),b=v===a?{width:o,height:l}:{width:x.width,height:x.height},M={},C=KI(d,f,b,null,{hv:f.hv,boundingMode:f.bounding},M);if(!Fu(d).isNew&&C){for(var w=f.transition,E={},L=0;L<u.length;L++){var P=u[L],I=M[P];w&&(yy(w)||rn(w,P)>=0)?E[P]=I:d[P]=I}Gn(d,E,t,0)}else d.attr(M)}}},e.prototype._clear=function(){var t=this,i=this._elMap;i.each(function(r){E3(r,Fu(r).option,i,t._lastGraphicModel)}),this._elMap=bt()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e})(Bi);function g8(n){var e=yt(qQ,n)?qQ[n]:BT(n),t=new e({});return Fu(t).type=n,t}function ZQ(n,e,t,i){var r=g8(t);return e.add(r),i.set(n,r),Fu(r).id=n,Fu(r).isNew=!0,r}function E3(n,e,t,i){var r=n&&n.parent;r&&(n.type==="group"&&n.traverse(function(a){E3(a,e,t,i)}),hP(n,e,i),t.removeKey(Fu(n).id))}function KQ(n,e,t,i){n.isGroup||Z([["cursor",$u.prototype.cursor],["zlevel",i||0],["z",t||0],["z2",0]],function(r){var a=r[0];yt(e,a)?n[a]=At(e[a],r[1]):n[a]==null&&(n[a]=r[1])}),Z(Dn(e),function(r){if(r.indexOf("on")===0){var a=e[r];n[r]=wt(a)?a:null}}),yt(e,"draggable")&&(n.draggable=e.draggable),e.name!=null&&(n.name=e.name),e.id!=null&&(n.id=e.id)}function U9e(n){return n=Ie({},n),Z(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Lue),function(e){delete n[e]}),n}function G9e(n,e,t){var i=jt(n).eventData;!n.silent&&!n.ignore&&!i&&(i=jt(n).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:n.name}),i&&(i.info=t.info)}function V9e(n){n.registerComponentModel(k9e),n.registerComponentView(F9e),n.registerPreprocessor(function(e){var t=e.graphic;Ve(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var JQ=["x","y","radius","angle","single"],j9e=["cartesian2d","polar","singleAxis"];function H9e(n){var e=n.get("coordinateSystem");return rn(j9e,e)>=0}function $v(n){return n+"Axis"}function W9e(n,e){var t=bt(),i=[],r=bt();n.eachComponent({mainType:"dataZoom",query:e},function(c){r.get(c.uid)||o(c)});var a;do a=!1,n.eachComponent("dataZoom",s);while(a);function s(c){!r.get(c.uid)&&l(c)&&(o(c),a=!0)}function o(c){r.set(c.uid,!0),i.push(c),u(c)}function l(c){var f=!1;return c.eachTargetAxis(function(h,d){var v=t.get(h);v&&v[d]&&(f=!0)}),f}function u(c){c.eachTargetAxis(function(f,h){(t.get(f)||t.set(f,[]))[h]=!0})}return i}function mpe(n){var e=n.ecModel,t={infoList:[],infoMap:bt()};return n.eachTargetAxis(function(i,r){var a=e.getComponent($v(i),r);if(a){var s=a.getCoordSysModel();if(s){var o=s.uid,l=t.infoMap.get(o);l||(l={model:s,axisModels:[]},t.infoList.push(l),t.infoMap.set(o,l)),l.axisModels.push(a)}}}),t}var P4=(function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},n})(),eC=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,i,r){var a=QQ(t);this.settledOption=a,this.mergeDefaultAndTheme(t,r),this._doInit(a)},e.prototype.mergeOption=function(t){var i=QQ(t);an(this.option,t,!0),an(this.settledOption,i,!0),this._doInit(i)},e.prototype._doInit=function(t){var i=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var r=this.settledOption;Z([["start","startValue"],["end","endValue"]],function(a,s){this._rangePropMode[s]==="value"&&(i[a[0]]=r[a[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),i=this._targetAxisInfoMap=bt(),r=this._fillSpecifiedTargetAxis(i);r?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var i=!1;return Z(JQ,function(r){var a=this.getReferringComponents($v(r),u3e);if(a.specified){i=!0;var s=new P4;Z(a.models,function(o){s.add(o.componentIndex)}),t.set(r,s)}},this),i},e.prototype._fillAutoTargetAxisByOrient=function(t,i){var r=this.ecModel,a=!0;if(a){var s=i==="vertical"?"y":"x",o=r.findComponents({mainType:s+"Axis"});l(o,s)}if(a){var o=r.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===i}});l(o,"single")}function l(u,c){var f=u[0];if(f){var h=new P4;if(h.add(f.componentIndex),t.set(c,h),a=!1,c==="x"||c==="y"){var d=f.getReferringComponents("grid",Sr).models[0];d&&Z(u,function(v){f.componentIndex!==v.componentIndex&&d===v.getReferringComponents("grid",Sr).models[0]&&h.add(v.componentIndex)})}}}a&&Z(JQ,function(u){if(a){var c=r.findComponents({mainType:$v(u),filter:function(h){return h.get("type",!0)==="category"}});if(c[0]){var f=new P4;f.add(c[0].componentIndex),t.set(u,f),a=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(i){!t&&(t=i)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var i=this._rangePropMode,r=this.get("rangeMode");Z([["start","startValue"],["end","endValue"]],function(a,s){var o=t[a[0]]!=null,l=t[a[1]]!=null;o&&!l?i[s]="percent":!o&&l?i[s]="value":r?i[s]=r[s]:o&&(i[s]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(i,r){t==null&&(t=this.ecModel.getComponent($v(i),r))},this),t},e.prototype.eachTargetAxis=function(t,i){this._targetAxisInfoMap.each(function(r,a){Z(r.indexList,function(s){t.call(i,a,s)})})},e.prototype.getAxisProxy=function(t,i){var r=this.getAxisModel(t,i);if(r)return r.__dzAxisProxy},e.prototype.getAxisModel=function(t,i){var r=this._targetAxisInfoMap.get(t);if(r&&r.indexMap[i])return this.ecModel.getComponent($v(t),i)},e.prototype.setRawRange=function(t){var i=this.option,r=this.settledOption;Z([["start","startValue"],["end","endValue"]],function(a){(t[a[0]]!=null||t[a[1]]!=null)&&(i[a[0]]=r[a[0]]=t[a[0]],i[a[1]]=r[a[1]]=t[a[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var i=this.option;Z(["start","startValue","end","endValue"],function(r){i[r]=t[r]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,i){if(t==null&&i==null){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataValueWindow()}else return this.getAxisProxy(t,i).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var i,r=this._targetAxisInfoMap.keys(),a=0;a<r.length;a++)for(var s=r[a],o=this._targetAxisInfoMap.get(s),l=0;l<o.indexList.length;l++){var u=this.getAxisProxy(s,o.indexList[l]);if(u.hostedBy(this))return u;i||(i=u)}return i},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e})(xn);function QQ(n){var e={};return Z(["start","end","startValue","endValue","throttle"],function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}var X9e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e})(eC),rj=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r,a){this.dataZoomModel=t,this.ecModel=i,this.api=r},e.type="dataZoom",e})(Bi),Y9e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e})(rj),g1=Z,$Q=Xl,q9e=(function(){function n(e,t,i,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=i}return n.prototype.hostedBy=function(e){return this._dataZoomModel===e},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(H9e(t)){var i=$v(this._dimName),r=t.getReferringComponents(i,Sr).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}},this),e},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return Nt(this._minMaxSpan)},n.prototype.calculateDataWindow=function(e){var t=this._dataExtent,i=this.getAxisModel(),r=i.axis.scale,a=this._dataZoomModel.getRangePropMode(),s=[0,100],o=[],l=[],u;g1(["start","end"],function(h,d){var v=e[h],m=e[h+"Value"];a[d]==="percent"?(v==null&&(v=s[d]),m=r.parse(ei(v,s,t))):(u=!0,m=m==null?t[d]:r.parse(m),v=ei(m,t,s)),l[d]=m==null||isNaN(m)?t[d]:m,o[d]=v==null||isNaN(v)?s[d]:v}),$Q(l),$Q(o);var c=this._minMaxSpan;u?f(l,o,t,s,!1):f(o,l,s,t,!0);function f(h,d,v,m,y){var x=y?"Span":"ValueSpan";Am(0,h,v,"all",c["min"+x],c["max"+x]);for(var b=0;b<2;b++)d[b]=ei(h[b],v,m,!0),y&&(d[b]=r.parse(d[b]))}return{valueWindow:l,percentWindow:o}},n.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=Z9e(this,this._dimName,t),this._updateMinMaxSpan();var i=this.calculateDataWindow(e.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var i=this._dimName,r=this.getTargetSeriesModels(),a=e.get("filterMode"),s=this._valueWindow;if(a==="none")return;g1(r,function(l){var u=l.getData(),c=u.mapDimensionsAll(i);if(c.length){if(a==="weakFilter"){var f=u.getStore(),h=We(c,function(d){return u.getDimensionIndex(d)},u);u.filterSelf(function(d){for(var v,m,y,x=0;x<c.length;x++){var b=f.get(h[x],d),M=!isNaN(b),C=b<s[0],w=b>s[1];if(M&&!C&&!w)return!0;M&&(y=!0),C&&(v=!0),w&&(m=!0)}return y&&v&&m})}else g1(c,function(d){if(a==="empty")l.setData(u=u.map(d,function(m){return o(m)?m:NaN}));else{var v={};v[d]=s,u.selectRange(v)}});g1(c,function(d){u.setApproximateExtent(s,d)})}});function o(l){return l>=s[0]&&l<=s[1]}},n.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,i=this._dataExtent;g1(["min","max"],function(r){var a=t.get(r+"Span"),s=t.get(r+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?a=ei(i[0]+s,i,[0,100],!0):a!=null&&(s=ei(a,[0,100],i,!0)-i[0]),e[r+"Span"]=a,e[r+"ValueSpan"]=s},this)},n.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,i=this._valueWindow;if(t){var r=YV(i,[0,500]);r=Math.min(r,20);var a=e.axis.scale.rawExtentInfo;t[0]!==0&&a.setDeterminedMinMax("min",+i[0].toFixed(r)),t[1]!==100&&a.setDeterminedMinMax("max",+i[1].toFixed(r)),a.freeze()}},n})();function Z9e(n,e,t){var i=[1/0,-1/0];g1(t,function(s){dOe(i,s.getData(),e)});var r=n.getAxisModel(),a=vfe(r.axis.scale,r,i).calculate();return[a.min,a.max]}var K9e={getTargetSeries:function(n){function e(r){n.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(s,o){var l=n.getComponent($v(s),o);r(s,o,l,a)})})}e(function(r,a,s,o){s.__dzAxisProxy=null});var t=[];e(function(r,a,s,o){s.__dzAxisProxy||(s.__dzAxisProxy=new q9e(r,a,o,n),t.push(s.__dzAxisProxy))});var i=bt();return Z(t,function(r){Z(r.getTargetSeriesModels(),function(a){i.set(a.uid,a)})}),i},overallReset:function(n,e){n.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(i,r){t.getAxisProxy(i,r).reset(t)}),t.eachTargetAxis(function(i,r){t.getAxisProxy(i,r).filterData(t,e)})}),n.eachComponent("dataZoom",function(t){var i=t.findRepresentativeAxisProxy();if(i){var r=i.getDataPercentWindow(),a=i.getDataValueWindow();t.setCalculatedRange({start:r[0],end:r[1],startValue:a[0],endValue:a[1]})}})}};function J9e(n){n.registerAction("dataZoom",function(e,t){var i=W9e(t,e);Z(i,function(r){r.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var e$=!1;function aj(n){e$||(e$=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,K9e),J9e(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Q9e(n){n.registerComponentModel(X9e),n.registerComponentView(Y9e),aj(n)}var Gu=(function(){function n(){}return n})(),gpe={};function y1(n,e){gpe[n]=e}function ype(n){return gpe[n]}var $9e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;Z(this.option.feature,function(i,r){var a=ype(r);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(t)),an(i,a.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:xe.color.border,borderRadius:0,borderWidth:0,padding:xe.size.m,itemSize:15,itemGap:xe.size.s,showTitle:!0,iconStyle:{borderColor:xe.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:xe.color.accent50}},tooltip:{show:!1,position:"bottom"}},e})(xn);function xpe(n,e){var t=uS(e.get("padding")),i=e.getItemStyle(["color","opacity"]);i.fill=e.get("backgroundColor");var r=new pn({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1});return r}var eje=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,i,r,a){var s=this.group;if(s.removeAll(),!t.get("show"))return;var o=+t.get("itemSize"),l=t.get("orient")==="vertical",u=t.get("feature")||{},c=this._features||(this._features={}),f=[];Z(u,function(b,M){f.push(M)}),new Ap(this._featureNames||[],f).add(h).update(h).remove($t(h,null)).execute(),this._featureNames=f;function h(b,M){var C=f[b],w=f[M],E=u[C],L=new Sn(E,t,t.ecModel),P;if(a&&a.newTitle!=null&&a.featureName===C&&(E.title=a.newTitle),C&&!w){if(tje(C))P={onclick:L.option.onclick,featureName:C};else{var I=ype(C);if(!I)return;P=new I}c[C]=P}else if(P=c[w],!P)return;P.uid=lS("toolbox-feature"),P.model=L,P.ecModel=i,P.api=r;var N=P instanceof Gu;if(!C&&w){N&&P.dispose&&P.dispose(i,r);return}if(!L.get("show")||N&&P.unusable){N&&P.remove&&P.remove(i,r);return}d(L,P,C),L.setIconStatus=function(z,V){var U=this.option,j=this.iconPaths;U.iconStatus=U.iconStatus||{},U.iconStatus[z]=V,j[z]&&(V==="emphasis"?bp:Sp)(j[z])},P instanceof Gu&&P.render&&P.render(L,i,r,a)}function d(b,M,C){var w=b.getModel("iconStyle"),E=b.getModel(["emphasis","iconStyle"]),L=M instanceof Gu&&M.getIcons?M.getIcons():b.get("icon"),P=b.get("title")||{},I,N;ot(L)?(I={},I[C]=L):I=L,ot(P)?(N={},N[C]=P):N=P;var z=b.iconPaths={};Z(I,function(V,U){var j=sS(V,{},{x:-o/2,y:-o/2,width:o,height:o});j.setStyle(w.getItemStyle());var W=j.ensureState("emphasis");W.style=E.getItemStyle();var G=new In({style:{text:N[U],align:E.get("textAlign"),borderRadius:E.get("textBorderRadius"),padding:E.get("textPadding"),fill:null,font:m6({fontStyle:E.get("textFontStyle"),fontFamily:E.get("textFontFamily"),fontSize:E.get("textFontSize"),fontWeight:E.get("textFontWeight")},i)},ignore:!0});j.setTextContent(G),Ip({el:j,componentModel:t,itemName:U,formatterParamsExtra:{title:N[U]}}),j.__title=N[U],j.on("mouseover",function(){var X=E.getItemStyle(),q=l?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";G.setStyle({fill:E.get("textFill")||X.fill||X.stroke||xe.color.neutral99,backgroundColor:E.get("textBackgroundColor")}),j.setTextConfig({position:E.get("textPosition")||q}),G.ignore=!t.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){b.get(["iconStatus",U])!=="emphasis"&&r.leaveEmphasis(this),G.hide()}),(b.get(["iconStatus",U])==="emphasis"?bp:Sp)(j),s.add(j),j.on("click",ct(M.onclick,M,i,r,U)),z[U]=j})}var v=Na(t,r).refContainer,m=t.getBoxLayoutParams(),y=t.get("padding"),x=Ji(m,v,y);vy(t.get("orient"),s,t.get("itemGap"),x.width,x.height),KI(s,m,v,y),s.add(xpe(s.getBoundingRect(),t)),l||s.eachChild(function(b){var M=b.__title,C=b.ensureState("emphasis"),w=C.textConfig||(C.textConfig={}),E=b.getTextContent(),L=E&&E.ensureState("emphasis");if(L&&!wt(L)&&M){var P=L.style||(L.style={}),I=OI(M,In.makeFont(P)),N=b.x+s.x,z=b.y+s.y+o,V=!1;z+I.height>r.getHeight()&&(w.position="top",V=!0);var U=V?-5-I.height:o+10;N+I.width/2>r.getWidth()?(w.position=["100%",U],P.align="right"):N-I.width/2<0&&(w.position=[0,U],P.align="left")}})},e.prototype.updateView=function(t,i,r,a){Z(this._features,function(s){s instanceof Gu&&s.updateView&&s.updateView(s.model,i,r,a)})},e.prototype.remove=function(t,i){Z(this._features,function(r){r instanceof Gu&&r.remove&&r.remove(t,i)}),this.group.removeAll()},e.prototype.dispose=function(t,i){Z(this._features,function(r){r instanceof Gu&&r.dispose&&r.dispose(t,i)})},e.type="toolbox",e})(Bi);function tje(n){return n.indexOf("my")===0}var nje=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,i){var r=this.model,a=r.get("name")||t.get("title.0.text")||"echarts",s=i.getZr().painter.getType()==="svg",o=s?"svg":r.get("type",!0)||"png",l=i.getConnectedDataURL({type:o,backgroundColor:r.get("backgroundColor",!0)||t.get("backgroundColor")||xe.color.neutral00,connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),u=wn.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=a+"."+o,c.target="_blank",c.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||s){var h=l.split(","),d=h[0].indexOf("base64")>-1,v=s?decodeURIComponent(h[1]):h[1];d&&(v=window.atob(v));var m=a+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var y=v.length,x=new Uint8Array(y);y--;)x[y]=v.charCodeAt(y);var b=new Blob([x]);window.navigator.msSaveOrOpenBlob(b,m)}else{var M=document.createElement("iframe");document.body.appendChild(M);var C=M.contentWindow,w=C.document;w.open("image/svg+xml","replace"),w.write(v),w.close(),C.focus(),w.execCommand("SaveAs",!0,m),document.body.removeChild(M)}}else{var E=r.get("lang"),L='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(E&&E[0]||"")+'" /></body>',P=window.open();P.document.write(L),P.document.title=a}},e.getDefaultOption=function(t){var i={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:xe.color.neutral00,name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return i},e})(Gu),t$="__ec_magicType_stack__",ije=[["line","bar"],["stack"]],rje=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,i=t.get("icon"),r={};return Z(t.get("type"),function(a){i[a]&&(r[a]=i[a])}),r},e.getDefaultOption=function(t){var i={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return i},e.prototype.onclick=function(t,i,r){var a=this.model,s=a.get(["seriesIndex",r]);if(n$[r]){var o={series:[]},l=function(f){var h=f.subType,d=f.id,v=n$[r](h,d,f,a);v&&(Bt(v,f.option),o.series.push(v));var m=f.coordinateSystem;if(m&&m.type==="cartesian2d"&&(r==="line"||r==="bar")){var y=m.getAxesByScale("ordinal")[0];if(y){var x=y.dim,b=x+"Axis",M=f.getReferringComponents(b,Sr).models[0],C=M.componentIndex;o[b]=o[b]||[];for(var w=0;w<=C;w++)o[b][C]=o[b][C]||{};o[b][C].boundaryGap=r==="bar"}}};Z(ije,function(f){rn(f,r)>=0&&Z(f,function(h){a.setIconStatus(h,"normal")})}),a.setIconStatus(r,"emphasis"),t.eachComponent({mainType:"series",query:s==null?null:{seriesIndex:s}},l);var u,c=r;r==="stack"&&(u=an({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",r])!=="emphasis"&&(c="tiled")),i.dispatchAction({type:"changeMagicType",currentType:c,newOption:o,newTitle:u,featureName:"magicType"})}},e})(Gu),n$={line:function(n,e,t,i){if(n==="bar")return an({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(n,e,t,i){if(n==="line")return an({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(n,e,t,i){var r=t.get("stack")===t$;if(n==="line"||n==="bar")return i.setIconStatus("stack",r?"normal":"emphasis"),an({id:e,stack:r?"":t$},i.get(["option","stack"])||{},!0)}};df({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,e){e.mergeOption(n.newOption)});var dP=new Array(60).join("-"),Mb="	";function aje(n){var e={},t=[],i=[];return n.eachRawSeries(function(r){var a=r.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var s=a.getBaseAxis();if(s.type==="category"){var o=s.dim+"_"+s.index;e[o]||(e[o]={categoryAxis:s,valueAxis:a.getOtherAxis(s),series:[]},i.push({axisDim:s.dim,axisIndex:s.index})),e[o].series.push(r)}else t.push(r)}else t.push(r)}),{seriesGroupByCategoryAxis:e,other:t,meta:i}}function sje(n){var e=[];return Z(n,function(t,i){var r=t.categoryAxis,a=t.valueAxis,s=a.dim,o=[" "].concat(We(t.series,function(d){return d.name})),l=[r.model.getCategories()];Z(t.series,function(d){var v=d.getRawData();l.push(d.getRawData().mapArray(v.mapDimension(s),function(m){return m}))});for(var u=[o.join(Mb)],c=0;c<l[0].length;c++){for(var f=[],h=0;h<l.length;h++)f.push(l[h][c]);u.push(f.join(Mb))}e.push(u.join(`
`))}),e.join(`

`+dP+`

`)}function oje(n){return We(n,function(e){var t=e.getRawData(),i=[e.name],r=[];return t.each(t.dimensions,function(){for(var a=arguments.length,s=arguments[a-1],o=t.getName(s),l=0;l<a-1;l++)r[l]=arguments[l];i.push((o?o+Mb:"")+r.join(Mb))}),i.join(`
`)}).join(`

`+dP+`

`)}function lje(n){var e=aje(n);return{value:Zn([sje(e.seriesGroupByCategoryAxis),oje(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+dP+`

`),meta:e.meta}}function rN(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function uje(n){var e=n.slice(0,n.indexOf(`
`));if(e.indexOf(Mb)>=0)return!0}var y8=new RegExp("["+Mb+"]+","g");function cje(n){for(var e=n.split(/\n+/g),t=rN(e.shift()).split(y8),i=[],r=We(t,function(l){return{name:l,data:[]}}),a=0;a<e.length;a++){var s=rN(e[a]).split(y8);i.push(s.shift());for(var o=0;o<s.length;o++)r[o]&&(r[o].data[a]=s[o])}return{series:r,categories:i}}function fje(n){for(var e=n.split(/\n+/g),t=rN(e.shift()),i=[],r=0;r<e.length;r++){var a=rN(e[r]);if(a){var s=a.split(y8),o="",l=void 0,u=!1;isNaN(s[0])?(u=!0,o=s[0],s=s.slice(1),i[r]={name:o,value:[]},l=i[r].value):l=i[r]=[];for(var c=0;c<s.length;c++)l.push(+s[c]);l.length===1&&(u?i[r].value=l[0]:i[r]=l[0])}}return{name:t,data:i}}function hje(n,e){var t=n.split(new RegExp(`
*`+dP+`
*`,"g")),i={series:[]};return Z(t,function(r,a){if(uje(r)){var s=cje(r),o=e[a],l=o.axisDim+"Axis";o&&(i[l]=i[l]||[],i[l][o.axisIndex]={data:s.categories},i.series=i.series.concat(s.series))}else{var s=fje(r);i.series.push(s)}}),i}var dje=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,i){setTimeout(function(){i.dispatchAction({type:"hideTip"})});var r=i.getDom(),a=this.model;this._dom&&r.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",s.style.backgroundColor=a.get("backgroundColor")||xe.color.neutral00;var o=document.createElement("h4"),l=a.get("lang")||[];o.innerHTML=l[0]||a.get("title"),o.style.cssText="margin:10px 20px",o.style.color=a.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var f=a.get("optionToContent"),h=a.get("contentToOption"),d=lje(t);if(wt(f)){var v=f(i.getOption());ot(v)?u.innerHTML=v:Ey(v)&&u.appendChild(v)}else{c.readOnly=a.get("readOnly");var m=c.style;m.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",m.color=a.get("textColor"),m.borderColor=a.get("textareaBorderColor"),m.backgroundColor=a.get("textareaColor"),c.value=d.value,u.appendChild(c)}var y=d.meta,x=document.createElement("div");x.style.cssText="position:absolute;bottom:5px;left:0;right:0";var b="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",M=document.createElement("div"),C=document.createElement("div");b+=";background-color:"+a.get("buttonColor"),b+=";color:"+a.get("buttonTextColor");var w=this;function E(){r.removeChild(s),w._dom=null}EF(M,"click",E),EF(C,"click",function(){if(h==null&&f!=null||h!=null&&f==null){E();return}var L;try{wt(h)?L=h(u,i.getOption()):L=hje(c.value,y)}catch(P){throw E(),new Error("Data view format error "+P)}L&&i.dispatchAction({type:"changeDataView",newOption:L}),E()}),M.innerHTML=l[1],C.innerHTML=l[2],C.style.cssText=M.style.cssText=b,!a.get("readOnly")&&x.appendChild(C),x.appendChild(M),s.appendChild(o),s.appendChild(u),s.appendChild(x),u.style.height=r.clientHeight-80+"px",r.appendChild(s),this._dom=s},e.prototype.remove=function(t,i){this._dom&&i.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.getDefaultOption=function(t){var i={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:xe.color.background,textColor:xe.color.primary,textareaColor:xe.color.background,textareaBorderColor:xe.color.border,buttonColor:xe.color.accent50,buttonTextColor:xe.color.neutral00};return i},e})(Gu);function pje(n,e){return We(n,function(t,i){var r=e&&e[i];if(Ot(r)&&!Ve(r)){var a=Ot(t)&&!Ve(t);a||(t={value:t});var s=r.name!=null&&t.name==null;return t=Bt(t,r),s&&delete t.name,t}else return t})}df({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,e){var t=[];Z(n.newOption.series,function(i){var r=e.getSeriesByName(i.name)[0];if(!r)t.push(Ie({type:"scatter"},i));else{var a=r.get("data");t.push({name:i.name,data:pje(i.data,a)})}}),e.mergeOption(Bt({series:t},n.newOption))});var _pe=Z,bpe=_n();function vje(n,e){var t=sj(n);_pe(e,function(i,r){for(var a=t.length-1;a>=0;a--){var s=t[a];if(s[r])break}if(a<0){var o=n.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(o){var l=o.getPercentRange();t[0][r]={dataZoomId:r,start:l[0],end:l[1]}}}}),t.push(e)}function mje(n){var e=sj(n),t=e[e.length-1];e.length>1&&e.pop();var i={};return _pe(t,function(r,a){for(var s=e.length-1;s>=0;s--)if(r=e[s][a],r){i[a]=r;break}}),i}function gje(n){bpe(n).snapshots=null}function yje(n){return sj(n).length}function sj(n){var e=bpe(n);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var xje=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,i){gje(t),i.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var i={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return i},e})(Gu);df({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,e){e.resetOption("recreate")});var _je=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],oj=(function(){function n(e,t,i){var r=this;this._targetInfoList=[];var a=i$(t,e);Z(bje,function(s,o){(!i||!i.include||rn(i.include,o)>=0)&&s(a,r._targetInfoList)})}return n.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(i,r,a){if((i.coordRanges||(i.coordRanges=[])).push(r),!i.coordRange){i.coordRange=r;var s=B4[i.brushType](0,a,r);i.__rangeOffset={offset:o$[i.brushType](s.values,i.range,[1,1]),xyMinMax:s.xyMinMax}}}),e},n.prototype.matchOutputRanges=function(e,t,i){Z(e,function(r){var a=this.findTargetInfo(r,t);a&&a!==!0&&Z(a.coordSyses,function(s){var o=B4[r.brushType](1,s,r.range,!0);i(r,o.values,s,t)})},this)},n.prototype.setInputRanges=function(e,t){Z(e,function(i){var r=this.findTargetInfo(i,t);if(i.range=i.range||[],r&&r!==!0){i.panelId=r.panelId;var a=B4[i.brushType](0,r.coordSys,i.coordRange),s=i.__rangeOffset;i.range=s?o$[i.brushType](a.values,s.offset,Sje(a.xyMinMax,s.xyMinMax)):a.values}},this)},n.prototype.makePanelOpts=function(e,t){return We(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:t?t(i):null,clipPath:Cde(r),isTargetByCursor:Ede(r,e,i.coordSysModel),getLinearBrushOtherExtent:wde(r)}})},n.prototype.controlSeries=function(e,t,i){var r=this.findTargetInfo(e,i);return r===!0||r&&rn(r.coordSyses,t.coordinateSystem)>=0},n.prototype.findTargetInfo=function(e,t){for(var i=this._targetInfoList,r=i$(t,e),a=0;a<i.length;a++){var s=i[a],o=e.panelId;if(o){if(s.panelId===o)return s}else for(var l=0;l<r$.length;l++)if(r$[l](r,s))return s}return!0},n})();function x8(n){return n[0]>n[1]&&n.reverse(),n}function i$(n,e){return Y1(n,e,{includeMainTypes:_je})}var bje={grid:function(n,e){var t=n.xAxisModels,i=n.yAxisModels,r=n.gridModels,a=bt(),s={},o={};!t&&!i&&!r||(Z(t,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),Z(i,function(l){var u=l.axis.grid.model;a.set(u.id,u),o[u.id]=!0}),Z(r,function(l){a.set(l.id,l),s[l.id]=!0,o[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,c=[];Z(u.getCartesians(),function(f,h){(rn(t,f.getAxis("x").model)>=0||rn(i,f.getAxis("y").model)>=0)&&c.push(f)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:a$.grid,xAxisDeclared:s[l.id],yAxisDeclared:o[l.id]})}))},geo:function(n,e){Z(n.geoModels,function(t){var i=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:a$.geo})})}},r$=[function(n,e){var t=n.xAxisModel,i=n.yAxisModel,r=n.gridModel;return!r&&t&&(r=t.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===e.gridModel},function(n,e){var t=n.geoModel;return t&&t===e.geoModel}],a$={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,e=n.getBoundingRect().clone();return e.applyTransform(lm(n)),e}},B4={lineX:$t(s$,0),lineY:$t(s$,1),rect:function(n,e,t,i){var r=n?e.pointToData([t[0][0],t[1][0]],i):e.dataToPoint([t[0][0],t[1][0]],i),a=n?e.pointToData([t[0][1],t[1][1]],i):e.dataToPoint([t[0][1],t[1][1]],i),s=[x8([r[0],a[0]]),x8([r[1],a[1]])];return{values:s,xyMinMax:s}},polygon:function(n,e,t,i){var r=[[1/0,-1/0],[1/0,-1/0]],a=We(t,function(s){var o=n?e.pointToData(s,i):e.dataToPoint(s,i);return r[0][0]=Math.min(r[0][0],o[0]),r[1][0]=Math.min(r[1][0],o[1]),r[0][1]=Math.max(r[0][1],o[0]),r[1][1]=Math.max(r[1][1],o[1]),o});return{values:a,xyMinMax:r}}};function s$(n,e,t,i){var r=t.getAxis(["x","y"][n]),a=x8(We([0,1],function(o){return e?r.coordToData(r.toLocalCoord(i[o]),!0):r.toGlobalCoord(r.dataToCoord(i[o]))})),s=[];return s[n]=a,s[1-n]=[NaN,NaN],{values:a,xyMinMax:s}}var o$={lineX:$t(l$,0),lineY:$t(l$,1),rect:function(n,e,t){return[[n[0][0]-t[0]*e[0][0],n[0][1]-t[0]*e[0][1]],[n[1][0]-t[1]*e[1][0],n[1][1]-t[1]*e[1][1]]]},polygon:function(n,e,t){return We(n,function(i,r){return[i[0]-t[0]*e[r][0],i[1]-t[1]*e[r][1]]})}};function l$(n,e,t,i){return[e[0]-i[n]*t[0],e[1]-i[n]*t[1]]}function Sje(n,e){var t=u$(n),i=u$(e),r=[t[0]/i[0],t[1]/i[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}function u$(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var _8=Z,Aje=r3e("toolbox-dataZoom_"),Mje=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,i,r,a){this._brushController||(this._brushController=new N9(r.getZr()),this._brushController.on("brush",ct(this._onBrush,this)).mount()),wje(t,i,this,a,r),Cje(t,i)},e.prototype.onclick=function(t,i,r){Tje[r].call(this)},e.prototype.remove=function(t,i){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,i){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var i=t.areas;if(!t.isEnd||!i.length)return;var r={},a=this.ecModel;this._brushController.updateCovers([]);var s=new oj(lj(this.model),a,{include:["grid"]});s.matchOutputRanges(i,a,function(u,c,f){if(f.type==="cartesian2d"){var h=u.brushType;h==="rect"?(o("x",f,c[0]),o("y",f,c[1])):o({lineX:"x",lineY:"y"}[h],f,c)}}),vje(a,r),this._dispatchZoomAction(r);function o(u,c,f){var h=c.getAxis(u),d=h.model,v=l(u,d,a),m=v.findRepresentativeAxisProxy(d).getMinMaxSpan();(m.minValueSpan!=null||m.maxValueSpan!=null)&&(f=Am(0,f.slice(),h.scale.getExtent(),0,m.minValueSpan,m.maxValueSpan)),v&&(r[v.id]={dataZoomId:v.id,startValue:f[0],endValue:f[1]})}function l(u,c,f){var h;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(d){var v=d.getAxisModel(u,c.componentIndex);v&&(h=d)}),h}},e.prototype._dispatchZoomAction=function(t){var i=[];_8(t,function(r,a){i.push(Nt(r))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},e.getDefaultOption=function(t){var i={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:xe.color.backgroundTint}};return i},e})(Gu),Tje={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(mje(this.ecModel))}};function lj(n){var e={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function Cje(n,e){n.setIconStatus("back",yje(e)>1?"emphasis":"normal")}function wje(n,e,t,i,r){var a=t._isZoomActive;i&&i.type==="takeGlobalCursor"&&(a=i.key==="dataZoomSelect"?i.dataZoomSelectActive:!1),t._isZoomActive=a,n.setIconStatus("zoom",a?"emphasis":"normal");var s=new oj(lj(n),e,{include:["grid"]}),o=s.makePanelOpts(r,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(o).enableBrush(a&&o.length?{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()}:!1)}FNe("dataZoom",function(n){var e=n.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var i=e.getModel(t),r=[],a=lj(i),s=Y1(n,a);_8(s.xAxisModels,function(l){return o(l,"xAxis","xAxisIndex")}),_8(s.yAxisModels,function(l){return o(l,"yAxis","yAxisIndex")});function o(l,u,c){var f=l.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:Aje+u+f};h[c]=f,r.push(h)}return r});function Eje(n){n.registerComponentModel($9e),n.registerComponentView(eje),y1("saveAsImage",nje),y1("magicType",rje),y1("dataView",dje),y1("dataZoom",Mje),y1("restore",xje),cn(Q9e)}var Dje=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:xe.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:xe.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:xe.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:xe.color.tertiary,fontSize:14}},e})(xn);function Spe(n){var e=n.get("confine");return e!=null?!!e:n.get("renderMode")==="richText"}function Ape(n){if(wn.domSupported){for(var e=document.documentElement.style,t=0,i=n.length;t<i;t++)if(n[t]in e)return n[t]}}var Mpe=Ape(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Rje=Ape(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Tpe(n,e){if(!n)return e;e=D6(e,!0);var t=n.indexOf(e);return n=t===-1?e:"-"+n.slice(0,t)+"-"+e,n.toLowerCase()}function Lje(n,e){var t=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return t?t[e]:null}var Nje=Tpe(Rje,"transition"),uj=Tpe(Mpe,"transform"),Ije="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(wn.transform3dSupported?"will-change:transform;":"");function Pje(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function Bje(n,e,t){if(!ot(t)||t==="inside")return"";var i=n.get("backgroundColor"),r=n.get("borderWidth");e=By(e);var a=Pje(t),s=Math.max(Math.round(r)*1.5,6),o="",l=uj+":",u;rn(["left","right"],a)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=s+r,h=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),d=Math.round(((h-Math.SQRT2*r)/2+Math.SQRT2*r-(h-f)/2)*100)/100;o+=";"+a+":-"+d+"px";var v=e+" solid "+r+"px;",m=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+l+";","border-bottom:"+v,"border-right:"+v,"background-color:"+i+";"];return'<div style="'+m.join("")+'"></div>'}function Oje(n,e,t){var i="cubic-bezier(0.23,1,0.32,1)",r="",a="";return t&&(r=" "+n/2+"s "+i,a="opacity"+r+",visibility"+r),e||(r=" "+n+"s "+i,a+=(a.length?",":"")+(wn.transformSupported?""+uj+r:",left"+r+",top"+r)),Nje+":"+a}function c$(n,e,t){var i=n.toFixed(0)+"px",r=e.toFixed(0)+"px";if(!wn.transformSupported)return t?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var a=wn.transform3dSupported,s="translate"+(a?"3d":"")+"("+i+","+r+(a?",0":"")+")";return t?"top:0;left:0;"+uj+":"+s+";":[["top",0],["left",0],[Mpe,s]]}function zje(n){var e=[],t=n.get("fontSize"),i=n.getTextColor();i&&e.push("color:"+i),e.push("font:"+n.getFont());var r=At(n.get("lineHeight"),Math.round(t*3/2));t&&e.push("line-height:"+r+"px");var a=n.get("textShadowColor"),s=n.get("textShadowBlur")||0,o=n.get("textShadowOffsetX")||0,l=n.get("textShadowOffsetY")||0;return a&&s&&e.push("text-shadow:"+o+"px "+l+"px "+s+"px "+a),Z(["decoration","align"],function(u){var c=n.get(u);c&&e.push("text-"+u+":"+c)}),e.join(";")}function kje(n,e,t,i){var r=[],a=n.get("transitionDuration"),s=n.get("backgroundColor"),o=n.get("shadowBlur"),l=n.get("shadowColor"),u=n.get("shadowOffsetX"),c=n.get("shadowOffsetY"),f=n.getModel("textStyle"),h=dce(n,"html"),d=u+"px "+c+"px "+o+"px "+l;return r.push("box-shadow:"+d),e&&a>0&&r.push(Oje(a,t,i)),s&&r.push("background-color:"+s),Z(["width","color","radius"],function(v){var m="border-"+v,y=D6(m),x=n.get(y);x!=null&&r.push(m+":"+x+(v==="color"?"":"px"))}),r.push(zje(f)),h!=null&&r.push("padding:"+uS(h).join("px ")+"px"),r.join(";")+";"}function f$(n,e,t,i,r){var a=e&&e.painter;if(t){var s=a&&a.getViewportRoot();s&&ADe(n,s,t,i,r)}else{n[0]=i,n[1]=r;var o=a&&a.getViewportRootOffset();o&&(n[0]+=o.offsetLeft,n[1]+=o.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var Fje=(function(){function n(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,wn.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var r=this._zr=e.getZr(),a=t.appendTo,s=a&&(ot(a)?document.querySelector(a):Ey(a)?a:wt(a)&&a(e.getDom()));f$(this._styleCoord,r,s,e.getWidth()/2,e.getHeight()/2),(s||e.getDom()).appendChild(i),this._api=e,this._container=s;var o=this;i.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},i.onmousemove=function(l){if(l=l||window.event,!o._enterable){var u=r.handler,c=r.painter.getViewportRoot();Bu(c,l,!0),u.dispatch("mousemove",l)}},i.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return n.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),i=Lje(t,"position"),r=t.style;r.position!=="absolute"&&i!=="absolute"&&(r.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this._enableDisplayTransition=e.get("displayTransition")&&e.get("transitionDuration")>0,this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,r=i.style,a=this._styleCoord;i.innerHTML?r.cssText=Ije+kje(e,!this._firstShow,this._longHide,this._enableDisplayTransition)+c$(a[0],a[1],!0)+("border-color:"+By(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,i,r,a){var s=this.el;if(e==null){s.innerHTML="";return}var o="";if(ot(a)&&i.get("trigger")==="item"&&!Spe(i)&&(o=Bje(i,r,a)),ot(e))s.innerHTML=e+o;else if(e){s.innerHTML="",Ve(e)||(e=[e]);for(var l=0;l<e.length;l++)Ey(e[l])&&e[l].parentNode!==s&&s.appendChild(e[l]);if(o&&s.childNodes.length){var u=document.createElement("div");u.innerHTML=o,s.appendChild(u)}}},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},n.prototype.moveTo=function(e,t){if(this.el){var i=this._styleCoord;if(f$(i,this._zr,this._container,e,t),i[0]!=null&&i[1]!=null){var r=this.el.style,a=c$(i[0],i[1]);Z(a,function(s){r[s[0]]=s[1]})}}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;this._enableDisplayTransition?(t.visibility="hidden",t.opacity="0"):t.display="none",wn.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ct(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this._zr;MDe(e&&e.painter&&e.painter.getViewportRoot(),this._container);var t=this.el;if(t){t.onmouseenter=t.onmousemove=t.onmouseleave=null;var i=t.parentNode;i&&i.removeChild(t)}this.el=this._container=null},n})(),Uje=(function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),d$(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,i,r,a){var s=this;Ot(e)&&ti(""),this.el&&this._zr.remove(this.el);var o=i.getModel("textStyle");this.el=new In({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:o.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:dce(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),Z(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){s.el.style[u]=i.get(u)}),Z(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){s.el.style[u]=o.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),i=h$(e.style);return[t.width+i.left+i.right,t.height+i.top+i.bottom]},n.prototype.moveTo=function(e,t){var i=this.el;if(i){var r=this._styleCoord;d$(r,this._zr,e,t),e=r[0],t=r[1];var a=i.style,s=zv(a.borderWidth||0),o=h$(a);i.x=e+s+o.left,i.y=t+s+o.top,i.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ct(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n})();function zv(n){return Math.max(0,n)}function h$(n){var e=zv(n.shadowBlur||0),t=zv(n.shadowOffsetX||0),i=zv(n.shadowOffsetY||0);return{left:zv(e-t),right:zv(e+t),top:zv(e-i),bottom:zv(e+i)}}function d$(n,e,t,i){n[0]=t,n[1]=i,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var Gje=new pn({shape:{x:-1,y:-1,width:2,height:2}}),Vje=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,i){if(!(wn.node||!i.getDom())){var r=t.getComponent("tooltip"),a=this._renderMode=f3e(r.get("renderMode"));this._tooltipContent=a==="richText"?new Uje(i):new Fje(i,{appendTo:r.get("appendToBody",!0)?"body":r.get("appendTo",!0)})}},e.prototype.render=function(t,i,r){if(!(wn.node||!r.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=i,this._api=r;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?hS(this,"_updatePosition",50,"fixRate"):FT(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,i=t.get("triggerOn");spe("itemTooltip",this._api,ct(function(r,a,s){i!=="none"&&(i.indexOf(r)>=0?this._tryShow(a,s):r==="leave"&&this._hide(s))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,i=this._ecModel,r=this._api,a=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&s.manuallyShowTip(t,i,r,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,i,r,a){if(!(a.from===this.uid||wn.node||!r.getDom())){var s=p$(a,r);this._ticket="";var o=a.dataByCoordSys,l=Xje(a,i,r);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},s)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=Gje;c.x=a.x,c.y=a.y,c.update(),jt(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},s)}else if(o)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:o,tooltipOption:a.tooltipOption},s);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,i,r,a))return;var f=ope(a,i),h=f.point[0],d=f.point[1];h!=null&&d!=null&&this._tryShow({offsetX:h,offsetY:d,target:f.el,position:a.position,positionDefault:"bottom"},s)}else a.x!=null&&a.y!=null&&(r.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:r.getZr().findHover(a.x,a.y).target},s))}},e.prototype.manuallyHideTip=function(t,i,r,a){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(p$(a,r))},e.prototype._manuallyAxisShowTip=function(t,i,r,a){var s=a.seriesIndex,o=a.dataIndex,l=i.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||l==null)){var u=i.getSeriesByIndex(s);if(u){var c=u.getData(),f=LM([c.getItemModel(o),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return r.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:a.position}),!0}}},e.prototype._tryShow=function(t,i){var r=t.target,a=this._tooltipModel;if(a){this._lastX=t.offsetX,this._lastY=t.offsetY;var s=t.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,t);else if(r){var o=jt(r);if(o.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Z0(r,function(c){if(c.tooltipDisabled)return l=u=null,!0;l||u||(jt(c).dataIndex!=null?l=c:jt(c).tooltipConfig!=null&&(u=c))},!0),l?this._showSeriesItemTooltip(t,l,i):u?this._showComponentItemTooltip(t,u,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},e.prototype._showOrMove=function(t,i){var r=t.get("showDelay");i=ct(i,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(i,r):i()},e.prototype._showAxisTooltip=function(t,i){var r=this._ecModel,a=this._tooltipModel,s=[i.offsetX,i.offsetY],o=LM([i.tooltipOption],a),l=this._renderMode,u=[],c=pa("section",{blocks:[],noHeader:!0}),f=[],h=new m5;Z(t,function(b){Z(b.dataByAxis,function(M){var C=r.getComponent(M.axisDim+"Axis",M.axisIndex),w=M.value;if(!(!C||w==null)){var E=ipe(w,C.axis,r,M.seriesDataIndices,M.valueLabelOpt),L=pa("section",{header:E,noHeader:!Wl(E),sortBlocks:!0,blocks:[]});c.blocks.push(L),Z(M.seriesDataIndices,function(P){var I=r.getSeriesByIndex(P.seriesIndex),N=P.dataIndexInside,z=I.getDataParams(N);if(!(z.dataIndex<0)){z.axisDim=M.axisDim,z.axisIndex=M.axisIndex,z.axisType=M.axisType,z.axisId=M.axisId,z.axisValue=BL(C.axis,{value:w}),z.axisValueLabel=E,z.marker=h.makeTooltipMarker("item",By(z.color),l);var V=Rq(I.formatTooltip(N,!0,null)),U=V.frag;if(U){var j=LM([I],a).get("valueFormatter");L.blocks.push(j?Ie({valueFormatter:j},U):U)}V.text&&f.push(V.text),u.push(z)}})}})}),c.blocks.reverse(),f.reverse();var d=i.position,v=o.get("order"),m=Oq(c,h,l,v,r.get("useUTC"),o.get("textStyle"));m&&f.unshift(m);var y=l==="richText"?`

`:"<br/>",x=f.join(y);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(o,d,s[0],s[1],this._tooltipContent,u):this._showTooltipContent(o,x,u,Math.random()+"",s[0],s[1],d,null,h)})},e.prototype._showSeriesItemTooltip=function(t,i,r){var a=this._ecModel,s=jt(i),o=s.seriesIndex,l=a.getSeriesByIndex(o),u=s.dataModel||l,c=s.dataIndex,f=s.dataType,h=u.getData(f),d=this._renderMode,v=t.positionDefault,m=LM([h.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),y=m.get("trigger");if(!(y!=null&&y!=="item")){var x=u.getDataParams(c,f),b=new m5;x.marker=b.makeTooltipMarker("item",By(x.color),d);var M=Rq(u.formatTooltip(c,!1,f)),C=m.get("order"),w=m.get("valueFormatter"),E=M.frag,L=E?Oq(w?Ie({valueFormatter:w},E):E,b,d,C,a.get("useUTC"),m.get("textStyle")):M.text,P="item_"+u.name+"_"+c;this._showOrMove(m,function(){this._showTooltipContent(m,L,x,P,t.offsetX,t.offsetY,t.position,t.target,b)}),r({type:"showTip",dataIndexInside:c,dataIndex:h.getRawIndex(c),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,i,r){var a=this._renderMode==="html",s=jt(i),o=s.tooltipConfig,l=o.option||{},u=l.encodeHTMLContent;if(ot(l)){var c=l;l={content:c,formatter:c},u=!0}u&&a&&l.content&&(l=Nt(l),l.content=so(l.content));var f=[l],h=this._ecModel.getComponent(s.componentMainType,s.componentIndex);h&&f.push(h),f.push({formatter:l.content});var d=t.positionDefault,v=LM(f,this._tooltipModel,d?{position:d}:null),m=v.get("content"),y=Math.random()+"",x=new m5;this._showOrMove(v,function(){var b=Nt(v.get("formatterParams")||{});this._showTooltipContent(v,m,b,y,t.offsetX,t.offsetY,t.position,i,x)}),r({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,i,r,a,s,o,l,u,c){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var f=this._tooltipContent;f.setEnterable(t.get("enterable"));var h=t.get("formatter");l=l||t.get("position");var d=i,v=this._getNearestPoint([s,o],r,t.get("trigger"),t.get("borderColor"),t.get("defaultBorderColor",!0)),m=v.color;if(h)if(ot(h)){var y=t.ecModel.get("useUTC"),x=Ve(r)?r[0]:r,b=x&&x.axisType&&x.axisType.indexOf("time")>=0;d=h,b&&(d=FC(x.axisValue,d,y)),d=R6(d,r,!0)}else if(wt(h)){var M=ct(function(C,w){C===this._ticket&&(f.setContent(w,c,t,m,l),this._updatePosition(t,l,s,o,f,r,u))},this);this._ticket=a,d=h(r,a,M)}else d=h;f.setContent(d,c,t,m,l),f.show(t,m),this._updatePosition(t,l,s,o,f,r,u)}},e.prototype._getNearestPoint=function(t,i,r,a,s){if(r==="axis"||Ve(i))return{color:a||s};if(!Ve(i))return{color:a||i.color||i.borderColor}},e.prototype._updatePosition=function(t,i,r,a,s,o,l){var u=this._api.getWidth(),c=this._api.getHeight();i=i||t.get("position");var f=s.getSize(),h=t.get("align"),d=t.get("verticalAlign"),v=l&&l.getBoundingRect().clone();if(l&&v.applyTransform(l.transform),wt(i)&&(i=i([r,a],o,s.el,v,{viewSize:[u,c],contentSize:f.slice()})),Ve(i))r=st(i[0],u),a=st(i[1],c);else if(Ot(i)){var m=i;m.width=f[0],m.height=f[1];var y=Ji(m,{width:u,height:c});r=y.x,a=y.y,h=null,d=null}else if(ot(i)&&l){var x=Wje(i,v,f,t.get("borderWidth"));r=x[0],a=x[1]}else{var x=jje(r,a,s,u,c,h?null:20,d?null:20);r=x[0],a=x[1]}if(h&&(r-=v$(h)?f[0]/2:h==="right"?f[0]:0),d&&(a-=v$(d)?f[1]/2:d==="bottom"?f[1]:0),Spe(t)){var x=Hje(r,a,s,u,c);r=x[0],a=x[1]}s.moveTo(r,a)},e.prototype._updateContentNotChangedOnAxis=function(t,i){var r=this._lastDataByCoordSys,a=this._cbParamsList,s=!!r&&r.length===t.length;return s&&Z(r,function(o,l){var u=o.dataByAxis||[],c=t[l]||{},f=c.dataByAxis||[];s=s&&u.length===f.length,s&&Z(u,function(h,d){var v=f[d]||{},m=h.seriesDataIndices||[],y=v.seriesDataIndices||[];s=s&&h.value===v.value&&h.axisType===v.axisType&&h.axisId===v.axisId&&m.length===y.length,s&&Z(m,function(x,b){var M=y[b];s=s&&x.seriesIndex===M.seriesIndex&&x.dataIndex===M.dataIndex}),a&&Z(h.seriesDataIndices,function(x){var b=x.seriesIndex,M=i[b],C=a[b];M&&C&&C.data!==M.data&&(s=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=i,!!s},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,i){wn.node||!i.getDom()||(FT(this,"_updatePosition"),this._tooltipContent.dispose(),h8("itemTooltip",i))},e.type="tooltip",e})(Bi);function LM(n,e,t){var i=e.ecModel,r;t?(r=new Sn(t,i,i),r=new Sn(e.option,r,i)):r=e;for(var a=n.length-1;a>=0;a--){var s=n[a];s&&(s instanceof Sn&&(s=s.get("tooltip",!0)),ot(s)&&(s={formatter:s}),s&&(r=new Sn(s,r,i)))}return r}function p$(n,e){return n.dispatchAction||ct(e.dispatchAction,e)}function jje(n,e,t,i,r,a,s){var o=t.getSize(),l=o[0],u=o[1];return a!=null&&(n+l+a+2>i?n-=l+a:n+=a),s!=null&&(e+u+s>r?e-=u+s:e+=s),[n,e]}function Hje(n,e,t,i,r){var a=t.getSize(),s=a[0],o=a[1];return n=Math.min(n+s,i)-s,e=Math.min(e+o,r)-o,n=Math.max(n,0),e=Math.max(e,0),[n,e]}function Wje(n,e,t,i){var r=t[0],a=t[1],s=Math.ceil(Math.SQRT2*i)+8,o=0,l=0,u=e.width,c=e.height;switch(n){case"inside":o=e.x+u/2-r/2,l=e.y+c/2-a/2;break;case"top":o=e.x+u/2-r/2,l=e.y-a-s;break;case"bottom":o=e.x+u/2-r/2,l=e.y+c+s;break;case"left":o=e.x-r-s,l=e.y+c/2-a/2;break;case"right":o=e.x+u+s,l=e.y+c/2-a/2}return[o,l]}function v$(n){return n==="center"||n==="middle"}function Xje(n,e,t){var i=QV(n).queryOptionMap,r=i.keys()[0];if(!(!r||r==="series")){var a=tS(e,r,i.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}),s=a.models[0];if(s){var o=t.getViewOfComponentModel(s),l;if(o.group.traverse(function(u){var c=jt(u).tooltipConfig;if(c&&c.name===n.name)return l=u,!0}),l)return{componentMainType:r,componentIndex:s.componentIndex,el:l}}}}function Yje(n){cn(qC),n.registerComponentModel(Dje),n.registerComponentView(Vje),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Or),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Or)}var qje=["rect","polygon","keep","clear"];function Zje(n,e){var t=Pi(n?n.brush:[]);if(t.length){var i=[];Z(t,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(i=i.concat(u))});var r=n&&n.toolbox;Ve(r)&&(r=r[0]),r||(r={feature:{}},n.toolbox=[r]);var a=r.feature||(r.feature={}),s=a.brush||(a.brush={}),o=s.type||(s.type=[]);o.push.apply(o,i),Kje(o),e&&!o.length&&o.push.apply(o,qje)}}function Kje(n){var e={};Z(n,function(t){e[t]=1}),n.length=0,Z(e,function(t,i){n.push(i)})}var m$=Z;function g$(n){if(n){for(var e in n)if(n.hasOwnProperty(e))return!0}}function b8(n,e,t){var i={};return m$(e,function(a){var s=i[a]=r();m$(n[a],function(o,l){if(Ha.isValidType(l)){var u={type:l,visual:o};t&&t(u,a),s[l]=new Ha(u),l==="opacity"&&(u=Nt(u),u.type="colorAlpha",s.__hidden.__alphaForOpacity=new Ha(u))}})}),i;function r(){var a=function(){};a.prototype.__hidden=a.prototype;var s=new a;return s}}function Cpe(n,e,t){var i;Z(t,function(r){e.hasOwnProperty(r)&&g$(e[r])&&(i=!0)}),i&&Z(t,function(r){e.hasOwnProperty(r)&&g$(e[r])?n[r]=Nt(e[r]):delete n[r]})}function Jje(n,e,t,i,r,a){var s={};Z(n,function(f){var h=Ha.prepareVisualTypes(e[f]);s[f]=h});var o;function l(f){return U6(t,o,f)}function u(f,h){Ace(t,o,f,h)}t.each(c);function c(f,h){o=f;var d=t.getRawDataItem(o);if(!(d&&d.visualMap===!1))for(var v=i.call(r,f),m=e[v],y=s[v],x=0,b=y.length;x<b;x++){var M=y[x];m[M]&&m[M].applyVisual(f,l,u)}}}function Qje(n,e,t,i){var r={};return Z(n,function(a){var s=Ha.prepareVisualTypes(e[a]);r[a]=s}),{progress:function(s,o){var l;i!=null&&(l=o.getDimensionIndex(i));function u(w){return U6(o,f,w)}function c(w,E){Ace(o,f,w,E)}for(var f,h=o.getStore();(f=s.next())!=null;){var d=o.getRawDataItem(f);if(!(d&&d.visualMap===!1))for(var v=i!=null?h.get(l,f):f,m=t(v),y=e[m],x=r[m],b=0,M=x.length;b<M;b++){var C=x[b];y[C]&&y[C].applyVisual(v,u,c)}}}}}function $je(n){var e=n.brushType,t={point:function(i){return y$[e].point(i,t,n)},rect:function(i){return y$[e].rect(i,t,n)}};return t}var y$={lineX:x$(0),lineY:x$(1),rect:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])},rect:function(n,e,t){return n&&t.boundingRect.intersect(n)}},polygon:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])&&O0(t.range,n[0],n[1])},rect:function(n,e,t){var i=t.range;if(!n||i.length<=1)return!1;var r=n.x,a=n.y,s=n.width,o=n.height,l=i[0];if(O0(i,r,a)||O0(i,r+s,a)||O0(i,r,a+o)||O0(i,r+s,a+o)||Ut.create(n).contain(l[0],l[1])||l2(r,a,r+s,a,i)||l2(r,a,r,a+o,i)||l2(r+s,a,r+s,a+o,i)||l2(r,a+o,r+s,a+o,i))return!0}}};function x$(n){var e=["x","y"],t=["width","height"];return{point:function(i,r,a){if(i){var s=a.range,o=i[n];return NM(o,s)}},rect:function(i,r,a){if(i){var s=a.range,o=[i[e[n]],i[e[n]]+i[t[n]]];return o[1]<o[0]&&o.reverse(),NM(o[0],s)||NM(o[1],s)||NM(s[0],o)||NM(s[1],o)}}}}function NM(n,e){return e[0]<=n&&n<=e[1]}var _$=["inBrush","outOfBrush"],O4="__ecBrushSelect",S8="__ecInBrushSelectEvent";function wpe(n){n.eachComponent({mainType:"brush"},function(e){var t=e.brushTargetManager=new oj(e.option,n);t.setInputRanges(e.areas,n)})}function eHe(n,e,t){var i=[],r,a;n.eachComponent({mainType:"brush"},function(s){t&&t.type==="takeGlobalCursor"&&s.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),wpe(n),n.eachComponent({mainType:"brush"},function(s,o){var l={brushId:s.id,brushIndex:o,brushName:s.name,areas:Nt(s.areas),selected:[]};i.push(l);var u=s.option,c=u.brushLink,f=[],h=[],d=[],v=!1;o||(r=u.throttleType,a=u.throttleDelay);var m=We(s.areas,function(w){var E=rHe[w.brushType],L=Bt({boundingRect:E?E(w):void 0},w);return L.selectors=$je(L),L}),y=b8(s.option,_$,function(w){w.mappingMethod="fixed"});Ve(c)&&Z(c,function(w){f[w]=1});function x(w){return c==="all"||!!f[w]}function b(w){return!!w.length}n.eachSeries(function(w,E){var L=d[E]=[];w.subType==="parallel"?M(w,E):C(w,E,L)});function M(w,E){var L=w.coordinateSystem;v=v||L.hasAxisBrushed(),x(E)&&L.eachActiveState(w.getData(),function(P,I){P==="active"&&(h[I]=1)})}function C(w,E,L){if(!(!w.brushSelector||iHe(s,E))&&(Z(m,function(I){s.brushTargetManager.controlSeries(I,w,n)&&L.push(I),v=v||b(L)}),x(E)&&b(L))){var P=w.getData();P.each(function(I){b$(w,L,P,I)&&(h[I]=1)})}}n.eachSeries(function(w,E){var L={seriesId:w.id,seriesIndex:E,seriesName:w.name,dataIndex:[]};l.selected.push(L);var P=d[E],I=w.getData(),N=x(E)?function(z){return h[z]?(L.dataIndex.push(I.getRawIndex(z)),"inBrush"):"outOfBrush"}:function(z){return b$(w,P,I,z)?(L.dataIndex.push(I.getRawIndex(z)),"inBrush"):"outOfBrush"};(x(E)?v:b(P))&&Jje(_$,y,I,N)})}),tHe(e,r,a,i,t)}function tHe(n,e,t,i,r){if(r){var a=n.getZr();if(!a[S8]){a[O4]||(a[O4]=nHe);var s=hS(a,O4,t,e);s(n,i)}}}function nHe(n,e){if(!n.isDisposed()){var t=n.getZr();t[S8]=!0,n.dispatchAction({type:"brushSelect",batch:e}),t[S8]=!1}}function b$(n,e,t,i){for(var r=0,a=e.length;r<a;r++){var s=e[r];if(n.brushSelector(i,t,s.selectors,s))return!0}}function iHe(n,e){var t=n.option.seriesIndex;return t!=null&&t!=="all"&&(Ve(t)?rn(t,e)<0:e!==t)}var rHe={rect:function(n){return S$(n.range)},polygon:function(n){for(var e,t=n.range,i=0,r=t.length;i<r;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=t[i];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&S$(e)}};function S$(n){return new Ut(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var aHe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,i){this.ecModel=t,this.api=i,this.model,(this._brushController=new N9(i.getZr())).on("brush",ct(this._onBrush,this)).mount()},e.prototype.render=function(t,i,r,a){this.model=t,this._updateController(t,i,r,a)},e.prototype.updateTransform=function(t,i,r,a){wpe(i),this._updateController(t,i,r,a)},e.prototype.updateVisual=function(t,i,r,a){this.updateTransform(t,i,r,a)},e.prototype.updateView=function(t,i,r,a){this._updateController(t,i,r,a)},e.prototype._updateController=function(t,i,r,a){(!a||a.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(r)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var i=this.model.id,r=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:Nt(r),$from:i}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:Nt(r),$from:i})},e.type="brush",e})(Bi),sHe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return e.prototype.optionUpdated=function(t,i){var r=this.option;!i&&Cpe(r,t,["inBrush","outOfBrush"]);var a=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:this.option.defaultOutOfBrushColor},a.hasOwnProperty("liftZ")||(a.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=We(t,function(i){return A$(this.option,i)},this))},e.prototype.setBrushOption=function(t){this.brushOption=A$(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:xe.color.backgroundTint,borderColor:xe.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:xe.color.disabled},e})(xn);function A$(n,e){return an({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new Sn(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},e,!0)}var oHe=["rect","polygon","lineX","lineY","keep","clear"],lHe=(function(n){me(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,i,r){var a,s,o;i.eachComponent({mainType:"brush"},function(l){a=l.brushType,s=l.brushOption.brushMode||"single",o=o||!!l.areas.length}),this._brushType=a,this._brushMode=s,Z(t.get("type",!0),function(l){t.setIconStatus(l,(l==="keep"?s==="multiple":l==="clear"?o:l===a)?"emphasis":"normal")})},e.prototype.updateView=function(t,i,r){this.render(t,i,r)},e.prototype.getIcons=function(){var t=this.model,i=t.get("icon",!0),r={};return Z(t.get("type",!0),function(a){i[a]&&(r[a]=i[a])}),r},e.prototype.onclick=function(t,i,r){var a=this._brushType,s=this._brushMode;r==="clear"?(i.dispatchAction({type:"axisAreaSelect",intervals:[]}),i.dispatchAction({type:"brush",command:"clear",areas:[]})):i.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:r==="keep"?a:a===r?!1:r,brushMode:r==="keep"?s==="multiple"?"single":"multiple":s}})},e.getDefaultOption=function(t){var i={show:!0,type:oHe.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return i},e})(Gu);function uHe(n){n.registerComponentView(aHe),n.registerComponentModel(sHe),n.registerPreprocessor(Zje),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,eHe),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(i){i.setAreas(e.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Or),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Or),y1("brush",lHe)}var cHe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:xe.size.m,backgroundColor:xe.color.transparent,borderColor:xe.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:xe.color.primary},subtextStyle:{fontSize:12,color:xe.color.quaternary}},e})(xn),fHe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){if(this.group.removeAll(),!!t.get("show")){var a=this.group,s=t.getModel("textStyle"),o=t.getModel("subtextStyle"),l=t.get("textAlign"),u=At(t.get("textBaseline"),t.get("textVerticalAlign")),c=new In({style:Ii(s,{text:t.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),h=t.get("subtext"),d=new In({style:Ii(o,{text:h,fill:o.getTextColor(),y:f.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=t.get("link"),m=t.get("sublink"),y=t.get("triggerEvent",!0);c.silent=!v&&!y,d.silent=!m&&!y,v&&c.on("click",function(){ML(v,"_"+t.get("target"))}),m&&d.on("click",function(){ML(m,"_"+t.get("subtarget"))}),jt(c).eventData=jt(d).eventData=y?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(c),h&&a.add(d);var x=a.getBoundingRect(),b=t.getBoxLayoutParams();b.width=x.width,b.height=x.height;var M=Na(t,r),C=Ji(b,M.refContainer,t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?C.x+=C.width:l==="center"&&(C.x+=C.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?C.y+=C.height:u==="middle"&&(C.y+=C.height/2),u=u||"top"),a.x=C.x,a.y=C.y,a.markRedraw();var w={align:l,verticalAlign:u};c.setStyle(w),d.setStyle(w),x=a.getBoundingRect();var E=C.margin,L=t.getItemStyle(["color","opacity"]);L.fill=t.get("backgroundColor");var P=new pn({shape:{x:x.x-E[3],y:x.y-E[0],width:x.width+E[1]+E[3],height:x.height+E[0]+E[2],r:t.get("borderRadius")},style:L,subPixelOptimize:!0,silent:!0});a.add(P)}},e.type="title",e})(Bi);function hHe(n){n.registerComponentModel(cHe),n.registerComponentView(fHe)}var M$=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),this._initData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var i=this._data.count();this.option.loop?t=(t%i+i)%i:(t>=i&&(t=i-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,i=t.data||[],r=t.axisType,a=this._names=[],s;r==="category"?(s=[],Z(i,function(u,c){var f=Ea(eS(u),""),h;Ot(u)?(h=Nt(u),h.value=c):h=c,s.push(h),a.push(f)})):s=i;var o={category:"ordinal",time:"time",value:"number"}[r]||"number",l=this._data=new fo([{name:"value",type:o}],this);l.initData(s,a)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:xe.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:xe.color.secondary},data:[]},e})(xn),Epe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=Om(M$.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:xe.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:xe.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:xe.color.tertiary},itemStyle:{color:xe.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:xe.color.accent50,borderColor:xe.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:xe.color.accent50,borderColor:xe.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:xe.color.accent60},itemStyle:{color:xe.color.accent60,borderColor:xe.color.accent60},controlStyle:{color:xe.color.accent70,borderColor:xe.color.accent70}},progress:{lineStyle:{color:xe.color.accent30},itemStyle:{color:xe.color.accent40}},data:[]}),e})(M$);kr(Epe,QI.prototype);var dHe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e})(Bi),pHe=(function(n){me(e,n);function e(t,i,r,a){var s=n.call(this,t,i,r)||this;return s.type=a||"value",s}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e})(oc),z4=Math.PI,T$=_n(),vHe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,i){this.api=i},e.prototype.render=function(t,i,r){if(this.model=t,this.api=r,this.ecModel=i,this.group.removeAll(),t.get("show",!0)){var a=this._layout(t,r),s=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,t);t.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return pa("nameValue",{noName:!0,value:c})},Z(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,s,l,t)},this),this._renderAxisLabel(a,o,l,t),this._position(a,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,i){var r=t.get(["label","position"]),a=t.get("orient"),s=gHe(t,i),o;r==null||r==="auto"?o=a==="horizontal"?s.y+s.height/2<i.getHeight()/2?"-":"+":s.x+s.width/2<i.getWidth()/2?"+":"-":ot(r)?o={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][r]:o=r;var l={horizontal:"center",vertical:o>=0||o==="+"?"left":"right"},u={horizontal:o>=0||o==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:z4/2},f=a==="vertical"?s.height:s.width,h=t.getModel("controlStyle"),d=h.get("show",!0),v=d?h.get("itemSize"):0,m=d?h.get("itemGap"):0,y=v+m,x=t.get(["label","rotate"])||0;x=x*z4/180;var b,M,C,w=h.get("position",!0),E=d&&h.get("showPlayBtn",!0),L=d&&h.get("showPrevBtn",!0),P=d&&h.get("showNextBtn",!0),I=0,N=f;w==="left"||w==="bottom"?(E&&(b=[0,0],I+=y),L&&(M=[I,0],I+=y),P&&(C=[N-v,0],N-=y)):(E&&(b=[N-v,0],N-=y),L&&(M=[0,0],I+=y),P&&(C=[N-v,0],N-=y));var z=[I,N];return t.get("inverse")&&z.reverse(),{viewRect:s,mainLength:f,orient:a,rotation:c[a],labelRotation:x,labelPosOpt:o,labelAlign:t.get(["label","align"])||l[a],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||u[a],playPosition:b,prevBtnPosition:M,nextBtnPosition:C,axisExtent:z,controlSize:v,controlGap:m}},e.prototype._position=function(t,i){var r=this._mainGroup,a=this._labelGroup,s=t.viewRect;if(t.orient==="vertical"){var o=ja(),l=s.x,u=s.y+s.height;af(o,o,[-l,-u]),Lp(o,o,-z4/2),af(o,o,[l,u]),s=s.clone(),s.applyTransform(o)}var c=b(s),f=b(r.getBoundingRect()),h=b(a.getBoundingRect()),d=[r.x,r.y],v=[a.x,a.y];v[0]=d[0]=c[0][0];var m=t.labelPosOpt;if(m==null||ot(m)){var y=m==="+"?0:1;M(d,f,c,1,y),M(v,h,c,1,1-y)}else{var y=m>=0?0:1;M(d,f,c,1,y),v[1]=d[1]+m}r.setPosition(d),a.setPosition(v),r.rotation=a.rotation=t.rotation,x(r),x(a);function x(C){C.originX=c[0][0]-C.x,C.originY=c[1][0]-C.y}function b(C){return[[C.x,C.x+C.width],[C.y,C.y+C.height]]}function M(C,w,E,L,P){C[L]+=E[L][P]-w[L][P]}},e.prototype._createAxis=function(t,i){var r=i.getData(),a=i.get("axisType"),s=mHe(i,a);s.getTicks=function(){return r.mapArray(["value"],function(u){return{value:u}})};var o=r.getDataExtent("value");s.setExtent(o[0],o[1]),s.calcNiceTicks();var l=new pHe("value",s,t.axisExtent,a);return l.model=i,l},e.prototype._createGroup=function(t){var i=this[t]=new It;return this.group.add(i),i},e.prototype._renderAxisLine=function(t,i,r,a){var s=r.getExtent();if(a.get(["lineStyle","show"])){var o=new Qr({shape:{x1:s[0],y1:0,x2:s[1],y2:0},style:Ie({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});i.add(o);var l=this._progressLine=new Qr({shape:{x1:s[0],x2:this._currentPointer?this._currentPointer.x:s[0],y1:0,y2:0},style:Bt({lineCap:"round",lineWidth:o.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});i.add(l)}},e.prototype._renderAxisTick=function(t,i,r,a){var s=this,o=a.getData(),l=r.scale.getTicks();this._tickSymbols=[],Z(l,function(u){var c=r.dataToCoord(u.value),f=o.getItemModel(u.value),h=f.getModel("itemStyle"),d=f.getModel(["emphasis","itemStyle"]),v=f.getModel(["progress","itemStyle"]),m={x:c,y:0,onclick:ct(s._changeTimeline,s,u.value)},y=C$(f,h,i,m);y.ensureState("emphasis").style=d.getItemStyle(),y.ensureState("progress").style=v.getItemStyle(),om(y);var x=jt(y);f.get("tooltip")?(x.dataIndex=u.value,x.dataModel=a):x.dataIndex=x.dataModel=null,s._tickSymbols.push(y)})},e.prototype._renderAxisLabel=function(t,i,r,a){var s=this,o=r.getLabelModel();if(o.get("show")){var l=a.getData(),u=r.getViewLabels();this._tickLabels=[],Z(u,function(c){var f=c.tickValue,h=l.getItemModel(f),d=h.getModel("label"),v=h.getModel(["emphasis","label"]),m=h.getModel(["progress","label"]),y=r.dataToCoord(c.tickValue),x=new In({x:y,y:0,rotation:t.labelRotation-t.rotation,onclick:ct(s._changeTimeline,s,f),silent:!1,style:Ii(d,{text:c.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});x.ensureState("emphasis").style=Ii(v),x.ensureState("progress").style=Ii(m),i.add(x),om(x),T$(x).dataIndex=f,s._tickLabels.push(x)})}},e.prototype._renderControl=function(t,i,r,a){var s=t.controlSize,o=t.rotation,l=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),c=a.getPlayState(),f=a.get("inverse",!0);h(t.nextBtnPosition,"next",ct(this._changeTimeline,this,f?"-":"+")),h(t.prevBtnPosition,"prev",ct(this._changeTimeline,this,f?"+":"-")),h(t.playPosition,c?"stop":"play",ct(this._handlePlayClick,this,!c),!0);function h(d,v,m,y){if(d){var x=sf(At(a.get(["controlStyle",v+"BtnSize"]),s),s),b=[0,-x/2,x,x],M=yHe(a,v+"Icon",b,{x:d[0],y:d[1],originX:s/2,originY:0,rotation:y?-o:0,rectHover:!0,style:l,onclick:m});M.ensureState("emphasis").style=u,i.add(M),om(M)}}},e.prototype._renderCurrentPointer=function(t,i,r,a){var s=a.getData(),o=a.getCurrentIndex(),l=s.getItemModel(o).getModel("checkpointStyle"),u=this,c={onCreate:function(f){f.draggable=!0,f.drift=ct(u._handlePointerDrag,u),f.ondragend=ct(u._handlePointerDragend,u),w$(f,u._progressLine,o,r,a,!0)},onUpdate:function(f){w$(f,u._progressLine,o,r,a)}};this._currentPointer=C$(l,l,this._mainGroup,{},this._currentPointer,c)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,i,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,i){var r=this._toAxisCoord(t)[0],a=this._axis,s=Xl(a.getExtent().slice());r>s[1]&&(r=s[1]),r<s[0]&&(r=s[0]),this._currentPointer.x=r,this._currentPointer.markRedraw();var o=this._progressLine;o&&(o.shape.x2=r,o.dirty());var l=this._findNearestTick(r),u=this.model;(i||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var i=t.model;t._changeTimeline(i.getCurrentIndex()+(i.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var i=this._mainGroup.getLocalTransform();return $c(t,i,!0)},e.prototype._findNearestTick=function(t){var i=this.model.getData(),r=1/0,a,s=this._axis;return i.each(["value"],function(o,l){var u=s.dataToCoord(o),c=Math.abs(u-t);c<r&&(r=c,a=l)}),a},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var i=this.model.getCurrentIndex();t==="+"?t=i+1:t==="-"&&(t=i-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),i=this._tickSymbols,r=this._tickLabels;if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",a<t);if(r)for(var a=0;a<r.length;a++)r&&r[a]&&r[a].toggleState("progress",T$(r[a]).dataIndex<=t)},e.type="timeline.slider",e})(dHe);function mHe(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new gb({ordinalMeta:n.getCategories(),extent:[1/0,-1/0]});case"time":return new n9({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new Tp}}function gHe(n,e){return Ji(n.getBoxLayoutParams(),Na(n,e).refContainer,n.get("padding"))}function yHe(n,e,t,i){var r=i.style,a=sS(n.get(["controlStyle",e]),i||{},new Ut(t[0],t[1],t[2],t[3]));return r&&a.setStyle(r),a}function C$(n,e,t,i,r,a){var s=e.get("color");if(r)r.setColor(s),t.add(r),a&&a.onUpdate(r);else{var o=n.get("symbol");r=$r(o,-1,-1,2,2,s),r.setStyle("strokeNoScale",!0),t.add(r),a&&a.onCreate(r)}var l=e.getItemStyle(["color"]);r.setStyle(l),i=an({rectHover:!0,z2:100},i,!0);var u=dS(n.get("symbolSize"));i.scaleX=u[0]/2,i.scaleY=u[1]/2;var c=Qy(n.get("symbolOffset"),u);c&&(i.x=(i.x||0)+c[0],i.y=(i.y||0)+c[1]);var f=n.get("symbolRotate");return i.rotation=(f||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function w$(n,e,t,i,r,a){if(!n.dragging){var s=r.getModel("checkpointStyle"),o=i.dataToCoord(r.getData().get("value",t));if(a||!s.get("animation",!0))n.attr({x:o,y:0}),e&&e.attr({shape:{x2:o}});else{var l={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:o,y:0},l),e&&e.animateTo({shape:{x2:o}},l)}}}function xHe(n){n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,i){var r=t.getComponent("timeline");return r&&e.currentIndex!=null&&(r.setCurrentIndex(e.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.getPlayState()&&(r.setPlayState(!1),i.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:r.get("replaceMerge",!0)}),Bt({currentIndex:r.option.currentIndex},e)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var i=t.getComponent("timeline");i&&e.playState!=null&&i.setPlayState(e.playState)})}function _He(n){var e=n&&n.timeline;Ve(e)||(e=e?[e]:[]),Z(e,function(t){t&&bHe(t)})}function bHe(n){var e=n.type,t={number:"value",time:"time"};if(t[e]&&(n.axisType=t[e],delete n.type),E$(n),F0(n,"controlPosition")){var i=n.controlStyle||(n.controlStyle={});F0(i,"position")||(i.position=n.controlPosition),i.position==="none"&&!F0(i,"show")&&(i.show=!1,delete i.position),delete n.controlPosition}Z(n.data||[],function(r){Ot(r)&&!Ve(r)&&(!F0(r,"value")&&F0(r,"name")&&(r.value=r.name),E$(r))})}function E$(n){var e=n.itemStyle||(n.itemStyle={}),t=e.emphasis||(e.emphasis={}),i=n.label||n.label||{},r=i.normal||(i.normal={}),a={normal:1,emphasis:1};Z(i,function(s,o){!a[o]&&!F0(r,o)&&(r[o]=s)}),t.label&&!F0(i,"emphasis")&&(i.emphasis=t.label,delete t.label)}function F0(n,e){return n.hasOwnProperty(e)}function SHe(n){n.registerComponentModel(Epe),n.registerComponentView(vHe),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),xHe(n),n.registerPreprocessor(_He)}function cj(n,e){if(!n)return!1;for(var t=Ve(n)?n:[n],i=0;i<t.length;i++)if(t[i]&&t[i][e])return!0;return!1}function WD(n){Dy(n,"label",["show"])}var XD=_n(),Oh=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t.preventAutoZ=!0,t}return e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),this._mergeOption(t,r,!1,!0)},e.prototype.isAnimationEnabled=function(){if(wn.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,i){this._mergeOption(t,i,!1,!1)},e.prototype._mergeOption=function(t,i,r,a){var s=this.mainType;r||i.eachSeries(function(o){var l=o.get(this.mainType,!0),u=XD(o)[s];if(!l||!l.data){XD(o)[s]=null;return}u?u._mergeOption(l,i,!0):(a&&WD(l),Z(l.data,function(c){c instanceof Array?(WD(c[0]),WD(c[1])):WD(c)}),u=this.createMarkerModelFromSeries(l,this,i),Ie(u,{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),u.__hostSeries=o),XD(o)[s]=u},this)},e.prototype.formatTooltip=function(t,i,r){var a=this.getData(),s=this.getRawValue(t),o=a.getName(t);return pa("section",{header:this.name,blocks:[pa("nameValue",{name:o,value:s,noName:!o,noValue:s==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,i){var r=QI.prototype.getDataParams.call(this,t,i),a=this.__hostSeries;return a&&(r.seriesId=a.id,r.seriesName=a.name,r.seriesType=a.subType),r},e.getMarkerModelFromSeries=function(t,i){return XD(t)[i]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e})(xn);kr(Oh,QI.prototype);var AHe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e})(Oh);function A8(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function MHe(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}function YD(n,e,t,i,r,a,s){var o=[],l=Mp(e,r),u=l?e.getCalculationInfo("stackResultDimension"):r,c=aN(e,u,n),f=e.hostModel,h=f.indicesOfNearest(t,u,c)[0];o[a]=e.get(i,h),o[s]=e.get(u,h);var d=e.get(r,h),v=Yc(e.get(r,h));return v=Math.min(v,20),v>=0&&(o[s]=+o[s].toFixed(v)),[o,d]}var qD={min:$t(YD,"min"),max:$t(YD,"max"),average:$t(YD,"average"),median:$t(YD,"median")};function tC(n,e){if(e){var t=n.getData(),i=n.coordinateSystem,r=i&&i.dimensions;if(!MHe(e)&&!Ve(e.coord)&&Ve(r)){var a=Dpe(e,t,i,n);if(e=Nt(e),e.type&&qD[e.type]&&a.baseAxis&&a.valueAxis){var s=rn(r,a.baseAxis.dim),o=rn(r,a.valueAxis.dim),l=qD[e.type](t,a.valueAxis.dim,a.baseDataDim,a.valueDataDim,s,o);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!Ve(r)){e.coord=[];var u=n.getBaseAxis();if(u&&e.type&&qD[e.type]){var c=i.getOtherAxis(u);c&&(e.value=aN(t,t.mapDimension(c.dim),e.type))}}else for(var f=e.coord,h=0;h<2;h++)qD[f[h]]&&(f[h]=aN(t,t.mapDimension(r[h]),f[h]));return e}}function Dpe(n,e,t,i){var r={};return n.valueIndex!=null||n.valueDim!=null?(r.valueDataDim=n.valueIndex!=null?e.getDimension(n.valueIndex):n.valueDim,r.valueAxis=t.getAxis(THe(i,r.valueDataDim)),r.baseAxis=t.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=t.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function THe(n,e){var t=n.getData().getDimensionInfo(e);return t&&t.coordDim}function nC(n,e){return n&&n.containData&&e.coord&&!A8(e)?n.containData(e.coord):!0}function CHe(n,e,t){return n&&n.containZone&&e.coord&&t.coord&&!A8(e)&&!A8(t)?n.containZone(e.coord,t.coord):!0}function Rpe(n,e){return n?function(t,i,r,a){var s=a<2?t.coord&&t.coord[a]:t.value;return cm(s,e[a])}:function(t,i,r,a){return cm(t.value,e[a])}}function aN(n,e,t){if(t==="average"){var i=0,r=0;return n.each(e,function(a,s){isNaN(a)||(i+=a,r++)}),i/r}else return t==="median"?n.getMedian(e):n.getDataExtent(e)[t==="max"?1:0]}var k4=_n(),fj=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this.markerGroupMap=bt()},e.prototype.render=function(t,i,r){var a=this,s=this.markerGroupMap;s.each(function(o){k4(o).keep=!1}),i.eachSeries(function(o){var l=Oh.getMarkerModelFromSeries(o,a.type);l&&a.renderSeries(o,l,i,r)}),s.each(function(o){!k4(o).keep&&a.group.remove(o.group)}),wHe(i,s,this.type)},e.prototype.markKeep=function(t){k4(t).keep=!0},e.prototype.toggleBlurSeries=function(t,i){var r=this;Z(t,function(a){var s=Oh.getMarkerModelFromSeries(a,r.type);if(s){var o=s.getData();o.eachItemGraphicEl(function(l){l&&(i?Wle(l):s6(l))})}})},e.type="marker",e})(Bi);function wHe(n,e,t){n.eachSeries(function(i){var r=Oh.getMarkerModelFromSeries(i,t),a=e.get(i.id);if(r&&a&&a.group){var s=Py(r),o=s.z,l=s.zlevel;qI(a.group,o,l)}})}function D$(n,e,t){var i=e.coordinateSystem,r=t.getWidth(),a=t.getHeight(),s=i&&i.getArea&&i.getArea();n.each(function(o){var l=n.getItemModel(o),u=l.get("relativeTo")==="coordinate",c=u?s?s.width:0:r,f=u?s?s.height:0:a,h=u&&s?s.x:0,d=u&&s?s.y:0,v,m=st(l.get("x"),c)+h,y=st(l.get("y"),f)+d;if(!isNaN(m)&&!isNaN(y))v=[m,y];else if(e.getMarkerPosition)v=e.getMarkerPosition(n.getValues(n.dimensions,o));else if(i){var x=n.get(i.dimensions[0],o),b=n.get(i.dimensions[1],o);v=i.dataToPoint([x,b])}isNaN(m)||(v[0]=m),isNaN(y)||(v[1]=y),n.setItemLayout(o,v)})}var EHe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(a){var s=Oh.getMarkerModelFromSeries(a,"markPoint");s&&(D$(s.getData(),a,r),this.markerGroupMap.get(a.id).updateLayout())},this)},e.prototype.renderSeries=function(t,i,r,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,new HC),f=DHe(s,t,i);i.setData(f),D$(i.getData(),t,a),f.each(function(h){var d=f.getItemModel(h),v=d.getShallow("symbol"),m=d.getShallow("symbolSize"),y=d.getShallow("symbolRotate"),x=d.getShallow("symbolOffset"),b=d.getShallow("symbolKeepAspect");if(wt(v)||wt(m)||wt(y)||wt(x)){var M=i.getRawValue(h),C=i.getDataParams(h);wt(v)&&(v=v(M,C)),wt(m)&&(m=m(M,C)),wt(y)&&(y=y(M,C)),wt(x)&&(x=x(M,C))}var w=d.getModel("itemStyle").getItemStyle(),E=d.get("z2"),L=GC(l,"color");w.fill||(w.fill=L),f.setItemVisual(h,{z2:At(E,0),symbol:v,symbolSize:m,symbolRotate:y,symbolOffset:x,symbolKeepAspect:b,style:w})}),c.updateData(f),this.group.add(c.group),f.eachItemGraphicEl(function(h){h.traverse(function(d){jt(d).dataModel=i})}),this.markKeep(c),c.group.silent=i.get("silent")||t.get("silent")},e.type="markPoint",e})(fj);function DHe(n,e,t){var i;n?i=We(n&&n.dimensions,function(o){var l=e.getData().getDimensionInfo(e.getData().mapDimension(o))||{};return Ie(Ie({},l),{name:o,ordinalMeta:null})}):i=[{name:"value",type:"float"}];var r=new fo(i,t),a=We(t.get("data"),$t(tC,e));n&&(a=Zn(a,$t(nC,n)));var s=Rpe(!!n,i);return r.initData(a,null,s),r}function RHe(n){n.registerComponentModel(AHe),n.registerComponentView(EHe),n.registerPreprocessor(function(e){cj(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var LHe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e})(Oh),ZD=_n(),NHe=function(n,e,t,i){var r=n.getData(),a;if(Ve(i))a=i;else{var s=i.type;if(s==="min"||s==="max"||s==="average"||s==="median"||i.xAxis!=null||i.yAxis!=null){var o=void 0,l=void 0;if(i.yAxis!=null||i.xAxis!=null)o=e.getAxis(i.yAxis!=null?"y":"x"),l=ds(i.yAxis,i.xAxis);else{var u=Dpe(i,r,e,n);o=u.valueAxis;var c=$6(r,u.valueDataDim);l=aN(r,c,s)}var f=o.dim==="x"?0:1,h=1-f,d=Nt(i),v={coord:[]};d.type=null,d.coord=[],d.coord[h]=-1/0,v.coord[h]=1/0;var m=t.get("precision");m>=0&&Pn(l)&&(l=+l.toFixed(Math.min(m,20))),d.coord[f]=v.coord[f]=l,a=[d,v,{type:s,valueIndex:i.valueIndex,value:l}]}else a=[]}var y=[tC(n,a[0]),tC(n,a[1]),Ie({},a[2])];return y[2].type=y[2].type||null,an(y[2],y[0]),an(y[2],y[1]),y};function sN(n){return!isNaN(n)&&!isFinite(n)}function R$(n,e,t,i){var r=1-n,a=i.dimensions[n];return sN(e[r])&&sN(t[r])&&e[n]===t[n]&&i.getAxis(a).containData(e[n])}function IHe(n,e){if(n.type==="cartesian2d"){var t=e[0].coord,i=e[1].coord;if(t&&i&&(R$(1,t,i,n)||R$(0,t,i,n)))return!0}return nC(n,e[0])&&nC(n,e[1])}function F4(n,e,t,i,r){var a=i.coordinateSystem,s=n.getItemModel(e),o,l=st(s.get("x"),r.getWidth()),u=st(s.get("y"),r.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(i.getMarkerPosition)o=i.getMarkerPosition(n.getValues(n.dimensions,e));else{var c=a.dimensions,f=n.get(c[0],e),h=n.get(c[1],e);o=a.dataToPoint([f,h])}if(Sm(a,"cartesian2d")){var d=a.getAxis("x"),v=a.getAxis("y"),c=a.dimensions;sN(n.get(c[0],e))?o[0]=d.toGlobalCoord(d.getExtent()[t?0:1]):sN(n.get(c[1],e))&&(o[1]=v.toGlobalCoord(v.getExtent()[t?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}n.setItemLayout(e,o)}var PHe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(a){var s=Oh.getMarkerModelFromSeries(a,"markLine");if(s){var o=s.getData(),l=ZD(s).from,u=ZD(s).to;l.each(function(c){F4(l,c,!0,a,r),F4(u,c,!1,a,r)}),o.each(function(c){o.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,i,r,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,new R9);this.group.add(c.group);var f=BHe(s,t,i),h=f.from,d=f.to,v=f.line;ZD(i).from=h,ZD(i).to=d,i.setData(v);var m=i.get("symbol"),y=i.get("symbolSize"),x=i.get("symbolRotate"),b=i.get("symbolOffset");Ve(m)||(m=[m,m]),Ve(y)||(y=[y,y]),Ve(x)||(x=[x,x]),Ve(b)||(b=[b,b]),f.from.each(function(C){M(h,C,!0),M(d,C,!1)}),v.each(function(C){var w=v.getItemModel(C),E=w.getModel("lineStyle").getLineStyle();v.setItemLayout(C,[h.getItemLayout(C),d.getItemLayout(C)]);var L=w.get("z2");E.stroke==null&&(E.stroke=h.getItemVisual(C,"style").fill),v.setItemVisual(C,{z2:At(L,0),fromSymbolKeepAspect:h.getItemVisual(C,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(C,"symbolOffset"),fromSymbolRotate:h.getItemVisual(C,"symbolRotate"),fromSymbolSize:h.getItemVisual(C,"symbolSize"),fromSymbol:h.getItemVisual(C,"symbol"),toSymbolKeepAspect:d.getItemVisual(C,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(C,"symbolOffset"),toSymbolRotate:d.getItemVisual(C,"symbolRotate"),toSymbolSize:d.getItemVisual(C,"symbolSize"),toSymbol:d.getItemVisual(C,"symbol"),style:E})}),c.updateData(v),f.line.eachItemGraphicEl(function(C){jt(C).dataModel=i,C.traverse(function(w){jt(w).dataModel=i})});function M(C,w,E){var L=C.getItemModel(w);F4(C,w,E,t,a);var P=L.getModel("itemStyle").getItemStyle();P.fill==null&&(P.fill=GC(l,"color")),C.setItemVisual(w,{symbolKeepAspect:L.get("symbolKeepAspect"),symbolOffset:At(L.get("symbolOffset",!0),b[E?0:1]),symbolRotate:At(L.get("symbolRotate",!0),x[E?0:1]),symbolSize:At(L.get("symbolSize"),y[E?0:1]),symbol:At(L.get("symbol",!0),m[E?0:1]),style:P})}this.markKeep(c),c.group.silent=i.get("silent")||t.get("silent")},e.type="markLine",e})(fj);function BHe(n,e,t){var i;n?i=We(n&&n.dimensions,function(u){var c=e.getData().getDimensionInfo(e.getData().mapDimension(u))||{};return Ie(Ie({},c),{name:u,ordinalMeta:null})}):i=[{name:"value",type:"float"}];var r=new fo(i,t),a=new fo(i,t),s=new fo([],t),o=We(t.get("data"),$t(NHe,e,n,t));n&&(o=Zn(o,$t(IHe,n)));var l=Rpe(!!n,i);return r.initData(We(o,function(u){return u[0]}),null,l),a.initData(We(o,function(u){return u[1]}),null,l),s.initData(We(o,function(u){return u[2]})),s.hasItemOption=!0,{from:r,to:a,line:s}}function OHe(n){n.registerComponentModel(LHe),n.registerComponentView(PHe),n.registerPreprocessor(function(e){cj(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var zHe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e})(Oh),KD=_n(),kHe=function(n,e,t,i){var r=i[0],a=i[1];if(!(!r||!a)){var s=tC(n,r),o=tC(n,a),l=s.coord,u=o.coord;l[0]=ds(l[0],-1/0),l[1]=ds(l[1],-1/0),u[0]=ds(u[0],1/0),u[1]=ds(u[1],1/0);var c=LI([{},s,o]);return c.coord=[s.coord,o.coord],c.x0=s.x,c.y0=s.y,c.x1=o.x,c.y1=o.y,c}};function oN(n){return!isNaN(n)&&!isFinite(n)}function L$(n,e,t,i){var r=1-n;return oN(e[r])&&oN(t[r])}function FHe(n,e){var t=e.coord[0],i=e.coord[1],r={coord:t,x:e.x0,y:e.y0},a={coord:i,x:e.x1,y:e.y1};return Sm(n,"cartesian2d")?t&&i&&(L$(1,t,i)||L$(0,t,i))?!0:CHe(n,r,a):nC(n,r)||nC(n,a)}function N$(n,e,t,i,r){var a=i.coordinateSystem,s=n.getItemModel(e),o,l=st(s.get(t[0]),r.getWidth()),u=st(s.get(t[1]),r.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(i.getMarkerPosition){var c=n.getValues(["x0","y0"],e),f=n.getValues(["x1","y1"],e),h=a.clampData(c),d=a.clampData(f),v=[];t[0]==="x0"?v[0]=h[0]>d[0]?f[0]:c[0]:v[0]=h[0]>d[0]?c[0]:f[0],t[1]==="y0"?v[1]=h[1]>d[1]?f[1]:c[1]:v[1]=h[1]>d[1]?c[1]:f[1],o=i.getMarkerPosition(v,t,!0)}else{var m=n.get(t[0],e),y=n.get(t[1],e),x=[m,y];a.clampData&&a.clampData(x,x),o=a.dataToPoint(x,!0)}if(Sm(a,"cartesian2d")){var b=a.getAxis("x"),M=a.getAxis("y"),m=n.get(t[0],e),y=n.get(t[1],e);oN(m)?o[0]=b.toGlobalCoord(b.getExtent()[t[0]==="x0"?0:1]):oN(y)&&(o[1]=M.toGlobalCoord(M.getExtent()[t[1]==="y0"?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}return o}var I$=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],UHe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(a){var s=Oh.getMarkerModelFromSeries(a,"markArea");if(s){var o=s.getData();o.each(function(l){var u=We(I$,function(f){return N$(o,l,f,a,r)});o.setItemLayout(l,u);var c=o.getItemGraphicEl(l);c.setShape("points",u)})}},this)},e.prototype.renderSeries=function(t,i,r,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,{group:new It});this.group.add(c.group),this.markKeep(c);var f=GHe(s,t,i);i.setData(f),f.each(function(h){var d=We(I$,function(N){return N$(f,h,N,t,a)}),v=s.getAxis("x").scale,m=s.getAxis("y").scale,y=v.getExtent(),x=m.getExtent(),b=[v.parse(f.get("x0",h)),v.parse(f.get("x1",h))],M=[m.parse(f.get("y0",h)),m.parse(f.get("y1",h))];Xl(b),Xl(M);var C=!(y[0]>b[1]||y[1]<b[0]||x[0]>M[1]||x[1]<M[0]),w=!C;f.setItemLayout(h,{points:d,allClipped:w});var E=f.getItemModel(h),L=E.getModel("itemStyle").getItemStyle(),P=E.get("z2"),I=GC(l,"color");L.fill||(L.fill=I,ot(L.fill)&&(L.fill=DT(L.fill,.4))),L.stroke||(L.stroke=I),f.setItemVisual(h,"style",L),f.setItemVisual(h,"z2",At(P,0))}),f.diff(KD(c).data).add(function(h){var d=f.getItemLayout(h),v=f.getItemVisual(h,"z2");if(!d.allClipped){var m=new Fs({z2:At(v,0),shape:{points:d.points}});f.setItemGraphicEl(h,m),c.group.add(m)}}).update(function(h,d){var v=KD(c).data.getItemGraphicEl(d),m=f.getItemLayout(h),y=f.getItemVisual(h,"z2");m.allClipped?v&&c.group.remove(v):(v?Gn(v,{z2:At(y,0),shape:{points:m.points}},i,h):v=new Fs({shape:{points:m.points}}),f.setItemGraphicEl(h,v),c.group.add(v))}).remove(function(h){var d=KD(c).data.getItemGraphicEl(h);c.group.remove(d)}).execute(),f.eachItemGraphicEl(function(h,d){var v=f.getItemModel(d),m=f.getItemVisual(d,"style");h.useStyle(f.getItemVisual(d,"style")),Xa(h,Ra(v),{labelFetcher:i,labelDataIndex:d,defaultText:f.getName(d)||"",inheritColor:ot(m.fill)?DT(m.fill,1):xe.color.neutral99}),Da(h,v),rr(h,null,null,v.get(["emphasis","disabled"])),jt(h).dataModel=i}),KD(c).data=f,c.group.silent=i.get("silent")||t.get("silent")},e.type="markArea",e})(fj);function GHe(n,e,t){var i,r,a=["x0","y0","x1","y1"];if(n){var s=We(n&&n.dimensions,function(u){var c=e.getData(),f=c.getDimensionInfo(c.mapDimension(u))||{};return Ie(Ie({},f),{name:u,ordinalMeta:null})});r=We(a,function(u,c){return{name:u,type:s[c%2].type}}),i=new fo(r,t)}else r=[{name:"value",type:"float"}],i=new fo(r,t);var o=We(t.get("data"),$t(kHe,e,n,t));n&&(o=Zn(o,$t(FHe,n)));var l=n?function(u,c,f,h){var d=u.coord[Math.floor(h/2)][h%2];return cm(d,r[h])}:function(u,c,f,h){return cm(u.value,r[h])};return i.initData(o,null,l),i.hasItemOption=!0,i}function VHe(n){n.registerComponentModel(zHe),n.registerComponentView(UHe),n.registerPreprocessor(function(e){cj(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var jHe=function(n,e){if(e==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},M8=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),this._updateSelector(t)},e.prototype._updateSelector=function(t){var i=t.selector,r=this.ecModel;i===!0&&(i=t.selector=["all","inverse"]),Ve(i)&&Z(i,function(a,s){ot(a)&&(a={type:a}),i[s]=an(a,jHe(r,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var i=!1,r=0;r<t.length;r++){var a=t[r].get("name");if(this.isSelected(a)){this.select(a),i=!0;break}}!i&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var i=[],r=[];t.eachRawSeries(function(l){var u=l.name;r.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,h=f.getAllNames();t.isSeriesFiltered(l)||(r=r.concat(h)),h.length?i=i.concat(h):c=!0}else c=!0;c&&JV(l)&&i.push(l.name)}),this._availableNames=r;var a=this.get("data")||i,s=bt(),o=We(a,function(l){return(ot(l)||Pn(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new Sn(l,this,this.ecModel))},this);this._data=Zn(o,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var i=this.option.selected,r=this.get("selectedMode");if(r==="single"){var a=this._data;Z(a,function(s){i[s.get("name")]=!1})}i[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var i=this.option.selected;i.hasOwnProperty(t)||(i[t]=!0),this[i[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,i=this.option.selected;Z(t,function(r){i[r.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,i=this.option.selected;Z(t,function(r){var a=r.get("name",!0);i.hasOwnProperty(a)||(i[a]=!0),i[a]=!i[a]})},e.prototype.isSelected=function(t){var i=this.option.selected;return!(i.hasOwnProperty(t)&&!i[t])&&rn(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:xe.size.m,align:"auto",backgroundColor:xe.color.transparent,borderColor:xe.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:xe.color.disabled,inactiveBorderColor:xe.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:xe.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:xe.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:xe.color.tertiary,borderWidth:1,borderColor:xe.color.border},emphasis:{selectorLabel:{show:!0,color:xe.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},e})(xn),k_=$t,T8=Z,JD=It,Lpe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new JD),this.group.add(this._selectorGroup=new JD),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,i,r){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var s=t.get("align"),o=t.get("orient");(!s||s==="auto")&&(s=t.get("left")==="right"&&o==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=o==="horizontal"?"end":"start"),this.renderInner(s,t,i,r,l,o,u);var c=Na(t,r).refContainer,f=t.getBoxLayoutParams(),h=t.get("padding"),d=Ji(f,c,h),v=this.layoutInner(t,s,d,a,l,u),m=Ji(Bt({width:v.width,height:v.height},f),c,h);this.group.x=m.x-v.x,this.group.y=m.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=xpe(v,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,i,r,a,s,o,l){var u=this.getContentGroup(),c=bt(),f=i.get("selectedMode"),h=i.get("triggerEvent"),d=[];r.eachRawSeries(function(v){!v.get("legendHoverLink")&&d.push(v.id)}),T8(i.getData(),function(v,m){var y=this,x=v.get("name");if(!this.newlineDisabled&&(x===""||x===`
`)){var b=new JD;b.newline=!0,u.add(b);return}var M=r.getSeriesByName(x)[0];if(!c.get(x))if(M){var C=M.getData(),w=C.getVisual("legendLineStyle")||{},E=C.getVisual("legendIcon"),L=C.getVisual("style"),P=this._createItem(M,x,m,v,i,t,w,L,E,f,a);P.on("click",k_(P$,x,null,a,d)).on("mouseover",k_(C8,M.name,null,a,d)).on("mouseout",k_(w8,M.name,null,a,d)),r.ssr&&P.eachChild(function(I){var N=jt(I);N.seriesIndex=M.seriesIndex,N.dataIndex=m,N.ssrType="legend"}),h&&P.eachChild(function(I){y.packEventData(I,i,M,m,x)}),c.set(x,!0)}else r.eachRawSeries(function(I){var N=this;if(!c.get(x)&&I.legendVisualProvider){var z=I.legendVisualProvider;if(!z.containName(x))return;var V=z.indexOfName(x),U=z.getItemVisual(V,"style"),j=z.getItemVisual(V,"legendIcon"),W=co(U.fill);W&&W[3]===0&&(W[3]=.2,U=Ie(Ie({},U),{fill:Zu(W,"rgba")}));var G=this._createItem(I,x,m,v,i,t,{},U,j,f,a);G.on("click",k_(P$,null,x,a,d)).on("mouseover",k_(C8,null,x,a,d)).on("mouseout",k_(w8,null,x,a,d)),r.ssr&&G.eachChild(function(X){var q=jt(X);q.seriesIndex=I.seriesIndex,q.dataIndex=m,q.ssrType="legend"}),h&&G.eachChild(function(X){N.packEventData(X,i,I,m,x)}),c.set(x,!0)}},this)},this),s&&this._createSelector(s,i,a,o,l)},e.prototype.packEventData=function(t,i,r,a,s){var o={componentType:"legend",componentIndex:i.componentIndex,dataIndex:a,value:s,seriesIndex:r.seriesIndex};jt(t).eventData=o},e.prototype._createSelector=function(t,i,r,a,s){var o=this.getSelectorGroup();T8(t,function(u){var c=u.type,f=new In({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:i.id})}});o.add(f);var h=i.getModel("selectorLabel"),d=i.getModel(["emphasis","selectorLabel"]);Xa(f,{normal:h,emphasis:d},{defaultText:u.title}),om(f)})},e.prototype._createItem=function(t,i,r,a,s,o,l,u,c,f,h){var d=t.visualDrawType,v=s.get("itemWidth"),m=s.get("itemHeight"),y=s.isSelected(i),x=a.get("symbolRotate"),b=a.get("symbolKeepAspect"),M=a.get("icon");c=M||c||"roundRect";var C=HHe(c,a,l,u,d,y,h),w=new JD,E=a.getModel("textStyle");if(wt(t.getLegendIcon)&&(!M||M==="inherit"))w.add(t.getLegendIcon({itemWidth:v,itemHeight:m,icon:c,iconRotate:x,itemStyle:C.itemStyle,lineStyle:C.lineStyle,symbolKeepAspect:b}));else{var L=M==="inherit"&&t.getData().getVisual("symbol")?x==="inherit"?t.getData().getVisual("symbolRotate"):x:0;w.add(WHe({itemWidth:v,itemHeight:m,icon:c,iconRotate:L,itemStyle:C.itemStyle,symbolKeepAspect:b}))}var P=o==="left"?v+5:-5,I=o,N=s.get("formatter"),z=i;ot(N)&&N?z=N.replace("{name}",i??""):wt(N)&&(z=N(i));var V=y?E.getTextColor():a.get("inactiveColor");w.add(new In({style:Ii(E,{text:z,x:P,y:m/2,fill:V,align:I,verticalAlign:"middle"},{inheritColor:V})}));var U=new pn({shape:w.getBoundingRect(),style:{fill:"transparent"}}),j=a.getModel("tooltip");return j.get("show")&&Ip({el:U,componentModel:s,itemName:i,itemTooltipOption:j.option}),w.add(U),w.eachChild(function(W){W.silent=!0}),U.silent=!f,this.getContentGroup().add(w),om(w),w.__legendDataIndex=r,w},e.prototype.layoutInner=function(t,i,r,a,s,o){var l=this.getContentGroup(),u=this.getSelectorGroup();vy(t.get("orient"),l,t.get("itemGap"),r.width,r.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),s){vy("horizontal",u,t.get("selectorItemGap",!0));var h=u.getBoundingRect(),d=[-h.x,-h.y],v=t.get("selectorButtonGap",!0),m=t.getOrient().index,y=m===0?"width":"height",x=m===0?"height":"width",b=m===0?"y":"x";o==="end"?d[m]+=c[y]+v:f[m]+=h[y]+v,d[1-m]+=c[x]/2-h[x]/2,u.x=d[0],u.y=d[1],l.x=f[0],l.y=f[1];var M={x:0,y:0};return M[y]=c[y]+v+h[y],M[x]=Math.max(c[x],h[x]),M[b]=Math.min(0,h[b]+d[1-m]),M}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e})(Bi);function HHe(n,e,t,i,r,a,s){function o(y,x){y.lineWidth==="auto"&&(y.lineWidth=x.lineWidth>0?2:0),T8(y,function(b,M){y[M]==="inherit"&&(y[M]=x[M])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),c=n.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?i.decal:mb(f,s),u.fill==="inherit"&&(u.fill=i[r]),u.stroke==="inherit"&&(u.stroke=i[c]),u.opacity==="inherit"&&(u.opacity=(r==="fill"?i:t).opacity),o(u,i);var h=e.getModel("lineStyle"),d=h.getLineStyle();if(o(d,t),u.fill==="auto"&&(u.fill=i.fill),u.stroke==="auto"&&(u.stroke=i.fill),d.stroke==="auto"&&(d.stroke=i.fill),!a){var v=e.get("inactiveBorderWidth"),m=u[c];u.lineWidth=v==="auto"?i.lineWidth>0&&m?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),d.stroke=h.get("inactiveColor"),d.lineWidth=h.get("inactiveWidth")}return{itemStyle:u,lineStyle:d}}function WHe(n){var e=n.icon||"roundRect",t=$r(e,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill=xe.color.neutral00,t.style.lineWidth=2),t}function P$(n,e,t,i){w8(n,e,t,i),t.dispatchAction({type:"legendToggleSelect",name:n??e}),C8(n,e,t,i)}function Npe(n){for(var e=n.getZr().storage.getDisplayList(),t,i=0,r=e.length;i<r&&!(t=e[i].states.emphasis);)i++;return t&&t.hoverLayer}function C8(n,e,t,i){Npe(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:i})}function w8(n,e,t,i){Npe(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:i})}function XHe(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}function IM(n,e,t){var i=n==="allSelect"||n==="inverseSelect",r={},a=[];t.eachComponent({mainType:"legend",query:e},function(o){i?o[n]():o[n](e.name),B$(o,r),a.push(o.componentIndex)});var s={};return t.eachComponent("legend",function(o){Z(r,function(l,u){o[l?"select":"unSelect"](u)}),B$(o,s)}),i?{selected:s,legendIndex:a}:{name:e.name,selected:s}}function B$(n,e){var t=e||{};return Z(n.getData(),function(i){var r=i.get("name");if(!(r===`
`||r==="")){var a=n.isSelected(r);yt(t,r)?t[r]=t[r]&&a:t[r]=a}}),t}function YHe(n){n.registerAction("legendToggleSelect","legendselectchanged",$t(IM,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",$t(IM,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",$t(IM,"inverseSelect")),n.registerAction("legendSelect","legendselected",$t(IM,"select")),n.registerAction("legendUnSelect","legendunselected",$t(IM,"unSelect"))}function Ipe(n){n.registerComponentModel(M8),n.registerComponentView(Lpe),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,XHe),n.registerSubTypeDefaulter("legend",function(){return"plain"}),YHe(n)}var qHe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,i,r){var a=Ky(t);n.prototype.init.call(this,t,i,r),O$(this,t,a)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),O$(this,this.option,t)},e.type="legend.scroll",e.defaultOption=Om(M8.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:xe.color.accent50,pageIconInactiveColor:xe.color.accent10,pageIconSize:15,pageTextStyle:{color:xe.color.tertiary},animationDurationUpdate:800}),e})(M8);function O$(n,e,t){var i=n.getOrient(),r=[1,1];r[i.index]=0,Ph(e,t,{type:"box",ignoreSize:!!r})}var z$=It,U4=["width","height"],G4=["x","y"],ZHe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new z$),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new z$)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,i,r,a,s,o,l){var u=this;n.prototype.renderInner.call(this,t,i,r,a,s,o,l);var c=this._controllerGroup,f=i.get("pageIconSize",!0),h=Ve(f)?f:[f,f];v("pagePrev",0);var d=i.getModel("pageTextStyle");c.add(new In({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(m,y){var x=m+"DataIndex",b=sS(i.get("pageIcons",!0)[i.getOrient().name][y],{onclick:ct(u._pageGo,u,x,i,a)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});b.name=m,c.add(b)}},e.prototype.layoutInner=function(t,i,r,a,s,o){var l=this.getSelectorGroup(),u=t.getOrient().index,c=U4[u],f=G4[u],h=U4[1-u],d=G4[1-u];s&&vy("horizontal",l,t.get("selectorItemGap",!0));var v=t.get("selectorButtonGap",!0),m=l.getBoundingRect(),y=[-m.x,-m.y],x=Nt(r);s&&(x[c]=r[c]-m[c]-v);var b=this._layoutContentAndController(t,a,x,u,c,h,d,f);if(s){if(o==="end")y[u]+=b[c]+v;else{var M=m[c]+v;y[u]-=M,b[f]-=M}b[c]+=m[c]+v,y[1-u]+=b[d]+b[h]/2-m[h]/2,b[h]=Math.max(b[h],m[h]),b[d]=Math.min(b[d],m[d]+y[1-u]),l.x=y[0],l.y=y[1],l.markRedraw()}return b},e.prototype._layoutContentAndController=function(t,i,r,a,s,o,l,u){var c=this.getContentGroup(),f=this._containerGroup,h=this._controllerGroup;vy(t.get("orient"),c,t.get("itemGap"),a?r.width:null,a?null:r.height),vy("horizontal",h,t.get("pageButtonItemGap",!0));var d=c.getBoundingRect(),v=h.getBoundingRect(),m=this._showController=d[s]>r[s],y=[-d.x,-d.y];i||(y[a]=c[u]);var x=[0,0],b=[-v.x,-v.y],M=At(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(m){var C=t.get("pageButtonPosition",!0);C==="end"?b[a]+=r[s]-v[s]:x[a]+=v[s]+M}b[1-a]+=d[o]/2-v[o]/2,c.setPosition(y),f.setPosition(x),h.setPosition(b);var w={x:0,y:0};if(w[s]=m?r[s]:d[s],w[o]=Math.max(d[o],v[o]),w[l]=Math.min(0,v[l]+b[1-a]),f.__rectSize=r[s],m){var E={x:0,y:0};E[s]=Math.max(r[s]-v[s]-M,0),E[o]=w[o],f.setClipPath(new pn({shape:E})),f.__rectSize=E[s]}else h.eachChild(function(P){P.attr({invisible:!0,silent:!0})});var L=this._getPageInfo(t);return L.pageIndex!=null&&Gn(c,{x:L.contentPosition[0],y:L.contentPosition[1]},m?t:null),this._updatePageInfoView(t,L),w},e.prototype._pageGo=function(t,i,r){var a=this._getPageInfo(i)[t];a!=null&&r.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:i.id})},e.prototype._updatePageInfoView=function(t,i){var r=this._controllerGroup;Z(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",h=i[f]!=null,d=r.childOfName(c);d&&(d.setStyle("fill",h?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),d.cursor=h?"pointer":"default")});var a=r.childOfName("pageText"),s=t.get("pageFormatter"),o=i.pageIndex,l=o!=null?o+1:0,u=i.pageCount;a&&s&&a.setStyle("text",ot(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):s({current:l,total:u}))},e.prototype._getPageInfo=function(t){var i=t.get("scrollDataIndex",!0),r=this.getContentGroup(),a=this._containerGroup.__rectSize,s=t.getOrient().index,o=U4[s],l=G4[s],u=this._findTargetItemIndex(i),c=r.children(),f=c[u],h=c.length,d=h?1:0,v={contentPosition:[r.x,r.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return v;var m=C(f);v.contentPosition[s]=-m.s;for(var y=u+1,x=m,b=m,M=null;y<=h;++y)M=C(c[y]),(!M&&b.e>x.s+a||M&&!w(M,x.s))&&(b.i>x.i?x=b:x=M,x&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=x.i),++v.pageCount)),b=M;for(var y=u-1,x=m,b=m,M=null;y>=-1;--y)M=C(c[y]),(!M||!w(b,M.s))&&x.i<b.i&&(b=x,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=x.i),++v.pageCount,++v.pageIndex),x=M;return v;function C(E){if(E){var L=E.getBoundingRect(),P=L[l]+E[l];return{s:P,e:P+L[o],i:E.__legendDataIndex}}}function w(E,L){return E.e>=L&&E.s<=L+a}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var i,r=this.getContentGroup(),a;return r.eachChild(function(s,o){var l=s.__legendDataIndex;a==null&&l!=null&&(a=o),l===t&&(i=o)}),i??a},e.type="legend.scroll",e})(Lpe);function KHe(n){n.registerAction("legendScroll","legendscroll",function(e,t){var i=e.scrollDataIndex;i!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(r){r.setScrollDataIndex(i)})})}function JHe(n){cn(Ipe),n.registerComponentModel(qHe),n.registerComponentView(ZHe),KHe(n)}function QHe(n){cn(Ipe),cn(JHe)}var $He=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=Om(eC.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e})(eC),hj=_n();function e7e(n,e,t){hj(n).coordSysRecordMap.each(function(i){var r=i.dataZoomInfoMap.get(e.uid);r&&(r.getRange=t)})}function t7e(n,e){for(var t=hj(n).coordSysRecordMap,i=t.keys(),r=0;r<i.length;r++){var a=i[r],s=t.get(a),o=s.dataZoomInfoMap;if(o){var l=e.uid,u=o.get(l);u&&(o.removeKey(l),o.keys().length||Ppe(t,s))}}}function Ppe(n,e){if(e){n.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function n7e(n,e){var t={model:e,containsPoint:$t(r7e,e),dispatchAction:$t(i7e,n),dataZoomInfoMap:null,controller:null},i=t.controller=new ex(n.getZr());return Z(["pan","zoom","scrollMove"],function(r){i.on(r,function(a){var s=[];t.dataZoomInfoMap.each(function(o){if(a.isAvailableBehavior(o.model.option)){var l=(o.getRange||{})[r],u=l&&l(o.dzReferCoordSysInfo,t.model.mainType,t.controller,a);!o.model.get("disabled",!0)&&u&&s.push({dataZoomId:o.model.id,start:u[0],end:u[1]})}}),s.length&&t.dispatchAction(s)})}),t}function i7e(n,e){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function r7e(n,e,t,i){return n.coordinateSystem.containPoint([t,i])}function a7e(n,e,t){var i,r="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},s=!0;return n.each(function(o){var l=o.model,u=l.get("disabled",!0)?!1:l.get("zoomLock",!0)?"move":!0;a[r+u]>a[r+i]&&(i=u),s=s&&l.get("preventDefaultMouseMove",!0)}),{controlType:i,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!s,api:t,zInfo:{component:e.model},triggerInfo:{roamTrigger:null,isInSelf:e.containsPoint}}}}function s7e(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(e,t){var i=hj(t),r=i.coordSysRecordMap||(i.coordSysRecordMap=bt());r.each(function(a){a.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var s=mpe(a);Z(s.infoList,function(o){var l=o.model.uid,u=r.get(l)||r.set(l,n7e(t,o.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=bt());c.set(a.uid,{dzReferCoordSysInfo:o,model:a,getRange:null})})}),r.each(function(a){var s=a.controller,o,l=a.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(o=l.get(u))}if(!o){Ppe(r,a);return}var c=a7e(l,a,t);s.enable(c.controlType,c.opt),hS(a,"dispatchAction",o.model.get("throttle",!0),"fixRate")})})}var o7e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,i,r){if(n.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),e7e(r,t,{pan:ct(V4.pan,this),zoom:ct(V4.zoom,this),scrollMove:ct(V4.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){t7e(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e})(rj),V4={zoom:function(n,e,t,i){var r=this.range,a=r.slice(),s=n.axisModels[0];if(s){var o=j4[e](null,[i.originX,i.originY],s,t,n),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/i.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Am(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,r[0]!==a[0]||r[1]!==a[1])return a}},pan:k$(function(n,e,t,i,r,a){var s=j4[i]([a.oldX,a.oldY],[a.newX,a.newY],e,r,t);return s.signal*(n[1]-n[0])*s.pixel/s.pixelLength}),scrollMove:k$(function(n,e,t,i,r,a){var s=j4[i]([0,0],[a.scrollDelta,a.scrollDelta],e,r,t);return s.signal*(n[1]-n[0])*a.scrollDelta})};function k$(n){return function(e,t,i,r){var a=this.range,s=a.slice(),o=e.axisModels[0];if(o){var l=n(s,o,e,t,i,r);if(Am(l,s,[0,100],"all"),this.range=s,a[0]!==s[0]||a[1]!==s[1])return s}}}var j4={grid:function(n,e,t,i,r){var a=t.axis,s={},o=r.model.coordinateSystem.getRect();return n=n||[0,0],a.dim==="x"?(s.pixel=e[0]-n[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-n[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s},polar:function(n,e,t,i,r){var a=t.axis,s={},o=r.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),u=o.getAngleAxis().getExtent();return n=n?o.pointToCoord(n):[0,0],e=o.pointToCoord(e),t.mainType==="radiusAxis"?(s.pixel=e[0]-n[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=a.inverse?1:-1):(s.pixel=e[1]-n[1],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=a.inverse?-1:1),s},singleAxis:function(n,e,t,i,r){var a=t.axis,s=r.model.coordinateSystem.getRect(),o={};return n=n||[0,0],a.orient==="horizontal"?(o.pixel=e[0]-n[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=e[1]-n[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o}};function Bpe(n){aj(n),n.registerComponentModel($He),n.registerComponentView(o7e),s7e(n)}var l7e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Om(eC.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:xe.color.accent10,borderRadius:0,backgroundColor:xe.color.transparent,dataBackground:{lineStyle:{color:xe.color.accent30,width:.5},areaStyle:{color:xe.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:xe.color.accent40,width:.5},areaStyle:{color:xe.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:xe.color.neutral00,borderColor:xe.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:xe.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:xe.color.tertiary},brushSelect:!0,brushStyle:{color:xe.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:xe.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),e})(eC),PM=pn,u7e=1,H4=30,c7e=7,BM="horizontal",F$="vertical",f7e=5,h7e=["line","bar","candlestick","scatter"],d7e={easing:"cubicOut",duration:100,delay:0},p7e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,i){this.api=i,this._onBrush=ct(this._onBrush,this),this._onBrushEnd=ct(this._onBrushEnd,this)},e.prototype.render=function(t,i,r,a){if(n.prototype.render.apply(this,arguments),hS(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){FT(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new It;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(i),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,i=this.api,r=t.get("brushSelect"),a=r?c7e:0,s=Na(t,i).refContainer,o=this._findCoordRect(),l=t.get("defaultLocationEdgeGap",!0)||0,u=this._orient===BM?{right:s.width-o.x-o.width,top:s.height-H4-l-a,width:o.width,height:H4}:{right:l,top:o.y,width:H4,height:o.height},c=Ky(t.option);Z(["right","top","width","height"],function(h){c[h]==="ph"&&(c[h]=u[h])});var f=Ji(c,s);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===F$&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,i=this._location,r=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),s=a&&a.get("inverse"),o=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(r===BM&&!s?{scaleY:l?1:-1,scaleX:1}:r===BM&&s?{scaleY:l?1:-1,scaleX:-1}:r===F$&&!s?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([o]);t.x=i.x-u.x,t.y=i.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,i=this._size,r=this._displayables.sliderGroup,a=t.get("brushSelect");r.add(new PM({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var s=new PM({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:ct(this._onClickPanel,this)}),o=this.api.getZr();a?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),r.add(s)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var i=this._size,r=this._shadowSize||[],a=t.series,s=a.getRawData(),o=a.getShadowDim&&a.getShadowDim(),l=o&&s.getDimensionInfo(o)?a.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(s!==this._shadowData||l!==this._shadowDim||i[0]!==r[0]||i[1]!==r[1]){var f=s.getDataExtent(t.thisDim),h=s.getDataExtent(l),d=(h[1]-h[0])*.3;h=[h[0]-d,h[1]+d];var v=[0,i[1]],m=[0,i[0]],y=[[i[0],0],[0,0]],x=[],b=m[1]/Math.max(1,s.count()-1),M=i[0]/(f[1]-f[0]),C=t.thisAxis.type==="time",w=-b,E=Math.round(s.count()/i[0]),L;s.each([t.thisDim,l],function(V,U,j){if(E>0&&j%E){C||(w+=b);return}w=C?(+V-f[0])*M:w+b;var W=U==null||isNaN(U)||U==="",G=W?0:ei(U,h,v,!0);W&&!L&&j?(y.push([y[y.length-1][0],0]),x.push([x[x.length-1][0],0])):!W&&L&&(y.push([w,0]),x.push([w,0])),W||(y.push([w,G]),x.push([w,G])),L=W}),u=this._shadowPolygonPts=y,c=this._shadowPolylinePts=x}this._shadowData=s,this._shadowDim=l,this._shadowSize=[i[0],i[1]];var P=this.dataZoomModel;function I(V){var U=P.getModel(V?"selectedDataBackground":"dataBackground"),j=new It,W=new Fs({shape:{points:u},segmentIgnoreThreshold:1,style:U.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),G=new ys({shape:{points:c},segmentIgnoreThreshold:1,style:U.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return j.add(W),j.add(G),j}for(var N=0;N<3;N++){var z=I(N===1);this._displayables.sliderGroup.add(z),this._displayables.dataShadowSegs.push(z)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,i=t.get("showDataShadow");if(i!==!1){var r,a=this.ecModel;return t.eachTargetAxis(function(s,o){var l=t.getAxisProxy(s,o).getTargetSeriesModels();Z(l,function(u){if(!r&&!(i!==!0&&rn(h7e,u.get("type"))<0)){var c=a.getComponent($v(s),o).axis,f=v7e(s),h,d=u.coordinateSystem;f!=null&&d.getOtherAxis&&(h=d.getOtherAxis(c).inverse),f=u.getData().mapDimension(f);var v=u.getData().mapDimension(s);r={thisAxis:c,series:u,thisDim:v,otherDim:f,otherAxisInverse:h}}},this)},this),r}},e.prototype._renderHandle=function(){var t=this.group,i=this._displayables,r=i.handles=[null,null],a=i.handleLabels=[null,null],s=this._displayables.sliderGroup,o=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,f=l.get("brushSelect"),h=i.filler=new PM({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});s.add(h),s.add(new PM({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:u7e,fill:xe.color.transparent}})),Z([0,1],function(M){var C=l.get("handleIcon");!wL[C]&&C.indexOf("path://")<0&&C.indexOf("image://")<0&&(C="path://"+C);var w=$r(C,-1,0,2,2,null,!0);w.attr({cursor:m7e(this._orient),draggable:!0,drift:ct(this._onDragMove,this,M),ondragend:ct(this._onDragEnd,this),onmouseover:ct(this._showDataInfo,this,!0),onmouseout:ct(this._showDataInfo,this,!1),z2:5});var E=w.getBoundingRect(),L=l.get("handleSize");this._handleHeight=st(L,this._size[1]),this._handleWidth=E.width/E.height*this._handleHeight,w.setStyle(l.getModel("handleStyle").getItemStyle()),w.style.strokeNoScale=!0,w.rectHover=!0,w.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),om(w);var P=l.get("handleColor");P!=null&&(w.style.fill=P),s.add(r[M]=w);var I=l.getModel("textStyle"),N=l.get("handleLabel")||{},z=N.show||!1;t.add(a[M]=new In({silent:!0,invisible:!z,style:Ii(I,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:I.getTextColor(),font:I.getFont()}),z2:10}))},this);var d=h;if(f){var v=st(l.get("moveHandleSize"),o[1]),m=i.moveHandle=new pn({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:v}}),y=v*.8,x=i.moveHandleIcon=$r(l.get("moveHandleIcon"),-y/2,-y/2,y,y,xe.color.neutral00,!0);x.silent=!0,x.y=o[1]+v/2-.5,m.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var b=Math.min(o[1]/2,Math.max(v,10));d=i.moveZone=new pn({invisible:!0,shape:{y:o[1]-b,height:v+b}}),d.on("mouseover",function(){u.enterEmphasis(m)}).on("mouseout",function(){u.leaveEmphasis(m)}),s.add(m),s.add(x),s.add(d)}d.attr({draggable:!0,cursor:"default",drift:ct(this._onDragMove,this,"all"),ondragstart:ct(this._showDataInfo,this,!0),ondragend:ct(this._onDragEnd,this),onmouseover:ct(this._showDataInfo,this,!0),onmouseout:ct(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[ei(t[0],[0,100],i,!0),ei(t[1],[0,100],i,!0)]},e.prototype._updateInterval=function(t,i){var r=this.dataZoomModel,a=this._handleEnds,s=this._getViewExtent(),o=r.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Am(i,a,s,r.get("zoomLock")?"all":t,o.minSpan!=null?ei(o.minSpan,l,s,!0):null,o.maxSpan!=null?ei(o.maxSpan,l,s,!0):null);var u=this._range,c=this._range=Xl([ei(a[0],s,l,!0),ei(a[1],s,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},e.prototype._updateView=function(t){var i=this._displayables,r=this._handleEnds,a=Xl(r.slice()),s=this._size;Z([0,1],function(d){var v=i.handles[d],m=this._handleHeight;v.attr({scaleX:m/2,scaleY:m/2,x:r[d]+(d?-1:1),y:s[1]/2-m/2})},this),i.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:s[1]});var o={x:a[0],width:a[1]-a[0]};i.moveHandle&&(i.moveHandle.setShape(o),i.moveZone.setShape(o),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",o.x+o.width/2));for(var l=i.dataShadowSegs,u=[0,a[0],a[1],s[0]],c=0;c<l.length;c++){var f=l[c],h=f.getClipPath();h||(h=new pn,f.setClipPath(h)),h.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:s[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var i=this.dataZoomModel,r=this._displayables,a=r.handleLabels,s=this._orient,o=["",""];if(i.get("showDetail")){var l=i.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,f=t?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();o=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var h=Xl(this._handleEnds.slice());d.call(this,0),d.call(this,1);function d(v){var m=lm(r.handles[v].parent,this.group),y=YI(v===0?"right":"left",m),x=this._handleWidth/2+f7e,b=$c([h[v]+(v===0?-x:x),this._size[1]/2],m);a[v].setStyle({x:b[0],y:b[1],verticalAlign:s===BM?"middle":y,align:s===BM?y:"center",text:o[v]})}},e.prototype._formatLabel=function(t,i){var r=this.dataZoomModel,a=r.get("labelFormatter"),s=r.get("labelPrecision");(s==null||s==="auto")&&(s=i.getPixelPrecision());var o=t==null||isNaN(t)?"":i.type==="category"||i.type==="time"?i.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(s,20));return wt(a)?a(t,o):ot(a)?a.replace("{value}",o):o},e.prototype._showDataInfo=function(t){var i=this.dataZoomModel.get("handleLabel")||{},r=i.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),s=a.get("show")||!1,o=t||this._dragging?s:r,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!o),u[1].attr("invisible",!o),l.moveHandle&&this.api[o?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},e.prototype._onDragMove=function(t,i,r,a){this._dragging=!0,_p(a.event);var s=this._displayables.sliderGroup.getLocalTransform(),o=$c([i,r],s,!0),l=this._updateInterval(t,o[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var i=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(r[0]<0||r[0]>i[0]||r[1]<0||r[1]>i[1])){var a=this._handleEnds,s=(a[0]+a[1])/2,o=this._updateInterval("all",r[0]-s);this._updateView(),o&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var i=t.offsetX,r=t.offsetY;this._brushStart=new Ft(i,r),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,!!i){i.attr("ignore",!0);var r=i.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(r.width)<5)){var s=this._getViewExtent(),o=[0,100],l=this._handleEnds=[r.x,r.x+r.width],u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();Am(0,l,s,0,u.minSpan!=null?ei(u.minSpan,o,s,!0):null,u.maxSpan!=null?ei(u.maxSpan,o,s,!0):null),this._range=Xl([ei(l[0],s,o,!0),ei(l[1],s,o,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(_p(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,i){var r=this._displayables,a=this.dataZoomModel,s=r.brushRect;s||(s=r.brushRect=new PM({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(s)),s.attr("ignore",!1);var o=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,i),c=l.transformCoordToLocal(o.x,o.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),s.setShape({x:c[0],y:0,width:u[0]-c[0],height:f[1]})},e.prototype._dispatchZoomAction=function(t){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?d7e:null,start:i[0],end:i[1]})},e.prototype._findCoordRect=function(){var t,i=mpe(this.dataZoomModel).infoList;if(!t&&i.length){var r=i[0].model.coordinateSystem;t=r.getRect&&r.getRect()}if(!t){var a=this.api.getWidth(),s=this.api.getHeight();t={x:a*.2,y:s*.2,width:a*.6,height:s*.6}}return t},e.type="dataZoom.slider",e})(rj);function v7e(n){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[n]}function m7e(n){return n==="vertical"?"ns-resize":"ew-resize"}function Ope(n){n.registerComponentModel(l7e),n.registerComponentView(p7e),aj(n)}function g7e(n){cn(Bpe),cn(Ope)}var zpe={get:function(n,e,t){var i=Nt((y7e[n]||{})[e]);return t&&Ve(i)?i[i.length-1]:i}},y7e={color:{active:["#006edd","#e0ffff"],inactive:[xe.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},U$=Ha.mapVisual,x7e=Ha.eachVisual,_7e=Ve,G$=Z,b7e=Xl,S7e=ei,lN=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r)},e.prototype.optionUpdated=function(t,i){var r=this.option;!i&&Cpe(r,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var i=this.stateList;t=ct(t,this),this.controllerVisuals=b8(this.option.controller,i,t),this.targetVisuals=b8(this.option.target,i,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesId,i=this.option.seriesIndex;i==null&&t==null&&(i="all");var r=tS(this.ecModel,"series",{index:i,id:t},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return We(r,function(a){return a.componentIndex})},e.prototype.eachTargetSeries=function(t,i){Z(this.getTargetSeriesIndices(),function(r){var a=this.ecModel.getSeriesByIndex(r);a&&t.call(i,a)},this)},e.prototype.isTargetSeries=function(t){var i=!1;return this.eachTargetSeries(function(r){r===t&&(i=!0)}),i},e.prototype.formatValueText=function(t,i,r){var a=this.option,s=a.precision,o=this.dataBound,l=a.formatter,u;r=r||["<",">"],Ve(t)&&(t=t.slice(),u=!0);var c=i?t:u?[f(t[0]),f(t[1])]:f(t);if(ot(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(wt(l))return u?l(t[0],t[1]):l(t);if(u)return t[0]===o[0]?r[0]+" "+c[1]:t[1]===o[1]?r[1]+" "+c[0]:c[0]+" - "+c[1];return c;function f(h){return h===o[0]?"min":h===o[1]?"max":(+h).toFixed(Math.min(s,20))}},e.prototype.resetExtent=function(){var t=this.option,i=b7e([t.min,t.max]);this._dataExtent=i},e.prototype.getDataDimensionIndex=function(t){var i=this.option.dimension;if(i!=null)return t.getDimensionIndex(i);for(var r=t.dimensions,a=r.length-1;a>=0;a--){var s=r[a],o=t.getDimensionInfo(s);if(!o.isCalculationCoord)return o.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,i=this.option,r={inRange:i.inRange,outOfRange:i.outOfRange},a=i.target||(i.target={}),s=i.controller||(i.controller={});an(a,r),an(s,r);var o=this.isCategory();l.call(this,a),l.call(this,s),u.call(this,a,"inRange","outOfRange"),c.call(this,s);function l(f){_7e(i.color)&&!f.inRange&&(f.inRange={color:i.color.slice().reverse()}),f.inRange=f.inRange||{color:t.get("gradientColor")}}function u(f,h,d){var v=f[h],m=f[d];v&&!m&&(m=f[d]={},G$(v,function(y,x){if(Ha.isValidType(x)){var b=zpe.get(x,"inactive",o);b!=null&&(m[x]=b,x==="color"&&!m.hasOwnProperty("opacity")&&!m.hasOwnProperty("colorAlpha")&&(m.opacity=[0,0]))}}))}function c(f){var h=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,d=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,v=this.get("inactiveColor"),m=this.getItemSymbol(),y=m||"roundRect";G$(this.stateList,function(x){var b=this.itemSize,M=f[x];M||(M=f[x]={color:o?v:[v]}),M.symbol==null&&(M.symbol=h&&Nt(h)||(o?y:[y])),M.symbolSize==null&&(M.symbolSize=d&&Nt(d)||(o?b[0]:[b[0],b[0]])),M.symbol=U$(M.symbol,function(E){return E==="none"?y:E});var C=M.symbolSize;if(C!=null){var w=-1/0;x7e(C,function(E){E>w&&(w=E)}),M.symbolSize=U$(C,function(E){return S7e(E,[0,w],[0,b[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:xe.color.transparent,borderColor:xe.color.borderTint,contentColor:xe.color.theme[0],inactiveColor:xe.color.disabled,borderWidth:0,padding:xe.size.m,textGap:10,precision:0,textStyle:{color:xe.color.secondary}},e})(xn),V$=[20,140],A7e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=V$[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=V$[1])},e.prototype._resetRange=function(){var t=this.getExtent(),i=this.option.range;!i||i.auto?(t.auto=1,this.option.range=t):Ve(i)&&(i[0]>i[1]&&i.reverse(),i[0]=Math.max(i[0],t[0]),i[1]=Math.min(i[1],t[1]))},e.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),Z(this.stateList,function(t){var i=this.option.controller[t].symbolSize;i&&i[0]!==i[1]&&(i[0]=i[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),i=Xl((this.get("range")||[]).slice());return i[0]>t[1]&&(i[0]=t[1]),i[1]>t[1]&&(i[1]=t[1]),i[0]<t[0]&&(i[0]=t[0]),i[1]<t[0]&&(i[1]=t[0]),i},e.prototype.getValueState=function(t){var i=this.option.range,r=this.getExtent(),a=At(this.option.unboundedRange,!0);return(a&&i[0]<=r[0]||i[0]<=t)&&(a&&i[1]>=r[1]||t<=i[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[];return this.eachTargetSeries(function(r){var a=[],s=r.getData();s.each(this.getDataDimensionIndex(s),function(o,l){t[0]<=o&&o<=t[1]&&a.push(l)},this),i.push({seriesId:r.id,dataIndex:a})},this),i},e.prototype.getVisualMeta=function(t){var i=j$(this,"outOfRange",this.getExtent()),r=j$(this,"inRange",this.option.range.slice()),a=[];function s(d,v){a.push({value:d,color:t(d,v)})}for(var o=0,l=0,u=r.length,c=i.length;l<c&&(!r.length||i[l]<=r[0]);l++)i[l]<r[o]&&s(i[l],"outOfRange");for(var f=1;o<u;o++,f=0)f&&a.length&&s(r[o],"outOfRange"),s(r[o],"inRange");for(var f=1;l<c;l++)(!r.length||r[r.length-1]<i[l])&&(f&&(a.length&&s(a[a.length-1].value,"outOfRange"),f=0),s(i[l],"outOfRange"));var h=a.length;return{stops:a,outerColors:[h?a[0].color:"transparent",h?a[h-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Om(lN.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:xe.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:xe.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:xe.color.shadow}}),e})(lN);function j$(n,e,t){if(t[0]===t[1])return t.slice();for(var i=200,r=(t[1]-t[0])/i,a=t[0],s=[],o=0;o<=i&&a<t[1];o++)s.push(a),a+=r;return s.push(t[1]),s}var kpe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,i){this.ecModel=t,this.api=i},e.prototype.render=function(t,i,r,a){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,i,r,a)},e.prototype.renderBackground=function(t){var i=this.visualMapModel,r=uS(i.get("padding")||0),a=t.getBoundingRect();t.add(new pn({z2:-1,silent:!0,shape:{x:a.x-r[3],y:a.y-r[0],width:a.width+r[3]+r[1],height:a.height+r[0]+r[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,i,r){r=r||{};var a=r.forceState,s=this.visualMapModel,o={};if(i==="color"){var l=s.get("contentColor");o.color=l}function u(d){return o[d]}function c(d,v){o[d]=v}var f=s.controllerVisuals[a||s.getValueState(t)],h=Ha.prepareVisualTypes(f);return Z(h,function(d){var v=f[d];r.convertOpacityToAlpha&&d==="opacity"&&(d="colorAlpha",v=f.__alphaForOpacity),Ha.dependsOn(d,i)&&v&&v.applyVisual(t,u,c)}),o[i]},e.prototype.positionGroup=function(t){var i=this.visualMapModel,r=this.api,a=Na(i,r).refContainer;KI(t,i.getBoxLayoutParams(),a)},e.prototype.doRender=function(t,i,r,a){},e.type="visualMap",e})(Bi),H$=[["left","right","width"],["top","bottom","height"]];function Fpe(n,e,t){var i=n.option,r=i.align;if(r!=null&&r!=="auto")return r;for(var a={width:e.getWidth(),height:e.getHeight()},s=i.orient==="horizontal"?1:0,o=H$[s],l=[0,null,10],u={},c=0;c<3;c++)u[H$[1-s][c]]=l[c],u[o[c]]=c===2?t[0]:i[o[c]];var f=[["x","width",3],["y","height",0]][s],h=Ji(u,a,i.padding);return o[(h.margin[f[2]]||0)+h[f[0]]+h[f[1]]*.5<a[f[1]]*.5?0:1]}function D3(n,e){return Z(n||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),n}var ah=ei,M7e=Z,W$=Math.min,W4=Math.max,T7e=12,C7e=6,w7e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.init=function(t,i){n.prototype.init.call(this,t,i),this._hoverLinkFromSeriesMouseOver=ct(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=ct(this._hideIndicator,this)},e.prototype.doRender=function(t,i,r,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,i=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(i);var r=t.get("text");this._renderEndsText(i,r,0),this._renderEndsText(i,r,1),this._updateView(!0),this.renderBackground(i),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(i)},e.prototype._renderEndsText=function(t,i,r){if(i){var a=i[1-r];a=a!=null?a+"":"";var s=this.visualMapModel,o=s.get("textGap"),l=s.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,r===0?-o:l[1]+o],u),f=this._applyTransform(r===0?"bottom":"top",u),h=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new In({style:Ii(d,{x:c[0],y:c[1],verticalAlign:d.get("verticalAlign")||(h==="horizontal"?"middle":f),align:d.get("align")||(h==="horizontal"?f:"center"),text:a})}))}},e.prototype._renderBar=function(t){var i=this.visualMapModel,r=this._shapes,a=i.itemSize,s=this._orient,o=this._useHandle,l=Fpe(i,this.api,a),u=r.mainGroup=this._createBarGroup(l),c=new It;u.add(c),c.add(r.outOfRange=X$()),c.add(r.inRange=X$(null,o?q$(this._orient):null,ct(this._dragHandle,this,"all",!1),ct(this._dragHandle,this,"all",!0))),c.setClipPath(new pn({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var f=i.textStyleModel.getTextRect(""),h=W4(f.width,f.height);o&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(i,u,0,a,h,s),this._createHandle(i,u,1,a,h,s)),this._createIndicator(i,u,a,h,s),t.add(u)},e.prototype._createHandle=function(t,i,r,a,s,o){var l=ct(this._dragHandle,this,r,!1),u=ct(this._dragHandle,this,r,!0),c=sf(t.get("handleSize"),a[0]),f=$r(t.get("handleIcon"),-c/2,-c/2,c,c,null,!0),h=q$(this._orient);f.attr({cursor:h,draggable:!0,drift:l,ondragend:u,onmousemove:function(x){_p(x.event)}}),f.x=a[0]/2,f.useStyle(t.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Y0(f,!0),i.add(f);var d=this.visualMapModel.textStyleModel,v=new In({cursor:h,draggable:!0,drift:l,onmousemove:function(x){_p(x.event)},ondragend:u,style:Ii(d,{x:0,y:0,text:""})});v.ensureState("blur").style={opacity:.1},v.stateTransition={duration:200},this.group.add(v);var m=[c,0],y=this._shapes;y.handleThumbs[r]=f,y.handleLabelPoints[r]=m,y.handleLabels[r]=v},e.prototype._createIndicator=function(t,i,r,a,s){var o=sf(t.get("indicatorSize"),r[0]),l=$r(t.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(l instanceof Za){var c=l.style;l.useStyle(Ie({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);i.add(l);var f=this.visualMapModel.textStyleModel,h=new In({silent:!0,invisible:!0,style:Ii(f,{x:0,y:0,text:""})});this.group.add(h);var d=[(s==="horizontal"?a/2:C7e)+r[0]/2,0],v=this._shapes;v.indicator=l,v.indicatorLabel=h,v.indicatorLabelPoint=d,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,i,r,a){if(this._useHandle){if(this._dragging=!i,!i){var s=this._applyTransform([r,a],this._shapes.mainGroup,!0);this._updateInterval(t,s[1]),this._hideIndicator(),this._updateView()}i===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),i?!this._hovering&&this._clearHoverLinkToSeries():Y$(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,i=this._dataInterval=t.getSelected(),r=t.getExtent(),a=[0,t.itemSize[1]];this._handleEnds=[ah(i[0],r,a,!0),ah(i[1],r,a,!0)]},e.prototype._updateInterval=function(t,i){i=i||0;var r=this.visualMapModel,a=this._handleEnds,s=[0,r.itemSize[1]];Am(i,a,s,t,0);var o=r.getExtent();this._dataInterval=[ah(a[0],s,o,!0),ah(a[1],s,o,!0)]},e.prototype._updateView=function(t){var i=this.visualMapModel,r=i.getExtent(),a=this._shapes,s=[0,i.itemSize[1]],o=t?s:this._handleEnds,l=this._createBarVisual(this._dataInterval,r,o,"inRange"),u=this._createBarVisual(r,r,s,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(o,l)},e.prototype._createBarVisual=function(t,i,r,a){var s={forceState:a,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,s),l=[this.getControllerVisual(t[0],"symbolSize",s),this.getControllerVisual(t[1],"symbolSize",s)],u=this._createBarPoints(r,l);return{barColor:new qy(0,0,0,1,o),barPoints:u,handlesColor:[o[0].color,o[o.length-1].color]}},e.prototype._makeColorGradient=function(t,i){var r=100,a=[],s=(t[1]-t[0])/r;a.push({color:this.getControllerVisual(t[0],"color",i),offset:0});for(var o=1;o<r;o++){var l=t[0]+s*o;if(l>t[1])break;a.push({color:this.getControllerVisual(l,"color",i),offset:o/r})}return a.push({color:this.getControllerVisual(t[1],"color",i),offset:1}),a},e.prototype._createBarPoints=function(t,i){var r=this.visualMapModel.itemSize;return[[r[0]-i[0],t[0]],[r[0],t[0]],[r[0],t[1]],[r[0]-i[1],t[1]]]},e.prototype._createBarGroup=function(t){var i=this._orient,r=this.visualMapModel.get("inverse");return new It(i==="horizontal"&&!r?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:i==="horizontal"&&r?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:i==="vertical"&&!r?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,i){if(this._useHandle){var r=this._shapes,a=this.visualMapModel,s=r.handleThumbs,o=r.handleLabels,l=a.itemSize,u=a.getExtent(),c=this._applyTransform("left",r.mainGroup);M7e([0,1],function(f){var h=s[f];h.setStyle("fill",i.handlesColor[f]),h.y=t[f];var d=ah(t[f],[0,l[1]],u,!0),v=this.getControllerVisual(d,"symbolSize");h.scaleX=h.scaleY=v/l[0],h.x=l[0]-v/2;var m=$c(r.handleLabelPoints[f],lm(h,this.group));if(this._orient==="horizontal"){var y=c==="left"||c==="top"?(l[0]-v)/2:(l[0]-v)/-2;m[1]+=y}o[f].setStyle({x:m[0],y:m[1],text:a.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",r.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,i,r,a){var s=this.visualMapModel,o=s.getExtent(),l=s.itemSize,u=[0,l[1]],c=this._shapes,f=c.indicator;if(f){f.attr("invisible",!1);var h={convertOpacityToAlpha:!0},d=this.getControllerVisual(t,"color",h),v=this.getControllerVisual(t,"symbolSize"),m=ah(t,o,u,!0),y=l[0]-v/2,x={x:f.x,y:f.y};f.y=m,f.x=y;var b=$c(c.indicatorLabelPoint,lm(f,this.group)),M=c.indicatorLabel;M.attr("invisible",!1);var C=this._applyTransform("left",c.mainGroup),w=this._orient,E=w==="horizontal";M.setStyle({text:(r||"")+s.formatValueText(i),verticalAlign:E?C:"middle",align:E?"center":C});var L={x:y,y:m,style:{fill:d}},P={style:{x:b[0],y:b[1]}};if(s.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var I={duration:100,easing:"cubicInOut",additive:!0};f.x=x.x,f.y=x.y,f.animateTo(L,I),M.animateTo(P,I)}else f.attr(L),M.attr(P);this._firstShowIndicator=!1;var N=this._shapes.handleLabels;if(N)for(var z=0;z<N.length;z++)this.api.enterBlur(N[z])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(i){if(t._hovering=!0,!t._dragging){var r=t.visualMapModel.itemSize,a=t._applyTransform([i.offsetX,i.offsetY],t._shapes.mainGroup,!0,!0);a[1]=W$(W4(0,a[1]),r[1]),t._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=r[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,i){var r=this.visualMapModel,a=r.itemSize;if(r.option.hoverLink){var s=[0,a[1]],o=r.getExtent();t=W$(W4(s[0],t),s[1]);var l=E7e(r,o,s),u=[t-l,t+l],c=ah(t,s,o,!0),f=[ah(u[0],s,o,!0),ah(u[1],s,o,!0)];u[0]<s[0]&&(f[0]=-1/0),u[1]>s[1]&&(f[1]=1/0),i&&(f[0]===-1/0?this._showIndicator(c,f[1],"< ",l):f[1]===1/0?this._showIndicator(c,f[0],"> ",l):this._showIndicator(c,c," ",l));var h=this._hoverLinkDataIndices,d=[];(i||Y$(r))&&(d=this._hoverLinkDataIndices=r.findTargetDataIndices(f));var v=o3e(h,d);this._dispatchHighDown("downplay",D3(v[0],r)),this._dispatchHighDown("highlight",D3(v[1],r))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var i;if(Z0(t.target,function(l){var u=jt(l);if(u.dataIndex!=null)return i=u,!0},!0),!!i){var r=this.ecModel.getSeriesByIndex(i.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(r)){var s=r.getData(i.dataType),o=s.getStore().get(a.getDataDimensionIndex(s),i.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var i=this._shapes.handleLabels;if(i)for(var r=0;r<i.length;r++)this.api.leaveBlur(i[r])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",D3(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,i,r,a){var s=lm(i,a?null:this.group);return Ve(t)?$c(t,s,r):YI(t,s,r)},e.prototype._dispatchHighDown=function(t,i){i&&i.length&&this.api.dispatchAction({type:t,batch:i})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e})(kpe);function X$(n,e,t,i){return new Fs({shape:{points:n},draggable:!!t,cursor:e,drift:t,onmousemove:function(r){_p(r.event)},ondragend:i})}function E7e(n,e,t){var i=T7e/2,r=n.get("hoverLinkDataSize");return r&&(i=ah(r,e,t,!0)/2),i}function Y$(n){var e=n.get("hoverLinkOnHandle");return!!(e??n.get("realtime"))}function q$(n){return n==="vertical"?"ns-resize":"ew-resize"}var D7e={type:"selectDataRange",event:"dataRangeSelected",update:"update"},R7e=function(n,e){e.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})},L7e=[{createOnAllSeries:!0,reset:function(n,e){var t=[];return e.eachComponent("visualMap",function(i){var r=n.pipelineContext;!i.isTargetSeries(n)||r&&r.large||t.push(Qje(i.stateList,i.targetVisuals,ct(i.getValueState,i),i.getDataDimensionIndex(n.getData())))}),t}},{createOnAllSeries:!0,reset:function(n,e){var t=n.getData(),i=[];e.eachComponent("visualMap",function(r){if(r.isTargetSeries(n)){var a=r.getVisualMeta(ct(N7e,null,n,r))||{stops:[],outerColors:[]},s=r.getDataDimensionIndex(t);s>=0&&(a.dimension=s,i.push(a))}}),n.getData().setVisual("visualMeta",i)}}];function N7e(n,e,t,i){for(var r=e.targetVisuals[i],a=Ha.prepareVisualTypes(r),s={color:GC(n.getData(),"color")},o=0,l=a.length;o<l;o++){var u=a[o],c=r[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(t,f,h)}return s.color;function f(d){return s[d]}function h(d,v){s[d]=v}}var Z$=Z;function I7e(n){var e=n&&n.visualMap;Ve(e)||(e=e?[e]:[]),Z$(e,function(t){if(t){F_(t,"splitList")&&!F_(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var i=t.pieces;i&&Ve(i)&&Z$(i,function(r){Ot(r)&&(F_(r,"start")&&!F_(r,"min")&&(r.min=r.start),F_(r,"end")&&!F_(r,"max")&&(r.max=r.end))})}})}function F_(n,e){return n&&n.hasOwnProperty&&n.hasOwnProperty(e)}var K$=!1;function Upe(n){K$||(K$=!0,n.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),n.registerAction(D7e,R7e),Z(L7e,function(e){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,e)}),n.registerPreprocessor(I7e))}function Gpe(n){n.registerComponentModel(A7e),n.registerComponentView(w7e),Upe(n)}var P7e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],B7e[this._mode].call(this,this._pieceList),this._resetSelected(t,i);var a=this.option.categories;this.resetVisual(function(s,o){r==="categories"?(s.mappingMethod="category",s.categories=Nt(a)):(s.dataExtent=this.getExtent(),s.mappingMethod="piecewise",s.pieceList=We(this._pieceList,function(l){return l=Nt(l),o!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,i={},r=Ha.listVisualTypes(),a=this.isCategory();Z(t.pieces,function(o){Z(r,function(l){o.hasOwnProperty(l)&&(i[l]=1)})}),Z(i,function(o,l){var u=!1;Z(this.stateList,function(c){u=u||s(t,c,l)||s(t.target,c,l)},this),!u&&Z(this.stateList,function(c){(t[c]||(t[c]={}))[l]=zpe.get(l,c==="inRange"?"active":"inactive",a)})},this);function s(o,l,u){return o&&o[l]&&o[l].hasOwnProperty(u)}n.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,i){var r=this.option,a=this._pieceList,s=(i?r:t).selected||{};if(r.selected=s,Z(a,function(l,u){var c=this.getSelectedMapKey(l);s.hasOwnProperty(c)||(s[c]=!0)},this),r.selectedMode==="single"){var o=!1;Z(a,function(l,u){var c=this.getSelectedMapKey(l);s[c]&&(o?s[c]=!1:o=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=Nt(t)},e.prototype.getValueState=function(t){var i=Ha.findPieceIndex(t,this._pieceList);return i!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[i])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[],r=this._pieceList;return this.eachTargetSeries(function(a){var s=[],o=a.getData();o.each(this.getDataDimensionIndex(o),function(l,u){var c=Ha.findPieceIndex(l,r);c===t&&s.push(u)},this),i.push({seriesId:a.id,dataIndex:s})},this),i},e.prototype.getRepresentValue=function(t){var i;if(this.isCategory())i=t.value;else if(t.value!=null)i=t.value;else{var r=t.interval||[];i=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return i},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var i=[],r=["",""],a=this;function s(c,f){var h=a.getRepresentValue({interval:c});f||(f=a.getValueState(h));var d=t(h,f);c[0]===-1/0?r[0]=d:c[1]===1/0?r[1]=d:i.push({value:c[0],color:d},{value:c[1],color:d})}var o=this._pieceList.slice();if(!o.length)o.push({interval:[-1/0,1/0]});else{var l=o[0].interval[0];l!==-1/0&&o.unshift({interval:[-1/0,l]}),l=o[o.length-1].interval[1],l!==1/0&&o.push({interval:[l,1/0]})}var u=-1/0;return Z(o,function(c){var f=c.interval;f&&(f[0]>u&&s([u,f[0]],"outOfRange"),s(f.slice()),u=f[1])},this),{stops:i,outerColors:r}},e.type="visualMap.piecewise",e.defaultOption=Om(lN.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e})(lN),B7e={splitNumber:function(n){var e=this.option,t=Math.min(e.precision,20),i=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var a=(i[1]-i[0])/r;+a.toFixed(t)!==a&&t<5;)t++;e.precision=t,a=+a.toFixed(t),e.minOpen&&n.push({interval:[-1/0,i[0]],close:[0,0]});for(var s=0,o=i[0];s<r;o+=a,s++){var l=s===r-1?i[1]:o+a;n.push({interval:[o,l],close:[1,1]})}e.maxOpen&&n.push({interval:[i[1],1/0],close:[0,0]}),XF(n),Z(n,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(n){var e=this.option;Z(e.categories,function(t){n.push({text:this.formatValueText(t,!0),value:t})},this),J$(e,n)},pieces:function(n){var e=this.option;Z(e.pieces,function(t,i){Ot(t)||(t={value:t});var r={text:"",index:i};if(t.label!=null&&(r.text=t.label),t.hasOwnProperty("value")){var a=r.value=t.value;r.interval=[a,a],r.close=[1,1]}else{for(var s=r.interval=[],o=r.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],f=0;f<2;f++){for(var h=[["gte","gt","min"],["lte","lt","max"]][f],d=0;d<3&&s[f]==null;d++)s[f]=t[h[d]],o[f]=l[d],c[f]=d===2;s[f]==null&&(s[f]=u[f])}c[0]&&s[1]===1/0&&(o[0]=0),c[1]&&s[0]===-1/0&&(o[1]=0),s[0]===s[1]&&o[0]&&o[1]&&(r.value=s[0])}r.visual=Ha.retrieveVisuals(t),n.push(r)},this),J$(e,n),XF(n),Z(n,function(t){var i=t.close,r=[["<",""][i[1]],[">",""][i[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,r)},this)}};function J$(n,e){var t=n.inverse;(n.orient==="vertical"?!t:t)&&e.reverse()}var O7e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var i=this.visualMapModel,r=i.get("textGap"),a=i.textStyleModel,s=this._getItemAlign(),o=i.itemSize,l=this._getViewData(),u=l.endsText,c=ds(i.get("showLabel",!0),!u),f=!i.get("selectedMode");u&&this._renderEndsText(t,u[0],o,c,s),Z(l.viewPieceList,function(h){var d=h.piece,v=new It;v.onclick=ct(this._onItemClick,this,d),this._enableHoverLink(v,h.indexInModelPieceList);var m=i.getRepresentValue(d);if(this._createItemSymbol(v,m,[0,0,o[0],o[1]],f),c){var y=this.visualMapModel.getValueState(m),x=a.get("align")||s;v.add(new In({style:Ii(a,{x:x==="right"?-r:o[0]+r,y:o[1]/2,text:d.text,verticalAlign:a.get("verticalAlign")||"middle",align:x,opacity:At(a.get("opacity"),y==="outOfRange"?.5:1)}),silent:f}))}t.add(v)},this),u&&this._renderEndsText(t,u[1],o,c,s),vy(i.get("orient"),t,i.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,i){var r=this;t.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(s){var o=r.visualMapModel;o.option.hoverLink&&r.api.dispatchAction({type:s,batch:D3(o.findTargetDataIndices(i),o)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,i=t.option;if(i.orient==="vertical")return Fpe(t,this.api,t.itemSize);var r=i.align;return(!r||r==="auto")&&(r="left"),r},e.prototype._renderEndsText=function(t,i,r,a,s){if(i){var o=new It,l=this.visualMapModel.textStyleModel;o.add(new In({style:Ii(l,{x:a?s==="right"?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:a?s:"center",text:i})})),t.add(o)}},e.prototype._getViewData=function(){var t=this.visualMapModel,i=We(t.getPieceList(),function(o,l){return{piece:o,indexInModelPieceList:l}}),r=t.get("text"),a=t.get("orient"),s=t.get("inverse");return(a==="horizontal"?s:!s)?i.reverse():r&&(r=r.slice().reverse()),{viewPieceList:i,endsText:r}},e.prototype._createItemSymbol=function(t,i,r,a){var s=$r(this.getControllerVisual(i,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(i,"color"));s.silent=a,t.add(s)},e.prototype._onItemClick=function(t){var i=this.visualMapModel,r=i.option,a=r.selectedMode;if(a){var s=Nt(r.selected),o=i.getSelectedMapKey(t);a==="single"||a===!0?(s[o]=!0,Z(s,function(l,u){s[u]=u===o})):s[o]=!s[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:s})}},e.type="visualMap.piecewise",e})(kpe);function Vpe(n){n.registerComponentModel(P7e),n.registerComponentView(O7e),Upe(n)}function z7e(n){cn(Gpe),cn(Vpe)}var k7e=(function(){function n(e){this._thumbnailModel=e}return n.prototype.reset=function(e){this._renderVersion=e.getMainProcessVersion()},n.prototype.renderContent=function(e){var t=e.api.getViewOfComponentModel(this._thumbnailModel);t&&(e.group.silent=!0,t.renderContent({group:e.group,targetTrans:e.targetTrans,z2Range:hue(e.group),roamType:e.roamType,viewportRect:e.viewportRect,renderVersion:this._renderVersion}))},n.prototype.updateWindow=function(e,t){var i=t.getViewOfComponentModel(this._thumbnailModel);i&&i.updateWindow({targetTrans:e,renderVersion:this._renderVersion})},n})(),F7e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.optionUpdated=function(t,i){this._updateBridge()},e.prototype._updateBridge=function(){var t=this._birdge=this._birdge||new k7e(this);if(this._target=null,this.ecModel.eachSeries(function(r){SJ(r,null)}),this.shouldShow()){var i=this.getTarget();SJ(i.baseMapProvider,t)}},e.prototype.shouldShow=function(){return this.getShallow("show",!0)},e.prototype.getBridge=function(){return this._birdge},e.prototype.getTarget=function(){if(this._target)return this._target;var t=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return t?t.subType!=="graph"&&(t=null):t=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:t},this._target},e.type="thumbnail",e.layoutMode="box",e.dependencies=["series","geo"],e.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:xe.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:xe.color.neutral30,borderColor:xe.color.neutral40,opacity:.3},z:10},e})(xn),U7e=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){if(this._api=r,this._model=t,this._coordSys||(this._coordSys=new tx),!this._isEnabled()){this._clear();return}this._renderVersion=r.getMainProcessVersion();var a=this.group;a.removeAll();var s=t.getModel("itemStyle"),o=s.getItemStyle();o.fill==null&&(o.fill=i.get("backgroundColor")||xe.color.neutral00);var l=Na(t,r).refContainer,u=Ji(Nue(t,!0),l),c=o.lineWidth||0,f=this._contentRect=Iy(u.clone(),c/2,!0,!0),h=new It;a.add(h),h.setClipPath(new pn({shape:f.plain()}));var d=this._targetGroup=new It;h.add(d);var v=u.plain();v.r=s.getShallow("borderRadius",!0),a.add(this._bgRect=new pn({style:o,shape:v,silent:!1,cursor:"grab"}));var m=t.getModel("windowStyle"),y=m.getShallow("borderRadius",!0);h.add(this._windowRect=new pn({shape:{x:0,y:0,width:0,height:0,r:y},style:m.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),$$(t,this)},e.prototype.renderContent=function(t){this._bridgeRendered=t,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),$$(this._model,this))},e.prototype._dealRenderContent=function(){var t=this._bridgeRendered;if(!(!t||t.renderVersion!==this._renderVersion)){var i=this._targetGroup,r=this._coordSys,a=this._contentRect;if(i.removeAll(),!!t){var s=t.group,o=s.getBoundingRect();i.add(s),this._bgRect.z2=t.z2Range.min-10,r.setBoundingRect(o.x,o.y,o.width,o.height);var l=Ji({left:"center",top:"center",aspect:o.width/o.height},a);r.setViewRect(l.x,l.y,l.width,l.height),s.attr(r.getTransformInfo().raw),this._windowRect.z2=t.z2Range.max+10,this._resetRoamController(t.roamType)}}},e.prototype.updateWindow=function(t){var i=this._bridgeRendered;i&&i.renderVersion===t.renderVersion&&(i.targetTrans=t.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},e.prototype._dealUpdateWindow=function(){var t=this._bridgeRendered;if(!(!t||t.renderVersion!==this._renderVersion)){var i=Qu([],t.targetTrans),r=Jc([],this._coordSys.transform,i);this._transThisToTarget=Qu([],r);var a=t.viewportRect;a?a=a.clone():a=new Ut(0,0,this._api.getWidth(),this._api.getHeight()),a.applyTransform(r);var s=this._windowRect,o=s.shape.r;s.setShape(Bt({r:o},a))}},e.prototype._resetRoamController=function(t){var i=this,r=this._api,a=this._roamController;if(a||(a=this._roamController=new ex(r.getZr())),!t||!this._isEnabled()){a.disable();return}a.enable(t,{api:r,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(s,o,l){return i._contentRect.contain(o,l)}}}),a.off("pan").off("zoom").on("pan",ct(this._onPan,this)).on("zoom",ct(this._onZoom,this))},e.prototype._onPan=function(t){var i=this._transThisToTarget;if(!(!this._isEnabled()||!i)){var r=zr([],[t.oldX,t.oldY],i),a=zr([],[t.oldX-t.dx,t.oldY-t.dy],i);this._api.dispatchAction(Q$(this._model.getTarget().baseMapProvider,{dx:a[0]-r[0],dy:a[1]-r[1]}))}},e.prototype._onZoom=function(t){var i=this._transThisToTarget;if(!(!this._isEnabled()||!i)){var r=zr([],[t.originX,t.originY],i);this._api.dispatchAction(Q$(this._model.getTarget().baseMapProvider,{zoom:1/t.scale,originX:r[0],originY:r[1]}))}},e.prototype._isEnabled=function(){var t=this._model;if(!t||!t.shouldShow())return!1;var i=t.getTarget().baseMapProvider;return!!i},e.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},e.prototype.remove=function(){this._clear()},e.prototype.dispose=function(){this._clear()},e.type="thumbnail",e})(Bi);function Q$(n,e){var t=n.mainType==="series"?n.subType+"Roam":n.mainType+"Roam",i={type:t};return i[n.mainType+"Id"]=n.id,Ie(i,e),i}function $$(n,e){var t=Py(n);qI(e.group,t.z,t.zlevel)}function G7e(n){n.registerComponentModel(F7e),n.registerComponentView(U7e)}var V7e={label:{enabled:!0},decal:{show:!1}},eee=_n(),j7e={};function H7e(n,e){var t=n.getModel("aria");if(!t.get("enabled"))return;var i=Nt(V7e);an(i.label,n.getLocaleModel().get("aria"),!1),an(t.option,i,!1),r(),a();function r(){var u=t.getModel("decal"),c=u.get("show");if(c){var f=bt();n.eachSeries(function(h){if(!h.isColorBySeries()){var d=f.get(h.type);d||(d={},f.set(h.type,d)),eee(h).scope=d}}),n.eachRawSeries(function(h){if(n.isSeriesFiltered(h))return;if(wt(h.enableAriaDecal)){h.enableAriaDecal();return}var d=h.getData();if(h.isColorBySeries()){var b=dU(h.ecModel,h.name,j7e,n.getSeriesCount()),M=d.getVisual("decal");d.setVisual("decal",C(M,b))}else{var v=h.getRawData(),m={},y=eee(h).scope;d.each(function(w){var E=d.getRawIndex(w);m[E]=w});var x=v.count();v.each(function(w){var E=m[w],L=v.getName(w)||w+"",P=dU(h.ecModel,L,y,x),I=d.getItemVisual(E,"decal");d.setItemVisual(E,"decal",C(I,P))})}function C(w,E){var L=w?Ie(Ie({},E),w):E;return L.dirty=!0,L}})}}function a(){var u=e.getZr().dom;if(u){var c=n.getLocaleModel().get("aria"),f=t.getModel("label");if(f.option=Bt(f.option,c),!!f.get("enabled")){if(u.setAttribute("role","img"),f.get("description")){u.setAttribute("aria-label",f.get("description"));return}var h=n.getSeriesCount(),d=f.get(["data","maxCount"])||10,v=f.get(["series","maxCount"])||10,m=Math.min(h,v),y;if(!(h<1)){var x=o();if(x){var b=f.get(["general","withTitle"]);y=s(b,{title:x})}else y=f.get(["general","withoutTitle"]);var M=[],C=h>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);y+=s(C,{seriesCount:h}),n.eachSeries(function(P,I){if(I<m){var N=void 0,z=P.get("name"),V=z?"withName":"withoutName";N=h>1?f.get(["series","multiple",V]):f.get(["series","single",V]),N=s(N,{seriesId:P.seriesIndex,seriesName:P.get("name"),seriesType:l(P.subType)});var U=P.getData();if(U.count()>d){var j=f.get(["data","partialData"]);N+=s(j,{displayCnt:d})}else N+=f.get(["data","allData"]);for(var W=f.get(["data","separator","middle"]),G=f.get(["data","separator","end"]),X=f.get(["data","excludeDimensionId"]),q=[],$=0;$<U.count();$++)if($<d){var te=U.getName($),J=X?Zn(U.getValues($),function(se,ce){return rn(X,ce)===-1}):U.getValues($),Q=f.get(["data",te?"withName":"withoutName"]);q.push(s(Q,{name:te,value:J.join(W)}))}N+=q.join(W)+G,M.push(N)}});var w=f.getModel(["series","multiple","separator"]),E=w.get("middle"),L=w.get("end");y+=M.join(E)+L,u.setAttribute("aria-label",y)}}}}function s(u,c){if(!ot(u))return u;var f=u;return Z(c,function(h,d){f=f.replace(new RegExp("\\{\\s*"+d+"\\s*\\}","g"),h)}),f}function o(){var u=n.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=n.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function W7e(n){if(!(!n||!n.aria)){var e=n.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},Z(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function X7e(n){n.registerPreprocessor(W7e),n.registerVisual(n.PRIORITY.VISUAL.ARIA,H7e)}var tee={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Y7e=(function(){function n(e){var t=this._condVal=ot(e)?new RegExp(e):Ooe(e)?e:null;if(t==null){var i="";ti(i)}}return n.prototype.evaluate=function(e){var t=typeof e;return ot(t)?this._condVal.test(e):Pn(t)?this._condVal.test(e+""):!1},n})(),q7e=(function(){function n(){}return n.prototype.evaluate=function(){return this.value},n})(),Z7e=(function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},n})(),K7e=(function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},n})(),J7e=(function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n})(),Q7e=(function(){function n(){}return n.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,i=t(this.valueGetterParam),r=e?this.valueParser(i):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(e?r:i))return!1;return!0},n})();function dj(n,e){if(n===!0||n===!1){var t=new q7e;return t.value=n,t}var i="";return jpe(n)||ti(i),n.and?nee("and",n,e):n.or?nee("or",n,e):n.not?$7e(n,e):eWe(n,e)}function nee(n,e,t){var i=e[n],r="";Ve(i)||ti(r),i.length||ti(r);var a=n==="and"?new Z7e:new K7e;return a.children=We(i,function(s){return dj(s,t)}),a.children.length||ti(r),a}function $7e(n,e){var t=n.not,i="";jpe(t)||ti(i);var r=new J7e;return r.child=dj(t,e),r.child||ti(i),r}function eWe(n,e){for(var t="",i=e.prepareGetValue(n),r=[],a=Dn(n),s=n.parser,o=s?ece(s):null,l=0;l<a.length;l++){var u=a[l];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var c=yt(tee,u)?tee[u]:u,f=n[u],h=o?o(f):f,d=_Ie(c,h)||c==="reg"&&new Y7e(h);d||ti(t),r.push(d)}}r.length||ti(t);var v=new Q7e;return v.valueGetterParam=i,v.valueParser=o,v.getValue=e.getValue,v.subCondList=r,v}function jpe(n){return Ot(n)&&!Os(n)}var tWe=(function(){function n(e,t){this._cond=dj(e,t)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n})();function nWe(n,e){return new tWe(n,e)}var iWe={type:"echarts:filter",transform:function(n){for(var e=n.upstream,t,i=nWe(n.config,{valueGetterAttrMap:bt({dimension:!0}),prepareGetValue:function(o){var l="",u=o.dimension;yt(o,"dimension")||ti(l);var c=e.getDimensionInfo(u);return c||ti(l),{dimIdx:c.index}},getValue:function(o){return e.retrieveValueFromItem(t,o.dimIdx)}}),r=[],a=0,s=e.count();a<s;a++)t=e.getRawDataItem(a),i.evaluate()&&r.push(t);return{data:r}}},rWe={type:"echarts:sort",transform:function(n){var e=n.upstream,t=n.config,i="",r=Pi(t);r.length||ti(i);var a=[];Z(r,function(c){var f=c.dimension,h=c.order,d=c.parser,v=c.incomparable;if(f==null&&ti(i),h!=="asc"&&h!=="desc"&&ti(i),v&&v!=="min"&&v!=="max"){var m="";ti(m)}if(h!=="asc"&&h!=="desc"){var y="";ti(y)}var x=e.getDimensionInfo(f);x||ti(i);var b=d?ece(d):null;d&&!b&&ti(i),a.push({dimIdx:x.index,parser:b,comparator:new nce(h,v)})});var s=e.sourceFormat;s!==xs&&s!==su&&ti(i);for(var o=[],l=0,u=e.count();l<u;l++)o.push(e.getRawDataItem(l));return o.sort(function(c,f){for(var h=0;h<a.length;h++){var d=a[h],v=e.retrieveValueFromItem(c,d.dimIdx),m=e.retrieveValueFromItem(f,d.dimIdx);d.parser&&(v=d.parser(v),m=d.parser(m));var y=d.comparator.evaluate(v,m);if(y!==0)return y}return 0}),{data:o}}};function aWe(n){n.registerTransform(iWe),n.registerTransform(rWe)}var sWe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return e.prototype.init=function(t,i,r){n.prototype.init.call(this,t,i,r),this._sourceManager=new sce(this),Pq(this)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),Pq(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:ef},e})(xn),oWe=(function(n){me(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return e.type="dataset",e})(Bi);function lWe(n){n.registerComponentModel(sWe),n.registerComponentView(oWe)}var th=Ih.CMD;function O1(n,e){return Math.abs(n-e)<1e-5}function E8(n){var e=n.data,t=n.len(),i=[],r,a=0,s=0,o=0,l=0;function u(U,j){r&&r.length>2&&i.push(r),r=[U,j]}function c(U,j,W,G){O1(U,W)&&O1(j,G)||r.push(U,j,W,G,W,G)}function f(U,j,W,G,X,q){var $=Math.abs(j-U),te=Math.tan($/4)*4/3,J=j<U?-1:1,Q=Math.cos(U),se=Math.sin(U),ce=Math.cos(j),ue=Math.sin(j),fe=Q*X+W,ge=se*q+G,Se=ce*X+W,Ee=ue*q+G,Ue=X*te*J,_e=q*te*J;r.push(fe-Ue*se,ge+_e*Q,Se+Ue*ue,Ee-_e*ce,Se,Ee)}for(var h,d,v,m,y=0;y<t;){var x=e[y++],b=y===1;switch(b&&(a=e[y],s=e[y+1],o=a,l=s,(x===th.L||x===th.C||x===th.Q)&&(r=[o,l])),x){case th.M:a=o=e[y++],s=l=e[y++],u(o,l);break;case th.L:h=e[y++],d=e[y++],c(a,s,h,d),a=h,s=d;break;case th.C:r.push(e[y++],e[y++],e[y++],e[y++],a=e[y++],s=e[y++]);break;case th.Q:h=e[y++],d=e[y++],v=e[y++],m=e[y++],r.push(a+2/3*(h-a),s+2/3*(d-s),v+2/3*(h-v),m+2/3*(d-m),v,m),a=v,s=m;break;case th.A:var M=e[y++],C=e[y++],w=e[y++],E=e[y++],L=e[y++],P=e[y++]+L;y+=1;var I=!e[y++];h=Math.cos(L)*w+M,d=Math.sin(L)*E+C,b?(o=h,l=d,u(o,l)):c(a,s,h,d),a=Math.cos(P)*w+M,s=Math.sin(P)*E+C;for(var N=(I?-1:1)*Math.PI/2,z=L;I?z>P:z<P;z+=N){var V=I?Math.max(z+N,P):Math.min(z+N,P);f(z,V,M,C,w,E)}break;case th.R:o=a=e[y++],l=s=e[y++],h=o+e[y++],d=l+e[y++],u(h,l),c(h,l,h,d),c(h,d,o,d),c(o,d,o,l),c(o,l,h,l);break;case th.Z:r&&c(a,s,o,l),a=o,s=l;break}}return r&&r.length>2&&i.push(r),i}function D8(n,e,t,i,r,a,s,o,l,u){if(O1(n,t)&&O1(e,i)&&O1(r,s)&&O1(a,o)){l.push(s,o);return}var c=2/u,f=c*c,h=s-n,d=o-e,v=Math.sqrt(h*h+d*d);h/=v,d/=v;var m=t-n,y=i-e,x=r-s,b=a-o,M=m*m+y*y,C=x*x+b*b;if(M<f&&C<f){l.push(s,o);return}var w=h*m+d*y,E=-h*x-d*b,L=M-w*w,P=C-E*E;if(L<f&&w>=0&&P<f&&E>=0){l.push(s,o);return}var I=[],N=[];_m(n,t,r,s,.5,I),_m(e,i,a,o,.5,N),D8(I[0],N[0],I[1],N[1],I[2],N[2],I[3],N[3],l,u),D8(I[4],N[4],I[5],N[5],I[6],N[6],I[7],N[7],l,u)}function uWe(n,e){var t=E8(n),i=[];e=e||1;for(var r=0;r<t.length;r++){var a=t[r],s=[],o=a[0],l=a[1];s.push(o,l);for(var u=2;u<a.length;){var c=a[u++],f=a[u++],h=a[u++],d=a[u++],v=a[u++],m=a[u++];D8(o,l,c,f,h,d,v,m,s,e),o=v,l=m}i.push(s)}return i}function Hpe(n,e,t){var i=n[e],r=n[1-e],a=Math.abs(i/r),s=Math.ceil(Math.sqrt(a*t)),o=Math.floor(t/s);o===0&&(o=1,s=t);for(var l=[],u=0;u<s;u++)l.push(o);var c=s*o,f=t-c;if(f>0)for(var u=0;u<f;u++)l[u%s]+=1;return l}function iee(n,e,t){for(var i=n.r0,r=n.r,a=n.startAngle,s=n.endAngle,o=Math.abs(s-a),l=o*r,u=r-i,c=l>Math.abs(u),f=Hpe([l,u],c?0:1,e),h=(c?o:u)/f.length,d=0;d<f.length;d++)for(var v=(c?u:o)/f[d],m=0;m<f[d];m++){var y={};c?(y.startAngle=a+h*d,y.endAngle=a+h*(d+1),y.r0=i+v*m,y.r=i+v*(m+1)):(y.startAngle=a+v*m,y.endAngle=a+v*(m+1),y.r0=i+h*d,y.r=i+h*(d+1)),y.clockwise=n.clockwise,y.cx=n.cx,y.cy=n.cy,t.push(y)}}function cWe(n,e,t){for(var i=n.width,r=n.height,a=i>r,s=Hpe([i,r],a?0:1,e),o=a?"width":"height",l=a?"height":"width",u=a?"x":"y",c=a?"y":"x",f=n[o]/s.length,h=0;h<s.length;h++)for(var d=n[l]/s[h],v=0;v<s[h];v++){var m={};m[u]=h*f,m[c]=v*d,m[o]=f,m[l]=d,m.x+=n.x,m.y+=n.y,t.push(m)}}function ree(n,e,t,i){return n*i-t*e}function fWe(n,e,t,i,r,a,s,o){var l=t-n,u=i-e,c=s-r,f=o-a,h=ree(c,f,l,u);if(Math.abs(h)<1e-6)return null;var d=n-r,v=e-a,m=ree(d,v,c,f)/h;return m<0||m>1?null:new Ft(m*l+n,m*u+e)}function hWe(n,e,t){var i=new Ft;Ft.sub(i,t,e),i.normalize();var r=new Ft;Ft.sub(r,n,e);var a=r.dot(i);return a}function U_(n,e){var t=n[n.length-1];t&&t[0]===e[0]&&t[1]===e[1]||n.push(e)}function dWe(n,e,t){for(var i=n.length,r=[],a=0;a<i;a++){var s=n[a],o=n[(a+1)%i],l=fWe(s[0],s[1],o[0],o[1],e.x,e.y,t.x,t.y);l&&r.push({projPt:hWe(l,e,t),pt:l,idx:a})}if(r.length<2)return[{points:n},{points:n}];r.sort(function(y,x){return y.projPt-x.projPt});var u=r[0],c=r[r.length-1];if(c.idx<u.idx){var f=u;u=c,c=f}for(var h=[u.pt.x,u.pt.y],d=[c.pt.x,c.pt.y],v=[h],m=[d],a=u.idx+1;a<=c.idx;a++)U_(v,n[a].slice());U_(v,d),U_(v,h);for(var a=c.idx+1;a<=u.idx+i;a++)U_(m,n[a%i].slice());return U_(m,h),U_(m,d),[{points:v},{points:m}]}function aee(n){var e=n.points,t=[],i=[];VI(e,t,i);var r=new Ut(t[0],t[1],i[0]-t[0],i[1]-t[1]),a=r.width,s=r.height,o=r.x,l=r.y,u=new Ft,c=new Ft;return a>s?(u.x=c.x=o+a/2,u.y=l,c.y=l+s):(u.y=c.y=l+s/2,u.x=o,c.x=o+a),dWe(e,u,c)}function uN(n,e,t,i){if(t===1)i.push(e);else{var r=Math.floor(t/2),a=n(e);uN(n,a[0],r,i),uN(n,a[1],t-r,i)}return i}function pWe(n,e){for(var t=[],i=0;i<e;i++)t.push(l6(n));return t}function vWe(n,e){e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel}function mWe(n){for(var e=[],t=0;t<n.length;)e.push([n[t++],n[t++]]);return e}function gWe(n,e){var t=[],i=n.shape,r;switch(n.type){case"rect":cWe(i,e,t),r=pn;break;case"sector":iee(i,e,t),r=ks;break;case"circle":iee({r0:0,r:i.r,startAngle:0,endAngle:Math.PI*2,cx:i.cx,cy:i.cy},e,t),r=ks;break;default:var a=n.getComputedTransform(),s=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,o=We(uWe(n.getUpdatedPathProxy(),s),function(x){return mWe(x)}),l=o.length;if(l===0)uN(aee,{points:o[0]},e,t);else if(l===e)for(var u=0;u<l;u++)t.push({points:o[u]});else{var c=0,f=We(o,function(x){var b=[],M=[];VI(x,b,M);var C=(M[1]-b[1])*(M[0]-b[0]);return c+=C,{poly:x,area:C}});f.sort(function(x,b){return b.area-x.area});for(var h=e,u=0;u<l;u++){var d=f[u];if(h<=0)break;var v=u===l-1?h:Math.ceil(d.area/c*e);v<0||(uN(aee,{points:d.poly},v,t),h-=v)}}r=Fs;break}if(!r)return pWe(n,e);for(var m=[],u=0;u<t.length;u++){var y=new r;y.setShape(t[u]),vWe(n,y),m.push(y)}return m}function yWe(n,e){var t=n.length,i=e.length;if(t===i)return[n,e];for(var r=[],a=[],s=t<i?n:e,o=Math.min(t,i),l=Math.abs(i-t)/6,u=(o-2)/6,c=Math.ceil(l/u)+1,f=[s[0],s[1]],h=l,d=2;d<o;){var v=s[d-2],m=s[d-1],y=s[d++],x=s[d++],b=s[d++],M=s[d++],C=s[d++],w=s[d++];if(h<=0){f.push(y,x,b,M,C,w);continue}for(var E=Math.min(h,c-1)+1,L=1;L<=E;L++){var P=L/E;_m(v,y,b,C,P,r),_m(m,x,M,w,P,a),v=r[3],m=a[3],f.push(r[1],a[1],r[2],a[2],v,m),y=r[5],x=a[5],b=r[6],M=a[6]}h-=E-1}return s===n?[f,e]:[n,f]}function see(n,e){for(var t=n.length,i=n[t-2],r=n[t-1],a=[],s=0;s<e.length;)a[s++]=i,a[s++]=r;return a}function xWe(n,e){for(var t,i,r,a=[],s=[],o=0;o<Math.max(n.length,e.length);o++){var l=n[o],u=e[o],c=void 0,f=void 0;l?u?(t=yWe(l,u),c=t[0],f=t[1],i=c,r=f):(f=see(r||l,l),c=l):(c=see(i||u,u),f=u),a.push(c),s.push(f)}return[a,s]}function oee(n){for(var e=0,t=0,i=0,r=n.length,a=0,s=r-2;a<r;s=a,a+=2){var o=n[s],l=n[s+1],u=n[a],c=n[a+1],f=o*c-u*l;e+=f,t+=(o+u)*f,i+=(l+c)*f}return e===0?[n[0]||0,n[1]||0]:[t/e/3,i/e/3,e]}function _We(n,e,t,i){for(var r=(n.length-2)/6,a=1/0,s=0,o=n.length,l=o-2,u=0;u<r;u++){for(var c=u*6,f=0,h=0;h<o;h+=2){var d=h===0?c:(c+h-2)%l+2,v=n[d]-t[0],m=n[d+1]-t[1],y=e[h]-i[0],x=e[h+1]-i[1],b=y-v,M=x-m;f+=b*b+M*M}f<a&&(a=f,s=u)}return s}function bWe(n){for(var e=[],t=n.length,i=0;i<t;i+=2)e[i]=n[t-i-2],e[i+1]=n[t-i-1];return e}function SWe(n,e,t,i){for(var r=[],a,s=0;s<n.length;s++){var o=n[s],l=e[s],u=oee(o),c=oee(l);a==null&&(a=u[2]<0!=c[2]<0);var f=[],h=[],d=0,v=1/0,m=[],y=o.length;a&&(o=bWe(o));for(var x=_We(o,l,u,c)*6,b=y-2,M=0;M<b;M+=2){var C=(x+M)%b+2;f[M+2]=o[C]-u[0],f[M+3]=o[C+1]-u[1]}f[0]=o[x]-u[0],f[1]=o[x+1]-u[1];for(var w=i/t,E=-i/2;E<=i/2;E+=w){for(var L=Math.sin(E),P=Math.cos(E),I=0,M=0;M<o.length;M+=2){var N=f[M],z=f[M+1],V=l[M]-c[0],U=l[M+1]-c[1],j=V*P-U*L,W=V*L+U*P;m[M]=j,m[M+1]=W;var G=j-N,X=W-z;I+=G*G+X*X}if(I<v){v=I,d=E;for(var q=0;q<m.length;q++)h[q]=m[q]}}r.push({from:f,to:h,fromCp:u,toCp:c,rotation:-d})}return r}function cN(n){return n.__isCombineMorphing}var Wpe="__mOriginal_";function fN(n,e,t){var i=Wpe+e,r=n[i]||n[e];n[i]||(n[i]=n[e]);var a=t.replace,s=t.after,o=t.before;n[e]=function(){var l=arguments,u;return o&&o.apply(this,l),a?u=a.apply(this,l):u=r.apply(this,l),s&&s.apply(this,l),u}}function K2(n,e){var t=Wpe+e;n[t]&&(n[e]=n[t],n[t]=null)}function lee(n,e){for(var t=0;t<n.length;t++)for(var i=n[t],r=0;r<i.length;){var a=i[r],s=i[r+1];i[r++]=e[0]*a+e[2]*s+e[4],i[r++]=e[1]*a+e[3]*s+e[5]}}function Xpe(n,e){var t=n.getUpdatedPathProxy(),i=e.getUpdatedPathProxy(),r=xWe(E8(t),E8(i)),a=r[0],s=r[1],o=n.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}o&&lee(a,o),l&&lee(s,l),fN(e,"updateTransform",{replace:u}),e.transform=null;var c=SWe(a,s,10,Math.PI),f=[];fN(e,"buildPath",{replace:function(h){for(var d=e.__morphT,v=1-d,m=[],y=0;y<c.length;y++){var x=c[y],b=x.from,M=x.to,C=x.rotation*d,w=x.fromCp,E=x.toCp,L=Math.sin(C),P=Math.cos(C);k2(m,w,E,d);for(var I=0;I<b.length;I+=2){var N=b[I],z=b[I+1],V=M[I],U=M[I+1],j=N*v+V*d,W=z*v+U*d;f[I]=j*P-W*L+m[0],f[I+1]=j*L+W*P+m[1]}var G=f[0],X=f[1];h.moveTo(G,X);for(var I=2;I<b.length;){var V=f[I++],U=f[I++],q=f[I++],$=f[I++],te=f[I++],J=f[I++];G===V&&X===U&&q===te&&$===J?h.lineTo(te,J):h.bezierCurveTo(V,U,q,$,te,J),G=te,X=J}}}})}function pj(n,e,t){if(!n||!e)return e;var i=t.done,r=t.during;Xpe(n,e),e.__morphT=0;function a(){K2(e,"buildPath"),K2(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},Bt({during:function(s){e.dirtyShape(),r&&r(s)},done:function(){a(),i&&i()}},t)),e}function AWe(n,e,t,i,r,a){var s=16;n=r===t?0:Math.round(32767*(n-t)/(r-t)),e=a===i?0:Math.round(32767*(e-i)/(a-i));for(var o=0,l,u=(1<<s)/2;u>0;u/=2){var c=0,f=0;(n&u)>0&&(c=1),(e&u)>0&&(f=1),o+=u*u*(3*c^f),f===0&&(c===1&&(n=u-1-n,e=u-1-e),l=n,n=e,e=l)}return o}function hN(n){var e=1/0,t=1/0,i=-1/0,r=-1/0,a=We(n,function(o){var l=o.getBoundingRect(),u=o.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return e=Math.min(c,e),t=Math.min(f,t),i=Math.max(c,i),r=Math.max(f,r),[c,f]}),s=We(a,function(o,l){return{cp:o,z:AWe(o[0],o[1],e,t,i,r),path:n[l]}});return s.sort(function(o,l){return o.z-l.z}).map(function(o){return o.path})}function Ype(n){return gWe(n.path,n.count)}function R8(){return{fromIndividuals:[],toIndividuals:[],count:0}}function MWe(n,e,t){var i=[];function r(w){for(var E=0;E<w.length;E++){var L=w[E];cN(L)?r(L.childrenRef()):L instanceof An&&i.push(L)}}r(n);var a=i.length;if(!a)return R8();var s=t.dividePath||Ype,o=s({path:e,count:a});if(o.length!==a)return console.error("Invalid morphing: unmatched splitted path"),R8();i=hN(i),o=hN(o);for(var l=t.done,u=t.during,c=t.individualDelay,f=new Qd,h=0;h<a;h++){var d=i[h],v=o[h];v.parent=e,v.copyTransform(f),c||Xpe(d,v)}e.__isCombineMorphing=!0,e.childrenRef=function(){return o};function m(w){for(var E=0;E<o.length;E++)o[E].addSelfToZr(w)}fN(e,"addSelfToZr",{after:function(w){m(w)}}),fN(e,"removeSelfFromZr",{after:function(w){for(var E=0;E<o.length;E++)o[E].removeSelfFromZr(w)}});function y(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,K2(e,"addSelfToZr"),K2(e,"removeSelfFromZr")}var x=o.length;if(c)for(var b=x,M=function(){b--,b===0&&(y(),l&&l())},h=0;h<x;h++){var C=c?Bt({delay:(t.delay||0)+c(h,x,i[h],o[h]),done:M},t):t;pj(i[h],o[h],C)}else e.__morphT=0,e.animateTo({__morphT:1},Bt({during:function(w){for(var E=0;E<x;E++){var L=o[E];L.__morphT=e.__morphT,L.dirtyShape()}u&&u(w)},done:function(){y();for(var w=0;w<n.length;w++)K2(n[w],"updateTransform");l&&l()}},t));return e.__zr&&m(e.__zr),{fromIndividuals:i,toIndividuals:o,count:x}}function TWe(n,e,t){var i=e.length,r=[],a=t.dividePath||Ype;function s(d){for(var v=0;v<d.length;v++){var m=d[v];cN(m)?s(m.childrenRef()):m instanceof An&&r.push(m)}}if(cN(n)){s(n.childrenRef());var o=r.length;if(o<i)for(var l=0,u=o;u<i;u++)r.push(l6(r[l++%o]));r.length=i}else{r=a({path:n,count:i});for(var c=n.getComputedTransform(),u=0;u<r.length;u++)r[u].setLocalTransform(c);if(r.length!==i)return console.error("Invalid morphing: unmatched splitted path"),R8()}r=hN(r),e=hN(e);for(var f=t.individualDelay,u=0;u<i;u++){var h=f?Bt({delay:(t.delay||0)+f(u,i,r[u],e[u])},t):t;pj(r[u],e[u],h)}return{fromIndividuals:r,toIndividuals:e,count:e.length}}function uee(n){return Ve(n[0])}function cee(n,e){for(var t=[],i=n.length,r=0;r<i;r++)t.push({one:n[r],many:[]});for(var r=0;r<e.length;r++){var a=e[r].length,s=void 0;for(s=0;s<a;s++)t[s%i].many.push(e[r][s])}for(var o=0,r=i-1;r>=0;r--)if(!t[r].many.length){var l=t[o].many;if(l.length<=1)if(o)o=0;else return t;var a=l.length,u=Math.ceil(a/2);t[r].many=l.slice(u,a),t[o].many=l.slice(0,u),o++}return t}var CWe={clone:function(n){for(var e=[],t=1-Math.pow(1-n.path.style.opacity,1/n.count),i=0;i<n.count;i++){var r=l6(n.path);r.setStyle("opacity",t),e.push(r)}return e},split:null};function X4(n,e,t,i,r,a){if(!n.length||!e.length)return;var s=aS("update",i,r);if(!(s&&s.duration>0))return;var o=i.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},s),u,c;uee(n)&&(u=n,c=e),uee(e)&&(u=e,c=n);function f(x,b,M,C,w){var E=x.many,L=x.one;if(E.length===1&&!w){var P=b?E[0]:L,I=b?L:E[0];if(cN(P))f({many:[P],one:I},!0,M,C,!0);else{var N=o?Bt({delay:o(M,C)},l):l;pj(P,I,N),a(P,I,P,I,N)}}else for(var z=Bt({dividePath:CWe[t],individualDelay:o&&function(X,q,$,te){return o(X+M,C)}},l),V=b?MWe(E,L,z):TWe(L,E,z),U=V.fromIndividuals,j=V.toIndividuals,W=U.length,G=0;G<W;G++){var N=o?Bt({delay:o(G,W)},l):l;a(U[G],j[G],b?E[G]:x.one,b?x.one:E[G],N)}}for(var h=u?u===n:n.length>e.length,d=u?cee(c,u):cee(h?e:n,[h?n:e]),v=0,m=0;m<d.length;m++)v+=d[m].many.length;for(var y=0,m=0;m<d.length;m++)f(d[m],h,y,v),y+=d[m].many.length}function N0(n){if(!n)return[];if(Ve(n)){for(var e=[],t=0;t<n.length;t++)e.push(N0(n[t]));return e}var i=[];return n.traverse(function(r){r instanceof An&&!r.disableMorphing&&!r.invisible&&!r.ignore&&i.push(r)}),i}var qpe=1e4,wWe=0,fee=1,hee=2,EWe=_n();function DWe(n,e){for(var t=n.dimensions,i=0;i<t.length;i++){var r=n.getDimensionInfo(t[i]);if(r&&r.otherDims[e]===0)return t[i]}}function RWe(n,e,t){var i=n.getDimensionInfo(t),r=i&&i.ordinalMeta;if(i){var a=n.get(i.name,e);return r&&r.categories[a]||a+""}}function dee(n,e,t,i){var r=i?"itemChildGroupId":"itemGroupId",a=DWe(n,r);if(a){var s=RWe(n,e,a);return s}var o=n.getRawDataItem(e),l=i?"childGroupId":"groupId";if(o&&o[l])return o[l]+"";if(!i)return t||n.getId(e)}function pee(n){var e=[];return Z(n,function(t){var i=t.data,r=t.dataGroupId;if(!(i.count()>qpe))for(var a=i.getIndices(),s=0;s<a.length;s++)e.push({data:i,groupId:dee(i,s,r,!1),childGroupId:dee(i,s,r,!0),divide:t.divide,dataIndex:s})}),e}function Y4(n,e,t){n.traverse(function(i){i instanceof An&&Xi(i,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function q4(n){if(n.parent){var e=n.getComputedTransform();n.setLocalTransform(e),n.parent.remove(n)}}function G_(n){n.stopAnimation(),n.isGroup&&n.traverse(function(e){e.stopAnimation()})}function LWe(n,e,t){var i=aS("update",t,e);i&&n.traverse(function(r){if(r instanceof $u){var a=qLe(r);a&&r.animateFrom({style:a},i)}})}function NWe(n,e){var t=n.length;if(t!==e.length)return!1;for(var i=0;i<t;i++){var r=n[i],a=e[i];if(r.data.getId(r.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function Zpe(n,e,t){var i=pee(n),r=pee(e);function a(M,C,w,E,L){(w||M)&&C.animateFrom({style:w&&w!==M?Ie(Ie({},w.style),M.style):M.style},L)}var s=!1,o=wWe,l=bt(),u=bt();i.forEach(function(M){M.groupId&&l.set(M.groupId,!0),M.childGroupId&&u.set(M.childGroupId,!0)});for(var c=0;c<r.length;c++){var f=r[c].groupId;if(u.get(f)){o=fee;break}var h=r[c].childGroupId;if(h&&l.get(h)){o=hee;break}}function d(M,C){return function(w){var E=w.data,L=w.dataIndex;return C?E.getId(L):M?o===fee?w.childGroupId:w.groupId:o===hee?w.childGroupId:w.groupId}}var v=NWe(i,r),m={};if(!v)for(var c=0;c<r.length;c++){var y=r[c],x=y.data.getItemGraphicEl(y.dataIndex);x&&(m[x.id]=!0)}function b(M,C){var w=i[C],E=r[M],L=E.data.hostModel,P=w.data.getItemGraphicEl(w.dataIndex),I=E.data.getItemGraphicEl(E.dataIndex);if(P===I){I&&LWe(I,E.dataIndex,L);return}P&&m[P.id]||I&&(G_(I),P?(G_(P),q4(P),s=!0,X4(N0(P),N0(I),E.divide,L,M,a)):Y4(I,L,M))}new Ap(i,r,d(!0,v),d(!1,v),null,"multiple").update(b).updateManyToOne(function(M,C){var w=r[M],E=w.data,L=E.hostModel,P=E.getItemGraphicEl(w.dataIndex),I=Zn(We(C,function(N){return i[N].data.getItemGraphicEl(i[N].dataIndex)}),function(N){return N&&N!==P&&!m[N.id]});P&&(G_(P),I.length?(Z(I,function(N){G_(N),q4(N)}),s=!0,X4(N0(I),N0(P),w.divide,L,M,a)):Y4(P,L,w.dataIndex))}).updateOneToMany(function(M,C){var w=i[C],E=w.data.getItemGraphicEl(w.dataIndex);if(!(E&&m[E.id])){var L=Zn(We(M,function(I){return r[I].data.getItemGraphicEl(r[I].dataIndex)}),function(I){return I&&I!==E}),P=r[M[0]].data.hostModel;L.length&&(Z(L,function(I){return G_(I)}),E?(G_(E),q4(E),s=!0,X4(N0(E),N0(L),w.divide,P,M[0],a)):Z(L,function(I){return Y4(I,P,M[0])}))}}).updateManyToMany(function(M,C){new Ap(C,M,function(w){return i[w].data.getId(i[w].dataIndex)},function(w){return r[w].data.getId(r[w].dataIndex)}).update(function(w,E){b(M[w],C[E])}).execute()}).execute(),s&&Z(e,function(M){var C=M.data,w=C.hostModel,E=w&&t.getViewOfSeriesModel(w),L=aS("update",w,0);E&&w.isAnimationEnabled()&&L&&L.duration>0&&E.group.traverse(function(P){P instanceof An&&!P.animators.length&&P.animateFrom({style:{opacity:0}},L)})})}function vee(n){var e=n.getModel("universalTransition").get("seriesKey");return e||n.id}function mee(n){return Ve(n)?n.sort().join(","):n}function Uv(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function IWe(n,e){var t=bt(),i=bt(),r=bt();return Z(n.oldSeries,function(a,s){var o=n.oldDataGroupIds[s],l=n.oldData[s],u=vee(a),c=mee(u);i.set(c,{dataGroupId:o,data:l}),Ve(u)&&Z(u,function(f){r.set(f,{key:c,dataGroupId:o,data:l})})}),Z(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var s=a.get("dataGroupId"),o=a.getData(),l=vee(a),u=mee(l),c=i.get(u);if(c)t.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:Uv(c.data),data:c.data}],newSeries:[{dataGroupId:s,divide:Uv(o),data:o}]});else if(Ve(l)){var f=[];Z(l,function(v){var m=i.get(v);m.data&&f.push({dataGroupId:m.dataGroupId,divide:Uv(m.data),data:m.data})}),f.length&&t.set(u,{oldSeries:f,newSeries:[{dataGroupId:s,data:o,divide:Uv(o)}]})}else{var h=r.get(l);if(h){var d=t.get(h.key);d||(d={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:Uv(h.data)}],newSeries:[]},t.set(h.key,d)),d.newSeries.push({dataGroupId:s,data:o,divide:Uv(o)})}}}}),t}function gee(n,e){for(var t=0;t<n.length;t++){var i=e.seriesIndex!=null&&e.seriesIndex===n[t].seriesIndex||e.seriesId!=null&&e.seriesId===n[t].id;if(i)return t}}function PWe(n,e,t,i){var r=[],a=[];Z(Pi(n.from),function(s){var o=gee(e.oldSeries,s);o>=0&&r.push({dataGroupId:e.oldDataGroupIds[o],data:e.oldData[o],divide:Uv(e.oldData[o]),groupIdDim:s.dimension})}),Z(Pi(n.to),function(s){var o=gee(t.updatedSeries,s);if(o>=0){var l=t.updatedSeries[o].getData();a.push({dataGroupId:e.oldDataGroupIds[o],data:l,divide:Uv(l),groupIdDim:s.dimension})}}),r.length>0&&a.length>0&&Zpe(r,a,i)}function BWe(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){Z(Pi(i.seriesTransition),function(r){Z(Pi(r.to),function(a){for(var s=i.updatedSeries,o=0;o<s.length;o++)(a.seriesIndex!=null&&a.seriesIndex===s[o].seriesIndex||a.seriesId!=null&&a.seriesId===s[o].id)&&(s[o][S3]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(e,t,i){var r=EWe(t);if(r.oldSeries&&i.updatedSeries&&i.optionChanged){var a=i.seriesTransition;if(a)Z(Pi(a),function(d){PWe(d,r,i,t)});else{var s=IWe(r,i);Z(s.keys(),function(d){var v=s.get(d);Zpe(v.oldSeries,v.newSeries,t)})}Z(i.updatedSeries,function(d){d[S3]&&(d[S3]=!1)})}for(var o=e.getSeries(),l=r.oldSeries=[],u=r.oldDataGroupIds=[],c=r.oldData=[],f=0;f<o.length;f++){var h=o[f].getData();h.count()<qpe&&(l.push(o[f]),u.push(o[f].get("dataGroupId")),c.push(h))}})}var OWe=(function(){function n(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return n.prototype.setBreaks=function(e){this.breaks=e.breaks},n.prototype.update=function(e){kWe(this,e);var t=this._elapsedExtent;t[0]=this.elapse(e[0]),t[1]=this.elapse(e[1])},n.prototype.hasBreaks=function(){return!!this.breaks.length},n.prototype.calcNiceTickMultiple=function(e,t){for(var i=0;i<this.breaks.length;i++){var r=this.breaks[i];if(r.vmin<e&&e<r.vmax){var a=t(e,r.vmax);return a}}return 0},n.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},n.prototype.normalize=function(e){var t=this._elapsedExtent[1]-this._elapsedExtent[0];return t===0?.5:(this.elapse(e)-this._elapsedExtent[0])/t},n.prototype.scale=function(e){return this.unelapse(e*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},n.prototype.elapse=function(e){for(var t=yee,i=xee,r=!0,a=0;a<this.breaks.length;a++){var s=this.breaks[a];if(e<=s.vmax){e>s.vmin?t+=s.vmin-i+(e-s.vmin)/(s.vmax-s.vmin)*s.gapReal:t+=e-i,i=s.vmax,r=!1;break}t+=s.vmin-i+s.gapReal,i=s.vmax}return r&&(t+=e-i),t},n.prototype.unelapse=function(e){for(var t=yee,i=xee,r=!0,a=0,s=0;s<this.breaks.length;s++){var o=this.breaks[s],l=t+o.vmin-i,u=l+o.gapReal;if(e<=u){e>l?a=o.vmin+(e-l)/(u-l)*(o.vmax-o.vmin):a=i+e-t,i=o.vmax,r=!1;break}t=u,i=o.vmax}return r&&(a=i+e-t),a},n})();function zWe(){return new OWe}var yee=0,xee=0;function kWe(n,e){var t=0,i={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},r=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},a={S:{tpAbs:r(),tpPrct:r()},E:{tpAbs:r(),tpPrct:r()}};Z(n.breaks,function(o){var l=o.gapParsed;l.type==="tpPrct"&&(t+=l.val);var u=vj(o,e);if(u){var c=u.vmin!==o.vmin,f=u.vmax!==o.vmax,h=u.vmax-u.vmin;if(!(c&&f))if(c||f){var d=c?"S":"E";a[d][l.type].has=!0,a[d][l.type].span=h,a[d][l.type].inExtFrac=h/(o.vmax-o.vmin),a[d][l.type].val=l.val}else i[l.type].span+=h,i[l.type].val+=l.val}});var s=t*(0+(e[1]-e[0])+(i.tpAbs.val-i.tpAbs.span)+(a.S.tpAbs.has?(a.S.tpAbs.val-a.S.tpAbs.span)*a.S.tpAbs.inExtFrac:0)+(a.E.tpAbs.has?(a.E.tpAbs.val-a.E.tpAbs.span)*a.E.tpAbs.inExtFrac:0)-i.tpPrct.span-(a.S.tpPrct.has?a.S.tpPrct.span*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.span*a.E.tpPrct.inExtFrac:0))/(1-i.tpPrct.val-(a.S.tpPrct.has?a.S.tpPrct.val*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.val*a.E.tpPrct.inExtFrac:0));Z(n.breaks,function(o){var l=o.gapParsed;l.type==="tpPrct"&&(o.gapReal=t!==0?Math.max(s,0)*l.val/t:0),l.type==="tpAbs"&&(o.gapReal=l.val),o.gapReal==null&&(o.gapReal=0)})}function FWe(n,e,t,i,r,a){n!=="no"&&Z(t,function(s){var o=vj(s,a);if(o)for(var l=e.length-1;l>=0;l--){var u=e[l],c=i(u),f=r*3/4;c>o.vmin-f&&c<o.vmax+f&&(n!=="preserve_extent_bound"||c!==a[0]&&c!==a[1])&&e.splice(l,1)}})}function UWe(n,e,t,i){Z(e,function(r){var a=vj(r,t);a&&(n.push({value:a.vmin,break:{type:"vmin",parsedBreak:a},time:i?i(a):void 0}),n.push({value:a.vmax,break:{type:"vmax",parsedBreak:a},time:i?i(a):void 0}))}),e.length&&n.sort(function(r,a){return r.value-a.value})}function vj(n,e){var t=Math.max(n.vmin,e[0]),i=Math.min(n.vmax,e[1]);return t<i||t===i&&t>e[0]&&t<e[1]?{vmin:t,vmax:i,breakOption:n.breakOption,gapParsed:n.gapParsed,gapReal:n.gapReal}:null}function L8(n,e,t){var i=[];if(!n)return{breaks:i};function r(s,o){return s>=0&&s<1-1e-5}Z(n,function(s){if(!(!s||s.start==null||s.end==null)&&!s.isExpanded){var o={breakOption:Nt(s),vmin:e(s.start),vmax:e(s.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(s.gap!=null){var l=!1;if(ot(s.gap)){var u=Wl(s.gap);if(u.match(/%$/)){var c=parseFloat(u)/100;r(c)||(c=0),o.gapParsed.type="tpPrct",o.gapParsed.val=c,l=!0}}if(!l){var f=e(s.gap);(!isFinite(f)||f<0)&&(f=0),o.gapParsed.type="tpAbs",o.gapParsed.val=f}}if(o.vmin===o.vmax&&(o.gapParsed.type="tpAbs",o.gapParsed.val=0),t&&t.noNegative&&Z(["vmin","vmax"],function(d){o[d]<0&&(o[d]=0)}),o.vmin>o.vmax){var h=o.vmax;o.vmax=o.vmin,o.vmin=h}i.push(o)}}),i.sort(function(s,o){return s.vmin-o.vmin});var a=-1/0;return Z(i,function(s,o){a>s.vmin&&(i[o]=null),a=s.vmax}),{breaks:i.filter(function(s){return!!s})}}function mj(n,e){return N8(e)===N8(n)}function N8(n){return n.start+"_\0_"+n.end}function GWe(n,e,t){var i=[];Z(n,function(a,s){var o=e(a);o&&o.type==="vmin"&&i.push([s])}),Z(n,function(a,s){var o=e(a);if(o&&o.type==="vmax"){var l=Im(i,function(u){return mj(e(n[u[0]]).parsedBreak.breakOption,o.parsedBreak.breakOption)});l&&l.push(s)}});var r=[];return Z(i,function(a){a.length===2&&r.push(t?a:[n[a[0]],n[a[1]]])}),r}function VWe(n,e,t,i){var r,a;if(n.break){var s=n.break.parsedBreak,o=Im(t,function(f){return mj(f.breakOption,n.break.parsedBreak.breakOption)}),l=i(Math.pow(e,s.vmin),o.vmin),u=i(Math.pow(e,s.vmax),o.vmax),c={type:s.gapParsed.type,val:s.gapParsed.type==="tpAbs"?Jr(Math.pow(e,s.vmin+s.gapParsed.val))-l:s.gapParsed.val};r={type:n.break.type,parsedBreak:{breakOption:s.breakOption,vmin:l,vmax:u,gapParsed:c,gapReal:s.gapReal}},a=o[n.break.type]}return{brkRoundingCriterion:a,vBreak:r}}function jWe(n,e,t){var i={noNegative:!0},r=L8(n,t,i),a=L8(n,t,i),s=Math.log(e);return a.breaks=We(a.breaks,function(o){var l=Math.log(o.vmin)/s,u=Math.log(o.vmax)/s,c={type:o.gapParsed.type,val:o.gapParsed.type==="tpAbs"?Math.log(o.vmin+o.gapParsed.val)/s-l:o.gapParsed.val};return{vmin:l,vmax:u,gapParsed:c,gapReal:o.gapReal,breakOption:o.breakOption}}),{parsedOriginal:r,parsedLogged:a}}var HWe={vmin:"start",vmax:"end"};function WWe(n,e){return e&&(n=n||{},n.break={type:HWe[e.type],start:e.parsedBreak.vmin,end:e.parsedBreak.vmax}),n}function XWe(){pNe({createScaleBreakContext:zWe,pruneTicksByBreak:FWe,addBreaksToTicks:UWe,parseAxisBreakOption:L8,identifyAxisBreak:mj,serializeAxisBreakIdentifier:N8,retrieveAxisBreakPairs:GWe,getTicksLogTransformBreak:VWe,logarithmicParseBreaksFromOption:jWe,makeAxisLabelFormatterParamBreak:WWe})}var _ee=_n();function YWe(n,e){var t=Im(n,function(i){return ha().identifyAxisBreak(i.parsedBreak.breakOption,e.breakOption)});return t||n.push(t={zigzagRandomList:[],parsedBreak:e,shouldRemove:!1}),t}function qWe(n){Z(n,function(e){return e.shouldRemove=!0})}function ZWe(n){for(var e=n.length-1;e>=0;e--)n[e].shouldRemove&&n.splice(e,1)}function KWe(n,e,t,i,r){var a=t.axis;if(a.scale.isBlank()||!ha())return;var s=ha().retrieveAxisBreakPairs(a.scale.getTicks({breakTicks:"only_break"}),function(I){return I.break},!1);if(!s.length)return;var o=t.getModel("breakArea"),l=o.get("zigzagAmplitude"),u=o.get("zigzagMinSpan"),c=o.get("zigzagMaxSpan");u=Math.max(2,u||0),c=Math.max(u,c||0);var f=o.get("expandOnClick"),h=o.get("zigzagZ"),d=o.getModel("itemStyle"),v=d.getItemStyle(),m=v.stroke,y=v.lineWidth,x=v.lineDash,b=v.fill,M=new It({ignoreModelZ:!0}),C=a.isHorizontal(),w=_ee(e).visualList||(_ee(e).visualList=[]);qWe(w);for(var E=function(I){var N=s[I][0].break.parsedBreak,z=[];z[0]=a.toGlobalCoord(a.dataToCoord(N.vmin,!0)),z[1]=a.toGlobalCoord(a.dataToCoord(N.vmax,!0)),z[1]<z[0]&&z.reverse();var V=YWe(w,N);V.shouldRemove=!1;var U=new It;P(V.zigzagRandomList,U,z[0],z[1],C,N),f&&U.on("click",function(){var j={type:aP,breaks:[{start:N.breakOption.start,end:N.breakOption.end}]};j[a.dim+"AxisIndex"]=t.componentIndex,r.dispatchAction(j)}),U.silent=!f,M.add(U)},L=0;L<s.length;L++)E(L);n.add(M),ZWe(w);function P(I,N,z,V,U,j){var W={stroke:m,lineWidth:y,lineDash:x,fill:"none"},G=U?0:1,X=1-G,q=i[Zt[X]]+i[da[X]];function $(dt){var De=[],ae=[];De[G]=ae[G]=dt,De[X]=i[Zt[X]],ae[X]=q;var Fe={x1:De[0],y1:De[1],x2:ae[0],y2:ae[1]};return HI(Fe,Fe,{lineWidth:1}),De[0]=Fe.x1,De[1]=Fe.y1,De[G]}z=$(z),V=$(V);for(var te=[],J=[],Q=!0,se=i[Zt[X]],ce=0;;ce++){var ue=se===i[Zt[X]],fe=se>=q;fe&&(se=q);var ge=[],Se=[];ge[G]=z,Se[G]=V,!ue&&!fe&&(ge[G]+=Q?-l:l,Se[G]-=Q?l:-l),ge[X]=se,Se[X]=se,te.push(ge),J.push(Se);var Ee=void 0;if(ce<I.length?Ee=I[ce]:(Ee=Math.random(),I.push(Ee)),se+=Ee*(c-u)+u,Q=!Q,fe)break}var Ue=ha().serializeAxisBreakIdentifier(j.breakOption);if(N.add(new ys({anid:"break_a_"+Ue,shape:{points:te},style:W,z:h})),j.gapReal!==0){N.add(new ys({anid:"break_b_"+Ue,shape:{points:J},style:W,z:h}));var _e=J.slice();_e.reverse();var ke=te.concat(_e);N.add(new Fs({anid:"break_c_"+Ue,shape:{points:ke},style:{fill:b,opacity:v.opacity},z:h}))}}}function JWe(n,e,t,i){var r=n.axis,a=t.transform;zs(i.style);var s=r.getExtent();r.inverse&&(s=s.slice(),s.reverse());var o=ha().retrieveAxisBreakPairs(r.scale.getTicks({breakTicks:"only_break"}),function(y){return y.break},!1),l=We(o,function(y){var x=y[0].break.parsedBreak,b=[r.dataToCoord(x.vmin,!0),r.dataToCoord(x.vmax,!0)];return b[0]>b[1]&&b.reverse(),{coordPair:b,brkId:ha().serializeAxisBreakIdentifier(x.breakOption)}});l.sort(function(y,x){return y.coordPair[0]-x.coordPair[0]});for(var u=s[0],c=null,f=0;f<l.length;f++){var h=l[f],d=Math.max(h.coordPair[0],s[0]),v=Math.min(h.coordPair[1],s[1]);u<=d&&m(u,d,c,h),u=v,c=h}u<=s[1]&&m(u,s[1],c,null);function m(y,x,b,M){function C(z,V){a&&(zr(z,z,a),zr(V,V,a))}function w(z,V){var U={x1:z[0],y1:z[1],x2:V[0],y2:V[1]};HI(U,U,i.style),z[0]=U.x1,z[1]=U.y1,V[0]=U.x2,V[1]=U.y2}var E=[y,0],L=[x,0],P=[y,5],I=[x,5];C(E,P),w(E,P),C(L,I),w(L,I),w(E,L);var N=new Qr(Ie({shape:{x1:E[0],y1:E[1],x2:L[0],y2:L[1]}},i));e.add(N),N.anid="breakLine_"+(b?b.brkId:"\0")+"_\0_"+(M?M.brkId:"\0")}}function QWe(n,e,t){if(Im(t,function(b){return!b}))return;var i=new Ft;if(!iP(t[0],t[1],i,{direction:-(n?e+Math.PI:e),touchThreshold:0,bidirectional:!1}))return;var r=ja();Lp(r,r,-e);var a=We(t,function(b){return b.transform?Jc(ja(),r,b.transform):r});function s(b){var M=t[0].localRect,C=new Ft(M[da[b]]*a[0][0],M[da[b]]*a[0][1]);return Math.abs(C.y)<1e-5}var o=.5;if(s(0)||s(1)){var l=We(t,function(b,M){var C=b.localRect.clone();return C.applyTransform(a[M]),C}),u=new Ft;u.copy(t[0].label).add(t[1].label).scale(.5),u.transform(r);var c=i.clone().transform(r),f=l[0].x+l[1].x+(c.x>=0?l[0].width:l[1].width),h=(f+c.x)/2-u.x,d=Math.min(h,h-c.x),v=Math.max(h,h-c.x),m=v<0?v:d>0?d:0;o=(h-m)/c.x}var y=new Ft,x=new Ft;Ft.scale(y,i,-o),Ft.scale(x,i,1-o),IU(t[0],y),IU(t[1],x)}function $We(n,e){var t={breaks:[]};return Z(e.breaks,function(i){if(i){var r=Im(n.get("breaks",!0),function(o){return ha().identifyAxisBreak(o,i)});if(r){var a=e.type,s={isExpanded:!!r.isExpanded};r.isExpanded=a===aP?!0:a===mhe?!1:a===ghe?!r.isExpanded:r.isExpanded,t.breaks.push({start:r.start,end:r.end,isExpanded:!!r.isExpanded,old:s})}}}),t}function eXe(){Z4e({adjustBreakLabelPair:QWe,buildAxisBreakLine:JWe,rectCoordBuildBreakAxis:KWe,updateModelAxisBreak:$We})}function tXe(n){tze(n),XWe(),eXe()}function nXe(){Sze(iXe)}function iXe(n,e){Z(n,function(t){if(!t.model.get(["axisLabel","inside"])){var i=rXe(t);if(i){var r=t.isHorizontal()?"height":"width",a=t.model.get(["axisLabel","margin"]);e[r]-=i[r]+a,t.position==="top"?e.y+=i.height+a:t.position==="left"&&(e.x+=i.width+a)}}})}function rXe(n){var e=n.model,t=n.scale;if(!e.get(["axisLabel","show"])||t.isBlank())return;var i,r,a=t.getExtent();t instanceof gb?r=t.count():(i=t.getTicks(),r=i.length);var s=n.getLabelModel(),o=vS(n),l,u=1;r>40&&(u=Math.ceil(r/40));for(var c=0;c<r;c+=u){var f=i?i[c]:{value:a[0]+c},h=o(f,c),d=s.getTextRect(h),v=m(d,s.get("rotate")||0);l?l.union(v):l=v}return l;function m(y,x){var b=x*Math.PI/180,M=y.width,C=y.height,w=M*Math.abs(Math.cos(b))+Math.abs(C*Math.sin(b)),E=M*Math.abs(Math.sin(b))+Math.abs(C*Math.cos(b)),L=new Ut(y.x,y.y,w,E);return L}}cn([Y5e]);cn([V5e]);cn([d4e,E4e,k4e,Gze,Qze,Gke,pFe,JFe,yUe,TUe,LUe,FUe,N8e,nGe,dGe,DGe,IGe,jGe,KGe,oVe,dVe,AVe,o6e]);cn(C6e);cn(J6e);cn(jhe);cn(u9e);cn(Dde);cn(d9e);cn(I9e);cn(V9e);cn(Eje);cn(Yje);cn(qC);cn(uHe);cn(hHe);cn(SHe);cn(RHe);cn(OHe);cn(VHe);cn(QHe);cn(g7e);cn(Bpe);cn(Ope);cn(z7e);cn(Gpe);cn(Vpe);cn(G7e);cn(X7e);cn(aWe);cn(lWe);cn(BWe);cn(l5e);cn(tXe);cn(nXe);cn(Vze);const aXe=Object.freeze(Object.defineProperty({__proto__:null,Axis:oc,ChartView:xi,ComponentModel:xn,ComponentView:Bi,List:fo,Model:Sn,PRIORITY:zce,SeriesModel:Ti,color:sRe,connect:fBe,dataTool:xBe,dependencies:YPe,disConnect:hBe,disconnect:Wce,dispose:dBe,env:wn,extendChartView:YOe,extendComponentModel:HOe,extendComponentView:WOe,extendSeriesModel:XOe,format:DOe,getCoordinateSystemDimensions:vBe,getInstanceByDom:X6,getInstanceById:pBe,getMap:yBe,graphic:EOe,helper:_Oe,init:cBe,innerDrawElementOnCanvas:V6,matrix:BDe,number:COe,parseGeoJSON:LU,parseGeoJson:LU,registerAction:df,registerCoordinateSystem:qce,registerCustomSeries:mBe,registerLayout:Zce,registerLoading:J6,registerLocale:x6,registerMap:Kce,registerPostInit:Xce,registerPostUpdate:Yce,registerPreprocessor:q6,registerProcessor:Z6,registerTheme:Y6,registerTransform:Jce,registerUpdateLifecycle:nP,registerVisual:zm,setCanvasCreator:gBe,setPlatformAPI:Noe,throttle:eP,time:wOe,use:cn,util:ROe,vector:_De,version:XPe,zrUtil:dDe,zrender:VRe},Symbol.toStringTag,{value:"Module"}));var Ed={},Dd={},Z4={},bee;function sXe(){return bee||(bee=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=1,t=function(){return"".concat(e++)};n.default=t})(Z4)),Z4}var OM={},zM={},K4={},See;function Kpe(){return See||(See=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,a=null;return function(){for(var s=this,o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];clearTimeout(a),a=setTimeout(function(){i.apply(s,l)},r)}};n.default=e})(K4)),K4}var Rd={},Aee;function gj(){if(Aee)return Rd;Aee=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.SizeSensorId=Rd.SensorTabIndex=Rd.SensorClassName=void 0;var n="size-sensor-id";Rd.SizeSensorId=n;var e="size-sensor-object";Rd.SensorClassName=e;var t="-1";return Rd.SensorTabIndex=t,Rd}var Mee;function oXe(){if(Mee)return zM;Mee=1,Object.defineProperty(zM,"__esModule",{value:!0}),zM.createSensor=void 0;var n=t(Kpe()),e=gj();function t(r){return r&&r.__esModule?r:{default:r}}var i=function(a,s){var o=void 0,l=[],u=function(){getComputedStyle(a).position==="static"&&(a.style.position="relative");var m=document.createElement("object");return m.onload=function(){m.contentDocument.defaultView.addEventListener("resize",c),c()},m.style.display="block",m.style.position="absolute",m.style.top="0",m.style.left="0",m.style.height="100%",m.style.width="100%",m.style.overflow="hidden",m.style.pointerEvents="none",m.style.zIndex="-1",m.style.opacity="0",m.setAttribute("class",e.SensorClassName),m.setAttribute("tabindex",e.SensorTabIndex),m.type="text/html",a.appendChild(m),m.data="about:blank",m},c=(0,n.default)(function(){l.forEach(function(v){v(a)})}),f=function(m){o||(o=u()),l.indexOf(m)===-1&&l.push(m)},h=function(){o&&o.parentNode&&(o.contentDocument&&o.contentDocument.defaultView.removeEventListener("resize",c),o.parentNode.removeChild(o),a.removeAttribute(e.SizeSensorId),o=void 0,l=[],s&&s())},d=function(m){var y=l.indexOf(m);y!==-1&&l.splice(y,1),l.length===0&&o&&h()};return{element:a,bind:f,destroy:h,unbind:d}};return zM.createSensor=i,zM}var kM={},Tee;function lXe(){if(Tee)return kM;Tee=1,Object.defineProperty(kM,"__esModule",{value:!0}),kM.createSensor=void 0;var n=gj(),e=t(Kpe());function t(r){return r&&r.__esModule?r:{default:r}}var i=function(a,s){var o=void 0,l=[],u=(0,e.default)(function(){l.forEach(function(v){v(a)})}),c=function(){var m=new ResizeObserver(u);return m.observe(a),u(),m},f=function(m){o||(o=c()),l.indexOf(m)===-1&&l.push(m)},h=function(){o.disconnect(),l=[],o=void 0,a.removeAttribute(n.SizeSensorId),s&&s()},d=function(m){var y=l.indexOf(m);y!==-1&&l.splice(y,1),l.length===0&&o&&h()};return{element:a,bind:f,destroy:h,unbind:d}};return kM.createSensor=i,kM}var Cee;function uXe(){if(Cee)return OM;Cee=1,Object.defineProperty(OM,"__esModule",{value:!0}),OM.createSensor=void 0;var n=oXe(),e=lXe(),t=typeof ResizeObserver<"u"?e.createSensor:n.createSensor;return OM.createSensor=t,OM}var wee;function cXe(){if(wee)return Dd;wee=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.removeSensor=Dd.getSensor=Dd.Sensors=void 0;var n=i(sXe()),e=uXe(),t=gj();function i(l){return l&&l.__esModule?l:{default:l}}var r={};Dd.Sensors=r;function a(l){l&&r[l]&&delete r[l]}var s=function(u){var c=u.getAttribute(t.SizeSensorId);if(c&&r[c])return r[c];var f=(0,n.default)();u.setAttribute(t.SizeSensorId,f);var h=(0,e.createSensor)(u,function(){return a(f)});return r[f]=h,h};Dd.getSensor=s;var o=function(u){var c=u.element.getAttribute(t.SizeSensorId);u.destroy(),a(c)};return Dd.removeSensor=o,Dd}var Eee;function fXe(){if(Eee)return Ed;Eee=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.ver=Ed.clear=Ed.bind=void 0;var n=cXe(),e=function(a,s){var o=(0,n.getSensor)(a);return o.bind(s),function(){o.unbind(s)}};Ed.bind=e;var t=function(a){var s=(0,n.getSensor)(a);(0,n.removeSensor)(s)};Ed.clear=t;var i="1.0.2";return Ed.ver=i,Ed}var Dee=fXe();function Ree(n,e){var t={};return e.forEach(function(i){t[i]=n[i]}),t}function J4(n){return typeof n=="function"}function Lee(n){return typeof n=="string"}var Q4,Nee;function hXe(){return Nee||(Nee=1,Q4=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,r,a;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(r=i;r--!==0;)if(!n(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),i=a.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;for(r=i;r--!==0;){var s=a[r];if(!n(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}),Q4}var dXe=hXe();const V_=hI(dXe);var pXe=(function(n){me(e,n);function e(t){var i=n.call(this,t)||this;return i.echarts=t.echarts,i.ele=null,i.isInitialResize=!0,i}return e.prototype.componentDidMount=function(){this.renderNewEcharts()},e.prototype.componentDidUpdate=function(t){var i=this.props.shouldSetOption;if(!(J4(i)&&!i(t,this.props))){if(!V_(t.theme,this.props.theme)||!V_(t.opts,this.props.opts)){this.dispose(),this.renderNewEcharts();return}var r=this.getEchartsInstance();V_(t.onEvents,this.props.onEvents)||(this.offEvents(r,t.onEvents),this.bindEvents(r,this.props.onEvents));var a=["option","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption"];V_(Ree(this.props,a),Ree(t,a))||this.updateEChartsOption(),(!V_(t.style,this.props.style)||!V_(t.className,this.props.className))&&this.resize()}},e.prototype.componentWillUnmount=function(){this.dispose()},e.prototype.initEchartsInstance=function(){return HX(this,void 0,void 0,function(){var t=this;return WX(this,function(i){return[2,new Promise(function(r){t.echarts.init(t.ele,t.props.theme,t.props.opts);var a=t.getEchartsInstance();a.on("finished",function(){var s=t.ele.clientWidth,o=t.ele.clientHeight;t.echarts.dispose(t.ele);var l=B2({width:s,height:o},t.props.opts);r(t.echarts.init(t.ele,t.props.theme,l))})})]})})},e.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)},e.prototype.dispose=function(){if(this.ele){try{Dee.clear(this.ele)}catch(t){console.warn(t)}this.echarts.dispose(this.ele)}},e.prototype.renderNewEcharts=function(){return HX(this,void 0,void 0,function(){var t,i,r,a,s,o,l=this;return WX(this,function(u){switch(u.label){case 0:return t=this.props,i=t.onEvents,r=t.onChartReady,a=t.autoResize,s=a===void 0?!0:a,[4,this.initEchartsInstance()];case 1:return u.sent(),o=this.updateEChartsOption(),this.bindEvents(o,i||{}),J4(r)&&r(o),this.ele&&s&&Dee.bind(this.ele,function(){l.resize()}),[2]}})})},e.prototype.bindEvents=function(t,i){function r(s,o){Lee(s)&&J4(o)&&t.on(s,function(l){o(l,t)})}for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&r(a,i[a])},e.prototype.offEvents=function(t,i){if(i)for(var r in i)Lee(r)&&t.off(r,i[r])},e.prototype.updateEChartsOption=function(){var t=this.props,i=t.option,r=t.notMerge,a=r===void 0?!1:r,s=t.replaceMerge,o=s===void 0?null:s,l=t.lazyUpdate,u=l===void 0?!1:l,c=t.showLoading,f=t.loadingOption,h=f===void 0?null:f,d=this.getEchartsInstance();return d.setOption(i,{notMerge:a,replaceMerge:o,lazyUpdate:u}),c?d.showLoading(h):d.hideLoading(),d},e.prototype.resize=function(){var t=this.getEchartsInstance();if(!this.isInitialResize)try{t.resize({width:"auto",height:"auto"})}catch(i){console.warn(i)}this.isInitialResize=!1},e.prototype.render=function(){var t=this,i=this.props,r=i.style,a=i.className,s=a===void 0?"":a;i.echarts,i.option,i.theme,i.notMerge,i.replaceMerge,i.lazyUpdate,i.showLoading,i.loadingOption,i.opts,i.onChartReady,i.onEvents,i.shouldSetOption,i.autoResize;var o=ZEe(i,["style","className","echarts","option","theme","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption","opts","onChartReady","onEvents","shouldSetOption","autoResize"]),l=B2({height:300},r);return Ps.createElement("div",B2({ref:function(u){t.ele=u},style:l,className:"echarts-for-react ".concat(s)},o))},e})(Y.PureComponent),Jpe=(function(n){me(e,n);function e(t){var i=n.call(this,t)||this;return i.echarts=aXe,i}return e})(pXe);const vXe=()=>{const[n,e]=Y.useState(null),[t,i]=Y.useState(!0),[r,a]=Y.useState(null),[s,o]=Y.useState(null);Y.useEffect(()=>{l()},[]);const l=async()=>{try{i(!0);const y=await hi(ai.INDIGENOUS,{method:"GET"});y.ok&&y.data&&y.data.data?e(y.data.data):a("No se pudieron cargar los datos de pueblos indgenas.")}catch(y){console.error("Error fetching indigenous data:",y),a("Error al cargar los datos.")}finally{i(!1)}},u=["Aimara","Atacameo","Diaguita","Mapuche","Rapa Nui"],c=["#0D47A1","#1565C0","#1976D2","#2196F3","#42A5F5"],h=(()=>{const y={};return n&&n.indigenous_peoples&&n.indigenous_peoples.forEach(x=>{y[x.name]=x}),u.map((x,b)=>({label:x,value:y[x]?.percentage||0,color:c[b],variant_count:y[x]?.variant_count||0,avg_allele_frequency:y[x]?.avg_allele_frequency||0})).filter(x=>x.value>0)})();h.reduce((y,x)=>y+x.value,0);const d=s?s.label:"",v=s?`${s.value}%`:"",m={tooltip:{show:!1},legend:{show:!1},series:[{name:"Pueblos Indgenas",type:"pie",radius:["70%","85%"],padAngle:3,avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1},emphasis:{label:{show:!1},itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0,0,0,0.3)"}},labelLine:{show:!1},data:h.map(y=>({value:y.value,name:y.label,itemStyle:{color:y.color}}))}],graphic:[{type:"text",left:"center",top:"38%",style:{text:v,fontSize:40,fontWeight:"bold",fill:"#111827",opacity:s?1:0},transition:["shape"]},{type:"text",left:"center",top:"56%",style:{text:d,fontSize:15,fontWeight:"600",fill:"#6B7280",opacity:s?1:0},transition:["shape"]}]};return t?T.jsx("div",{className:"indigenous-radar-chart",children:T.jsxs("div",{className:"loading-container",children:[T.jsx("div",{className:"spinner"}),T.jsx("p",{children:"Cargando datos de pueblos indgenas..."})]})}):r?T.jsx("div",{className:"indigenous-radar-chart",children:T.jsx("div",{className:"error-container",children:T.jsx("p",{className:"error-message",children:r})})}):T.jsxs("div",{className:"indigenous-radar-chart",children:[T.jsxs("div",{className:"chart-header",children:[T.jsx("h3",{children:"Pueblos Indgenas de Chile"}),T.jsx("p",{className:"chart-subtitle",children:"Distribucin por ancestra gentica"})]}),T.jsxs("div",{className:"chart-main-content",children:[T.jsx("div",{className:"chart-container-donut",children:T.jsx(Jpe,{option:m,style:{height:"320px",marginTop:"5px"},opts:{renderer:"svg"},onEvents:{mouseover:y=>{if(y.data){const x=h.find(b=>b.label===y.data.name);x&&o(x)}},mouseout:()=>{o(null)}}})}),T.jsxs("div",{className:"chart-info",children:[T.jsx("h4",{children:"Desglose"}),T.jsx("div",{className:"peoples-list",children:h.map((y,x)=>T.jsxs("div",{className:"people-item",children:[T.jsxs("div",{className:"people-header",children:[T.jsxs("span",{className:"people-name",style:{color:y.color},children:[" ",y.label]}),T.jsxs("span",{className:"people-percentage",children:[y.value,"%"]})]}),T.jsxs("div",{className:"people-details",children:[T.jsxs("span",{className:"detail-item",children:[y.variant_count," variante",y.variant_count!==1?"s":""]}),T.jsx("span",{className:"detail-separator",children:""}),T.jsxs("span",{className:"detail-item",children:["Frec. allica: ",(y.avg_allele_frequency*100).toFixed(2),"%"]})]}),T.jsx("div",{className:"people-bar",children:T.jsx("div",{className:"people-bar-fill",style:{width:`${y.value}%`,backgroundColor:y.color}})})]},x))})]})]})]})},mXe="/assets/compass-rose-CqfkDHcd.svg",$4=(n,e,t,i)=>{const{google:r}=window;if(!r||!r.visualization||!r.visualization.GeoChart)return;const a={CL:"Chile",ES:"Espaa",CN:"China",AR:"Argentina",IT:"Italia",DE:"Alemania",FR:"Francia",PE:"Per",MX:"Mxico",FI:"Finlandia",NG:"Nigeria",US:"Estados Unidos",BR:"Brasil",GB:"Reino Unido",JP:"Japn",IN:"India",RU:"Rusia",CA:"Canad",AU:"Australia",KR:"Corea del Sur",ZA:"Sudfrica",EG:"Egipto",SE:"Suecia",NO:"Noruega",DK:"Dinamarca",PL:"Polonia",PT:"Portugal",GR:"Grecia",TR:"Turqua",NL:"Pases Bajos",BE:"Blgica",CH:"Suiza",AT:"Austria",IE:"Irlanda",NZ:"Nueva Zelanda",TH:"Tailandia",VN:"Vietnam",PH:"Filipinas",ID:"Indonesia",MY:"Malasia",SG:"Singapur",HK:"Hong Kong",TW:"Taiwn",IL:"Israel",SA:"Arabia Saudita",AE:"Emiratos rabes Unidos",CO:"Colombia",VE:"Venezuela",EC:"Ecuador",BO:"Bolivia",PY:"Paraguay",UY:"Uruguay",CR:"Costa Rica",PA:"Panam",CU:"Cuba",DO:"Repblica Dominicana",PR:"Puerto Rico",GT:"Guatemala",HN:"Honduras",SV:"El Salvador",NI:"Nicaragua",CZ:"Repblica Checa",HU:"Hungra",RO:"Rumana",BG:"Bulgaria",HR:"Croacia",SI:"Eslovenia",SK:"Eslovaquia",UA:"Ucrania",BY:"Bielorrusia",KZ:"Kazajistn",MA:"Marruecos",DZ:"Argelia",TN:"Tnez",LY:"Libia",ET:"Etiopa",KE:"Kenia",GH:"Ghana",SN:"Senegal",CI:"Costa de Marfil",CM:"Camern",AO:"Angola",MZ:"Mozambique",ZW:"Zimbabue",UG:"Uganda",TZ:"Tanzania"},s=e.map((c,f)=>c),o=r.visualization.arrayToDataTable(s),l={...t,tooltip:{trigger:"none"}},u=new r.visualization.GeoChart(n);r.visualization.events.addListener(u,"onmouseover",c=>{const f=c.row!==void 0?o.getValue(c.row,0):null;f&&a[f]&&console.log(`${a[f]}: ${o.getValue(c.row,1)}%`)}),r.visualization.events.addListener(u,"select",()=>{const c=u.getSelection();if(c.length>0){const f=o.getValue(c[0].row,0);f&&i&&i(f)}}),u.draw(o,l),r.visualization.events.addListener(u,"ready",()=>{n.querySelectorAll("svg path").forEach(f=>{f.getAttribute("fill")&&f.getAttribute("fill")!=="none"&&(f.setAttribute("stroke","#000000"),f.setAttribute("stroke-width","0.2"))})})},gXe=()=>{const[n,e]=Y.useState(null),[t,i]=Y.useState(!1),[r,a]=Y.useState(!1),[s,o]=Y.useState(null),[l,u]=Y.useState(null),[c,f]=Y.useState(null),[h,d]=Y.useState(null),v=va();Y.useEffect(()=>{m(),y()},[]),Y.useEffect(()=>{const N=()=>{const z=window.innerWidth<=1024;a(z),z||i(!1)};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),Y.useEffect(()=>{const N=z=>{const V=document.querySelector(".ancestria-page__chart-card"),U=document.querySelector(".ancestria-page__legend-card");s&&V&&!V.contains(z.target)&&U&&!U.contains(z.target)&&o(null)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[s]);const m=async()=>{const N=await hi(ai.ME,{method:"GET"});N.ok&&N.data&&e(N.data.user||N.data)},y=async()=>{try{const N=await hi(ai.ANCESTRY,{method:"GET"});N.ok&&N.data&&N.data.data&&d(N.data.data)}catch(N){console.error("Error fetching ancestry data:",N)}},x=async()=>{try{await hi(ai.LOGOUT,{method:"POST"})}catch(N){console.error("Error al cerrar sesin",N)}ff(),v("/")},b=Y.useMemo(()=>[{label:"Ancestra",href:"/dashboard/ancestria"},{label:"Rasgos",href:"/dashboard/rasgos"},{label:"Farmacogentica",href:"/dashboard/farmacogenetica"},{label:"Biomarcadores",href:"/dashboard/biomarcadores"},{label:"Biomtricas",href:"/dashboard/biometricas"},{label:"Enfermedades",href:"/dashboard/enfermedades"}],[]),M=Y.useRef(null),C=Y.useCallback(N=>{const z={Chile:"CL",Espaa:"ES",Spain:"ES",China:"CN",Argentina:"AR",Italia:"IT",Italy:"IT",Alemania:"DE",Germany:"DE",Francia:"FR",France:"FR",Per:"PE",Peru:"PE",Mxico:"MX",Mexico:"MX",Finlandia:"FI",Finland:"FI",Nigeria:"NG","Estados Unidos":"US","United States":"US",Brasil:"BR",Brazil:"BR","Reino Unido":"GB","United Kingdom":"GB",Japn:"JP",Japan:"JP",India:"IN",Rusia:"RU",Russia:"RU",Canad:"CA",Canada:"CA",Australia:"AU","Corea del Sur":"KR","South Korea":"KR",Sudfrica:"ZA","South Africa":"ZA",Egipto:"EG",Egypt:"EG",Suecia:"SE",Sweden:"SE",Noruega:"NO",Norway:"NO",Dinamarca:"DK",Denmark:"DK",Polonia:"PL",Poland:"PL",Portugal:"PT",Grecia:"GR",Greece:"GR",Turqua:"TR",Turkey:"TR","Pases Bajos":"NL",Netherlands:"NL",Blgica:"BE",Belgium:"BE",Suiza:"CH",Switzerland:"CH",Austria:"AT",Irlanda:"IE",Ireland:"IE","Nueva Zelanda":"NZ","New Zealand":"NZ",Tailandia:"TH",Thailand:"TH",Vietnam:"VN",Filipinas:"PH",Philippines:"PH",Indonesia:"ID",Malasia:"MY",Malaysia:"MY",Singapur:"SG",Singapore:"SG","Hong Kong":"HK",Taiwn:"TW",Taiwan:"TW",Israel:"IL","Arabia Saudita":"SA","Saudi Arabia":"SA","Emiratos rabes Unidos":"AE",UAE:"AE",Colombia:"CO",Venezuela:"VE",Ecuador:"EC",Bolivia:"BO",Paraguay:"PY",Uruguay:"UY","Costa Rica":"CR",Panam:"PA",Panama:"PA",Cuba:"CU","Repblica Dominicana":"DO","Dominican Republic":"DO","Puerto Rico":"PR",Guatemala:"GT",Honduras:"HN","El Salvador":"SV",Nicaragua:"NI","Repblica Checa":"CZ","Czech Republic":"CZ",Hungra:"HU",Hungary:"HU",Rumana:"RO",Romania:"RO",Bulgaria:"BG",Croacia:"HR",Croatia:"HR",Eslovenia:"SI",Slovenia:"SI",Eslovaquia:"SK",Slovakia:"SK",Ucrania:"UA",Ukraine:"UA",Bielorrusia:"BY",Belarus:"BY",Kazajistn:"KZ",Kazakhstan:"KZ",Marruecos:"MA",Morocco:"MA",Argelia:"DZ",Algeria:"DZ",Tnez:"TN",Tunisia:"TN",Libia:"LY",Libya:"LY",Etiopa:"ET",Ethiopia:"ET",Kenia:"KE",Kenya:"KE",Ghana:"GH",Senegal:"SN","Costa de Marfil":"CI","Ivory Coast":"CI",Camern:"CM",Cameroon:"CM",Angola:"AO",Mozambique:"MZ",Zimbabue:"ZW",Zimbabwe:"ZW",Uganda:"UG",Tanzania:"TZ"};return z[N]||z[N?.split(" ")[0]]||null},[]),w=Y.useCallback(()=>{if(!h||!h.countries||h.countries.length===0)return[["Pas","Porcentaje"],["CL",42],["IT",18],["ES",12],["AR",8],["DE",6],["CN",5],["FR",4],["PE",3]];const N=[["Pas","Porcentaje"]];return h.countries.forEach(z=>{const V=C(z.name);V&&N.push([V,Math.round(z.percentage)])}),N.length>1?N:[["Pas","Porcentaje"],["CL",42],["IT",18],["ES",12]]},[h,C]),E=()=>{u(null),o(null)},L=Y.useMemo(()=>({title:"",colorAxis:{colors:["#E3F2FD","#BBDEFB","#90CAF9","#64B5F6","#42A5F5","#2196F3","#1E88E5","#1976D2","#1565C0","#0D47A1"]},backgroundColor:"#ffffff",datalessRegionColor:"#f0f0f0",defaultColor:"#f5f5f5",region:"world",displayMode:"regions",height:r?300:500,width:"100%",legend:"none",enableRegionInteractivity:!0,tooltip:{trigger:"none"},focusTarget:"none"}),[r]);Y.useEffect(()=>{(()=>{setTimeout(()=>{if(!M.current){console.warn("chartRef.current no existe");return}const{google:z}=window,V=U=>{f(U)};if(!z||!z.visualization){const U=document.createElement("script");U.src="https://www.gstatic.com/charts/loader.js",U.onload=()=>{const{google:j}=window;j.charts.load("current",{packages:["geochart"]}),j.charts.setOnLoadCallback(()=>{M.current&&$4(M.current,w(),L,V)})},document.head.appendChild(U)}else z.visualization&&z.visualization.GeoChart?$4(M.current,w(),L,V):(z.charts.load("current",{packages:["geochart"]}),z.charts.setOnLoadCallback(()=>{M.current&&$4(M.current,w(),L,V)}))},100)})()},[s,l,L,w]);const P=Y.useCallback(N=>{if(!h||!h.countries)return null;const z=h.countries.find(X=>C(X.name)===N);if(!z)return null;const V=z.percentage?.toFixed(1)||0,U=z.continent||"Desconocido";let j="";V>=30?j=`Tu ascendencia de ${z.name} es predominante en tu perfil gentico, representando una parte significativa de tu herencia.`:V>=15?j=`Tu herencia de ${z.name} representa una porcin considerable de tu composicin gentica.`:V>=5?j=`Tu ascendencia de ${z.name} aporta diversidad importante a tu perfil gentico.`:j=`Tu conexin gentica con ${z.name} refleja la rica diversidad de tus races ancestrales.`;const W=U?.replace(/frica/g,"frica")?.replace(/frica/g,"frica")||U,G=[`Continente de origen: ${W}`,`Basado en ${z.variant_count||0} variante(s) gentica(s) analizada(s)`,`Frecuencia allica promedio: ${(z.avg_allele_frequency*100).toFixed(2)||0}%`,"Esta ascendencia contribuye a tu composicin gentica nica"];return{name:z.name,percentage:V,description:j,details:G,continent:W,variantCount:z.variant_count||0}},[h,C]),I=({country:N,onClose:z})=>{if(!N)return null;const V=P(N);return V?T.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:z,children:T.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"2.5rem",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.2)"},onClick:U=>U.stopPropagation(),children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[T.jsx("h2",{style:{margin:0,color:"#0b7ad0",fontSize:"1.8rem"},children:V.name}),T.jsx("button",{onClick:z,style:{background:"none",border:"none",fontSize:"1.8rem",cursor:"pointer",color:"#666"},children:""})]}),T.jsxs("div",{style:{marginBottom:"1.5rem"},children:[T.jsx("p",{style:{fontSize:"1.1rem",color:"#333",marginBottom:"1rem"},children:V.description}),T.jsx("div",{style:{backgroundColor:"#f0f7ff",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",borderLeft:"4px solid #0b7ad0"},children:T.jsxs("p",{style:{margin:0,fontSize:"1rem",color:"#0b7ad0",fontWeight:"bold"},children:["Porcentaje de ascendencia: ",V.percentage,"%"]})})]}),T.jsxs("div",{style:{backgroundColor:"#f8f9ff",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem",border:"1px solid #e0e7ff"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[T.jsx("span",{style:{fontSize:"0.9rem",color:"#666",fontWeight:"500"},children:"Continente:"}),T.jsx("span",{style:{fontSize:"0.9rem",fontWeight:"600",color:"#0b7ad0"},children:V.continent||"Desconocido"})]}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsx("span",{style:{fontSize:"0.9rem",color:"#666",fontWeight:"500"},children:"Variantes analizadas:"}),T.jsx("span",{style:{fontSize:"0.9rem",fontWeight:"600",color:"#0b7ad0"},children:V.variantCount})]})]}),T.jsx("h3",{style:{color:"#0b7ad0",marginBottom:"1rem"},children:"Informacin Gentica:"}),T.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:V.details.map((U,j)=>T.jsx("li",{style:{marginBottom:"0.75rem",color:"#555",lineHeight:"1.5"},children:U},j))}),T.jsx("button",{onClick:z,style:{marginTop:"2rem",padding:"0.75rem 2rem",backgroundColor:"#0b7ad0",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",width:"100%",transition:"background-color 0.3s"},onMouseOver:U=>U.target.style.backgroundColor="#0a5fa8",onMouseOut:U=>U.target.style.backgroundColor="#0b7ad0",children:"Cerrar"})]})}):null};return T.jsxs("div",{className:"ancestria-dashboard",children:[T.jsx(I,{country:c,onClose:()=>f(null)}),r&&T.jsx("button",{className:"ancestria-dashboard__burger",onClick:()=>i(!t),"aria-label":t?"Cerrar men":"Abrir men","aria-expanded":t,children:t?T.jsx(Rh,{size:24,strokeWidth:2.5}):T.jsx(xm,{size:24,strokeWidth:2.5})}),T.jsx("aside",{className:"ancestria-dashboard__sidebar",children:T.jsx(fy,{items:b,onLogout:x,user:n,isMobileMenuOpen:t,setIsMobileMenuOpen:i})}),T.jsx("main",{className:"ancestria-dashboard__main",children:T.jsxs("div",{className:"ancestria-page",children:[T.jsx(nL,{title:"Ancestra",subtitle:"Conoce la composicin de tus races genticas, expresadas en porcentajes segn su predominancia.",icon:IV}),T.jsxs("div",{className:"ancestria-page__content",children:[T.jsxs("div",{className:"ancestria-page__chart-card",style:{gridColumn:"1 / -1",position:"relative"},children:[l&&T.jsxs("div",{className:"ancestria-page__drill-header",children:[T.jsx("button",{className:"ancestria-page__back-button",onClick:E,children:" Volver a vista general"}),T.jsxs("h3",{className:"ancestria-page__drill-title",children:["Desglose de ",l]})]}),T.jsxs("div",{style:{position:"relative",width:"100%"},children:[T.jsx("img",{src:"/cNormal.png",alt:"GenomIA Logo",style:{position:"absolute",top:"10px",right:"10px",zIndex:15,height:r?"30px":"50px",objectFit:"contain",filter:"grayscale(100%)"}}),T.jsx("img",{src:mXe,alt:"Brjula",style:{position:"absolute",top:"10px",left:"10px",width:r?"40px":"70px",height:r?"40px":"70px",zIndex:10,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}}),T.jsx("div",{ref:M,className:"ancestria-geochart-container",style:{width:"100%",height:r?"450px":"600px",backgroundColor:"#ffffff",borderRadius:"8px",position:"relative"}}),!r&&T.jsxs("div",{style:{position:"absolute",bottom:"15px",left:"15px",backgroundColor:"rgba(255, 255, 255, 0.98)",padding:"0.75rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.12)",zIndex:10,border:"1px solid rgba(11, 122, 208, 0.2)"},children:[T.jsx("h4",{style:{margin:"0 0 0.6rem 0",color:"#0b7ad0",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Ascendencia"}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.4rem"},children:(h?.countries||[{name:"Chile",percentage:42},{name:"Italia",percentage:18},{name:"Espaa",percentage:12},{name:"Argentina",percentage:8},{name:"Alemania",percentage:6},{name:"China",percentage:5},{name:"Francia",percentage:4},{name:"Per",percentage:3}]).slice(0,8).map((N,z)=>{const V=["#0D47A1","#1565C0","#1976D2","#1E88E5","#2196F3","#42A5F5","#64B5F6","#90CAF9"];return{code:C(N.name)||"",name:N.name,pct:h?`${N.percentage?.toFixed(1)||0}%`:"0%",color:V[z]}}).map(N=>T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.35rem",padding:"0.25rem",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s",backgroundColor:"#fafafa"},onMouseEnter:z=>{z.currentTarget.style.backgroundColor="#f0f0f0",z.currentTarget.style.transform="scale(1.02)"},onMouseLeave:z=>{z.currentTarget.style.backgroundColor="#fafafa",z.currentTarget.style.transform="scale(1)"},onClick:()=>f(N.code),children:[T.jsx("div",{style:{width:"10px",height:"10px",backgroundColor:N.color,borderRadius:"2px",flexShrink:0}}),T.jsx("span",{style:{fontSize:"0.65rem",color:"#333",fontWeight:"500",flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:N.name}),T.jsx("span",{style:{fontSize:"0.65rem",fontWeight:"600",color:"#0b7ad0",minWidth:"28px",textAlign:"right"},children:N.pct})]},N.code))})]})]}),r&&T.jsxs("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.98)",padding:"1rem",borderRadius:"8px",marginTop:"1rem",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.12)",border:"1px solid rgba(11, 122, 208, 0.2)"},children:[T.jsx("h4",{style:{margin:"0 0 0.75rem 0",color:"#0b7ad0",fontSize:"0.85rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Ascendencia"}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:(h?.countries||[{name:"Chile",percentage:42},{name:"Italia",percentage:18},{name:"Espaa",percentage:12},{name:"Argentina",percentage:8},{name:"Alemania",percentage:6},{name:"China",percentage:5},{name:"Francia",percentage:4},{name:"Per",percentage:3}]).slice(0,8).map((N,z)=>{const V=["#0D47A1","#1565C0","#1976D2","#1E88E5","#2196F3","#42A5F5","#64B5F6","#90CAF9"];return{code:C(N.name)||"",name:N.name,pct:h?`${N.percentage?.toFixed(1)||0}%`:"0%",color:V[z]}}).map(N=>T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.4rem",borderRadius:"4px",backgroundColor:"#fafafa",cursor:"pointer"},onClick:()=>f(N.code),children:[T.jsx("div",{style:{width:"12px",height:"12px",backgroundColor:N.color,borderRadius:"2px",flexShrink:0}}),T.jsx("span",{style:{fontSize:"0.75rem",color:"#333",fontWeight:"500",flex:1},children:N.name}),T.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#0b7ad0"},children:N.pct})]},N.code))})]})]}),T.jsx("div",{className:"ancestria-page__indigenous-card",style:{gridColumn:"1 / -1",marginTop:"2rem"},children:T.jsx(vXe,{})})]})]})})]})};var ez={exports:{}},Ld={};var Iee;function yXe(){return Iee||(Iee=1,Ld.ConcurrentRoot=1,Ld.ContinuousEventPriority=8,Ld.DefaultEventPriority=32,Ld.DiscreteEventPriority=2,Ld.IdleEventPriority=268435456,Ld.LegacyRoot=0,Ld.NoEventPriority=0),Ld}var Pee;function xXe(){return Pee||(Pee=1,ez.exports=yXe()),ez.exports}var R3=xXe();const ZC="181",I0={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},P0={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Qpe=0,I8=1,$pe=2,_Xe=3,eve=0,pP=1,J2=2,jc=3,zh=0,Xo=1,Wc=2,wh=0,xy=1,P8=2,B8=3,O8=4,tve=5,Gv=100,nve=101,ive=102,rve=103,ave=104,sve=200,ove=201,lve=202,uve=203,dN=204,pN=205,cve=206,fve=207,hve=208,dve=209,pve=210,vve=211,mve=212,gve=213,yve=214,vN=0,mN=1,gN=2,Fy=3,yN=4,xN=5,_N=6,bN=7,KC=0,xve=1,_ve=2,Eh=0,bve=1,Sve=2,Ave=3,yj=4,Mve=5,Tve=6,Cve=7,z8="attached",wve="detached",vP=300,wp=301,Cm=302,iC=303,rC=304,_S=306,wm=1e3,jo=1001,Tb=1002,ps=1003,mP=1004,bXe=1004,Q0=1005,SXe=1005,hr=1006,J1=1007,AXe=1007,Yu=1008,MXe=1008,tc=1009,xj=1010,_j=1011,Cb=1012,gP=1013,Ep=1014,Ho=1015,Fm=1016,yP=1017,xP=1018,wb=1020,bj=35902,Sj=35899,Aj=1021,Mj=1022,lo=1023,Eb=1026,Db=1027,_P=1028,JC=1029,bP=1030,SP=1031,TXe=1032,AP=1033,Q2=33776,$2=33777,eT=33778,tT=33779,SN=35840,AN=35841,MN=35842,TN=35843,CN=36196,wN=37492,EN=37496,DN=37808,RN=37809,LN=37810,NN=37811,IN=37812,PN=37813,BN=37814,ON=37815,zN=37816,kN=37817,FN=37818,UN=37819,GN=37820,VN=37821,jN=36492,HN=36494,WN=36495,XN=36283,YN=36284,qN=36285,ZN=36286,Eve=2200,Dve=2201,Rve=2202,Rb=2300,Lb=2301,L3=2302,$0=2400,ey=2401,aC=2402,MP=2500,Tj=2501,Lve=0,Cj=1,KN=2,Nve=3200,Ive=3201,CXe=3202,wXe=3203,Um=0,Pve=1,Yd="",ao="srgb",Em="srgb-linear",sC="linear",Hi="srgb",EXe=0,B0=7680,DXe=7681,RXe=7682,LXe=7683,NXe=34055,IXe=34056,PXe=5386,BXe=512,OXe=513,zXe=514,kXe=515,FXe=516,UXe=517,GXe=518,k8=519,Bve=512,Ove=513,zve=514,wj=515,kve=516,Fve=517,Uve=518,Gve=519,oC=35044,VXe=35048,jXe=35040,HXe=35045,WXe=35049,XXe=35041,YXe=35046,qXe=35050,ZXe=35042,KXe="100",F8="300 es",Zl=2e3,Nb=2001,JXe={COMPUTE:"compute",RENDER:"render"},QXe={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},$Xe={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function Vve(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const eYe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function z1(n,e){return new eYe[n](e)}function lC(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function jve(){const n=lC("canvas");return n.style.display="block",n}const Bee={};let Dm=null;function tYe(n){Dm=n}function nYe(){return Dm}function uC(...n){const e="THREE."+n.shift();Dm?Dm("log",e,...n):console.log(e,...n)}function Lt(...n){const e="THREE."+n.shift();Dm?Dm("warn",e,...n):console.warn(e,...n)}function Cn(...n){const e="THREE."+n.shift();Dm?Dm("error",e,...n):console.error(e,...n)}function Ib(...n){const e=n.join(" ");e in Bee||(Bee[e]=!0,Lt(...n))}function iYe(n,e,t){return new Promise(function(i,r){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:i()}}setTimeout(a,t)})}let Vh=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}};const $s=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Oee=1234567;const _y=Math.PI/180,Pb=180/Math.PI;function $l(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return($s[n&255]+$s[n>>8&255]+$s[n>>16&255]+$s[n>>24&255]+"-"+$s[e&255]+$s[e>>8&255]+"-"+$s[e>>16&15|64]+$s[e>>24&255]+"-"+$s[t&63|128]+$s[t>>8&255]+"-"+$s[t>>16&255]+$s[t>>24&255]+$s[i&255]+$s[i>>8&255]+$s[i>>16&255]+$s[i>>24&255]).toLowerCase()}function bn(n,e,t){return Math.max(e,Math.min(t,n))}function Ej(n,e){return(n%e+e)%e}function rYe(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function aYe(n,e,t){return n!==e?(t-n)/(e-n):0}function nT(n,e,t){return(1-t)*n+t*e}function sYe(n,e,t,i){return nT(n,e,1-Math.exp(-t*i))}function oYe(n,e=1){return e-Math.abs(Ej(n,e*2)-e)}function lYe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function uYe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function cYe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function fYe(n,e){return n+Math.random()*(e-n)}function hYe(n){return n*(.5-Math.random())}function dYe(n){n!==void 0&&(Oee=n);let e=Oee+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function pYe(n){return n*_y}function vYe(n){return n*Pb}function mYe(n){return(n&n-1)===0&&n!==0}function gYe(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function yYe(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function xYe(n,e,t,i,r){const a=Math.cos,s=Math.sin,o=a(t/2),l=s(t/2),u=a((e+i)/2),c=s((e+i)/2),f=a((e-i)/2),h=s((e-i)/2),d=a((i-e)/2),v=s((i-e)/2);switch(r){case"XYX":n.set(o*c,l*f,l*h,o*u);break;case"YZY":n.set(l*h,o*c,l*f,o*u);break;case"ZXZ":n.set(l*f,l*h,o*c,o*u);break;case"XZX":n.set(o*c,l*v,l*d,o*u);break;case"YXY":n.set(l*d,o*c,l*v,o*u);break;case"ZYZ":n.set(l*v,l*d,o*c,o*u);break;default:Lt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Go(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Un(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Hve={DEG2RAD:_y,RAD2DEG:Pb,generateUUID:$l,clamp:bn,euclideanModulo:Ej,mapLinear:rYe,inverseLerp:aYe,lerp:nT,damp:sYe,pingpong:oYe,smoothstep:lYe,smootherstep:uYe,randInt:cYe,randFloat:fYe,randFloatSpread:hYe,seededRandom:dYe,degToRad:pYe,radToDeg:vYe,isPowerOfTwo:mYe,ceilPowerOfTwo:gYe,floorPowerOfTwo:yYe,setQuaternionFromProperEuler:xYe,normalize:Un,denormalize:Go};class Ke{constructor(e=0,t=0){Ke.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=bn(this.x,e.x,t.x),this.y=bn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=bn(this.x,e,t),this.y=bn(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(bn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(bn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*i-s*r+e.x,this.y=a*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class vs{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,a,s,o){let l=i[r+0],u=i[r+1],c=i[r+2],f=i[r+3],h=a[s+0],d=a[s+1],v=a[s+2],m=a[s+3];if(o<=0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f;return}if(o>=1){e[t+0]=h,e[t+1]=d,e[t+2]=v,e[t+3]=m;return}if(f!==m||l!==h||u!==d||c!==v){let y=l*h+u*d+c*v+f*m;y<0&&(h=-h,d=-d,v=-v,m=-m,y=-y);let x=1-o;if(y<.9995){const b=Math.acos(y),M=Math.sin(b);x=Math.sin(x*b)/M,o=Math.sin(o*b)/M,l=l*x+h*o,u=u*x+d*o,c=c*x+v*o,f=f*x+m*o}else{l=l*x+h*o,u=u*x+d*o,c=c*x+v*o,f=f*x+m*o;const b=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=b,u*=b,c*=b,f*=b}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f}static multiplyQuaternionsFlat(e,t,i,r,a,s){const o=i[r],l=i[r+1],u=i[r+2],c=i[r+3],f=a[s],h=a[s+1],d=a[s+2],v=a[s+3];return e[t]=o*v+c*f+l*d-u*h,e[t+1]=l*v+c*h+u*f-o*d,e[t+2]=u*v+c*d+o*h-l*f,e[t+3]=c*v-o*f-l*h-u*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,u=o(i/2),c=o(r/2),f=o(a/2),h=l(i/2),d=l(r/2),v=l(a/2);switch(s){case"XYZ":this._x=h*c*f+u*d*v,this._y=u*d*f-h*c*v,this._z=u*c*v+h*d*f,this._w=u*c*f-h*d*v;break;case"YXZ":this._x=h*c*f+u*d*v,this._y=u*d*f-h*c*v,this._z=u*c*v-h*d*f,this._w=u*c*f+h*d*v;break;case"ZXY":this._x=h*c*f-u*d*v,this._y=u*d*f+h*c*v,this._z=u*c*v+h*d*f,this._w=u*c*f-h*d*v;break;case"ZYX":this._x=h*c*f-u*d*v,this._y=u*d*f+h*c*v,this._z=u*c*v-h*d*f,this._w=u*c*f+h*d*v;break;case"YZX":this._x=h*c*f+u*d*v,this._y=u*d*f+h*c*v,this._z=u*c*v-h*d*f,this._w=u*c*f-h*d*v;break;case"XZY":this._x=h*c*f-u*d*v,this._y=u*d*f-h*c*v,this._z=u*c*v+h*d*f,this._w=u*c*f+h*d*v;break;default:Lt("Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],a=t[8],s=t[1],o=t[5],l=t[9],u=t[2],c=t[6],f=t[10],h=i+o+f;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(c-l)*d,this._y=(a-u)*d,this._z=(s-r)*d}else if(i>o&&i>f){const d=2*Math.sqrt(1+i-o-f);this._w=(c-l)/d,this._x=.25*d,this._y=(r+s)/d,this._z=(a+u)/d}else if(o>f){const d=2*Math.sqrt(1+o-i-f);this._w=(a-u)/d,this._x=(r+s)/d,this._y=.25*d,this._z=(l+c)/d}else{const d=2*Math.sqrt(1+f-i-o);this._w=(s-r)/d,this._x=(a+u)/d,this._y=(l+c)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(bn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,a=e._z,s=e._w,o=t._x,l=t._y,u=t._z,c=t._w;return this._x=i*c+s*o+r*u-a*l,this._y=r*c+s*l+a*o-i*u,this._z=a*c+s*u+i*l-r*o,this._w=s*c-i*o-r*l-a*u,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let i=e._x,r=e._y,a=e._z,s=e._w,o=this.dot(e);o<0&&(i=-i,r=-r,a=-a,s=-s,o=-o);let l=1-t;if(o<.9995){const u=Math.acos(o),c=Math.sin(u);l=Math.sin(l*u)/c,t=Math.sin(t*u)/c,this._x=this._x*l+i*t,this._y=this._y*l+r*t,this._z=this._z*l+a*t,this._w=this._w*l+s*t,this._onChangeCallback()}else this._x=this._x*l+i*t,this._y=this._y*l+r*t,this._z=this._z*l+a*t,this._w=this._w*l+s*t,this.normalize();return this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class le{constructor(e=0,t=0,i=0){le.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(zee.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(zee.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6]*r,this.y=a[1]*t+a[4]*i+a[7]*r,this.z=a[2]*t+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=e.elements,s=1/(a[3]*t+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*i+a[8]*r+a[12])*s,this.y=(a[1]*t+a[5]*i+a[9]*r+a[13])*s,this.z=(a[2]*t+a[6]*i+a[10]*r+a[14])*s,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,a=e.x,s=e.y,o=e.z,l=e.w,u=2*(s*r-o*i),c=2*(o*t-a*r),f=2*(a*i-s*t);return this.x=t+l*u+s*f-o*c,this.y=i+l*c+o*u-a*f,this.z=r+l*f+a*c-s*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r,this.y=a[1]*t+a[5]*i+a[9]*r,this.z=a[2]*t+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=bn(this.x,e.x,t.x),this.y=bn(this.y,e.y,t.y),this.z=bn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=bn(this.x,e,t),this.y=bn(this.y,e,t),this.z=bn(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(bn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,a=e.z,s=t.x,o=t.y,l=t.z;return this.x=r*l-a*o,this.y=a*s-i*l,this.z=i*o-r*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return tz.copy(this).projectOnVector(e),this.sub(tz)}reflect(e){return this.sub(tz.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(bn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const tz=new le,zee=new vs;class kn{constructor(e,t,i,r,a,s,o,l,u){kn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,s,o,l,u)}set(e,t,i,r,a,s,o,l,u){const c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=t,c[4]=a,c[5]=l,c[6]=i,c[7]=s,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,s=i[0],o=i[3],l=i[6],u=i[1],c=i[4],f=i[7],h=i[2],d=i[5],v=i[8],m=r[0],y=r[3],x=r[6],b=r[1],M=r[4],C=r[7],w=r[2],E=r[5],L=r[8];return a[0]=s*m+o*b+l*w,a[3]=s*y+o*M+l*E,a[6]=s*x+o*C+l*L,a[1]=u*m+c*b+f*w,a[4]=u*y+c*M+f*E,a[7]=u*x+c*C+f*L,a[2]=h*m+d*b+v*w,a[5]=h*y+d*M+v*E,a[8]=h*x+d*C+v*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8];return t*s*c-t*o*u-i*a*c+i*o*l+r*a*u-r*s*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],f=c*s-o*u,h=o*l-c*a,d=u*a-s*l,v=t*f+i*h+r*d;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/v;return e[0]=f*m,e[1]=(r*u-c*i)*m,e[2]=(o*i-r*s)*m,e[3]=h*m,e[4]=(c*t-r*l)*m,e[5]=(r*a-o*t)*m,e[6]=d*m,e[7]=(i*l-u*t)*m,e[8]=(s*t-i*a)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,a,s,o){const l=Math.cos(a),u=Math.sin(a);return this.set(i*l,i*u,-i*(l*s+u*o)+s+e,-r*u,r*l,-r*(-u*s+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(nz.makeScale(e,t)),this}rotate(e){return this.premultiply(nz.makeRotation(-e)),this}translate(e,t){return this.premultiply(nz.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const nz=new kn,kee=new kn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Fee=new kn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function _Ye(){const n={enabled:!0,workingColorSpace:Em,spaces:{},convert:function(r,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===Hi&&(r.r=lp(r.r),r.g=lp(r.g),r.b=lp(r.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===Hi&&(r.r=Q1(r.r),r.g=Q1(r.g),r.b=Q1(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Yd?sC:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,s){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return Ib("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return Ib("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Em]:{primaries:e,whitePoint:i,transfer:sC,toXYZ:kee,fromXYZ:Fee,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:ao},outputColorSpaceConfig:{drawingBufferColorSpace:ao}},[ao]:{primaries:e,whitePoint:i,transfer:Hi,toXYZ:kee,fromXYZ:Fee,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:ao}}}),n}const gi=_Ye();function lp(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Q1(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let j_;class Wve{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{j_===void 0&&(j_=lC("canvas")),j_.width=e.width,j_.height=e.height;const r=j_.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=j_}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=lC("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let s=0;s<a.length;s++)a[s]=lp(a[s]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(lp(t[i]/255)*255):t[i]=lp(t[i]);return{data:t,width:e.width,height:e.height}}else return Lt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let bYe=0;class em{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:bYe++}),this.uuid=$l(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let s=0,o=r.length;s<o;s++)r[s].isDataTexture?a.push(iz(r[s].image)):a.push(iz(r[s]))}else a=iz(r);i.url=a}return t||(e.images[this.uuid]=i),i}}function iz(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Wve.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(Lt("Texture: Unable to serialize Texture."),{})}let SYe=0;const rz=new le;class Mr extends Vh{constructor(e=Mr.DEFAULT_IMAGE,t=Mr.DEFAULT_MAPPING,i=jo,r=jo,a=hr,s=Yu,o=lo,l=tc,u=Mr.DEFAULT_ANISOTROPY,c=Yd){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:SYe++}),this.uuid=$l(),this.name="",this.source=new em(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=s,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Ke(0,0),this.repeat=new Ke(1,1),this.center=new Ke(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new kn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(rz).x}get height(){return this.source.getSize(rz).y}get depth(){return this.source.getSize(rz).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){Lt(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){Lt(`Texture.setValues(): property '${t}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==vP)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case wm:e.x=e.x-Math.floor(e.x);break;case jo:e.x=e.x<0?0:1;break;case Tb:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case wm:e.y=e.y-Math.floor(e.y);break;case jo:e.y=e.y<0?0:1;break;case Tb:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Mr.DEFAULT_IMAGE=null;Mr.DEFAULT_MAPPING=vP;Mr.DEFAULT_ANISOTROPY=1;class Ai{constructor(e=0,t=0,i=0,r=1){Ai.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r+s[12]*a,this.y=s[1]*t+s[5]*i+s[9]*r+s[13]*a,this.z=s[2]*t+s[6]*i+s[10]*r+s[14]*a,this.w=s[3]*t+s[7]*i+s[11]*r+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,a;const l=e.elements,u=l[0],c=l[4],f=l[8],h=l[1],d=l[5],v=l[9],m=l[2],y=l[6],x=l[10];if(Math.abs(c-h)<.01&&Math.abs(f-m)<.01&&Math.abs(v-y)<.01){if(Math.abs(c+h)<.1&&Math.abs(f+m)<.1&&Math.abs(v+y)<.1&&Math.abs(u+d+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const M=(u+1)/2,C=(d+1)/2,w=(x+1)/2,E=(c+h)/4,L=(f+m)/4,P=(v+y)/4;return M>C&&M>w?M<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(M),r=E/i,a=L/i):C>w?C<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(C),i=E/r,a=P/r):w<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(w),i=L/a,r=P/a),this.set(i,r,a,t),this}let b=Math.sqrt((y-v)*(y-v)+(f-m)*(f-m)+(h-c)*(h-c));return Math.abs(b)<.001&&(b=1),this.x=(y-v)/b,this.y=(f-m)/b,this.z=(h-c)/b,this.w=Math.acos((u+d+x-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=bn(this.x,e.x,t.x),this.y=bn(this.y,e.y,t.y),this.z=bn(this.z,e.z,t.z),this.w=bn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=bn(this.x,e,t),this.y=bn(this.y,e,t),this.z=bn(this.z,e,t),this.w=bn(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(bn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Dj extends Vh{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:hr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new Ai(0,0,e,t),this.scissorTest=!1,this.viewport=new Ai(0,0,e,t);const r={width:e,height:t,depth:i.depth},a=new Mr(r);this.textures=[];const s=i.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:hr,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i,this.textures[r].isData3DTexture!==!0&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new em(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class lf extends Dj{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class TP extends Mr{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=ps,this.minFilter=ps,this.wrapR=jo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class AYe extends lf{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new TP(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class CP extends Mr{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=ps,this.minFilter=ps,this.wrapR=jo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class MYe extends lf{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new CP(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Is{constructor(e=new le(1/0,1/0,1/0),t=new le(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Bc.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Bc.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Bc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,Bc):Bc.fromBufferAttribute(a,s),Bc.applyMatrix4(e.matrixWorld),this.expandByPoint(Bc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),QD.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),QD.copy(i.boundingBox)),QD.applyMatrix4(e.matrixWorld),this.union(QD)}const r=e.children;for(let a=0,s=r.length;a<s;a++)this.expandByObject(r[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Bc),Bc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(FM),$D.subVectors(this.max,FM),H_.subVectors(e.a,FM),W_.subVectors(e.b,FM),X_.subVectors(e.c,FM),wv.subVectors(W_,H_),Ev.subVectors(X_,W_),c0.subVectors(H_,X_);let t=[0,-wv.z,wv.y,0,-Ev.z,Ev.y,0,-c0.z,c0.y,wv.z,0,-wv.x,Ev.z,0,-Ev.x,c0.z,0,-c0.x,-wv.y,wv.x,0,-Ev.y,Ev.x,0,-c0.y,c0.x,0];return!az(t,H_,W_,X_,$D)||(t=[1,0,0,0,1,0,0,0,1],!az(t,H_,W_,X_,$D))?!1:(eR.crossVectors(wv,Ev),t=[eR.x,eR.y,eR.z],az(t,H_,W_,X_,$D))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Bc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Bc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Nd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Nd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Nd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Nd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Nd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Nd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Nd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Nd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Nd),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Nd=[new le,new le,new le,new le,new le,new le,new le,new le],Bc=new le,QD=new Is,H_=new le,W_=new le,X_=new le,wv=new le,Ev=new le,c0=new le,FM=new le,$D=new le,eR=new le,f0=new le;function az(n,e,t,i,r){for(let a=0,s=n.length-3;a<=s;a+=3){f0.fromArray(n,a);const o=r.x*Math.abs(f0.x)+r.y*Math.abs(f0.y)+r.z*Math.abs(f0.z),l=e.dot(f0),u=t.dot(f0),c=i.dot(f0);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>o)return!1}return!0}const TYe=new Is,UM=new le,sz=new le;class ms{constructor(e=new le,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):TYe.setFromPoints(e).getCenter(i);let r=0;for(let a=0,s=e.length;a<s;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;UM.subVectors(e,this.center);const t=UM.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(UM,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(sz.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(UM.copy(e.center).add(sz)),this.expandByPoint(UM.copy(e.center).sub(sz))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Id=new le,oz=new le,tR=new le,Dv=new le,lz=new le,nR=new le,uz=new le;class nx{constructor(e=new le,t=new le(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Id)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Id.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Id.copy(this.origin).addScaledVector(this.direction,t),Id.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){oz.copy(e).add(t).multiplyScalar(.5),tR.copy(t).sub(e).normalize(),Dv.copy(this.origin).sub(oz);const a=e.distanceTo(t)*.5,s=-this.direction.dot(tR),o=Dv.dot(this.direction),l=-Dv.dot(tR),u=Dv.lengthSq(),c=Math.abs(1-s*s);let f,h,d,v;if(c>0)if(f=s*l-o,h=s*o-l,v=a*c,f>=0)if(h>=-v)if(h<=v){const m=1/c;f*=m,h*=m,d=f*(f+s*h+2*o)+h*(s*f+h+2*l)+u}else h=a,f=Math.max(0,-(s*h+o)),d=-f*f+h*(h+2*l)+u;else h=-a,f=Math.max(0,-(s*h+o)),d=-f*f+h*(h+2*l)+u;else h<=-v?(f=Math.max(0,-(-s*a+o)),h=f>0?-a:Math.min(Math.max(-a,-l),a),d=-f*f+h*(h+2*l)+u):h<=v?(f=0,h=Math.min(Math.max(-a,-l),a),d=h*(h+2*l)+u):(f=Math.max(0,-(s*a+o)),h=f>0?a:Math.min(Math.max(-a,-l),a),d=-f*f+h*(h+2*l)+u);else h=s>0?-a:a,f=Math.max(0,-(s*h+o)),d=-f*f+h*(h+2*l)+u;return i&&i.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(oz).addScaledVector(tR,h),d}intersectSphere(e,t){Id.subVectors(e.center,this.origin);const i=Id.dot(this.direction),r=Id.dot(Id)-i*i,a=e.radius*e.radius;if(r>a)return null;const s=Math.sqrt(a-r),o=i-s,l=i+s;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,a,s,o,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(i=(e.min.x-h.x)*u,r=(e.max.x-h.x)*u):(i=(e.max.x-h.x)*u,r=(e.min.x-h.x)*u),c>=0?(a=(e.min.y-h.y)*c,s=(e.max.y-h.y)*c):(a=(e.max.y-h.y)*c,s=(e.min.y-h.y)*c),i>s||a>r||((a>i||isNaN(i))&&(i=a),(s<r||isNaN(r))&&(r=s),f>=0?(o=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(o=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),i>l||o>r)||((o>i||i!==i)&&(i=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Id)!==null}intersectTriangle(e,t,i,r,a){lz.subVectors(t,e),nR.subVectors(i,e),uz.crossVectors(lz,nR);let s=this.direction.dot(uz),o;if(s>0){if(r)return null;o=1}else if(s<0)o=-1,s=-s;else return null;Dv.subVectors(this.origin,e);const l=o*this.direction.dot(nR.crossVectors(Dv,nR));if(l<0)return null;const u=o*this.direction.dot(lz.cross(Dv));if(u<0||l+u>s)return null;const c=-o*Dv.dot(uz);return c<0?null:this.at(c/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class vn{constructor(e,t,i,r,a,s,o,l,u,c,f,h,d,v,m,y){vn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,s,o,l,u,c,f,h,d,v,m,y)}set(e,t,i,r,a,s,o,l,u,c,f,h,d,v,m,y){const x=this.elements;return x[0]=e,x[4]=t,x[8]=i,x[12]=r,x[1]=a,x[5]=s,x[9]=o,x[13]=l,x[2]=u,x[6]=c,x[10]=f,x[14]=h,x[3]=d,x[7]=v,x[11]=m,x[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new vn().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Y_.setFromMatrixColumn(e,0).length(),a=1/Y_.setFromMatrixColumn(e,1).length(),s=1/Y_.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=0,t[8]=i[8]*s,t[9]=i[9]*s,t[10]=i[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,a=e.z,s=Math.cos(i),o=Math.sin(i),l=Math.cos(r),u=Math.sin(r),c=Math.cos(a),f=Math.sin(a);if(e.order==="XYZ"){const h=s*c,d=s*f,v=o*c,m=o*f;t[0]=l*c,t[4]=-l*f,t[8]=u,t[1]=d+v*u,t[5]=h-m*u,t[9]=-o*l,t[2]=m-h*u,t[6]=v+d*u,t[10]=s*l}else if(e.order==="YXZ"){const h=l*c,d=l*f,v=u*c,m=u*f;t[0]=h+m*o,t[4]=v*o-d,t[8]=s*u,t[1]=s*f,t[5]=s*c,t[9]=-o,t[2]=d*o-v,t[6]=m+h*o,t[10]=s*l}else if(e.order==="ZXY"){const h=l*c,d=l*f,v=u*c,m=u*f;t[0]=h-m*o,t[4]=-s*f,t[8]=v+d*o,t[1]=d+v*o,t[5]=s*c,t[9]=m-h*o,t[2]=-s*u,t[6]=o,t[10]=s*l}else if(e.order==="ZYX"){const h=s*c,d=s*f,v=o*c,m=o*f;t[0]=l*c,t[4]=v*u-d,t[8]=h*u+m,t[1]=l*f,t[5]=m*u+h,t[9]=d*u-v,t[2]=-u,t[6]=o*l,t[10]=s*l}else if(e.order==="YZX"){const h=s*l,d=s*u,v=o*l,m=o*u;t[0]=l*c,t[4]=m-h*f,t[8]=v*f+d,t[1]=f,t[5]=s*c,t[9]=-o*c,t[2]=-u*c,t[6]=d*f+v,t[10]=h-m*f}else if(e.order==="XZY"){const h=s*l,d=s*u,v=o*l,m=o*u;t[0]=l*c,t[4]=-f,t[8]=u*c,t[1]=h*f+m,t[5]=s*c,t[9]=d*f-v,t[2]=v*f-d,t[6]=o*c,t[10]=m*f+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(CYe,e,wYe)}lookAt(e,t,i){const r=this.elements;return Pl.subVectors(e,t),Pl.lengthSq()===0&&(Pl.z=1),Pl.normalize(),Rv.crossVectors(i,Pl),Rv.lengthSq()===0&&(Math.abs(i.z)===1?Pl.x+=1e-4:Pl.z+=1e-4,Pl.normalize(),Rv.crossVectors(i,Pl)),Rv.normalize(),iR.crossVectors(Pl,Rv),r[0]=Rv.x,r[4]=iR.x,r[8]=Pl.x,r[1]=Rv.y,r[5]=iR.y,r[9]=Pl.y,r[2]=Rv.z,r[6]=iR.z,r[10]=Pl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,s=i[0],o=i[4],l=i[8],u=i[12],c=i[1],f=i[5],h=i[9],d=i[13],v=i[2],m=i[6],y=i[10],x=i[14],b=i[3],M=i[7],C=i[11],w=i[15],E=r[0],L=r[4],P=r[8],I=r[12],N=r[1],z=r[5],V=r[9],U=r[13],j=r[2],W=r[6],G=r[10],X=r[14],q=r[3],$=r[7],te=r[11],J=r[15];return a[0]=s*E+o*N+l*j+u*q,a[4]=s*L+o*z+l*W+u*$,a[8]=s*P+o*V+l*G+u*te,a[12]=s*I+o*U+l*X+u*J,a[1]=c*E+f*N+h*j+d*q,a[5]=c*L+f*z+h*W+d*$,a[9]=c*P+f*V+h*G+d*te,a[13]=c*I+f*U+h*X+d*J,a[2]=v*E+m*N+y*j+x*q,a[6]=v*L+m*z+y*W+x*$,a[10]=v*P+m*V+y*G+x*te,a[14]=v*I+m*U+y*X+x*J,a[3]=b*E+M*N+C*j+w*q,a[7]=b*L+M*z+C*W+w*$,a[11]=b*P+M*V+C*G+w*te,a[15]=b*I+M*U+C*X+w*J,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],a=e[12],s=e[1],o=e[5],l=e[9],u=e[13],c=e[2],f=e[6],h=e[10],d=e[14],v=e[3],m=e[7],y=e[11],x=e[15];return v*(+a*l*f-r*u*f-a*o*h+i*u*h+r*o*d-i*l*d)+m*(+t*l*d-t*u*h+a*s*h-r*s*d+r*u*c-a*l*c)+y*(+t*u*f-t*o*d-a*s*f+i*s*d+a*o*c-i*u*c)+x*(-r*o*c-t*l*f+t*o*h+r*s*f-i*s*h+i*l*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],v=e[12],m=e[13],y=e[14],x=e[15],b=f*y*u-m*h*u+m*l*d-o*y*d-f*l*x+o*h*x,M=v*h*u-c*y*u-v*l*d+s*y*d+c*l*x-s*h*x,C=c*m*u-v*f*u+v*o*d-s*m*d-c*o*x+s*f*x,w=v*f*l-c*m*l-v*o*h+s*m*h+c*o*y-s*f*y,E=t*b+i*M+r*C+a*w;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/E;return e[0]=b*L,e[1]=(m*h*a-f*y*a-m*r*d+i*y*d+f*r*x-i*h*x)*L,e[2]=(o*y*a-m*l*a+m*r*u-i*y*u-o*r*x+i*l*x)*L,e[3]=(f*l*a-o*h*a-f*r*u+i*h*u+o*r*d-i*l*d)*L,e[4]=M*L,e[5]=(c*y*a-v*h*a+v*r*d-t*y*d-c*r*x+t*h*x)*L,e[6]=(v*l*a-s*y*a-v*r*u+t*y*u+s*r*x-t*l*x)*L,e[7]=(s*h*a-c*l*a+c*r*u-t*h*u-s*r*d+t*l*d)*L,e[8]=C*L,e[9]=(v*f*a-c*m*a-v*i*d+t*m*d+c*i*x-t*f*x)*L,e[10]=(s*m*a-v*o*a+v*i*u-t*m*u-s*i*x+t*o*x)*L,e[11]=(c*o*a-s*f*a-c*i*u+t*f*u+s*i*d-t*o*d)*L,e[12]=w*L,e[13]=(c*m*r-v*f*r+v*i*h-t*m*h-c*i*y+t*f*y)*L,e[14]=(v*o*r-s*m*r-v*i*l+t*m*l+s*i*y-t*o*y)*L,e[15]=(s*f*r-c*o*r+c*i*l-t*f*l-s*i*h+t*o*h)*L,this}scale(e){const t=this.elements,i=e.x,r=e.y,a=e.z;return t[0]*=i,t[4]*=r,t[8]*=a,t[1]*=i,t[5]*=r,t[9]*=a,t[2]*=i,t[6]*=r,t[10]*=a,t[3]*=i,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),a=1-i,s=e.x,o=e.y,l=e.z,u=a*s,c=a*o;return this.set(u*s+i,u*o-r*l,u*l+r*o,0,u*o+r*l,c*o+i,c*l-r*s,0,u*l-r*o,c*l+r*s,a*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,a,s){return this.set(1,i,a,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,a=t._x,s=t._y,o=t._z,l=t._w,u=a+a,c=s+s,f=o+o,h=a*u,d=a*c,v=a*f,m=s*c,y=s*f,x=o*f,b=l*u,M=l*c,C=l*f,w=i.x,E=i.y,L=i.z;return r[0]=(1-(m+x))*w,r[1]=(d+C)*w,r[2]=(v-M)*w,r[3]=0,r[4]=(d-C)*E,r[5]=(1-(h+x))*E,r[6]=(y+b)*E,r[7]=0,r[8]=(v+M)*L,r[9]=(y-b)*L,r[10]=(1-(h+m))*L,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let a=Y_.set(r[0],r[1],r[2]).length();const s=Y_.set(r[4],r[5],r[6]).length(),o=Y_.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],Oc.copy(this);const u=1/a,c=1/s,f=1/o;return Oc.elements[0]*=u,Oc.elements[1]*=u,Oc.elements[2]*=u,Oc.elements[4]*=c,Oc.elements[5]*=c,Oc.elements[6]*=c,Oc.elements[8]*=f,Oc.elements[9]*=f,Oc.elements[10]*=f,t.setFromRotationMatrix(Oc),i.x=a,i.y=s,i.z=o,this}makePerspective(e,t,i,r,a,s,o=Zl,l=!1){const u=this.elements,c=2*a/(t-e),f=2*a/(i-r),h=(t+e)/(t-e),d=(i+r)/(i-r);let v,m;if(l)v=a/(s-a),m=s*a/(s-a);else if(o===Zl)v=-(s+a)/(s-a),m=-2*s*a/(s-a);else if(o===Nb)v=-s/(s-a),m=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return u[0]=c,u[4]=0,u[8]=h,u[12]=0,u[1]=0,u[5]=f,u[9]=d,u[13]=0,u[2]=0,u[6]=0,u[10]=v,u[14]=m,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,i,r,a,s,o=Zl,l=!1){const u=this.elements,c=2/(t-e),f=2/(i-r),h=-(t+e)/(t-e),d=-(i+r)/(i-r);let v,m;if(l)v=1/(s-a),m=s/(s-a);else if(o===Zl)v=-2/(s-a),m=-(s+a)/(s-a);else if(o===Nb)v=-1/(s-a),m=-a/(s-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return u[0]=c,u[4]=0,u[8]=0,u[12]=h,u[1]=0,u[5]=f,u[9]=0,u[13]=d,u[2]=0,u[6]=0,u[10]=v,u[14]=m,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Y_=new le,Oc=new vn,CYe=new le(0,0,0),wYe=new le(1,1,1),Rv=new le,iR=new le,Pl=new le,Uee=new vn,Gee=new vs;let uf=class Xve{constructor(e=0,t=0,i=0,r=Xve.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,a=r[0],s=r[4],o=r[8],l=r[1],u=r[5],c=r[9],f=r[2],h=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(bn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-bn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(bn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-bn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(bn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-bn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-c,d),this._y=0);break;default:Lt("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return Uee.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Uee,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Gee.setFromEuler(this),this.setFromQuaternion(Gee,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};uf.DEFAULT_ORDER="XYZ";class Bb{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let EYe=0;const Vee=new le,q_=new vs,Pd=new vn,rR=new le,GM=new le,DYe=new le,RYe=new vs,jee=new le(1,0,0),Hee=new le(0,1,0),Wee=new le(0,0,1),Xee={type:"added"},LYe={type:"removed"},Z_={type:"childadded",child:null},cz={type:"childremoved",child:null};class _i extends Vh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:EYe++}),this.uuid=$l(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=_i.DEFAULT_UP.clone();const e=new le,t=new uf,i=new vs,r=new le(1,1,1);function a(){i.setFromEuler(t,!1)}function s(){t.setFromQuaternion(i,void 0,!1)}t._onChange(a),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new vn},normalMatrix:{value:new kn}}),this.matrix=new vn,this.matrixWorld=new vn,this.matrixAutoUpdate=_i.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=_i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Bb,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return q_.setFromAxisAngle(e,t),this.quaternion.multiply(q_),this}rotateOnWorldAxis(e,t){return q_.setFromAxisAngle(e,t),this.quaternion.premultiply(q_),this}rotateX(e){return this.rotateOnAxis(jee,e)}rotateY(e){return this.rotateOnAxis(Hee,e)}rotateZ(e){return this.rotateOnAxis(Wee,e)}translateOnAxis(e,t){return Vee.copy(e).applyQuaternion(this.quaternion),this.position.add(Vee.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(jee,e)}translateY(e){return this.translateOnAxis(Hee,e)}translateZ(e){return this.translateOnAxis(Wee,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Pd.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?rR.copy(e):rR.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),GM.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Pd.lookAt(GM,rR,this.up):Pd.lookAt(rR,GM,this.up),this.quaternion.setFromRotationMatrix(Pd),r&&(Pd.extractRotation(r.matrixWorld),q_.setFromRotationMatrix(Pd),this.quaternion.premultiply(q_.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Cn("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Xee),Z_.child=e,this.dispatchEvent(Z_),Z_.child=null):Cn("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(LYe),cz.child=e,this.dispatchEvent(cz),cz.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Pd.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Pd.multiply(e.parent.matrixWorld)),e.applyMatrix4(Pd),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Xee),Z_.child=e,this.dispatchEvent(Z_),Z_.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const s=this.children[i].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(GM,e,DYe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(GM,RYe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(o=>({...o})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];a(e.shapes,f)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,u=this.material.length;l<u;l++)o.push(a(e.materials,this.material[l]));r.material=o}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(a(e.animations,l))}}if(t){const o=s(e.geometries),l=s(e.materials),u=s(e.textures),c=s(e.images),f=s(e.shapes),h=s(e.skeletons),d=s(e.animations),v=s(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),c.length>0&&(i.images=c),f.length>0&&(i.shapes=f),h.length>0&&(i.skeletons=h),d.length>0&&(i.animations=d),v.length>0&&(i.nodes=v)}return i.object=r,i;function s(o){const l=[];for(const u in o){const c=o[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}_i.DEFAULT_UP=new le(0,1,0);_i.DEFAULT_MATRIX_AUTO_UPDATE=!0;_i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const zc=new le,Bd=new le,fz=new le,Od=new le,K_=new le,J_=new le,Yee=new le,hz=new le,dz=new le,pz=new le,vz=new Ai,mz=new Ai,gz=new Ai;let Vv=class x1{constructor(e=new le,t=new le,i=new le){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),zc.subVectors(e,t),r.cross(zc);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,i,r,a){zc.subVectors(r,t),Bd.subVectors(i,t),fz.subVectors(e,t);const s=zc.dot(zc),o=zc.dot(Bd),l=zc.dot(fz),u=Bd.dot(Bd),c=Bd.dot(fz),f=s*u-o*o;if(f===0)return a.set(0,0,0),null;const h=1/f,d=(u*l-o*c)*h,v=(s*c-o*l)*h;return a.set(1-d-v,v,d)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Od)===null?!1:Od.x>=0&&Od.y>=0&&Od.x+Od.y<=1}static getInterpolation(e,t,i,r,a,s,o,l){return this.getBarycoord(e,t,i,r,Od)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,Od.x),l.addScaledVector(s,Od.y),l.addScaledVector(o,Od.z),l)}static getInterpolatedAttribute(e,t,i,r,a,s){return vz.setScalar(0),mz.setScalar(0),gz.setScalar(0),vz.fromBufferAttribute(e,t),mz.fromBufferAttribute(e,i),gz.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(vz,a.x),s.addScaledVector(mz,a.y),s.addScaledVector(gz,a.z),s}static isFrontFacing(e,t,i,r){return zc.subVectors(i,t),Bd.subVectors(e,t),zc.cross(Bd).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return zc.subVectors(this.c,this.b),Bd.subVectors(this.a,this.b),zc.cross(Bd).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return x1.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return x1.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,a){return x1.getInterpolation(e,this.a,this.b,this.c,t,i,r,a)}containsPoint(e){return x1.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return x1.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,a=this.c;let s,o;K_.subVectors(r,i),J_.subVectors(a,i),hz.subVectors(e,i);const l=K_.dot(hz),u=J_.dot(hz);if(l<=0&&u<=0)return t.copy(i);dz.subVectors(e,r);const c=K_.dot(dz),f=J_.dot(dz);if(c>=0&&f<=c)return t.copy(r);const h=l*f-c*u;if(h<=0&&l>=0&&c<=0)return s=l/(l-c),t.copy(i).addScaledVector(K_,s);pz.subVectors(e,a);const d=K_.dot(pz),v=J_.dot(pz);if(v>=0&&d<=v)return t.copy(a);const m=d*u-l*v;if(m<=0&&u>=0&&v<=0)return o=u/(u-v),t.copy(i).addScaledVector(J_,o);const y=c*v-d*f;if(y<=0&&f-c>=0&&d-v>=0)return Yee.subVectors(a,r),o=(f-c)/(f-c+(d-v)),t.copy(r).addScaledVector(Yee,o);const x=1/(y+m+h);return s=m*x,o=h*x,t.copy(i).addScaledVector(K_,s).addScaledVector(J_,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}};const Yve={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Lv={h:0,s:0,l:0},aR={h:0,s:0,l:0};function yz(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let Et=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ao){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,gi.colorSpaceToWorking(this,t),this}setRGB(e,t,i,r=gi.workingColorSpace){return this.r=e,this.g=t,this.b=i,gi.colorSpaceToWorking(this,r),this}setHSL(e,t,i,r=gi.workingColorSpace){if(e=Ej(e,1),t=bn(t,0,1),i=bn(i,0,1),t===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+t):i+t-i*t,s=2*i-a;this.r=yz(s,a,e+1/3),this.g=yz(s,a,e),this.b=yz(s,a,e-1/3)}return gi.colorSpaceToWorking(this,r),this}setStyle(e,t=ao){function i(a){a!==void 0&&parseFloat(a)<1&&Lt("Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=r[1],o=r[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:Lt("Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);Lt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ao){const i=Yve[e.toLowerCase()];return i!==void 0?this.setHex(i,t):Lt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=lp(e.r),this.g=lp(e.g),this.b=lp(e.b),this}copyLinearToSRGB(e){return this.r=Q1(e.r),this.g=Q1(e.g),this.b=Q1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ao){return gi.workingToColorSpace(eo.copy(this),e),Math.round(bn(eo.r*255,0,255))*65536+Math.round(bn(eo.g*255,0,255))*256+Math.round(bn(eo.b*255,0,255))}getHexString(e=ao){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=gi.workingColorSpace){gi.workingToColorSpace(eo.copy(this),t);const i=eo.r,r=eo.g,a=eo.b,s=Math.max(i,r,a),o=Math.min(i,r,a);let l,u;const c=(o+s)/2;if(o===s)l=0,u=0;else{const f=s-o;switch(u=c<=.5?f/(s+o):f/(2-s-o),s){case i:l=(r-a)/f+(r<a?6:0);break;case r:l=(a-i)/f+2;break;case a:l=(i-r)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=gi.workingColorSpace){return gi.workingToColorSpace(eo.copy(this),t),e.r=eo.r,e.g=eo.g,e.b=eo.b,e}getStyle(e=ao){gi.workingToColorSpace(eo.copy(this),e);const t=eo.r,i=eo.g,r=eo.b;return e!==ao?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Lv),this.setHSL(Lv.h+e,Lv.s+t,Lv.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Lv),e.getHSL(aR);const i=nT(Lv.h,aR.h,t),r=nT(Lv.s,aR.s,t),a=nT(Lv.l,aR.l,t);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*t+a[3]*i+a[6]*r,this.g=a[1]*t+a[4]*i+a[7]*r,this.b=a[2]*t+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const eo=new Et;Et.NAMES=Yve;let NYe=0;class Wa extends Vh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:NYe++}),this.uuid=$l(),this.name="",this.type="Material",this.blending=xy,this.side=zh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=dN,this.blendDst=pN,this.blendEquation=Gv,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Et(0,0,0),this.blendAlpha=0,this.depthFunc=Fy,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=k8,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=B0,this.stencilZFail=B0,this.stencilZPass=B0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){Lt(`Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){Lt(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==xy&&(i.blending=this.blending),this.side!==zh&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==dN&&(i.blendSrc=this.blendSrc),this.blendDst!==pN&&(i.blendDst=this.blendDst),this.blendEquation!==Gv&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Fy&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==k8&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==B0&&(i.stencilFail=this.stencilFail),this.stencilZFail!==B0&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==B0&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(t){const a=r(e.textures),s=r(e.images);a.length>0&&(i.textures=a),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=t[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Kl extends Wa{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new uf,this.combine=KC,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const qd=IYe();function IYe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(i[l]=1024>>-u-14,i[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(i[l]=u+15<<10,i[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;(u&8388608)===0;)u<<=1,c-=8388608;u&=-8388609,c+=947912704,a[l]=u|c}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:o}}function ol(n){Math.abs(n)>65504&&Lt("DataUtils.toHalfFloat(): Value out of range."),n=bn(n,-65504,65504),qd.floatView[0]=n;const e=qd.uint32View[0],t=e>>23&511;return qd.baseTable[t]+((e&8388607)>>qd.shiftTable[t])}function g2(n){const e=n>>10;return qd.uint32View[0]=qd.mantissaTable[qd.offsetTable[e]+(n&1023)]+qd.exponentTable[e],qd.floatView[0]}class PYe{static toHalfFloat(e){return ol(e)}static fromHalfFloat(e){return g2(e)}}const Aa=new le,sR=new Ke;let BYe=0;class Mi{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:BYe++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=oC,this.updateRanges=[],this.gpuType=Ho,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)sR.fromBufferAttribute(this,t),sR.applyMatrix3(e),this.setXY(t,sR.x,sR.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Aa.fromBufferAttribute(this,t),Aa.applyMatrix3(e),this.setXYZ(t,Aa.x,Aa.y,Aa.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Aa.fromBufferAttribute(this,t),Aa.applyMatrix4(e),this.setXYZ(t,Aa.x,Aa.y,Aa.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Aa.fromBufferAttribute(this,t),Aa.applyNormalMatrix(e),this.setXYZ(t,Aa.x,Aa.y,Aa.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Aa.fromBufferAttribute(this,t),Aa.transformDirection(e),this.setXYZ(t,Aa.x,Aa.y,Aa.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Go(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Un(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Go(t,this.array)),t}setX(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Go(t,this.array)),t}setY(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Go(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Go(t,this.array)),t}setW(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array),a=Un(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==oC&&(e.usage=this.usage),e}}class OYe extends Mi{constructor(e,t,i){super(new Int8Array(e),t,i)}}class zYe extends Mi{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class kYe extends Mi{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class FYe extends Mi{constructor(e,t,i){super(new Int16Array(e),t,i)}}class Rj extends Mi{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class UYe extends Mi{constructor(e,t,i){super(new Int32Array(e),t,i)}}class Lj extends Mi{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class GYe extends Mi{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=g2(this.array[e*this.itemSize]);return this.normalized&&(t=Go(t,this.array)),t}setX(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize]=ol(t),this}getY(e){let t=g2(this.array[e*this.itemSize+1]);return this.normalized&&(t=Go(t,this.array)),t}setY(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+1]=ol(t),this}getZ(e){let t=g2(this.array[e*this.itemSize+2]);return this.normalized&&(t=Go(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+2]=ol(t),this}getW(e){let t=g2(this.array[e*this.itemSize+3]);return this.normalized&&(t=Go(t,this.array)),t}setW(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+3]=ol(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array)),this.array[e+0]=ol(t),this.array[e+1]=ol(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array)),this.array[e+0]=ol(t),this.array[e+1]=ol(i),this.array[e+2]=ol(r),this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array),a=Un(a,this.array)),this.array[e+0]=ol(t),this.array[e+1]=ol(i),this.array[e+2]=ol(r),this.array[e+3]=ol(a),this}}class Yt extends Mi{constructor(e,t,i){super(new Float32Array(e),t,i)}}let VYe=0;const Lu=new vn,xz=new _i,Q_=new le,Bl=new Is,VM=new Is,os=new le;class Rn extends Vh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:VYe++}),this.uuid=$l(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Vve(e)?Lj:Rj)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new kn().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Lu.makeRotationFromQuaternion(e),this.applyMatrix4(Lu),this}rotateX(e){return Lu.makeRotationX(e),this.applyMatrix4(Lu),this}rotateY(e){return Lu.makeRotationY(e),this.applyMatrix4(Lu),this}rotateZ(e){return Lu.makeRotationZ(e),this.applyMatrix4(Lu),this}translate(e,t,i){return Lu.makeTranslation(e,t,i),this.applyMatrix4(Lu),this}scale(e,t,i){return Lu.makeScale(e,t,i),this.applyMatrix4(Lu),this}lookAt(e){return xz.lookAt(e),xz.updateMatrix(),this.applyMatrix4(xz.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Q_).negate(),this.translate(Q_.x,Q_.y,Q_.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const s=e[r];i.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Yt(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const a=e[r];t.setXYZ(r,a.x,a.y,a.z||0)}e.length>t.count&&Lt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Is);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Cn("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new le(-1/0,-1/0,-1/0),new le(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const a=t[i];Bl.setFromBufferAttribute(a),this.morphTargetsRelative?(os.addVectors(this.boundingBox.min,Bl.min),this.boundingBox.expandByPoint(os),os.addVectors(this.boundingBox.max,Bl.max),this.boundingBox.expandByPoint(os)):(this.boundingBox.expandByPoint(Bl.min),this.boundingBox.expandByPoint(Bl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Cn('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ms);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Cn("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new le,1/0);return}if(e){const i=this.boundingSphere.center;if(Bl.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const o=t[a];VM.setFromBufferAttribute(o),this.morphTargetsRelative?(os.addVectors(Bl.min,VM.min),Bl.expandByPoint(os),os.addVectors(Bl.max,VM.max),Bl.expandByPoint(os)):(Bl.expandByPoint(VM.min),Bl.expandByPoint(VM.max))}Bl.getCenter(i);let r=0;for(let a=0,s=e.count;a<s;a++)os.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(os));if(t)for(let a=0,s=t.length;a<s;a++){const o=t[a],l=this.morphTargetsRelative;for(let u=0,c=o.count;u<c;u++)os.fromBufferAttribute(o,u),l&&(Q_.fromBufferAttribute(e,u),os.add(Q_)),r=Math.max(r,i.distanceToSquared(os))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&Cn('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Cn("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Mi(new Float32Array(4*i.count),4));const s=this.getAttribute("tangent"),o=[],l=[];for(let P=0;P<i.count;P++)o[P]=new le,l[P]=new le;const u=new le,c=new le,f=new le,h=new Ke,d=new Ke,v=new Ke,m=new le,y=new le;function x(P,I,N){u.fromBufferAttribute(i,P),c.fromBufferAttribute(i,I),f.fromBufferAttribute(i,N),h.fromBufferAttribute(a,P),d.fromBufferAttribute(a,I),v.fromBufferAttribute(a,N),c.sub(u),f.sub(u),d.sub(h),v.sub(h);const z=1/(d.x*v.y-v.x*d.y);isFinite(z)&&(m.copy(c).multiplyScalar(v.y).addScaledVector(f,-d.y).multiplyScalar(z),y.copy(f).multiplyScalar(d.x).addScaledVector(c,-v.x).multiplyScalar(z),o[P].add(m),o[I].add(m),o[N].add(m),l[P].add(y),l[I].add(y),l[N].add(y))}let b=this.groups;b.length===0&&(b=[{start:0,count:e.count}]);for(let P=0,I=b.length;P<I;++P){const N=b[P],z=N.start,V=N.count;for(let U=z,j=z+V;U<j;U+=3)x(e.getX(U+0),e.getX(U+1),e.getX(U+2))}const M=new le,C=new le,w=new le,E=new le;function L(P){w.fromBufferAttribute(r,P),E.copy(w);const I=o[P];M.copy(I),M.sub(w.multiplyScalar(w.dot(I))).normalize(),C.crossVectors(E,I);const z=C.dot(l[P])<0?-1:1;s.setXYZW(P,M.x,M.y,M.z,z)}for(let P=0,I=b.length;P<I;++P){const N=b[P],z=N.start,V=N.count;for(let U=z,j=z+V;U<j;U+=3)L(e.getX(U+0)),L(e.getX(U+1)),L(e.getX(U+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Mi(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let h=0,d=i.count;h<d;h++)i.setXYZ(h,0,0,0);const r=new le,a=new le,s=new le,o=new le,l=new le,u=new le,c=new le,f=new le;if(e)for(let h=0,d=e.count;h<d;h+=3){const v=e.getX(h+0),m=e.getX(h+1),y=e.getX(h+2);r.fromBufferAttribute(t,v),a.fromBufferAttribute(t,m),s.fromBufferAttribute(t,y),c.subVectors(s,a),f.subVectors(r,a),c.cross(f),o.fromBufferAttribute(i,v),l.fromBufferAttribute(i,m),u.fromBufferAttribute(i,y),o.add(c),l.add(c),u.add(c),i.setXYZ(v,o.x,o.y,o.z),i.setXYZ(m,l.x,l.y,l.z),i.setXYZ(y,u.x,u.y,u.z)}else for(let h=0,d=t.count;h<d;h+=3)r.fromBufferAttribute(t,h+0),a.fromBufferAttribute(t,h+1),s.fromBufferAttribute(t,h+2),c.subVectors(s,a),f.subVectors(r,a),c.cross(f),i.setXYZ(h+0,c.x,c.y,c.z),i.setXYZ(h+1,c.x,c.y,c.z),i.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)os.fromBufferAttribute(e,t),os.normalize(),e.setXYZ(t,os.x,os.y,os.z)}toNonIndexed(){function e(o,l){const u=o.array,c=o.itemSize,f=o.normalized,h=new u.constructor(l.length*c);let d=0,v=0;for(let m=0,y=l.length;m<y;m++){o.isInterleavedBufferAttribute?d=l[m]*o.data.stride+o.offset:d=l[m]*c;for(let x=0;x<c;x++)h[v++]=u[d++]}return new Mi(h,c,f)}if(this.index===null)return Lt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Rn,i=this.index.array,r=this.attributes;for(const o in r){const l=r[o],u=e(l,i);t.setAttribute(o,u)}const a=this.morphAttributes;for(const o in a){const l=[],u=a[o];for(let c=0,f=u.length;c<f;c++){const h=u[c],d=e(h,i);l.push(d)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const u=s[o];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let a=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,h=u.length;f<h;f++){const d=u[f];c.push(d.toJSON(e.data))}c.length>0&&(r[l]=c,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const u in r){const c=r[u];this.setAttribute(u,c.clone(t))}const a=e.morphAttributes;for(const u in a){const c=[],f=a[u];for(let h=0,d=f.length;h<d;h++)c.push(f[h].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let u=0,c=s.length;u<c;u++){const f=s[u];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const qee=new vn,h0=new nx,oR=new ms,Zee=new le,lR=new le,uR=new le,cR=new le,_z=new le,fR=new le,Kee=new le,hR=new le;let La=class extends _i{constructor(e=new Rn,t=new Kl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,s=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(a&&o){fR.set(0,0,0);for(let l=0,u=a.length;l<u;l++){const c=o[l],f=a[l];c!==0&&(_z.fromBufferAttribute(f,e),s?fR.addScaledVector(_z,c):fR.addScaledVector(_z.sub(t),c))}t.add(fR)}return t}raycast(e,t){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),oR.copy(i.boundingSphere),oR.applyMatrix4(a),h0.copy(e.ray).recast(e.near),!(oR.containsPoint(h0.origin)===!1&&(h0.intersectSphere(oR,Zee)===null||h0.origin.distanceToSquared(Zee)>(e.far-e.near)**2))&&(qee.copy(a).invert(),h0.copy(e.ray).applyMatrix4(qee),!(i.boundingBox!==null&&h0.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,h0)))}_computeIntersections(e,t,i){let r;const a=this.geometry,s=this.material,o=a.index,l=a.attributes.position,u=a.attributes.uv,c=a.attributes.uv1,f=a.attributes.normal,h=a.groups,d=a.drawRange;if(o!==null)if(Array.isArray(s))for(let v=0,m=h.length;v<m;v++){const y=h[v],x=s[y.materialIndex],b=Math.max(y.start,d.start),M=Math.min(o.count,Math.min(y.start+y.count,d.start+d.count));for(let C=b,w=M;C<w;C+=3){const E=o.getX(C),L=o.getX(C+1),P=o.getX(C+2);r=dR(this,x,e,i,u,c,f,E,L,P),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=y.materialIndex,t.push(r))}}else{const v=Math.max(0,d.start),m=Math.min(o.count,d.start+d.count);for(let y=v,x=m;y<x;y+=3){const b=o.getX(y),M=o.getX(y+1),C=o.getX(y+2);r=dR(this,s,e,i,u,c,f,b,M,C),r&&(r.faceIndex=Math.floor(y/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(s))for(let v=0,m=h.length;v<m;v++){const y=h[v],x=s[y.materialIndex],b=Math.max(y.start,d.start),M=Math.min(l.count,Math.min(y.start+y.count,d.start+d.count));for(let C=b,w=M;C<w;C+=3){const E=C,L=C+1,P=C+2;r=dR(this,x,e,i,u,c,f,E,L,P),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=y.materialIndex,t.push(r))}}else{const v=Math.max(0,d.start),m=Math.min(l.count,d.start+d.count);for(let y=v,x=m;y<x;y+=3){const b=y,M=y+1,C=y+2;r=dR(this,s,e,i,u,c,f,b,M,C),r&&(r.faceIndex=Math.floor(y/3),t.push(r))}}}};function jYe(n,e,t,i,r,a,s,o){let l;if(e.side===Xo?l=i.intersectTriangle(s,a,r,!0,o):l=i.intersectTriangle(r,a,s,e.side===zh,o),l===null)return null;hR.copy(o),hR.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(hR);return u<t.near||u>t.far?null:{distance:u,point:hR.clone(),object:n}}function dR(n,e,t,i,r,a,s,o,l,u){n.getVertexPosition(o,lR),n.getVertexPosition(l,uR),n.getVertexPosition(u,cR);const c=jYe(n,e,t,i,lR,uR,cR,Kee);if(c){const f=new le;Vv.getBarycoord(Kee,lR,uR,cR,f),r&&(c.uv=Vv.getInterpolatedAttribute(r,o,l,u,f,new Ke)),a&&(c.uv1=Vv.getInterpolatedAttribute(a,o,l,u,f,new Ke)),s&&(c.normal=Vv.getInterpolatedAttribute(s,o,l,u,f,new le),c.normal.dot(i.direction)>0&&c.normal.multiplyScalar(-1));const h={a:o,b:l,c:u,normal:new le,materialIndex:0};Vv.getNormal(lR,uR,cR,h.normal),c.face=h,c.barycoord=f}return c}class ix extends Rn{constructor(e=1,t=1,i=1,r=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:a,depthSegments:s};const o=this;r=Math.floor(r),a=Math.floor(a),s=Math.floor(s);const l=[],u=[],c=[],f=[];let h=0,d=0;v("z","y","x",-1,-1,i,t,e,s,a,0),v("z","y","x",1,-1,i,t,-e,s,a,1),v("x","z","y",1,1,e,i,t,r,s,2),v("x","z","y",1,-1,e,i,-t,r,s,3),v("x","y","z",1,-1,e,t,i,r,a,4),v("x","y","z",-1,-1,e,t,-i,r,a,5),this.setIndex(l),this.setAttribute("position",new Yt(u,3)),this.setAttribute("normal",new Yt(c,3)),this.setAttribute("uv",new Yt(f,2));function v(m,y,x,b,M,C,w,E,L,P,I){const N=C/L,z=w/P,V=C/2,U=w/2,j=E/2,W=L+1,G=P+1;let X=0,q=0;const $=new le;for(let te=0;te<G;te++){const J=te*z-U;for(let Q=0;Q<W;Q++){const se=Q*N-V;$[m]=se*b,$[y]=J*M,$[x]=j,u.push($.x,$.y,$.z),$[m]=0,$[y]=0,$[x]=E>0?1:-1,c.push($.x,$.y,$.z),f.push(Q/L),f.push(1-te/P),X+=1}}for(let te=0;te<P;te++)for(let J=0;J<L;J++){const Q=h+J+W*te,se=h+J+W*(te+1),ce=h+(J+1)+W*(te+1),ue=h+(J+1)+W*te;l.push(Q,se,ue),l.push(se,ce,ue),q+=6}o.addGroup(d,q,I),d+=q,h+=X}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ix(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ob(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(Lt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Bo(n){const e={};for(let t=0;t<n.length;t++){const i=Ob(n[t]);for(const r in i)e[r]=i[r]}return e}function HYe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function qve(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:gi.workingColorSpace}const Zve={clone:Ob,merge:Bo};var WYe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,XYe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class nc extends Wa{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=WYe,this.fragmentShader=XYe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ob(e.uniforms),this.uniformsGroups=HYe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?t.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[r]={type:"m4",value:s.toArray()}:t.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class wP extends _i{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new vn,this.projectionMatrix=new vn,this.projectionMatrixInverse=new vn,this.coordinateSystem=Zl,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Nv=new le,Jee=new Ke,Qee=new Ke;let qr=class extends wP{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Pb*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(_y*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Pb*2*Math.atan(Math.tan(_y*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Nv.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Nv.x,Nv.y).multiplyScalar(-e/Nv.z),Nv.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Nv.x,Nv.y).multiplyScalar(-e/Nv.z)}getViewSize(e,t){return this.getViewBounds(e,Jee,Qee),t.subVectors(Qee,Jee)}setViewOffset(e,t,i,r,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(_y*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,a=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,u=s.fullHeight;a+=s.offsetX*r/l,t-=s.offsetY*i/u,r*=s.width/l,i*=s.height/u}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const $_=-90,e1=1;class Kve extends _i{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new qr($_,e1,e,t);r.layers=this.layers,this.add(r);const a=new qr($_,e1,e,t);a.layers=this.layers,this.add(a);const s=new qr($_,e1,e,t);s.layers=this.layers,this.add(s);const o=new qr($_,e1,e,t);o.layers=this.layers,this.add(o);const l=new qr($_,e1,e,t);l.layers=this.layers,this.add(l);const u=new qr($_,e1,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,a,s,o,l]=t;for(const u of t)this.remove(u);if(e===Zl)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Nb)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,l,u,c]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,a),e.setRenderTarget(i,1,r),e.render(t,s),e.setRenderTarget(i,2,r),e.render(t,o),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,u),i.texture.generateMipmaps=m,e.setRenderTarget(i,5,r),e.render(t,c),e.setRenderTarget(f,h,d),e.xr.enabled=v,i.texture.needsPMREMUpdate=!0}}class QC extends Mr{constructor(e=[],t=wp,i,r,a,s,o,l,u,c){super(e,t,i,r,a,s,o,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Jve extends lf{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new QC(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new ix(5,5,5),a=new nc({name:"CubemapFromEquirect",uniforms:Ob(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Xo,blending:wh});a.uniforms.tEquirect.value=t;const s=new La(r,a),o=t.minFilter;return t.minFilter===Yu&&(t.minFilter=hr),new Kve(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,i,r);e.setRenderTarget(a)}}class ep extends _i{constructor(){super(),this.isGroup=!0,this.type="Group"}}const YYe={type:"move"};class N3{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ep,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ep,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new le,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new le),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ep,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new le,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new le),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,a=null,s=null;const o=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){s=!0;for(const m of e.hand.values()){const y=t.getJointPose(m,i),x=this._getHandJoint(u,m);y!==null&&(x.matrix.fromArray(y.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=y.radius),x.visible=y!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=c.position.distanceTo(f.position),d=.02,v=.005;u.inputState.pinching&&h>d+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=d-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,i),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(YYe)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=a!==null),u!==null&&(u.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new ep;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class EP{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Et(e),this.density=t}clone(){return new EP(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class DP{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Et(e),this.near=t,this.far=i}clone(){return new DP(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Nj extends _i{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new uf,this.environmentIntensity=1,this.environmentRotation=new uf,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class $C{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=oC,this.updateRanges=[],this.version=0,this.uuid=$l()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=$l()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=$l()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Po=new le;class Rm{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Po.fromBufferAttribute(this,t),Po.applyMatrix4(e),this.setXYZ(t,Po.x,Po.y,Po.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Po.fromBufferAttribute(this,t),Po.applyNormalMatrix(e),this.setXYZ(t,Po.x,Po.y,Po.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Po.fromBufferAttribute(this,t),Po.transformDirection(e),this.setXYZ(t,Po.x,Po.y,Po.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Go(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Un(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Un(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Un(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Un(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Un(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Go(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Go(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Go(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Go(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array),a=Un(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){uC("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new Mi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Rm(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){uC("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Ij extends Wa{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Et(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let t1;const jM=new le,n1=new le,i1=new le,r1=new Ke,HM=new Ke,Qve=new vn,pR=new le,WM=new le,vR=new le,$ee=new Ke,bz=new Ke,ete=new Ke;class $ve extends _i{constructor(e=new Ij){if(super(),this.isSprite=!0,this.type="Sprite",t1===void 0){t1=new Rn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new $C(t,5);t1.setIndex([0,1,2,0,2,3]),t1.setAttribute("position",new Rm(i,3,0,!1)),t1.setAttribute("uv",new Rm(i,2,3,!1))}this.geometry=t1,this.material=e,this.center=new Ke(.5,.5),this.count=1}raycast(e,t){e.camera===null&&Cn('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),n1.setFromMatrixScale(this.matrixWorld),Qve.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),i1.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&n1.multiplyScalar(-i1.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const s=this.center;mR(pR.set(-.5,-.5,0),i1,s,n1,r,a),mR(WM.set(.5,-.5,0),i1,s,n1,r,a),mR(vR.set(.5,.5,0),i1,s,n1,r,a),$ee.set(0,0),bz.set(1,0),ete.set(1,1);let o=e.ray.intersectTriangle(pR,WM,vR,!1,jM);if(o===null&&(mR(WM.set(-.5,.5,0),i1,s,n1,r,a),bz.set(0,1),o=e.ray.intersectTriangle(pR,vR,WM,!1,jM),o===null))return;const l=e.ray.origin.distanceTo(jM);l<e.near||l>e.far||t.push({distance:l,point:jM.clone(),uv:Vv.getInterpolation(jM,pR,WM,vR,$ee,bz,ete,new Ke),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function mR(n,e,t,i,r,a){r1.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(HM.x=a*r1.x-r*r1.y,HM.y=r*r1.x+a*r1.y):HM.copy(r1),n.copy(e),n.x+=HM.x,n.y+=HM.y,n.applyMatrix4(Qve)}const gR=new le,tte=new le;class eme extends _i{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const a=t[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let a;for(a=0;a<r.length&&!(t<r[a].distance);a++);return r.splice(a,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),e<a)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){gR.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(gR);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){gR.setFromMatrixPosition(e.matrixWorld),tte.setFromMatrixPosition(this.matrixWorld);const i=gR.distanceTo(tte)/e.zoom;t[0].object.visible=!0;let r,a;for(r=1,a=t.length;r<a;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),i>=s)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const s=i[r];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const nte=new le,ite=new Ai,rte=new Ai,qYe=new le,ate=new vn,yR=new le,Sz=new ms,ste=new vn,Az=new nx;class Pj extends La{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=z8,this.bindMatrix=new vn,this.bindMatrixInverse=new vn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Is),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,yR),this.boundingBox.expandByPoint(yR)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ms),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,yR),this.boundingSphere.expandByPoint(yR)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Sz.copy(this.boundingSphere),Sz.applyMatrix4(r),e.ray.intersectsSphere(Sz)!==!1&&(ste.copy(r).invert(),Az.copy(e.ray).applyMatrix4(ste),!(this.boundingBox!==null&&Az.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,Az)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ai,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===z8?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===wve?this.bindMatrixInverse.copy(this.bindMatrix).invert():Lt("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;ite.fromBufferAttribute(r.attributes.skinIndex,e),rte.fromBufferAttribute(r.attributes.skinWeight,e),nte.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=rte.getComponent(a);if(s!==0){const o=ite.getComponent(a);ate.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),t.addScaledVector(qYe.copy(nte).applyMatrix4(ate),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class RP extends _i{constructor(){super(),this.isBone=!0,this.type="Bone"}}class tf extends Mr{constructor(e=null,t=1,i=1,r,a,s,o,l,u=ps,c=ps,f,h){super(null,s,o,l,u,c,r,a,f,h),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ote=new vn,ZYe=new vn;class ew{constructor(e=[],t=[]){this.uuid=$l(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){Lt("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new vn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new vn;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:ZYe;ote.multiplyMatrices(o,t[a]),ote.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new ew(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new tf(t,e,e,lo,Ho);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let s=t[a];s===void 0&&(Lt("Skeleton: No bone found with UUID:",a),s=new RP),this.bones.push(s),this.boneInverses.push(new vn().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,a=t.length;r<a;r++){const s=t[r];e.bones.push(s.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class Uy extends Mi{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const a1=new vn,lte=new vn,xR=[],ute=new Is,KYe=new vn,XM=new La,YM=new ms;class Bj extends La{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Uy(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,KYe)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Is),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,a1),ute.copy(e.boundingBox).applyMatrix4(a1),this.boundingBox.union(ute)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new ms),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,a1),YM.copy(e.boundingSphere).applyMatrix4(a1),this.boundingSphere.union(YM)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,s=e*a+1;for(let o=0;o<i.length;o++)i[o]=r[s+o]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(XM.geometry=this.geometry,XM.material=this.material,XM.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),YM.copy(this.boundingSphere),YM.applyMatrix4(i),e.ray.intersectsSphere(YM)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,a1),lte.multiplyMatrices(i,a1),XM.matrixWorld=lte,XM.raycast(e,xR);for(let s=0,o=xR.length;s<o;s++){const l=xR[s];l.instanceId=a,l.object=this,t.push(l)}xR.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Uy(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new tf(new Float32Array(r*this.count),r,this.count,_P,Ho));const a=this.morphTexture.source.data.data;let s=0;for(let u=0;u<i.length;u++)s+=i[u];const o=this.geometry.morphTargetsRelative?1:1-s,l=r*e;a[l]=o,a.set(i,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const Mz=new le,JYe=new le,QYe=new kn;class Wd{constructor(e=new le(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=Mz.subVectors(i,t).cross(JYe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(Mz),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||QYe.getNormalMatrix(e),r=this.coplanarPoint(Mz).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const d0=new ms,$Ye=new Ke(.5,.5),_R=new le;class bS{constructor(e=new Wd,t=new Wd,i=new Wd,r=new Wd,a=new Wd,s=new Wd){this.planes=[e,t,i,r,a,s]}set(e,t,i,r,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(a),o[5].copy(s),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Zl,i=!1){const r=this.planes,a=e.elements,s=a[0],o=a[1],l=a[2],u=a[3],c=a[4],f=a[5],h=a[6],d=a[7],v=a[8],m=a[9],y=a[10],x=a[11],b=a[12],M=a[13],C=a[14],w=a[15];if(r[0].setComponents(u-s,d-c,x-v,w-b).normalize(),r[1].setComponents(u+s,d+c,x+v,w+b).normalize(),r[2].setComponents(u+o,d+f,x+m,w+M).normalize(),r[3].setComponents(u-o,d-f,x-m,w-M).normalize(),i)r[4].setComponents(l,h,y,C).normalize(),r[5].setComponents(u-l,d-h,x-y,w-C).normalize();else if(r[4].setComponents(u-l,d-h,x-y,w-C).normalize(),t===Zl)r[5].setComponents(u+l,d+h,x+y,w+C).normalize();else if(t===Nb)r[5].setComponents(l,h,y,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),d0.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),d0.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(d0)}intersectsSprite(e){d0.center.set(0,0,0);const t=$Ye.distanceTo(e.center);return d0.radius=.7071067811865476+t,d0.applyMatrix4(e.matrixWorld),this.intersectsSphere(d0)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(_R.x=r.normal.x>0?e.max.x:e.min.x,_R.y=r.normal.y>0?e.max.y:e.min.y,_R.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(_R)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const nh=new vn,ih=new bS;class LP{constructor(){this.coordinateSystem=Zl}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(nh.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ih.setFromProjectionMatrix(nh,r.coordinateSystem,r.reversedDepth),ih.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(nh.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ih.setFromProjectionMatrix(nh,r.coordinateSystem,r.reversedDepth),ih.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(nh.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ih.setFromProjectionMatrix(nh,r.coordinateSystem,r.reversedDepth),ih.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(nh.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ih.setFromProjectionMatrix(nh,r.coordinateSystem,r.reversedDepth),ih.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(nh.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ih.setFromProjectionMatrix(nh,r.coordinateSystem,r.reversedDepth),ih.containsPoint(e))return!0}return!1}clone(){return new LP}}function Tz(n,e){return n-e}function eqe(n,e){return n.z-e.z}function tqe(n,e){return e.z-n.z}class nqe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const o=a[this.index];s.push(o),this.index++,o.start=e,o.count=t,o.z=i,o.index=r}reset(){this.list.length=0,this.index=0}}const sl=new vn,iqe=new Et(1,1,1),cte=new bS,rqe=new LP,bR=new Is,p0=new ms,qM=new le,fte=new le,aqe=new le,Cz=new nqe,to=new La,SR=[];function sqe(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let a=0;a<r;a++)for(let s=0;s<i;s++)e.setComponent(a+t,s,n.getComponent(a,s))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function v0(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class tme extends La{constructor(e,t,i=t*2,r){super(new Rn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new tf(t,e,e,lo,Ho);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new tf(t,e,e,JC,Ep);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new tf(t,e,e,lo,Ho);i.colorSpace=gi.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:o,itemSize:l,normalized:u}=s,c=new o.constructor(i*l),f=new Mi(c,l,u);t.setAttribute(a,f)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Mi(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=t.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Is);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,sl),this.getBoundingBoxAt(a,bR).applyMatrix4(sl),e.union(bR)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ms);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,sl),this.getBoundingSphereAt(a,p0).applyMatrix4(sl),e.union(p0)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(Tz),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;sl.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(iqe.toArray(s.image.data,r*4),s.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?s.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Tz),l=this._availableGeometryIds.shift(),a[l]=r):(l=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),s=t.getIndex(),o=this._geometryInfo[e];if(r&&s.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,u=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const c in i.attributes){const f=t.getAttribute(c),h=i.getAttribute(c);sqe(f,h,l);const d=f.itemSize;for(let v=f.count,m=u;v<m;v++){const y=l+v;for(let x=0;x<d;x++)h.setComponent(y,x,0)}h.needsUpdate=!0,h.addUpdateRange(l*d,u*d)}if(r){const c=o.indexStart,f=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let h=0;h<s.count;h++)a.setX(c+h,l+s.getX(h));for(let h=s.count,d=f;h<d;h++)a.setX(c+h,l);a.needsUpdate=!0,a.addUpdateRange(c,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((s,o)=>o).sort((s,o)=>i[s].vertexStart-i[o].vertexStart),a=this.geometry;for(let s=0,o=i.length;s<o;s++){const l=r[s],u=i[l];if(u.active!==!1){if(a.index!==null){if(u.indexStart!==t){const{indexStart:c,vertexStart:f,reservedIndexCount:h}=u,d=a.index,v=d.array,m=e-f;for(let y=c;y<c+h;y++)v[y]=v[y]+m;d.array.copyWithin(t,c,c+h),d.addUpdateRange(t,h),u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:c,reservedVertexCount:f}=u,h=a.attributes;for(const d in h){const v=h[d],{array:m,itemSize:y}=v;m.copyWithin(e*y,c*y,(c+f)*y),v.addUpdateRange(e*y,f*y)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=a.index?u.indexStart:u.vertexStart,this._nextIndexStart=a.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new Is,s=i.index,o=i.attributes.position;for(let l=r.start,u=r.start+r.count;l<u;l++){let c=l;s&&(c=s.getX(c)),a.expandByPoint(qM.fromBufferAttribute(o,c))}r.boundingBox=a}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new ms;this.getBoundingBoxAt(e,bR),bR.getCenter(a.center);const s=i.index,o=i.attributes.position;let l=0;for(let u=r.start,c=r.start+r.count;u<c;u++){let f=u;s&&(f=s.getX(f)),qM.fromBufferAttribute(o,f),l=Math.max(l,a.center.distanceToSquared(qM))}a.radius=Math.sqrt(l),r.boundingSphere=a}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(Tz);t[t.length-1]===i.length-1;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);v0(this._multiDrawCounts,r),v0(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;s.dispose(),this._initIndirectTexture(),v0(s.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),v0(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),v0(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Rn,this._initializeGeometry(a));const s=this.geometry;a.index&&v0(a.index.array,s.index.array);for(const o in a.attributes)v0(a.attributes[o].array,s.attributes[o].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,s=this.geometry;to.material=this.material,to.geometry.index=s.index,to.geometry.attributes=s.attributes,to.geometry.boundingBox===null&&(to.geometry.boundingBox=new Is),to.geometry.boundingSphere===null&&(to.geometry.boundingSphere=new ms);for(let o=0,l=i.length;o<l;o++){if(!i[o].visible||!i[o].active)continue;const u=i[o].geometryIndex,c=r[u];to.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(o,to.matrixWorld).premultiply(a),this.getBoundingBoxAt(u,to.geometry.boundingBox),this.getBoundingSphereAt(u,to.geometry.boundingSphere),to.raycast(e,SR);for(let f=0,h=SR.length;f<h;f++){const d=SR[f];d.object=this,d.batchId=o,t.push(d)}SR.length=0}to.material=null,to.geometry.index=null,to.geometry.attributes={},to.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=r.getIndex(),o=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,c=this._multiDrawCounts,f=this._geometryInfo,h=this.perObjectFrustumCulled,d=this._indirectTexture,v=d.image.data,m=i.isArrayCamera?rqe:cte;h&&!i.isArrayCamera&&(sl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),cte.setFromProjectionMatrix(sl,i.coordinateSystem,i.reversedDepth));let y=0;if(this.sortObjects){sl.copy(this.matrixWorld).invert(),qM.setFromMatrixPosition(i.matrixWorld).applyMatrix4(sl),fte.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(sl);for(let M=0,C=l.length;M<C;M++)if(l[M].visible&&l[M].active){const w=l[M].geometryIndex;this.getMatrixAt(M,sl),this.getBoundingSphereAt(w,p0).applyMatrix4(sl);let E=!1;if(h&&(E=!m.intersectsSphere(p0,i)),!E){const L=f[w],P=aqe.subVectors(p0.center,qM).dot(fte);Cz.push(L.start,L.count,P,M)}}const x=Cz.list,b=this.customSort;b===null?x.sort(a.transparent?tqe:eqe):b.call(this,x,i);for(let M=0,C=x.length;M<C;M++){const w=x[M];u[y]=w.start*o,c[y]=w.count,v[y]=w.index,y++}Cz.reset()}else for(let x=0,b=l.length;x<b;x++)if(l[x].visible&&l[x].active){const M=l[x].geometryIndex;let C=!1;if(h&&(this.getMatrixAt(x,sl),this.getBoundingSphereAt(M,p0).applyMatrix4(sl),C=!m.intersectsSphere(p0,i)),!C){const w=f[M];u[y]=w.start*o,c[y]=w.count,v[y]=x,y++}}d.needsUpdate=!0,this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,a,s){this.onBeforeRender(e,null,r,a,s)}}class ho extends Wa{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Et(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const JN=new le,QN=new le,hte=new vn,ZM=new nx,AR=new ms,wz=new le,dte=new le;class Dp extends _i{constructor(e=new Rn,t=new ho){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,a=t.count;r<a;r++)JN.fromBufferAttribute(t,r-1),QN.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=JN.distanceTo(QN);e.setAttribute("lineDistance",new Yt(i,1))}else Lt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),AR.copy(i.boundingSphere),AR.applyMatrix4(r),AR.radius+=a,e.ray.intersectsSphere(AR)===!1)return;hte.copy(r).invert(),ZM.copy(e.ray).applyMatrix4(hte);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=this.isLineSegments?2:1,c=i.index,h=i.attributes.position;if(c!==null){const d=Math.max(0,s.start),v=Math.min(c.count,s.start+s.count);for(let m=d,y=v-1;m<y;m+=u){const x=c.getX(m),b=c.getX(m+1),M=MR(this,e,ZM,l,x,b,m);M&&t.push(M)}if(this.isLineLoop){const m=c.getX(v-1),y=c.getX(d),x=MR(this,e,ZM,l,m,y,v-1);x&&t.push(x)}}else{const d=Math.max(0,s.start),v=Math.min(h.count,s.start+s.count);for(let m=d,y=v-1;m<y;m+=u){const x=MR(this,e,ZM,l,m,m+1,m);x&&t.push(x)}if(this.isLineLoop){const m=MR(this,e,ZM,l,v-1,d,v-1);m&&t.push(m)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function MR(n,e,t,i,r,a,s){const o=n.geometry.attributes.position;if(JN.fromBufferAttribute(o,r),QN.fromBufferAttribute(o,a),t.distanceSqToSegment(JN,QN,wz,dte)>i)return;wz.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(wz);if(!(u<e.near||u>e.far))return{distance:u,point:dte.clone().applyMatrix4(n.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:n}}const pte=new le,vte=new le;class pf extends Dp{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,a=t.count;r<a;r+=2)pte.fromBufferAttribute(t,r),vte.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+pte.distanceTo(vte);e.setAttribute("lineDistance",new Yt(i,1))}else Lt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Oj extends Dp{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class NP extends Wa{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const mte=new vn,U8=new nx,TR=new ms,CR=new le;class zj extends _i{constructor(e=new Rn,t=new NP){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),TR.copy(i.boundingSphere),TR.applyMatrix4(r),TR.radius+=a,e.ray.intersectsSphere(TR)===!1)return;mte.copy(r).invert(),U8.copy(e.ray).applyMatrix4(mte);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=i.index,f=i.attributes.position;if(u!==null){const h=Math.max(0,s.start),d=Math.min(u.count,s.start+s.count);for(let v=h,m=d;v<m;v++){const y=u.getX(v);CR.fromBufferAttribute(f,y),gte(CR,y,l,r,e,t,this)}}else{const h=Math.max(0,s.start),d=Math.min(f.count,s.start+s.count);for(let v=h,m=d;v<m;v++)CR.fromBufferAttribute(f,v),gte(CR,v,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function gte(n,e,t,i,r,a,s){const o=U8.distanceSqToPoint(n);if(o<t){const l=new le;U8.closestPointToPoint(n,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;a.push({distance:u,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class nme extends Mr{constructor(e,t,i,r,a=hr,s=hr,o,l,u){super(e,t,i,r,a,s,o,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const c=this;function f(){c.needsUpdate=!0,c._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class oqe extends nme{constructor(e,t,i,r,a,s,o,l){super({},e,t,i,r,a,s,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class lqe extends Mr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=ps,this.minFilter=ps,this.generateMipmaps=!1,this.needsUpdate=!0}}class IP extends Mr{constructor(e,t,i,r,a,s,o,l,u,c,f,h){super(null,s,o,l,u,c,r,a,f,h),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class uqe extends IP{constructor(e,t,i,r,a,s){super(e,t,i,a,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=jo,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class cqe extends IP{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,wp),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class fqe extends Mr{constructor(e,t,i,r,a,s,o,l,u){super(e,t,i,r,a,s,o,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class PP extends Mr{constructor(e,t,i=Ep,r,a,s,o=ps,l=ps,u,c=Eb,f=1){if(c!==Eb&&c!==Db)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const h={width:e,height:t,depth:f};super(h,r,a,s,o,l,c,i,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new em(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class kj extends Mr{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class BP extends Rn{constructor(e=1,t=1,i=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:a},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const s=[],o=[],l=[],u=[],c=t/2,f=Math.PI/2*e,h=t,d=2*f+h,v=i*2+a,m=r+1,y=new le,x=new le;for(let b=0;b<=v;b++){let M=0,C=0,w=0,E=0;if(b<=i){const I=b/i,N=I*Math.PI/2;C=-c-e*Math.cos(N),w=e*Math.sin(N),E=-e*Math.cos(N),M=I*f}else if(b<=i+a){const I=(b-i)/a;C=-c+I*t,w=e,E=0,M=f+I*h}else{const I=(b-i-a)/i,N=I*Math.PI/2;C=c+e*Math.sin(N),w=e*Math.cos(N),E=e*Math.sin(N),M=f+h+I*f}const L=Math.max(0,Math.min(1,M/d));let P=0;b===0?P=.5/r:b===v&&(P=-.5/r);for(let I=0;I<=r;I++){const N=I/r,z=N*Math.PI*2,V=Math.sin(z),U=Math.cos(z);x.x=-w*U,x.y=C,x.z=w*V,o.push(x.x,x.y,x.z),y.set(-w*U,E,w*V),y.normalize(),l.push(y.x,y.y,y.z),u.push(N+P,L)}if(b>0){const I=(b-1)*m;for(let N=0;N<r;N++){const z=I+N,V=I+N+1,U=b*m+N,j=b*m+N+1;s.push(z,V,U),s.push(V,j,U)}}}this.setIndex(s),this.setAttribute("position",new Yt(o,3)),this.setAttribute("normal",new Yt(l,3)),this.setAttribute("uv",new Yt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BP(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class OP extends Rn{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const a=[],s=[],o=[],l=[],u=new le,c=new Ke;s.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=t;f++,h+=3){const d=i+f/t*r;u.x=e*Math.cos(d),u.y=e*Math.sin(d),s.push(u.x,u.y,u.z),o.push(0,0,1),c.x=(s[h]/e+1)/2,c.y=(s[h+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=t;f++)a.push(f,f+1,0);this.setIndex(a),this.setAttribute("position",new Yt(s,3)),this.setAttribute("normal",new Yt(o,3)),this.setAttribute("uv",new Yt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new OP(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class tw extends Rn{constructor(e=1,t=1,i=1,r=32,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const u=this;r=Math.floor(r),a=Math.floor(a);const c=[],f=[],h=[],d=[];let v=0;const m=[],y=i/2;let x=0;b(),s===!1&&(e>0&&M(!0),t>0&&M(!1)),this.setIndex(c),this.setAttribute("position",new Yt(f,3)),this.setAttribute("normal",new Yt(h,3)),this.setAttribute("uv",new Yt(d,2));function b(){const C=new le,w=new le;let E=0;const L=(t-e)/i;for(let P=0;P<=a;P++){const I=[],N=P/a,z=N*(t-e)+e;for(let V=0;V<=r;V++){const U=V/r,j=U*l+o,W=Math.sin(j),G=Math.cos(j);w.x=z*W,w.y=-N*i+y,w.z=z*G,f.push(w.x,w.y,w.z),C.set(W,L,G).normalize(),h.push(C.x,C.y,C.z),d.push(U,1-N),I.push(v++)}m.push(I)}for(let P=0;P<r;P++)for(let I=0;I<a;I++){const N=m[I][P],z=m[I+1][P],V=m[I+1][P+1],U=m[I][P+1];(e>0||I!==0)&&(c.push(N,z,U),E+=3),(t>0||I!==a-1)&&(c.push(z,V,U),E+=3)}u.addGroup(x,E,0),x+=E}function M(C){const w=v,E=new Ke,L=new le;let P=0;const I=C===!0?e:t,N=C===!0?1:-1;for(let V=1;V<=r;V++)f.push(0,y*N,0),h.push(0,N,0),d.push(.5,.5),v++;const z=v;for(let V=0;V<=r;V++){const j=V/r*l+o,W=Math.cos(j),G=Math.sin(j);L.x=I*G,L.y=y*N,L.z=I*W,f.push(L.x,L.y,L.z),h.push(0,N,0),E.x=W*.5+.5,E.y=G*.5*N+.5,d.push(E.x,E.y),v++}for(let V=0;V<r;V++){const U=w+V,j=z+V;C===!0?c.push(j,j+1,U):c.push(j+1,j,U),P+=3}u.addGroup(x,P,C===!0?1:2),x+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tw(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class nw extends tw{constructor(e=1,t=1,i=32,r=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,i,r,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new nw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Gm extends Rn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const a=[],s=[];o(r),u(i),c(),this.setAttribute("position",new Yt(a,3)),this.setAttribute("normal",new Yt(a.slice(),3)),this.setAttribute("uv",new Yt(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(b){const M=new le,C=new le,w=new le;for(let E=0;E<t.length;E+=3)d(t[E+0],M),d(t[E+1],C),d(t[E+2],w),l(M,C,w,b)}function l(b,M,C,w){const E=w+1,L=[];for(let P=0;P<=E;P++){L[P]=[];const I=b.clone().lerp(C,P/E),N=M.clone().lerp(C,P/E),z=E-P;for(let V=0;V<=z;V++)V===0&&P===E?L[P][V]=I:L[P][V]=I.clone().lerp(N,V/z)}for(let P=0;P<E;P++)for(let I=0;I<2*(E-P)-1;I++){const N=Math.floor(I/2);I%2===0?(h(L[P][N+1]),h(L[P+1][N]),h(L[P][N])):(h(L[P][N+1]),h(L[P+1][N+1]),h(L[P+1][N]))}}function u(b){const M=new le;for(let C=0;C<a.length;C+=3)M.x=a[C+0],M.y=a[C+1],M.z=a[C+2],M.normalize().multiplyScalar(b),a[C+0]=M.x,a[C+1]=M.y,a[C+2]=M.z}function c(){const b=new le;for(let M=0;M<a.length;M+=3){b.x=a[M+0],b.y=a[M+1],b.z=a[M+2];const C=y(b)/2/Math.PI+.5,w=x(b)/Math.PI+.5;s.push(C,1-w)}v(),f()}function f(){for(let b=0;b<s.length;b+=6){const M=s[b+0],C=s[b+2],w=s[b+4],E=Math.max(M,C,w),L=Math.min(M,C,w);E>.9&&L<.1&&(M<.2&&(s[b+0]+=1),C<.2&&(s[b+2]+=1),w<.2&&(s[b+4]+=1))}}function h(b){a.push(b.x,b.y,b.z)}function d(b,M){const C=b*3;M.x=e[C+0],M.y=e[C+1],M.z=e[C+2]}function v(){const b=new le,M=new le,C=new le,w=new le,E=new Ke,L=new Ke,P=new Ke;for(let I=0,N=0;I<a.length;I+=9,N+=6){b.set(a[I+0],a[I+1],a[I+2]),M.set(a[I+3],a[I+4],a[I+5]),C.set(a[I+6],a[I+7],a[I+8]),E.set(s[N+0],s[N+1]),L.set(s[N+2],s[N+3]),P.set(s[N+4],s[N+5]),w.copy(b).add(M).add(C).divideScalar(3);const z=y(w);m(E,N+0,b,z),m(L,N+2,M,z),m(P,N+4,C,z)}}function m(b,M,C,w){w<0&&b.x===1&&(s[M]=b.x-1),C.x===0&&C.z===0&&(s[M]=w/2/Math.PI+.5)}function y(b){return Math.atan2(b.z,-b.x)}function x(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gm(e.vertices,e.indices,e.radius,e.details)}}class zP extends Gm{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new zP(e.radius,e.detail)}}const wR=new le,ER=new le,Ez=new le,DR=new Vv;class ime extends Rn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),a=Math.cos(_y*t),s=e.getIndex(),o=e.getAttribute("position"),l=s?s.count:o.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),h={},d=[];for(let v=0;v<l;v+=3){s?(u[0]=s.getX(v),u[1]=s.getX(v+1),u[2]=s.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:m,b:y,c:x}=DR;if(m.fromBufferAttribute(o,u[0]),y.fromBufferAttribute(o,u[1]),x.fromBufferAttribute(o,u[2]),DR.getNormal(Ez),f[0]=`${Math.round(m.x*r)},${Math.round(m.y*r)},${Math.round(m.z*r)}`,f[1]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,f[2]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let b=0;b<3;b++){const M=(b+1)%3,C=f[b],w=f[M],E=DR[c[b]],L=DR[c[M]],P=`${C}_${w}`,I=`${w}_${C}`;I in h&&h[I]?(Ez.dot(h[I].normal)<=a&&(d.push(E.x,E.y,E.z),d.push(L.x,L.y,L.z)),h[I]=null):P in h||(h[P]={index0:u[b],index1:u[M],normal:Ez.clone()})}}for(const v in h)if(h[v]){const{index0:m,index1:y}=h[v];wR.fromBufferAttribute(o,m),ER.fromBufferAttribute(o,y),d.push(wR.x,wR.y,wR.z),d.push(ER.x,ER.y,ER.z)}this.setAttribute("position",new Yt(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class vf{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Lt("Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)i=this.getPoint(s/e),a+=i.distanceTo(r),t.push(a),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const a=i.length;let s;t?s=t:s=e*i[a-1];let o=0,l=a-1,u;for(;o<=l;)if(r=Math.floor(o+(l-o)/2),u=i[r]-s,u<0)o=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===s)return r/(a-1);const c=i[r],h=i[r+1]-c,d=(s-c)/h;return(r+d)/(a-1)}getTangent(e,t){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const s=this.getPoint(r),o=this.getPoint(a),l=t||(s.isVector2?new Ke:new le);return l.copy(o).sub(s).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new le,r=[],a=[],s=[],o=new le,l=new vn;for(let d=0;d<=e;d++){const v=d/e;r[d]=this.getTangentAt(v,new le)}a[0]=new le,s[0]=new le;let u=Number.MAX_VALUE;const c=Math.abs(r[0].x),f=Math.abs(r[0].y),h=Math.abs(r[0].z);c<=u&&(u=c,i.set(1,0,0)),f<=u&&(u=f,i.set(0,1,0)),h<=u&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],o),s[0].crossVectors(r[0],a[0]);for(let d=1;d<=e;d++){if(a[d]=a[d-1].clone(),s[d]=s[d-1].clone(),o.crossVectors(r[d-1],r[d]),o.length()>Number.EPSILON){o.normalize();const v=Math.acos(bn(r[d-1].dot(r[d]),-1,1));a[d].applyMatrix4(l.makeRotationAxis(o,v))}s[d].crossVectors(r[d],a[d])}if(t===!0){let d=Math.acos(bn(a[0].dot(a[e]),-1,1));d/=e,r[0].dot(o.crossVectors(a[0],a[e]))>0&&(d=-d);for(let v=1;v<=e;v++)a[v].applyMatrix4(l.makeRotationAxis(r[v],d*v)),s[v].crossVectors(r[v],a[v])}return{tangents:r,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class kP extends vf{constructor(e=0,t=0,i=1,r=1,a=0,s=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=l}getPoint(e,t=new Ke){const i=t,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(s?a=0:a=r),this.aClockwise===!0&&!s&&(a===r?a=-r:a=a-r);const o=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,d=u-this.aY;l=h*c-d*f+this.aX,u=h*f+d*c+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class rme extends kP{constructor(e,t,i,r,a,s){super(e,t,i,i,r,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function Fj(){let n=0,e=0,t=0,i=0;function r(a,s,o,l){n=a,e=o,t=-3*a+3*s-2*o-l,i=2*a-2*s+o+l}return{initCatmullRom:function(a,s,o,l,u){r(s,o,u*(o-a),u*(l-s))},initNonuniformCatmullRom:function(a,s,o,l,u,c,f){let h=(s-a)/u-(o-a)/(u+c)+(o-s)/c,d=(o-s)/c-(l-s)/(c+f)+(l-o)/f;h*=c,d*=c,r(s,o,h,d)},calc:function(a){const s=a*a,o=s*a;return n+e*a+t*s+i*o}}}const RR=new le,Dz=new Fj,Rz=new Fj,Lz=new Fj;class ame extends vf{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new le){const i=t,r=this.points,a=r.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:l===0&&o===a-1&&(o=a-2,l=1);let u,c;this.closed||o>0?u=r[(o-1)%a]:(RR.subVectors(r[0],r[1]).add(r[0]),u=RR);const f=r[o%a],h=r[(o+1)%a];if(this.closed||o+2<a?c=r[(o+2)%a]:(RR.subVectors(r[a-1],r[a-2]).add(r[a-1]),c=RR),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(f),d),m=Math.pow(f.distanceToSquared(h),d),y=Math.pow(h.distanceToSquared(c),d);m<1e-4&&(m=1),v<1e-4&&(v=m),y<1e-4&&(y=m),Dz.initNonuniformCatmullRom(u.x,f.x,h.x,c.x,v,m,y),Rz.initNonuniformCatmullRom(u.y,f.y,h.y,c.y,v,m,y),Lz.initNonuniformCatmullRom(u.z,f.z,h.z,c.z,v,m,y)}else this.curveType==="catmullrom"&&(Dz.initCatmullRom(u.x,f.x,h.x,c.x,this.tension),Rz.initCatmullRom(u.y,f.y,h.y,c.y,this.tension),Lz.initCatmullRom(u.z,f.z,h.z,c.z,this.tension));return i.set(Dz.calc(l),Rz.calc(l),Lz.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new le().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function yte(n,e,t,i,r){const a=(i-e)*.5,s=(r-t)*.5,o=n*n,l=n*o;return(2*t-2*i+a+s)*l+(-3*t+3*i-2*a-s)*o+a*n+t}function hqe(n,e){const t=1-n;return t*t*e}function dqe(n,e){return 2*(1-n)*n*e}function pqe(n,e){return n*n*e}function iT(n,e,t,i){return hqe(n,e)+dqe(n,t)+pqe(n,i)}function vqe(n,e){const t=1-n;return t*t*t*e}function mqe(n,e){const t=1-n;return 3*t*t*n*e}function gqe(n,e){return 3*(1-n)*n*n*e}function yqe(n,e){return n*n*n*e}function rT(n,e,t,i,r){return vqe(n,e)+mqe(n,t)+gqe(n,i)+yqe(n,r)}class Uj extends vf{constructor(e=new Ke,t=new Ke,i=new Ke,r=new Ke){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Ke){const i=t,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return i.set(rT(e,r.x,a.x,s.x,o.x),rT(e,r.y,a.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class sme extends vf{constructor(e=new le,t=new le,i=new le,r=new le){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new le){const i=t,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return i.set(rT(e,r.x,a.x,s.x,o.x),rT(e,r.y,a.y,s.y,o.y),rT(e,r.z,a.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Gj extends vf{constructor(e=new Ke,t=new Ke){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ke){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ke){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ome extends vf{constructor(e=new le,t=new le){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new le){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new le){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Vj extends vf{constructor(e=new Ke,t=new Ke,i=new Ke){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Ke){const i=t,r=this.v0,a=this.v1,s=this.v2;return i.set(iT(e,r.x,a.x,s.x),iT(e,r.y,a.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class jj extends vf{constructor(e=new le,t=new le,i=new le){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new le){const i=t,r=this.v0,a=this.v1,s=this.v2;return i.set(iT(e,r.x,a.x,s.x),iT(e,r.y,a.y,s.y),iT(e,r.z,a.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Hj extends vf{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ke){const i=t,r=this.points,a=(r.length-1)*e,s=Math.floor(a),o=a-s,l=r[s===0?s:s-1],u=r[s],c=r[s>r.length-2?r.length-1:s+1],f=r[s>r.length-3?r.length-1:s+2];return i.set(yte(o,l.x,u.x,c.x,f.x),yte(o,l.y,u.y,c.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Ke().fromArray(r))}return this}}var $N=Object.freeze({__proto__:null,ArcCurve:rme,CatmullRomCurve3:ame,CubicBezierCurve:Uj,CubicBezierCurve3:sme,EllipseCurve:kP,LineCurve:Gj,LineCurve3:ome,QuadraticBezierCurve:Vj,QuadraticBezierCurve3:jj,SplineCurve:Hj});class lme extends vf{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new $N[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const s=r[a]-i,o=this.curves[a],l=o.getLength(),u=l===0?0:1-s/l;return o.getPointAt(u,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const s=a[r],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(o);for(let u=0;u<l.length;u++){const c=l[u];i&&i.equals(c)||(t.push(c),i=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new $N[r.type]().fromJSON(r))}return this}}class eI extends lme{constructor(e){super(),this.type="Path",this.currentPoint=new Ke,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Gj(this.currentPoint.clone(),new Ke(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const a=new Vj(this.currentPoint.clone(),new Ke(e,t),new Ke(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,a,s){const o=new Uj(this.currentPoint.clone(),new Ke(e,t),new Ke(i,r),new Ke(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new Hj(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,a,s){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,i,r,a,s),this}absarc(e,t,i,r,a,s){return this.absellipse(e,t,i,i,r,a,s),this}ellipse(e,t,i,r,a,s,o,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,i,r,a,s,o,l),this}absellipse(e,t,i,r,a,s,o,l){const u=new kP(e,t,i,r,a,s,o,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class by extends eI{constructor(e){super(e),this.uuid=$l(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new eI().fromJSON(r))}return this}}function xqe(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let a=ume(n,0,r,t,!0);const s=[];if(!a||a.next===a.prev)return s;let o,l,u;if(i&&(a=Mqe(n,e,a,t)),n.length>80*t){o=n[0],l=n[1];let c=o,f=l;for(let h=t;h<r;h+=t){const d=n[h],v=n[h+1];d<o&&(o=d),v<l&&(l=v),d>c&&(c=d),v>f&&(f=v)}u=Math.max(c-o,f-l),u=u!==0?32767/u:0}return cC(a,s,t,o,l,u,0),s}function ume(n,e,t,i,r){let a;if(r===Bqe(n,e,t,i)>0)for(let s=e;s<t;s+=i)a=xte(s/i|0,n[s],n[s+1],a);else for(let s=t-i;s>=e;s-=i)a=xte(s/i|0,n[s],n[s+1],a);return a&&zb(a,a.next)&&(hC(a),a=a.next),a}function Gy(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(zb(t,t.next)||Br(t.prev,t,t.next)===0)){if(hC(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function cC(n,e,t,i,r,a,s){if(!n)return;!s&&a&&Dqe(n,i,r,a);let o=n;for(;n.prev!==n.next;){const l=n.prev,u=n.next;if(a?bqe(n,i,r,a):_qe(n)){e.push(l.i,n.i,u.i),hC(n),n=u.next,o=u.next;continue}if(n=u,n===o){s?s===1?(n=Sqe(Gy(n),e),cC(n,e,t,i,r,a,2)):s===2&&Aqe(n,e,t,i,r,a):cC(Gy(n),e,t,i,r,a,1);break}}}function _qe(n){const e=n.prev,t=n,i=n.next;if(Br(e,t,i)>=0)return!1;const r=e.x,a=t.x,s=i.x,o=e.y,l=t.y,u=i.y,c=Math.min(r,a,s),f=Math.min(o,l,u),h=Math.max(r,a,s),d=Math.max(o,l,u);let v=i.next;for(;v!==e;){if(v.x>=c&&v.x<=h&&v.y>=f&&v.y<=d&&y2(r,o,a,l,s,u,v.x,v.y)&&Br(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function bqe(n,e,t,i){const r=n.prev,a=n,s=n.next;if(Br(r,a,s)>=0)return!1;const o=r.x,l=a.x,u=s.x,c=r.y,f=a.y,h=s.y,d=Math.min(o,l,u),v=Math.min(c,f,h),m=Math.max(o,l,u),y=Math.max(c,f,h),x=G8(d,v,e,t,i),b=G8(m,y,e,t,i);let M=n.prevZ,C=n.nextZ;for(;M&&M.z>=x&&C&&C.z<=b;){if(M.x>=d&&M.x<=m&&M.y>=v&&M.y<=y&&M!==r&&M!==s&&y2(o,c,l,f,u,h,M.x,M.y)&&Br(M.prev,M,M.next)>=0||(M=M.prevZ,C.x>=d&&C.x<=m&&C.y>=v&&C.y<=y&&C!==r&&C!==s&&y2(o,c,l,f,u,h,C.x,C.y)&&Br(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;M&&M.z>=x;){if(M.x>=d&&M.x<=m&&M.y>=v&&M.y<=y&&M!==r&&M!==s&&y2(o,c,l,f,u,h,M.x,M.y)&&Br(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;C&&C.z<=b;){if(C.x>=d&&C.x<=m&&C.y>=v&&C.y<=y&&C!==r&&C!==s&&y2(o,c,l,f,u,h,C.x,C.y)&&Br(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function Sqe(n,e){let t=n;do{const i=t.prev,r=t.next.next;!zb(i,r)&&fme(i,t,t.next,r)&&fC(i,r)&&fC(r,i)&&(e.push(i.i,t.i,r.i),hC(t),hC(t.next),t=n=r),t=t.next}while(t!==n);return Gy(t)}function Aqe(n,e,t,i,r,a){let s=n;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&Nqe(s,o)){let l=hme(s,o);s=Gy(s,s.next),l=Gy(l,l.next),cC(s,e,t,i,r,a,0),cC(l,e,t,i,r,a,0);return}o=o.next}s=s.next}while(s!==n)}function Mqe(n,e,t,i){const r=[];for(let a=0,s=e.length;a<s;a++){const o=e[a]*i,l=a<s-1?e[a+1]*i:n.length,u=ume(n,o,l,i,!1);u===u.next&&(u.steiner=!0),r.push(Lqe(u))}r.sort(Tqe);for(let a=0;a<r.length;a++)t=Cqe(r[a],t);return t}function Tqe(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function Cqe(n,e){const t=wqe(n,e);if(!t)return e;const i=hme(t,n);return Gy(i,i.next),Gy(t,t.next)}function wqe(n,e){let t=e;const i=n.x,r=n.y;let a=-1/0,s;if(zb(n,t))return t;do{if(zb(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const f=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=i&&f>a&&(a=f,s=t.x<t.next.x?t:t.next,f===i))return s}t=t.next}while(t!==e);if(!s)return null;const o=s,l=s.x,u=s.y;let c=1/0;t=s;do{if(i>=t.x&&t.x>=l&&i!==t.x&&cme(r<u?i:a,r,l,u,r<u?a:i,r,t.x,t.y)){const f=Math.abs(r-t.y)/(i-t.x);fC(t,n)&&(f<c||f===c&&(t.x>s.x||t.x===s.x&&Eqe(s,t)))&&(s=t,c=f)}t=t.next}while(t!==o);return s}function Eqe(n,e){return Br(n.prev,n,e.prev)<0&&Br(e.next,n,n.next)<0}function Dqe(n,e,t,i){let r=n;do r.z===0&&(r.z=G8(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,Rqe(r)}function Rqe(n){let e,t=1;do{let i=n,r;n=null;let a=null;for(e=0;i;){e++;let s=i,o=0;for(let u=0;u<t&&(o++,s=s.nextZ,!!s);u++);let l=t;for(;o>0||l>0&&s;)o!==0&&(l===0||!s||i.z<=s.z)?(r=i,i=i.nextZ,o--):(r=s,s=s.nextZ,l--),a?a.nextZ=r:n=r,r.prevZ=a,a=r;i=s}a.nextZ=null,t*=2}while(e>1);return n}function G8(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Lqe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function cme(n,e,t,i,r,a,s,o){return(r-s)*(e-o)>=(n-s)*(a-o)&&(n-s)*(i-o)>=(t-s)*(e-o)&&(t-s)*(a-o)>=(r-s)*(i-o)}function y2(n,e,t,i,r,a,s,o){return!(n===s&&e===o)&&cme(n,e,t,i,r,a,s,o)}function Nqe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Iqe(n,e)&&(fC(n,e)&&fC(e,n)&&Pqe(n,e)&&(Br(n.prev,n,e.prev)||Br(n,e.prev,e))||zb(n,e)&&Br(n.prev,n,n.next)>0&&Br(e.prev,e,e.next)>0)}function Br(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function zb(n,e){return n.x===e.x&&n.y===e.y}function fme(n,e,t,i){const r=NR(Br(n,e,t)),a=NR(Br(n,e,i)),s=NR(Br(t,i,n)),o=NR(Br(t,i,e));return!!(r!==a&&s!==o||r===0&&LR(n,t,e)||a===0&&LR(n,i,e)||s===0&&LR(t,n,i)||o===0&&LR(t,e,i))}function LR(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function NR(n){return n>0?1:n<0?-1:0}function Iqe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&fme(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function fC(n,e){return Br(n.prev,n,n.next)<0?Br(n,e,n.next)>=0&&Br(n,n.prev,e)>=0:Br(n,e,n.prev)<0||Br(n,n.next,e)<0}function Pqe(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&r<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function hme(n,e){const t=V8(n.i,n.x,n.y),i=V8(e.i,e.x,e.y),r=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,a.next=i,i.prev=a,i}function xte(n,e,t,i){const r=V8(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function hC(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function V8(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Bqe(n,e,t,i){let r=0;for(let a=e,s=t-i;a<t;a+=i)r+=(n[s]-n[a])*(n[a+1]+n[s+1]),s=a;return r}class Oqe{static triangulate(e,t,i=2){return xqe(e,t,i)}}class Zc{static area(e){const t=e.length;let i=0;for(let r=t-1,a=0;a<t;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return Zc.area(e)<0}static triangulateShape(e,t){const i=[],r=[],a=[];_te(e),bte(i,e);let s=e.length;t.forEach(_te);for(let l=0;l<t.length;l++)r.push(s),s+=t[l].length,bte(i,t[l]);const o=Oqe.triangulate(i,r);for(let l=0;l<o.length;l+=3)a.push(o.slice(l,l+3));return a}}function _te(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function bte(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class FP extends Rn{constructor(e=new by([new Ke(.5,.5),new Ke(-.5,.5),new Ke(-.5,-.5),new Ke(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let o=0,l=e.length;o<l;o++){const u=e[o];s(u)}this.setAttribute("position",new Yt(r,3)),this.setAttribute("uv",new Yt(a,2)),this.computeVertexNormals();function s(o){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let h=t.bevelEnabled!==void 0?t.bevelEnabled:!0,d=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:d-.1,m=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,b=t.UVGenerator!==void 0?t.UVGenerator:zqe;let M,C=!1,w,E,L,P;x&&(M=x.getSpacedPoints(c),C=!0,h=!1,w=x.computeFrenetFrames(c,!1),E=new le,L=new le,P=new le),h||(y=0,d=0,v=0,m=0);const I=o.extractPoints(u);let N=I.shape;const z=I.holes;if(!Zc.isClockWise(N)){N=N.reverse();for(let De=0,ae=z.length;De<ae;De++){const Fe=z[De];Zc.isClockWise(Fe)&&(z[De]=Fe.reverse())}}function U(De){const Fe=10000000000000001e-36;let qe=De[0];for(let rt=1;rt<=De.length;rt++){const Je=rt%De.length,_t=De[Je],pt=_t.x-qe.x,Ct=_t.y-qe.y,oe=pt*pt+Ct*Ct,ee=Math.max(Math.abs(_t.x),Math.abs(_t.y),Math.abs(qe.x),Math.abs(qe.y)),we=Fe*ee*ee;if(oe<=we){De.splice(Je,1),rt--;continue}qe=_t}}U(N),z.forEach(U);const j=z.length,W=N;for(let De=0;De<j;De++){const ae=z[De];N=N.concat(ae)}function G(De,ae,Fe){return ae||Cn("ExtrudeGeometry: vec does not exist"),De.clone().addScaledVector(ae,Fe)}const X=N.length;function q(De,ae,Fe){let qe,rt,Je;const _t=De.x-ae.x,pt=De.y-ae.y,Ct=Fe.x-De.x,oe=Fe.y-De.y,ee=_t*_t+pt*pt,we=_t*oe-pt*Ct;if(Math.abs(we)>Number.EPSILON){const Xe=Math.sqrt(ee),nt=Math.sqrt(Ct*Ct+oe*oe),je=ae.x-pt/Xe,Wt=ae.y+_t/Xe,St=Fe.x-oe/nt,qt=Fe.y+Ct/nt,Vt=((St-je)*oe-(qt-Wt)*Ct)/(_t*oe-pt*Ct);qe=je+_t*Vt-De.x,rt=Wt+pt*Vt-De.y;const et=qe*qe+rt*rt;if(et<=2)return new Ke(qe,rt);Je=Math.sqrt(et/2)}else{let Xe=!1;_t>Number.EPSILON?Ct>Number.EPSILON&&(Xe=!0):_t<-Number.EPSILON?Ct<-Number.EPSILON&&(Xe=!0):Math.sign(pt)===Math.sign(oe)&&(Xe=!0),Xe?(qe=-pt,rt=_t,Je=Math.sqrt(ee)):(qe=_t,rt=pt,Je=Math.sqrt(ee/2))}return new Ke(qe/Je,rt/Je)}const $=[];for(let De=0,ae=W.length,Fe=ae-1,qe=De+1;De<ae;De++,Fe++,qe++)Fe===ae&&(Fe=0),qe===ae&&(qe=0),$[De]=q(W[De],W[Fe],W[qe]);const te=[];let J,Q=$.concat();for(let De=0,ae=j;De<ae;De++){const Fe=z[De];J=[];for(let qe=0,rt=Fe.length,Je=rt-1,_t=qe+1;qe<rt;qe++,Je++,_t++)Je===rt&&(Je=0),_t===rt&&(_t=0),J[qe]=q(Fe[qe],Fe[Je],Fe[_t]);te.push(J),Q=Q.concat(J)}let se;if(y===0)se=Zc.triangulateShape(W,z);else{const De=[],ae=[];for(let Fe=0;Fe<y;Fe++){const qe=Fe/y,rt=d*Math.cos(qe*Math.PI/2),Je=v*Math.sin(qe*Math.PI/2)+m;for(let _t=0,pt=W.length;_t<pt;_t++){const Ct=G(W[_t],$[_t],Je);Ee(Ct.x,Ct.y,-rt),qe===0&&De.push(Ct)}for(let _t=0,pt=j;_t<pt;_t++){const Ct=z[_t];J=te[_t];const oe=[];for(let ee=0,we=Ct.length;ee<we;ee++){const Xe=G(Ct[ee],J[ee],Je);Ee(Xe.x,Xe.y,-rt),qe===0&&oe.push(Xe)}qe===0&&ae.push(oe)}}se=Zc.triangulateShape(De,ae)}const ce=se.length,ue=v+m;for(let De=0;De<X;De++){const ae=h?G(N[De],Q[De],ue):N[De];C?(L.copy(w.normals[0]).multiplyScalar(ae.x),E.copy(w.binormals[0]).multiplyScalar(ae.y),P.copy(M[0]).add(L).add(E),Ee(P.x,P.y,P.z)):Ee(ae.x,ae.y,0)}for(let De=1;De<=c;De++)for(let ae=0;ae<X;ae++){const Fe=h?G(N[ae],Q[ae],ue):N[ae];C?(L.copy(w.normals[De]).multiplyScalar(Fe.x),E.copy(w.binormals[De]).multiplyScalar(Fe.y),P.copy(M[De]).add(L).add(E),Ee(P.x,P.y,P.z)):Ee(Fe.x,Fe.y,f/c*De)}for(let De=y-1;De>=0;De--){const ae=De/y,Fe=d*Math.cos(ae*Math.PI/2),qe=v*Math.sin(ae*Math.PI/2)+m;for(let rt=0,Je=W.length;rt<Je;rt++){const _t=G(W[rt],$[rt],qe);Ee(_t.x,_t.y,f+Fe)}for(let rt=0,Je=z.length;rt<Je;rt++){const _t=z[rt];J=te[rt];for(let pt=0,Ct=_t.length;pt<Ct;pt++){const oe=G(_t[pt],J[pt],qe);C?Ee(oe.x,oe.y+M[c-1].y,M[c-1].x+Fe):Ee(oe.x,oe.y,f+Fe)}}}fe(),ge();function fe(){const De=r.length/3;if(h){let ae=0,Fe=X*ae;for(let qe=0;qe<ce;qe++){const rt=se[qe];Ue(rt[2]+Fe,rt[1]+Fe,rt[0]+Fe)}ae=c+y*2,Fe=X*ae;for(let qe=0;qe<ce;qe++){const rt=se[qe];Ue(rt[0]+Fe,rt[1]+Fe,rt[2]+Fe)}}else{for(let ae=0;ae<ce;ae++){const Fe=se[ae];Ue(Fe[2],Fe[1],Fe[0])}for(let ae=0;ae<ce;ae++){const Fe=se[ae];Ue(Fe[0]+X*c,Fe[1]+X*c,Fe[2]+X*c)}}i.addGroup(De,r.length/3-De,0)}function ge(){const De=r.length/3;let ae=0;Se(W,ae),ae+=W.length;for(let Fe=0,qe=z.length;Fe<qe;Fe++){const rt=z[Fe];Se(rt,ae),ae+=rt.length}i.addGroup(De,r.length/3-De,1)}function Se(De,ae){let Fe=De.length;for(;--Fe>=0;){const qe=Fe;let rt=Fe-1;rt<0&&(rt=De.length-1);for(let Je=0,_t=c+y*2;Je<_t;Je++){const pt=X*Je,Ct=X*(Je+1),oe=ae+qe+pt,ee=ae+rt+pt,we=ae+rt+Ct,Xe=ae+qe+Ct;_e(oe,ee,we,Xe)}}}function Ee(De,ae,Fe){l.push(De),l.push(ae),l.push(Fe)}function Ue(De,ae,Fe){ke(De),ke(ae),ke(Fe);const qe=r.length/3,rt=b.generateTopUV(i,r,qe-3,qe-2,qe-1);dt(rt[0]),dt(rt[1]),dt(rt[2])}function _e(De,ae,Fe,qe){ke(De),ke(ae),ke(qe),ke(ae),ke(Fe),ke(qe);const rt=r.length/3,Je=b.generateSideWallUV(i,r,rt-6,rt-3,rt-2,rt-1);dt(Je[0]),dt(Je[1]),dt(Je[3]),dt(Je[1]),dt(Je[2]),dt(Je[3])}function ke(De){r.push(l[De*3+0]),r.push(l[De*3+1]),r.push(l[De*3+2])}function dt(De){a.push(De.x),a.push(De.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return kqe(t,i,e)}static fromJSON(e,t){const i=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=t[e.shapes[a]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new $N[r.type]().fromJSON(r)),new FP(i,e.options)}}const zqe={generateTopUV:function(n,e,t,i,r){const a=e[t*3],s=e[t*3+1],o=e[i*3],l=e[i*3+1],u=e[r*3],c=e[r*3+1];return[new Ke(a,s),new Ke(o,l),new Ke(u,c)]},generateSideWallUV:function(n,e,t,i,r,a){const s=e[t*3],o=e[t*3+1],l=e[t*3+2],u=e[i*3],c=e[i*3+1],f=e[i*3+2],h=e[r*3],d=e[r*3+1],v=e[r*3+2],m=e[a*3],y=e[a*3+1],x=e[a*3+2];return Math.abs(o-c)<Math.abs(s-u)?[new Ke(s,1-l),new Ke(u,1-f),new Ke(h,1-v),new Ke(m,1-x)]:[new Ke(o,1-l),new Ke(c,1-f),new Ke(d,1-v),new Ke(y,1-x)]}};function kqe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const a=n[i];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class UP extends Gm{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new UP(e.radius,e.detail)}}class GP extends Rn{constructor(e=[new Ke(0,-.5),new Ke(.5,0),new Ke(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=bn(r,0,Math.PI*2);const a=[],s=[],o=[],l=[],u=[],c=1/t,f=new le,h=new Ke,d=new le,v=new le,m=new le;let y=0,x=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:y=e[b+1].x-e[b].x,x=e[b+1].y-e[b].y,d.x=x*1,d.y=-y,d.z=x*0,m.copy(d),d.normalize(),l.push(d.x,d.y,d.z);break;case e.length-1:l.push(m.x,m.y,m.z);break;default:y=e[b+1].x-e[b].x,x=e[b+1].y-e[b].y,d.x=x*1,d.y=-y,d.z=x*0,v.copy(d),d.x+=m.x,d.y+=m.y,d.z+=m.z,d.normalize(),l.push(d.x,d.y,d.z),m.copy(v)}for(let b=0;b<=t;b++){const M=i+b*c*r,C=Math.sin(M),w=Math.cos(M);for(let E=0;E<=e.length-1;E++){f.x=e[E].x*C,f.y=e[E].y,f.z=e[E].x*w,s.push(f.x,f.y,f.z),h.x=b/t,h.y=E/(e.length-1),o.push(h.x,h.y);const L=l[3*E+0]*C,P=l[3*E+1],I=l[3*E+0]*w;u.push(L,P,I)}}for(let b=0;b<t;b++)for(let M=0;M<e.length-1;M++){const C=M+b*e.length,w=C,E=C+e.length,L=C+e.length+1,P=C+1;a.push(w,E,P),a.push(L,P,E)}this.setIndex(a),this.setAttribute("position",new Yt(s,3)),this.setAttribute("uv",new Yt(o,2)),this.setAttribute("normal",new Yt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new GP(e.points,e.segments,e.phiStart,e.phiLength)}}class iw extends Gm{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new iw(e.radius,e.detail)}}class SS extends Rn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const a=e/2,s=t/2,o=Math.floor(i),l=Math.floor(r),u=o+1,c=l+1,f=e/o,h=t/l,d=[],v=[],m=[],y=[];for(let x=0;x<c;x++){const b=x*h-s;for(let M=0;M<u;M++){const C=M*f-a;v.push(C,-b,0),m.push(0,0,1),y.push(M/o),y.push(1-x/l)}}for(let x=0;x<l;x++)for(let b=0;b<o;b++){const M=b+u*x,C=b+u*(x+1),w=b+1+u*(x+1),E=b+1+u*x;d.push(M,C,E),d.push(C,w,E)}this.setIndex(d),this.setAttribute("position",new Yt(v,3)),this.setAttribute("normal",new Yt(m,3)),this.setAttribute("uv",new Yt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new SS(e.width,e.height,e.widthSegments,e.heightSegments)}}class VP extends Rn{constructor(e=.5,t=1,i=32,r=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:s},i=Math.max(3,i),r=Math.max(1,r);const o=[],l=[],u=[],c=[];let f=e;const h=(t-e)/r,d=new le,v=new Ke;for(let m=0;m<=r;m++){for(let y=0;y<=i;y++){const x=a+y/i*s;d.x=f*Math.cos(x),d.y=f*Math.sin(x),l.push(d.x,d.y,d.z),u.push(0,0,1),v.x=(d.x/t+1)/2,v.y=(d.y/t+1)/2,c.push(v.x,v.y)}f+=h}for(let m=0;m<r;m++){const y=m*(i+1);for(let x=0;x<i;x++){const b=x+y,M=b,C=b+i+1,w=b+i+2,E=b+1;o.push(M,C,E),o.push(C,w,E)}}this.setIndex(o),this.setAttribute("position",new Yt(l,3)),this.setAttribute("normal",new Yt(u,3)),this.setAttribute("uv",new Yt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new VP(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class jP extends Rn{constructor(e=new by([new Ke(0,.5),new Ke(-.5,-.5),new Ke(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],a=[],s=[];let o=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(o,l,c),o+=l,l=0;this.setIndex(i),this.setAttribute("position",new Yt(r,3)),this.setAttribute("normal",new Yt(a,3)),this.setAttribute("uv",new Yt(s,2));function u(c){const f=r.length/3,h=c.extractPoints(t);let d=h.shape;const v=h.holes;Zc.isClockWise(d)===!1&&(d=d.reverse());for(let y=0,x=v.length;y<x;y++){const b=v[y];Zc.isClockWise(b)===!0&&(v[y]=b.reverse())}const m=Zc.triangulateShape(d,v);for(let y=0,x=v.length;y<x;y++){const b=v[y];d=d.concat(b)}for(let y=0,x=d.length;y<x;y++){const b=d[y];r.push(b.x,b.y,0),a.push(0,0,1),s.push(b.x,b.y)}for(let y=0,x=m.length;y<x;y++){const b=m[y],M=b[0]+f,C=b[1]+f,w=b[2]+f;i.push(M,C,w),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Fqe(t,e)}static fromJSON(e,t){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const s=t[e.shapes[r]];i.push(s)}return new jP(i,e.curveSegments)}}function Fqe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class rw extends Rn{constructor(e=1,t=32,i=16,r=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(s+o,Math.PI);let u=0;const c=[],f=new le,h=new le,d=[],v=[],m=[],y=[];for(let x=0;x<=i;x++){const b=[],M=x/i;let C=0;x===0&&s===0?C=.5/t:x===i&&l===Math.PI&&(C=-.5/t);for(let w=0;w<=t;w++){const E=w/t;f.x=-e*Math.cos(r+E*a)*Math.sin(s+M*o),f.y=e*Math.cos(s+M*o),f.z=e*Math.sin(r+E*a)*Math.sin(s+M*o),v.push(f.x,f.y,f.z),h.copy(f).normalize(),m.push(h.x,h.y,h.z),y.push(E+C,1-M),b.push(u++)}c.push(b)}for(let x=0;x<i;x++)for(let b=0;b<t;b++){const M=c[x][b+1],C=c[x][b],w=c[x+1][b],E=c[x+1][b+1];(x!==0||s>0)&&d.push(M,C,E),(x!==i-1||l<Math.PI)&&d.push(C,w,E)}this.setIndex(d),this.setAttribute("position",new Yt(v,3)),this.setAttribute("normal",new Yt(m,3)),this.setAttribute("uv",new Yt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rw(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class HP extends Gm{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new HP(e.radius,e.detail)}}class WP extends Rn{constructor(e=1,t=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const s=[],o=[],l=[],u=[],c=new le,f=new le,h=new le;for(let d=0;d<=i;d++)for(let v=0;v<=r;v++){const m=v/r*a,y=d/i*Math.PI*2;f.x=(e+t*Math.cos(y))*Math.cos(m),f.y=(e+t*Math.cos(y))*Math.sin(m),f.z=t*Math.sin(y),o.push(f.x,f.y,f.z),c.x=e*Math.cos(m),c.y=e*Math.sin(m),h.subVectors(f,c).normalize(),l.push(h.x,h.y,h.z),u.push(v/r),u.push(d/i)}for(let d=1;d<=i;d++)for(let v=1;v<=r;v++){const m=(r+1)*d+v-1,y=(r+1)*(d-1)+v-1,x=(r+1)*(d-1)+v,b=(r+1)*d+v;s.push(m,y,b),s.push(y,x,b)}this.setIndex(s),this.setAttribute("position",new Yt(o,3)),this.setAttribute("normal",new Yt(l,3)),this.setAttribute("uv",new Yt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new WP(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class XP extends Rn{constructor(e=1,t=.4,i=64,r=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:a,q:s},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],u=[],c=[],f=new le,h=new le,d=new le,v=new le,m=new le,y=new le,x=new le;for(let M=0;M<=i;++M){const C=M/i*a*Math.PI*2;b(C,a,s,e,d),b(C+.01,a,s,e,v),y.subVectors(v,d),x.addVectors(v,d),m.crossVectors(y,x),x.crossVectors(m,y),m.normalize(),x.normalize();for(let w=0;w<=r;++w){const E=w/r*Math.PI*2,L=-t*Math.cos(E),P=t*Math.sin(E);f.x=d.x+(L*x.x+P*m.x),f.y=d.y+(L*x.y+P*m.y),f.z=d.z+(L*x.z+P*m.z),l.push(f.x,f.y,f.z),h.subVectors(f,d).normalize(),u.push(h.x,h.y,h.z),c.push(M/i),c.push(w/r)}}for(let M=1;M<=i;M++)for(let C=1;C<=r;C++){const w=(r+1)*(M-1)+(C-1),E=(r+1)*M+(C-1),L=(r+1)*M+C,P=(r+1)*(M-1)+C;o.push(w,E,P),o.push(E,L,P)}this.setIndex(o),this.setAttribute("position",new Yt(l,3)),this.setAttribute("normal",new Yt(u,3)),this.setAttribute("uv",new Yt(c,2));function b(M,C,w,E,L){const P=Math.cos(M),I=Math.sin(M),N=w/C*M,z=Math.cos(N);L.x=E*(2+z)*.5*P,L.y=E*(2+z)*I*.5,L.z=E*Math.sin(N)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new XP(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class YP extends Rn{constructor(e=new jj(new le(-1,-1,0),new le(-1,1,0),new le(1,1,0)),t=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new le,l=new le,u=new Ke;let c=new le;const f=[],h=[],d=[],v=[];m(),this.setIndex(v),this.setAttribute("position",new Yt(f,3)),this.setAttribute("normal",new Yt(h,3)),this.setAttribute("uv",new Yt(d,2));function m(){for(let M=0;M<t;M++)y(M);y(a===!1?t:0),b(),x()}function y(M){c=e.getPointAt(M/t,c);const C=s.normals[M],w=s.binormals[M];for(let E=0;E<=r;E++){const L=E/r*Math.PI*2,P=Math.sin(L),I=-Math.cos(L);l.x=I*C.x+P*w.x,l.y=I*C.y+P*w.y,l.z=I*C.z+P*w.z,l.normalize(),h.push(l.x,l.y,l.z),o.x=c.x+i*l.x,o.y=c.y+i*l.y,o.z=c.z+i*l.z,f.push(o.x,o.y,o.z)}}function x(){for(let M=1;M<=t;M++)for(let C=1;C<=r;C++){const w=(r+1)*(M-1)+(C-1),E=(r+1)*M+(C-1),L=(r+1)*M+C,P=(r+1)*(M-1)+C;v.push(w,E,P),v.push(E,L,P)}}function b(){for(let M=0;M<=t;M++)for(let C=0;C<=r;C++)u.x=M/t,u.y=C/r,d.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new YP(new $N[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class dme extends Rn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new le,a=new le;if(e.index!==null){const s=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],h=f.start,d=f.count;for(let v=h,m=h+d;v<m;v+=3)for(let y=0;y<3;y++){const x=o.getX(v+y),b=o.getX(v+(y+1)%3);r.fromBufferAttribute(s,x),a.fromBufferAttribute(s,b),Ste(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,l=s.count/3;o<l;o++)for(let u=0;u<3;u++){const c=3*o+u,f=3*o+(u+1)%3;r.fromBufferAttribute(s,c),a.fromBufferAttribute(s,f),Ste(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Yt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Ste(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var Ate=Object.freeze({__proto__:null,BoxGeometry:ix,CapsuleGeometry:BP,CircleGeometry:OP,ConeGeometry:nw,CylinderGeometry:tw,DodecahedronGeometry:zP,EdgesGeometry:ime,ExtrudeGeometry:FP,IcosahedronGeometry:UP,LatheGeometry:GP,OctahedronGeometry:iw,PlaneGeometry:SS,PolyhedronGeometry:Gm,RingGeometry:VP,ShapeGeometry:jP,SphereGeometry:rw,TetrahedronGeometry:HP,TorusGeometry:WP,TorusKnotGeometry:XP,TubeGeometry:YP,WireframeGeometry:dme});class pme extends Wa{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Et(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class vme extends nc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class aw extends Wa{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Um,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new uf,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class lc extends aw{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ke(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return bn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Et(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Et(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Et(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class mme extends Wa{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Et(16777215),this.specular=new Et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Um,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new uf,this.combine=KC,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gme extends Wa{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Et(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Um,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class yme extends Wa{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Um,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class xme extends Wa{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Um,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new uf,this.combine=KC,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Wj extends Wa{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Nve,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Xj extends Wa{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class _me extends Wa{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Et(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Um,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bme extends ho{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function ty(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function Sme(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Ame(n){function e(r,a){return n[r]-n[a]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function j8(n,e,t){const i=n.length,r=new n.constructor(i);for(let a=0,s=0;s!==i;++a){const o=t[a]*e;for(let l=0;l!==e;++l)r[s++]=n[o+l]}return r}function Yj(n,e,t,i){let r=1,a=n[0];for(;a!==void 0&&a[i]===void 0;)a=n[r++];if(a===void 0)return;let s=a[i];if(s!==void 0)if(Array.isArray(s))do s=a[i],s!==void 0&&(e.push(a.time),t.push(...s)),a=n[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[i],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=n[r++];while(a!==void 0);else do s=a[i],s!==void 0&&(e.push(a.time),t.push(s)),a=n[r++];while(a!==void 0)}function Uqe(n,e,t,i,r=30){const a=n.clone();a.name=e;const s=[];for(let l=0;l<a.tracks.length;++l){const u=a.tracks[l],c=u.getValueSize(),f=[],h=[];for(let d=0;d<u.times.length;++d){const v=u.times[d]*r;if(!(v<t||v>=i)){f.push(u.times[d]);for(let m=0;m<c;++m)h.push(u.values[d*c+m])}}f.length!==0&&(u.times=ty(f,u.times.constructor),u.values=ty(h,u.values.constructor),s.push(u))}a.tracks=s;let o=1/0;for(let l=0;l<a.tracks.length;++l)o>a.tracks[l].times[0]&&(o=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*o);return a.resetDuration(),a}function Gqe(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,a=e/i;for(let s=0;s<r;++s){const o=t.tracks[s],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(x){return x.name===o.name&&x.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let h=0;const d=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);const v=o.times.length-1;let m;if(a<=o.times[0]){const x=c,b=f-c;m=o.values.slice(x,b)}else if(a>=o.times[v]){const x=v*f+c,b=x+f-c;m=o.values.slice(x,b)}else{const x=o.createInterpolant(),b=c,M=f-c;x.evaluate(a),m=x.resultBuffer.slice(b,M)}l==="quaternion"&&new vs().fromArray(m).normalize().conjugate().toArray(m);const y=u.times.length;for(let x=0;x<y;++x){const b=x*d+h;if(l==="quaternion")vs.multiplyQuaternionsFlat(u.values,b,m,0,u.values,b);else{const M=d-h*2;for(let C=0;C<M;++C)u.values[b+C]-=m[C]}}}return n.blendMode=Tj,n}class Vqe{static convertArray(e,t){return ty(e,t)}static isTypedArray(e){return Sme(e)}static getKeyframeOrder(e){return Ame(e)}static sortedArray(e,t,i){return j8(e,t,i)}static flattenJSON(e,t,i,r){Yj(e,t,i,r)}static subclip(e,t,i,r,a=30){return Uqe(e,t,i,r,a)}static makeClipAdditive(e,t=0,i=e,r=30){return Gqe(e,t,i,r)}}class AS{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],a=t[i-1];e:{t:{let s;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<a)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(a=r,r=t[++i],e<r)break t}s=t.length;break n}if(!(e>=a)){const o=t[1];e<o&&(i=2,a=o);for(let l=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=a,a=t[--i-1],e>=a)break t}s=i,i=0;break n}break e}for(;i<s;){const o=i+s>>>1;e<t[o]?s=o:i=o+1}if(r=t[i],a=t[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let s=0;s!==r;++s)t[s]=i[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Mme extends AS{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:$0,endingEnd:$0}}intervalChanged_(e,t,i){const r=this.parameterPositions;let a=e-2,s=e+1,o=r[a],l=r[s];if(o===void 0)switch(this.getSettings_().endingStart){case ey:a=e,o=2*t-i;break;case aC:a=r.length-2,o=t+r[a]-r[a+1];break;default:a=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case ey:s=e,l=2*i-t;break;case aC:s=1,l=i+r[1]-r[0];break;default:s=e-1,l=t}const u=(i-t)*.5,c=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(l-i),this._offsetPrev=a*c,this._offsetNext=s*c}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,c=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,d=this._weightNext,v=(i-t)/(r-t),m=v*v,y=m*v,x=-h*y+2*h*m-h*v,b=(1+h)*y+(-1.5-2*h)*m+(-.5+h)*v+1,M=(-1-d)*y+(1.5+d)*m+.5*v,C=d*y-d*m;for(let w=0;w!==o;++w)a[w]=x*s[c+w]+b*s[u+w]+M*s[l+w]+C*s[f+w];return a}}class qj extends AS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,c=(i-t)/(r-t),f=1-c;for(let h=0;h!==o;++h)a[h]=s[u+h]*f+s[l+h]*c;return a}}class Tme extends AS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class uc{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ty(t,this.TimeBufferType),this.values=ty(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:ty(e.times,Array),values:ty(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new Tme(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new qj(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Mme(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Rb:t=this.InterpolantFactoryMethodDiscrete;break;case Lb:t=this.InterpolantFactoryMethodLinear;break;case L3:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return Lt("KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Rb;case this.InterpolantFactoryMethodLinear:return Lb;case this.InterpolantFactoryMethodSmooth:return L3}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let a=0,s=r-1;for(;a!==r&&i[a]<e;)++a;for(;s!==-1&&i[s]>t;)--s;if(++s,a!==0||s!==r){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=i.slice(a,s),this.values=this.values.slice(a*o,s*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Cn("KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(Cn("KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const l=i[o];if(typeof l=="number"&&isNaN(l)){Cn("KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(s!==null&&s>l){Cn("KeyframeTrack: Out of order keys.",this,o,l,s),e=!1;break}s=l}if(r!==void 0&&Sme(r))for(let o=0,l=r.length;o!==l;++o){const u=r[o];if(isNaN(u)){Cn("KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===L3,a=e.length-1;let s=1;for(let o=1;o<a;++o){let l=!1;const u=e[o],c=e[o+1];if(u!==c&&(o!==1||u!==e[0]))if(r)l=!0;else{const f=o*i,h=f-i,d=f+i;for(let v=0;v!==i;++v){const m=t[f+v];if(m!==t[h+v]||m!==t[d+v]){l=!0;break}}}if(l){if(o!==s){e[s]=e[o];const f=o*i,h=s*i;for(let d=0;d!==i;++d)t[h+d]=t[f+d]}++s}}if(a>0){e[s]=e[a];for(let o=a*i,l=s*i,u=0;u!==i;++u)t[l+u]=t[o+u];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}uc.prototype.ValueTypeName="";uc.prototype.TimeBufferType=Float32Array;uc.prototype.ValueBufferType=Float32Array;uc.prototype.DefaultInterpolation=Lb;class rx extends uc{constructor(e,t,i){super(e,t,i)}}rx.prototype.ValueTypeName="bool";rx.prototype.ValueBufferType=Array;rx.prototype.DefaultInterpolation=Rb;rx.prototype.InterpolantFactoryMethodLinear=void 0;rx.prototype.InterpolantFactoryMethodSmooth=void 0;class Zj extends uc{constructor(e,t,i,r){super(e,t,i,r)}}Zj.prototype.ValueTypeName="color";class Vy extends uc{constructor(e,t,i,r){super(e,t,i,r)}}Vy.prototype.ValueTypeName="number";class Cme extends AS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=(i-t)/(r-t);let u=e*o;for(let c=u+o;u!==c;u+=4)vs.slerpFlat(a,0,s,u-o,s,u,l);return a}}class jy extends uc{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new Cme(this.times,this.values,this.getValueSize(),e)}}jy.prototype.ValueTypeName="quaternion";jy.prototype.InterpolantFactoryMethodSmooth=void 0;class ax extends uc{constructor(e,t,i){super(e,t,i)}}ax.prototype.ValueTypeName="string";ax.prototype.ValueBufferType=Array;ax.prototype.DefaultInterpolation=Rb;ax.prototype.InterpolantFactoryMethodLinear=void 0;ax.prototype.InterpolantFactoryMethodSmooth=void 0;class Hy extends uc{constructor(e,t,i,r){super(e,t,i,r)}}Hy.prototype.ValueTypeName="vector";class kb{constructor(e="",t=-1,i=[],r=MP){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=$l(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let s=0,o=i.length;s!==o;++s)t.push(Hqe(i[s]).scale(r));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,s=i.length;a!==s;++a)t.push(uc.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const a=t.length,s=[];for(let o=0;o<a;o++){let l=[],u=[];l.push((o+a-1)%a,o,(o+1)%a),u.push(0,1,0);const c=Ame(l);l=j8(l,1,c),u=j8(u,1,c),!r&&l[0]===0&&(l.push(a),u.push(u[0])),s.push(new Vy(".morphTargetInfluences["+t[o].name+"]",l,u).scale(1/i))}return new this(e,-1,s)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const u=e[o],c=u.name.match(a);if(c&&c.length>1){const f=c[1];let h=r[f];h||(r[f]=h=[]),h.push(u)}}const s=[];for(const o in r)s.push(this.CreateFromMorphTargetSequence(o,r[o],t,i));return s}static parseAnimation(e,t){if(Lt("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Cn("AnimationClip: No animation in JSONLoader data."),null;const i=function(f,h,d,v,m){if(d.length!==0){const y=[],x=[];Yj(d,y,x,v),y.length!==0&&m.push(new f(h,y,x))}},r=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const d={};let v;for(v=0;v<h.length;v++)if(h[v].morphTargets)for(let m=0;m<h[v].morphTargets.length;m++)d[h[v].morphTargets[m]]=-1;for(const m in d){const y=[],x=[];for(let b=0;b!==h[v].morphTargets.length;++b){const M=h[v];y.push(M.time),x.push(M.morphTarget===m?1:0)}r.push(new Vy(".morphTargetInfluence["+m+"]",y,x))}l=d.length*s}else{const d=".bones["+t[f].name+"]";i(Hy,d+".position",h,"pos",r),i(jy,d+".quaternion",h,"rot",r),i(Hy,d+".scale",h,"scl",r)}}return r.length===0?null:new this(a,l,r,o)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function jqe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Vy;case"vector":case"vector2":case"vector3":case"vector4":return Hy;case"color":return Zj;case"quaternion":return jy;case"bool":case"boolean":return rx;case"string":return ax}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Hqe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=jqe(n.type);if(n.times===void 0){const t=[],i=[];Yj(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const bh={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class Kj{constructor(e,t,i){const r=this;let a=!1,s=0,o=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this._abortController=null,this.itemStart=function(c){o++,a===!1&&r.onStart!==void 0&&r.onStart(c,s,o),a=!0},this.itemEnd=function(c){s++,r.onProgress!==void 0&&r.onProgress(c,s,o),s===o&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(c){r.onError!==void 0&&r.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,h=u.length;f<h;f+=2){const d=u[f],v=u[f+1];if(d.global&&(d.lastIndex=0),d.test(c))return v}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const wme=new Kj;let po=class{constructor(e){this.manager=e!==void 0?e:wme,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,a){i.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}};po.DEFAULT_MATERIAL_NAME="__DEFAULT";const zd={};class Wqe extends Error{constructor(e,t){super(e),this.response=t}}class iu extends po{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=bh.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(zd[e]!==void 0){zd[e].push({onLoad:t,onProgress:i,onError:r});return}zd[e]=[],zd[e].push({onLoad:t,onProgress:i,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,l=this.responseType;fetch(s).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&Lt("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=zd[e],f=u.body.getReader(),h=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),d=h?parseInt(h):0,v=d!==0;let m=0;const y=new ReadableStream({start(x){b();function b(){f.read().then(({done:M,value:C})=>{if(M)x.close();else{m+=C.byteLength;const w=new ProgressEvent("progress",{lengthComputable:v,loaded:m,total:d});for(let E=0,L=c.length;E<L;E++){const P=c[E];P.onProgress&&P.onProgress(w)}x.enqueue(C),b()}},M=>{x.error(M)})}}});return new Response(y)}else throw new Wqe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,o));case"json":return u.json();default:if(o==="")return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(o),h=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(h);return u.arrayBuffer().then(v=>d.decode(v))}}}).then(u=>{bh.add(`file:${e}`,u);const c=zd[e];delete zd[e];for(let f=0,h=c.length;f<h;f++){const d=c[f];d.onLoad&&d.onLoad(u)}}).catch(u=>{const c=zd[e];if(c===void 0)throw this.manager.itemError(e),u;delete zd[e];for(let f=0,h=c.length;f<h;f++){const d=c[f];d.onError&&d.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class Xqe extends po{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new iu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){r?r(l):Cn(l),a.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=kb.parse(e[i]);t.push(r)}return t}}class Yqe extends po{constructor(e){super(e)}load(e,t,i,r){const a=this,s=[],o=new IP,l=new iu(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let u=0;function c(f){l.load(e[f],function(h){const d=a.parse(h,!0);s[f]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},u+=1,u===6&&(d.mipmapCount===1&&(o.minFilter=hr),o.image=s,o.format=d.format,o.needsUpdate=!0,t&&t(o))},i,r)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)c(f);else l.load(e,function(f){const h=a.parse(f,!0);if(h.isCubemap){const d=h.mipmaps.length/h.mipmapCount;for(let v=0;v<d;v++){s[v]={mipmaps:[]};for(let m=0;m<h.mipmapCount;m++)s[v].mipmaps.push(h.mipmaps[v*h.mipmapCount+m]),s[v].format=h.format,s[v].width=h.width,s[v].height=h.height}o.image=s}else o.image.width=h.width,o.image.height=h.height,o.mipmaps=h.mipmaps;h.mipmapCount===1&&(o.minFilter=hr),o.format=h.format,o.needsUpdate=!0,t&&t(o)},i,r);return o}}const s1=new WeakMap;class dC extends po{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=bh.get(`image:${e}`);if(s!==void 0){if(s.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0);else{let f=s1.get(s);f===void 0&&(f=[],s1.set(s,f)),f.push({onLoad:t,onError:r})}return s}const o=lC("img");function l(){c(),t&&t(this);const f=s1.get(this)||[];for(let h=0;h<f.length;h++){const d=f[h];d.onLoad&&d.onLoad(this)}s1.delete(this),a.manager.itemEnd(e)}function u(f){c(),r&&r(f),bh.remove(`image:${e}`);const h=s1.get(this)||[];for(let d=0;d<h.length;d++){const v=h[d];v.onError&&v.onError(f)}s1.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function c(){o.removeEventListener("load",l,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),bh.add(`image:${e}`,o),a.manager.itemStart(e),o.src=e,o}}class qqe extends po{constructor(e){super(e)}load(e,t,i,r){const a=new QC;a.colorSpace=ao;const s=new dC(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function l(u){s.load(e[u],function(c){a.images[u]=c,o++,o===6&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return a}}class Zqe extends po{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new tf,o=new iu(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(l){let u;try{u=a.parse(l)}catch(c){if(r!==void 0)r(c);else{c(c);return}}u.image!==void 0?s.image=u.image:u.data!==void 0&&(s.image.width=u.width,s.image.height=u.height,s.image.data=u.data),s.wrapS=u.wrapS!==void 0?u.wrapS:jo,s.wrapT=u.wrapT!==void 0?u.wrapT:jo,s.magFilter=u.magFilter!==void 0?u.magFilter:hr,s.minFilter=u.minFilter!==void 0?u.minFilter:hr,s.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(s.colorSpace=u.colorSpace),u.flipY!==void 0&&(s.flipY=u.flipY),u.format!==void 0&&(s.format=u.format),u.type!==void 0&&(s.type=u.type),u.mipmaps!==void 0&&(s.mipmaps=u.mipmaps,s.minFilter=Yu),u.mipmapCount===1&&(s.minFilter=hr),u.generateMipmaps!==void 0&&(s.generateMipmaps=u.generateMipmaps),s.needsUpdate=!0,t&&t(s,u)},i,r),s}}class Eme extends po{constructor(e){super(e)}load(e,t,i,r){const a=new Mr,s=new dC(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,t!==void 0&&t(a)},i,r),a}}class Vm extends _i{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Et(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class Dme extends Vm{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(_i.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Et(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Nz=new vn,Mte=new le,Tte=new le;class Jj{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ke(512,512),this.mapType=tc,this.map=null,this.mapPass=null,this.matrix=new vn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new bS,this._frameExtents=new Ke(1,1),this._viewportCount=1,this._viewports=[new Ai(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;Mte.setFromMatrixPosition(e.matrixWorld),t.position.copy(Mte),Tte.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Tte),t.updateMatrixWorld(),Nz.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Nz,t.coordinateSystem,t.reversedDepth),t.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Nz)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Kqe extends Jj{constructor(){super(new qr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=Pb*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(i!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=i,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Qj extends Vm{constructor(e,t,i=0,r=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(_i.DEFAULT_UP),this.updateMatrix(),this.target=new _i,this.distance=i,this.angle=r,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new Kqe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Cte=new vn,KM=new le,Iz=new le;class Jqe extends Jj{constructor(){super(new qr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ke(4,2),this._viewportCount=6,this._viewports=[new Ai(2,1,1,1),new Ai(0,1,1,1),new Ai(3,1,1,1),new Ai(1,1,1,1),new Ai(3,0,1,1),new Ai(1,0,1,1)],this._cubeDirections=[new le(1,0,0),new le(-1,0,0),new le(0,0,1),new le(0,0,-1),new le(0,1,0),new le(0,-1,0)],this._cubeUps=[new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,0,1),new le(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),KM.setFromMatrixPosition(e.matrixWorld),i.position.copy(KM),Iz.copy(i.position),Iz.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(Iz),i.updateMatrixWorld(),r.makeTranslation(-KM.x,-KM.y,-KM.z),Cte.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Cte,i.coordinateSystem,i.reversedDepth)}}class $j extends Vm{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Jqe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class up extends wP{constructor(e=-1,t=1,i=1,r=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,s=i+e,o=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,s=a+u*this.view.width,o-=c*this.view.offsetY,l=o-c*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Qqe extends Jj{constructor(){super(new up(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class eH extends Vm{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(_i.DEFAULT_UP),this.updateMatrix(),this.target=new _i,this.shadow=new Qqe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Rme extends Vm{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Lme extends Vm{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Nme{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new le)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*r),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*i),t.addScaledVector(s[4],1.092548*(i*r)),t.addScaledVector(s[5],1.092548*(r*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(i*a)),t.addScaledVector(s[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*r),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*i),t.addScaledVector(s[4],2*.429043*i*r),t.addScaledVector(s[5],2*.429043*r*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*i*a),t.addScaledVector(s[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*i*a,t[8]=.546274*(i*i-r*r)}}class Ime extends Vm{constructor(e=new Nme,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class qP extends po{constructor(e){super(e),this.textures={}}load(e,t,i,r){const a=this,s=new iu(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){r?r(l):Cn(l),a.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(a){return t[a]===void 0&&Lt("MaterialLoader: Undefined texture",a),t[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Et().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(r.uniforms[a]={},s.type){case"t":r.uniforms[a].value=i(s.value);break;case"c":r.uniforms[a].value=new Et().setHex(s.value);break;case"v2":r.uniforms[a].value=new Ke().fromArray(s.value);break;case"v3":r.uniforms[a].value=new le().fromArray(s.value);break;case"v4":r.uniforms[a].value=new Ai().fromArray(s.value);break;case"m3":r.uniforms[a].value=new kn().fromArray(s.value);break;case"m4":r.uniforms[a].value=new vn().fromArray(s.value);break;default:r.uniforms[a].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new Ke().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Ke().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return qP.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:pme,SpriteMaterial:Ij,RawShaderMaterial:vme,ShaderMaterial:nc,PointsMaterial:NP,MeshPhysicalMaterial:lc,MeshStandardMaterial:aw,MeshPhongMaterial:mme,MeshToonMaterial:gme,MeshNormalMaterial:yme,MeshLambertMaterial:xme,MeshDepthMaterial:Wj,MeshDistanceMaterial:Xj,MeshBasicMaterial:Kl,MeshMatcapMaterial:_me,LineDashedMaterial:bme,LineBasicMaterial:ho,Material:Wa};return new t[e]}}class hm{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Pme extends Rn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Bme extends po{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new iu(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){r?r(l):Cn(l),a.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(d,v){if(t[v]!==void 0)return t[v];const y=d.interleavedBuffers[v],x=a(d,y.buffer),b=z1(y.type,x),M=new $C(b,y.stride);return M.uuid=y.uuid,t[v]=M,M}function a(d,v){if(i[v]!==void 0)return i[v];const y=d.arrayBuffers[v],x=new Uint32Array(y).buffer;return i[v]=x,x}const s=e.isInstancedBufferGeometry?new Pme:new Rn,o=e.data.index;if(o!==void 0){const d=z1(o.type,o.array);s.setIndex(new Mi(d,1))}const l=e.data.attributes;for(const d in l){const v=l[d];let m;if(v.isInterleavedBufferAttribute){const y=r(e.data,v.data);m=new Rm(y,v.itemSize,v.offset,v.normalized)}else{const y=z1(v.type,v.array),x=v.isInstancedBufferAttribute?Uy:Mi;m=new x(y,v.itemSize,v.normalized)}v.name!==void 0&&(m.name=v.name),v.usage!==void 0&&m.setUsage(v.usage),s.setAttribute(d,m)}const u=e.data.morphAttributes;if(u)for(const d in u){const v=u[d],m=[];for(let y=0,x=v.length;y<x;y++){const b=v[y];let M;if(b.isInterleavedBufferAttribute){const C=r(e.data,b.data);M=new Rm(C,b.itemSize,b.offset,b.normalized)}else{const C=z1(b.type,b.array);M=new Mi(C,b.itemSize,b.normalized)}b.name!==void 0&&(M.name=b.name),m.push(M)}s.morphAttributes[d]=m}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let d=0,v=f.length;d!==v;++d){const m=f[d];s.addGroup(m.start,m.count,m.materialIndex)}const h=e.data.boundingSphere;return h!==void 0&&(s.boundingSphere=new ms().fromJSON(h)),e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class $qe extends po{constructor(e){super(e)}load(e,t,i,r){const a=this,s=this.path===""?hm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new iu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){r!==void 0&&r(f),f("ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),Cn("ObjectLoader: Can't load "+e);return}a.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?hm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new iu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),o=JSON.parse(s),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){t!==void 0&&t(u)}),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,a,l,o,i),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),this.bindLightTargets(u),t!==void 0){let f=!1;for(const h in s)if(s[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,r,o,s,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new by().fromJSON(e[i]);t[a.uuid]=a}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new ew().fromJSON(e[a],r);i[o.uuid]=o}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new Bme;for(let a=0,s=e.length;a<s;a++){let o;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(l);break;default:l.type in Ate?o=Ate[l.type].fromJSON(l,t):Lt(`ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),i[l.uuid]=o}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const a=new qP;a.setTextures(t);for(let s=0,o=e.length;s<o;s++){const l=e[s];i[l.uuid]===void 0&&(i[l.uuid]=a.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=kb.parse(r);t[a.uuid]=a}return t}parseImages(e,t){const i=this,r={};let a;function s(l){return i.manager.itemStart(l),a.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return s(c)}else return l.data?{data:z1(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Kj(t);a=new dC(l),a.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],h=f.url;if(Array.isArray(h)){const d=[];for(let v=0,m=h.length;v<m;v++){const y=h[v],x=o(y);x!==null&&(x instanceof HTMLImageElement?d.push(x):d.push(new tf(x.data,x.width,x.height)))}r[f.uuid]=new em(d)}else{const d=o(f.url);r[f.uuid]=new em(d)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function a(s){if(typeof s=="string"){const o=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await r.loadAsync(l)}else return s.data?{data:z1(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){r=new dC(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const l=e[s],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,h=u.length;f<h;f++){const d=u[f],v=await a(d);v!==null&&(v instanceof HTMLImageElement?c.push(v):c.push(new tf(v.data,v.width,v.height)))}i[l.uuid]=new em(c)}else{const c=await a(l.url);i[l.uuid]=new em(c)}}}return i}parseTextures(e,t){function i(a,s){return typeof a=="number"?a:(Lt("ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const r={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&Lt('ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&Lt("ObjectLoader: Undefined image",o.image);const l=t[o.image],u=l.data;let c;Array.isArray(u)?(c=new QC,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new tf:c=new Mr,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=o.uuid,o.name!==void 0&&(c.name=o.name),o.mapping!==void 0&&(c.mapping=i(o.mapping,eZe)),o.channel!==void 0&&(c.channel=o.channel),o.offset!==void 0&&c.offset.fromArray(o.offset),o.repeat!==void 0&&c.repeat.fromArray(o.repeat),o.center!==void 0&&c.center.fromArray(o.center),o.rotation!==void 0&&(c.rotation=o.rotation),o.wrap!==void 0&&(c.wrapS=i(o.wrap[0],wte),c.wrapT=i(o.wrap[1],wte)),o.format!==void 0&&(c.format=o.format),o.internalFormat!==void 0&&(c.internalFormat=o.internalFormat),o.type!==void 0&&(c.type=o.type),o.colorSpace!==void 0&&(c.colorSpace=o.colorSpace),o.minFilter!==void 0&&(c.minFilter=i(o.minFilter,Ete)),o.magFilter!==void 0&&(c.magFilter=i(o.magFilter,Ete)),o.anisotropy!==void 0&&(c.anisotropy=o.anisotropy),o.flipY!==void 0&&(c.flipY=o.flipY),o.generateMipmaps!==void 0&&(c.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(c.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(c.compareFunction=o.compareFunction),o.userData!==void 0&&(c.userData=o.userData),r[o.uuid]=c}return r}parseObject(e,t,i,r,a){let s;function o(h){return t[h]===void 0&&Lt("ObjectLoader: Undefined geometry",h),t[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const d=[];for(let v=0,m=h.length;v<m;v++){const y=h[v];i[y]===void 0&&Lt("ObjectLoader: Undefined material",y),d.push(i[y])}return d}return i[h]===void 0&&Lt("ObjectLoader: Undefined material",h),i[h]}}function u(h){return r[h]===void 0&&Lt("ObjectLoader: Undefined texture",h),r[h]}let c,f;switch(e.type){case"Scene":s=new Nj,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Et(e.background):s.background=u(e.background)),e.environment!==void 0&&(s.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new DP(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new EP(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new qr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new up(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new Rme(e.color,e.intensity);break;case"DirectionalLight":s=new eH(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new $j(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new Lme(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new Qj(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new Dme(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new Ime().fromJSON(e);break;case"SkinnedMesh":c=o(e.geometry),f=l(e.material),s=new Pj(c,f),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":c=o(e.geometry),f=l(e.material),s=new La(c,f);break;case"InstancedMesh":c=o(e.geometry),f=l(e.material);const h=e.count,d=e.instanceMatrix,v=e.instanceColor;s=new Bj(c,f,h),s.instanceMatrix=new Uy(new Float32Array(d.array),16),v!==void 0&&(s.instanceColor=new Uy(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":c=o(e.geometry),f=l(e.material),s=new tme(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),s.geometry=c,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(m=>{let y=null,x=null;return m.boundingBox!==void 0&&(y=new Is().fromJSON(m.boundingBox)),m.boundingSphere!==void 0&&(x=new ms().fromJSON(m.boundingSphere)),{...m,boundingBox:y,boundingSphere:x}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=u(e.matricesTexture.uuid),s._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(s.boundingSphere=new ms().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(s.boundingBox=new Is().fromJSON(e.boundingBox));break;case"LOD":s=new eme;break;case"Line":s=new Dp(o(e.geometry),l(e.material));break;case"LineLoop":s=new Oj(o(e.geometry),l(e.material));break;case"LineSegments":s=new pf(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new zj(o(e.geometry),l(e.material));break;case"Sprite":s=new $ve(l(e.material));break;case"Group":s=new ep;break;case"Bone":s=new RP;break;default:s=new _i}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let d=0;d<h.length;d++)s.add(this.parseObject(h[d],t,i,r,a))}if(e.animations!==void 0){const h=e.animations;for(let d=0;d<h.length;d++){const v=h[d];s.animations.push(a[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const h=e.levels;for(let d=0;d<h.length;d++){const v=h[d],m=s.getObjectByProperty("uuid",v.object);m!==void 0&&s.addLevel(m,v.distance,v.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?Lt("ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new _i}})}}const eZe={UVMapping:vP,CubeReflectionMapping:wp,CubeRefractionMapping:Cm,EquirectangularReflectionMapping:iC,EquirectangularRefractionMapping:rC,CubeUVReflectionMapping:_S},wte={RepeatWrapping:wm,ClampToEdgeWrapping:jo,MirroredRepeatWrapping:Tb},Ete={NearestFilter:ps,NearestMipmapNearestFilter:mP,NearestMipmapLinearFilter:Q0,LinearFilter:hr,LinearMipmapNearestFilter:J1,LinearMipmapLinearFilter:Yu},Pz=new WeakMap;class Ome extends po{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Lt("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Lt("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=bh.get(`image-bitmap:${e}`);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(u=>{if(Pz.has(s)===!0)r&&r(Pz.get(s)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(u),a.manager.itemEnd(e),u});return}return setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,o.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,o).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(u){return bh.add(`image-bitmap:${e}`,u),t&&t(u),a.manager.itemEnd(e),u}).catch(function(u){r&&r(u),Pz.set(l,u),bh.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});bh.add(`image-bitmap:${e}`,l),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let IR;class tH{static getContext(){return IR===void 0&&(IR=new(window.AudioContext||window.webkitAudioContext)),IR}static setContext(e){IR=e}}class tZe extends po{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new iu(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const u=l.slice(0);tH.getContext().decodeAudioData(u,function(f){t(f)}).catch(o)}catch(u){o(u)}},i,r);function o(l){r?r(l):Cn(l),a.manager.itemError(e)}}}const Dte=new vn,Rte=new vn,m0=new vn;class nZe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new qr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new qr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,m0.copy(e.projectionMatrix);const r=t.eyeSep/2,a=r*t.near/t.focus,s=t.near*Math.tan(_y*t.fov*.5)/t.zoom;let o,l;Rte.elements[12]=-r,Dte.elements[12]=r,o=-s*t.aspect+a,l=s*t.aspect+a,m0.elements[0]=2*t.near/(l-o),m0.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(m0),o=-s*t.aspect-a,l=s*t.aspect-a,m0.elements[0]=2*t.near/(l-o),m0.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(m0)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Rte),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Dte)}}class zme extends qr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class nH{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const g0=new le,Bz=new vs,iZe=new le,y0=new le,x0=new le;class rZe extends _i{constructor(){super(),this.type="AudioListener",this.context=tH.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new nH}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(g0,Bz,iZe),y0.set(0,0,-1).applyQuaternion(Bz),x0.set(0,1,0).applyQuaternion(Bz),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(g0.x,i),t.positionY.linearRampToValueAtTime(g0.y,i),t.positionZ.linearRampToValueAtTime(g0.z,i),t.forwardX.linearRampToValueAtTime(y0.x,i),t.forwardY.linearRampToValueAtTime(y0.y,i),t.forwardZ.linearRampToValueAtTime(y0.z,i),t.upX.linearRampToValueAtTime(x0.x,i),t.upY.linearRampToValueAtTime(x0.y,i),t.upZ.linearRampToValueAtTime(x0.z,i)}else t.setPosition(g0.x,g0.y,g0.z),t.setOrientation(y0.x,y0.y,y0.z,x0.x,x0.y,x0.z)}}class kme extends _i{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){Lt("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){Lt("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){Lt("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){Lt("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){Lt("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(Lt("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){Lt("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(Lt("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const _0=new le,Lte=new vs,aZe=new le,b0=new le;class sZe extends kme{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_0,Lte,aZe),b0.set(0,0,1).applyQuaternion(Lte);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(_0.x,i),t.positionY.linearRampToValueAtTime(_0.y,i),t.positionZ.linearRampToValueAtTime(_0.z,i),t.orientationX.linearRampToValueAtTime(b0.x,i),t.orientationY.linearRampToValueAtTime(b0.y,i),t.orientationZ.linearRampToValueAtTime(b0.z,i)}else t.setPosition(_0.x,_0.y,_0.z),t.setOrientation(b0.x,b0.y,b0.z)}}class oZe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class Fme{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,a,s;switch(t){case"quaternion":r=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,a=e*r+r;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==r;++o)i[a+o]=i[o];s=t}else{s+=t;const o=t/s;this._mixBufferRegion(i,a,0,o,r)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-a,t)}s>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(i[l]!==i[l+t]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let a=i,s=r;a!==s;++a)t[a]=t[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,a){if(r>=.5)for(let s=0;s!==a;++s)e[t+s]=e[i+s]}_slerp(e,t,i,r){vs.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,a){const s=this._workIndex*a;vs.multiplyQuaternionsFlat(e,s,e,t,e,i),vs.slerpFlat(e,t,e,t,e,s,r)}_lerp(e,t,i,r,a){const s=1-r;for(let o=0;o!==a;++o){const l=t+o;e[l]=e[l]*s+e[i+o]*r}}_lerpAdditive(e,t,i,r,a){for(let s=0;s!==a;++s){const o=t+s;e[o]=e[o]+e[i+s]*r}}}const iH="\\[\\]\\.:\\/",lZe=new RegExp("["+iH+"]","g"),rH="[^"+iH+"]",uZe="[^"+iH.replace("\\.","")+"]",cZe=/((?:WC+[\/:])*)/.source.replace("WC",rH),fZe=/(WCOD+)?/.source.replace("WCOD",uZe),hZe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",rH),dZe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",rH),pZe=new RegExp("^"+cZe+fZe+hZe+dZe+"$"),vZe=["material","materials","bones","map"];class mZe{constructor(e,t,i){const r=i||bi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class bi{constructor(e,t,i){this.path=t,this.parsedPath=i||bi.parseTrackName(t),this.node=bi.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new bi.Composite(e,t,i):new bi(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(lZe,"")}static parseTrackName(e){const t=pZe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);vZe.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===t||o.uuid===t)return o;const l=i(o.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let a=t.propertyIndex;if(e||(e=bi.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Lt("PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){Cn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Cn("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Cn("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Cn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Cn("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){Cn("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){Cn("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const s=e[r];if(s===void 0){const u=t.nodeName;Cn("PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){Cn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Cn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}bi.Composite=mZe;bi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};bi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};bi.prototype.GetterByBindingType=[bi.prototype._getValue_direct,bi.prototype._getValue_array,bi.prototype._getValue_arrayElement,bi.prototype._getValue_toArray];bi.prototype.SetterByBindingTypeAndVersioning=[[bi.prototype._setValue_direct,bi.prototype._setValue_direct_setNeedsUpdate,bi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[bi.prototype._setValue_array,bi.prototype._setValue_array_setNeedsUpdate,bi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[bi.prototype._setValue_arrayElement,bi.prototype._setValue_arrayElement_setNeedsUpdate,bi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[bi.prototype._setValue_fromArray,bi.prototype._setValue_fromArray_setNeedsUpdate,bi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class gZe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=$l(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length;let o,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const h=arguments[c],d=h.uuid;let v=t[d];if(v===void 0){v=l++,t[d]=v,e.push(h);for(let m=0,y=s;m!==y;++m)a[m].push(new bi(h,i[m],r[m]))}else if(v<u){o=e[v];const m=--u,y=e[m];t[y.uuid]=v,e[v]=y,t[d]=m,e[m]=h;for(let x=0,b=s;x!==b;++x){const M=a[x],C=M[m];let w=M[v];M[v]=C,w===void 0&&(w=new bi(h,i[x],r[x])),M[m]=w}}else e[v]!==o&&Cn("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const l=arguments[s],u=l.uuid,c=t[u];if(c!==void 0&&c>=a){const f=a++,h=e[f];t[h.uuid]=c,e[c]=h,t[u]=f,e[f]=l;for(let d=0,v=r;d!==v;++d){const m=i[d],y=m[f],x=m[c];m[c]=y,m[f]=x}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,s=e.length;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],c=u.uuid,f=t[c];if(f!==void 0)if(delete t[c],f<a){const h=--a,d=e[h],v=--s,m=e[v];t[d.uuid]=f,e[f]=d,t[m.uuid]=h,e[h]=m,e.pop();for(let y=0,x=r;y!==x;++y){const b=i[y],M=b[h],C=b[v];b[f]=M,b[h]=C,b.pop()}}else{const h=--s,d=e[h];h>0&&(t[d.uuid]=f),e[f]=d,e.pop();for(let v=0,m=r;v!==m;++v){const y=i[v];y[f]=y[h],y.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const s=this._paths,o=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);r=a.length,i[e]=r,s.push(e),o.push(t),a.push(f);for(let h=c,d=l.length;h!==d;++h){const v=l[h];f[h]=new bi(v,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,l=s[o],u=e[o];t[u]=i,s[i]=l,s.pop(),a[i]=a[o],a.pop(),r[i]=r[o],r.pop()}}}class Ume{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const a=t.tracks,s=a.length,o=new Array(s),l={endingStart:$0,endingEnd:$0};for(let u=0;u!==s;++u){const c=a[u].createInterpolant(null);o[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Dve,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,a=e._clip.duration,s=a/r,o=r/a;e.warp(1,s,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,a=r.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=a,l[1]=a+i,u[0]=e/s,u[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const s=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case Tj:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(s),u[c].accumulateAdditive(o);break;case MP:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(s),u[c].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const s=i===Rve;if(e===0)return a===-1?r:s&&(a&1)===1?t-r:r;if(i===Eve){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=t||r<0){const o=Math.floor(r/t);r-=t*o,a+=Math.abs(o);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(s&&(a&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=ey,r.endingEnd=ey):(e?r.endingStart=this.zeroSlopeAtStart?ey:$0:r.endingStart=aC,t?r.endingEnd=this.zeroSlopeAtEnd?ey:$0:r.endingEnd=aC)}_scheduleFading(e,t,i){const r=this._mixer,a=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,l=s.sampleValues;return o[0]=a,l[0]=t,o[1]=a+e,l[1]=i,this}}const yZe=new Float32Array(1);class xZe extends Vh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,s=e._propertyBindings,o=e._interpolants,l=i.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==a;++f){const h=r[f],d=h.name;let v=c[d];if(v!==void 0)++v.referenceCount,s[f]=v;else{if(v=s[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,d));continue}const m=t&&t._propertyBindings[f].binding.parsedPath;v=new Fme(bi.create(i,d,m),h.ValueTypeName,h.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,d),s[f]=v}o[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],l=o.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=o.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,a=this._bindings;let s=r[t];s===void 0&&(s={},r[t]=s),s[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,s=this._bindingsByRootAndName,o=s[r],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete o[a],Object.keys(o).length===0&&delete s[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new qj(new Float32Array(2),new Float32Array(2),1,yZe),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=i,t[i]=a}clipAction(e,t,i){const r=t||this._root,a=r.uuid;let s=typeof e=="string"?kb.findByName(r,e):e;const o=s!==null?s.uuid:e,l=this._actionsByClip[o];let u=null;if(i===void 0&&(s!==null?i=s.blendMode:i=MP),l!==void 0){const f=l.actionByRoot[a];if(f!==void 0&&f.blendMode===i)return f;u=l.knownActions[0],s===null&&(s=u._clip)}if(s===null)return null;const c=new Ume(this,s,t,i);return this._bindAction(c,u),this._addInactiveAction(c,o,a),c}existingAction(e,t){const i=t||this._root,r=i.uuid,a=typeof e=="string"?kb.findByName(i,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,a,s);const o=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)o[u].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const s=a.knownActions;for(let o=0,l=s.length;o!==l;++o){const u=s[o];this._deactivateAction(u);const c=u._cacheIndex,f=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,t[c]=f,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const s in i){const o=i[s].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,a=r[t];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class _Ze extends Dj{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new CP(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class aH{constructor(e){this.value=e}clone(){return new aH(this.value.clone===void 0?this.value:this.value.clone())}}let bZe=0;class SZe extends Vh{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:bZe++}),this.name="",this.usage=oC,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const a=Array.isArray(t[i])?t[i]:[t[i]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class AZe extends $C{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class MZe{constructor(e,t,i,r,a,s=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=a,this.normalized=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Nte=new vn;class Gme{constructor(e,t,i=0,r=1/0){this.ray=new nx(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Bb,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Cn("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Nte.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Nte),this}intersectObject(e,t=!0,i=[]){return H8(e,this,i,t),i.sort(Ite),i}intersectObjects(e,t=!0,i=[]){for(let r=0,a=e.length;r<a;r++)H8(e[r],this,i,t);return i.sort(Ite),i}}function Ite(n,e){return n.distance-e.distance}function H8(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const a=n.children;for(let s=0,o=a.length;s<o;s++)H8(a[s],e,t,!0)}}class TZe{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=CZe.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function CZe(){this._document.hidden===!1&&this.reset()}class W8{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=bn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(bn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class wZe{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class sH{constructor(e,t,i,r){sH.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const a=this.elements;return a[0]=e,a[2]=t,a[1]=i,a[3]=r,this}}const Pte=new Ke;class EZe{constructor(e=new Ke(1/0,1/0),t=new Ke(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Pte.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Pte).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Bte=new le,PR=new le,o1=new le,l1=new le,Oz=new le,DZe=new le,RZe=new le;class LZe{constructor(e=new le,t=new le){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Bte.subVectors(e,this.start),PR.subVectors(this.end,this.start);const i=PR.dot(PR);let a=PR.dot(Bte)/i;return t&&(a=bn(a,0,1)),a}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,t=DZe,i=RZe){const r=10000000000000001e-32;let a,s;const o=this.start,l=e.start,u=this.end,c=e.end;o1.subVectors(u,o),l1.subVectors(c,l),Oz.subVectors(o,l);const f=o1.dot(o1),h=l1.dot(l1),d=l1.dot(Oz);if(f<=r&&h<=r)return t.copy(o),i.copy(l),t.sub(i),t.dot(t);if(f<=r)a=0,s=d/h,s=bn(s,0,1);else{const v=o1.dot(Oz);if(h<=r)s=0,a=bn(-v/f,0,1);else{const m=o1.dot(l1),y=f*h-m*m;y!==0?a=bn((m*d-v*h)/y,0,1):a=0,s=(m*a+d)/h,s<0?(s=0,a=bn(-v/f,0,1)):s>1&&(s=1,a=bn((m-v)/f,0,1))}}return t.copy(o).add(o1.multiplyScalar(a)),i.copy(l).add(l1.multiplyScalar(s)),t.sub(i),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Ote=new le;class NZe extends _i{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Rn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,l=32;s<l;s++,o++){const u=s/l*Math.PI*2,c=o/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}i.setAttribute("position",new Yt(r,3));const a=new ho({fog:!1,toneMapped:!1});this.cone=new pf(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Ote.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Ote),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Iv=new le,BR=new vn,zz=new vn;class IZe extends pf{constructor(e){const t=Vme(e),i=new Rn,r=[],a=[];for(let u=0;u<t.length;u++){const c=t[u];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}i.setAttribute("position",new Yt(r,3)),i.setAttribute("color",new Yt(a,3));const s=new ho({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,s),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const o=new Et(255),l=new Et(65280);this.setColors(o,l)}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");zz.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){const o=t[a];o.parent&&o.parent.isBone&&(BR.multiplyMatrices(zz,o.matrixWorld),Iv.setFromMatrixPosition(BR),r.setXYZ(s,Iv.x,Iv.y,Iv.z),BR.multiplyMatrices(zz,o.parent.matrixWorld),Iv.setFromMatrixPosition(BR),r.setXYZ(s+1,Iv.x,Iv.y,Iv.z),s+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const r=this.geometry.getAttribute("color");for(let a=0;a<r.count;a+=2)r.setXYZ(a,e.r,e.g,e.b),r.setXYZ(a+1,t.r,t.g,t.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function Vme(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...Vme(n.children[t]));return e}class PZe extends La{constructor(e,t,i){const r=new rw(t,4,2),a=new Kl({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const BZe=new le,zte=new Et,kte=new Et;class OZe extends _i{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new iw(t);r.rotateY(Math.PI*.5),this.material=new Kl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),s=new Float32Array(a.count*3);r.setAttribute("color",new Mi(s,3)),this.add(new La(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");zte.copy(this.light.color),kte.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const a=i<r/2?zte:kte;t.setXYZ(i,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(BZe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class zZe extends pf{constructor(e=10,t=10,i=4473924,r=8947848){i=new Et(i),r=new Et(r);const a=t/2,s=e/t,o=e/2,l=[],u=[];for(let h=0,d=0,v=-o;h<=t;h++,v+=s){l.push(-o,0,v,o,0,v),l.push(v,0,-o,v,0,o);const m=h===a?i:r;m.toArray(u,d),d+=3,m.toArray(u,d),d+=3,m.toArray(u,d),d+=3,m.toArray(u,d),d+=3}const c=new Rn;c.setAttribute("position",new Yt(l,3)),c.setAttribute("color",new Yt(u,3));const f=new ho({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class kZe extends pf{constructor(e=10,t=16,i=8,r=64,a=4473924,s=8947848){a=new Et(a),s=new Et(s);const o=[],l=[];if(t>1)for(let f=0;f<t;f++){const h=f/t*(Math.PI*2),d=Math.sin(h)*e,v=Math.cos(h)*e;o.push(0,0,0),o.push(d,0,v);const m=f&1?a:s;l.push(m.r,m.g,m.b),l.push(m.r,m.g,m.b)}for(let f=0;f<i;f++){const h=f&1?a:s,d=e-e/i*f;for(let v=0;v<r;v++){let m=v/r*(Math.PI*2),y=Math.sin(m)*d,x=Math.cos(m)*d;o.push(y,0,x),l.push(h.r,h.g,h.b),m=(v+1)/r*(Math.PI*2),y=Math.sin(m)*d,x=Math.cos(m)*d,o.push(y,0,x),l.push(h.r,h.g,h.b)}}const u=new Rn;u.setAttribute("position",new Yt(o,3)),u.setAttribute("color",new Yt(l,3));const c=new ho({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Fte=new le,OR=new le,Ute=new le;class FZe extends _i{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Rn;r.setAttribute("position",new Yt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new ho({fog:!1,toneMapped:!1});this.lightPlane=new Dp(r,a),this.add(this.lightPlane),r=new Rn,r.setAttribute("position",new Yt([0,0,0,0,0,1],3)),this.targetLine=new Dp(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Fte.setFromMatrixPosition(this.light.matrixWorld),OR.setFromMatrixPosition(this.light.target.matrixWorld),Ute.subVectors(OR,Fte),this.lightPlane.lookAt(OR),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(OR),this.targetLine.scale.z=Ute.length()}}const zR=new le,jr=new wP;class UZe extends pf{constructor(e){const t=new Rn,i=new ho({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(v,m){l(v),l(m)}function l(v){r.push(0,0,0),a.push(0,0,0),s[v]===void 0&&(s[v]=[]),s[v].push(r.length/3-1)}t.setAttribute("position",new Yt(r,3)),t.setAttribute("color",new Yt(a,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const u=new Et(16755200),c=new Et(16711680),f=new Et(43775),h=new Et(16777215),d=new Et(3355443);this.setColors(u,c,f,h,d)}setColors(e,t,i,r,a){const o=this.geometry.getAttribute("color");return o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,a.r,a.g,a.b),o.setXYZ(41,a.r,a.g,a.b),o.setXYZ(42,a.r,a.g,a.b),o.setXYZ(43,a.r,a.g,a.b),o.setXYZ(44,a.r,a.g,a.b),o.setXYZ(45,a.r,a.g,a.b),o.setXYZ(46,a.r,a.g,a.b),o.setXYZ(47,a.r,a.g,a.b),o.setXYZ(48,a.r,a.g,a.b),o.setXYZ(49,a.r,a.g,a.b),o.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;let a,s;if(jr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,s=0;else if(this.camera.coordinateSystem===Zl)a=-1,s=1;else if(this.camera.coordinateSystem===Nb)a=0,s=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);oa("c",t,e,jr,0,0,a),oa("t",t,e,jr,0,0,s),oa("n1",t,e,jr,-i,-r,a),oa("n2",t,e,jr,i,-r,a),oa("n3",t,e,jr,-i,r,a),oa("n4",t,e,jr,i,r,a),oa("f1",t,e,jr,-i,-r,s),oa("f2",t,e,jr,i,-r,s),oa("f3",t,e,jr,-i,r,s),oa("f4",t,e,jr,i,r,s),oa("u1",t,e,jr,i*.7,r*1.1,a),oa("u2",t,e,jr,-i*.7,r*1.1,a),oa("u3",t,e,jr,0,r*2,a),oa("cf1",t,e,jr,-i,0,s),oa("cf2",t,e,jr,i,0,s),oa("cf3",t,e,jr,0,-r,s),oa("cf4",t,e,jr,0,r,s),oa("cn1",t,e,jr,-i,0,a),oa("cn2",t,e,jr,i,0,a),oa("cn3",t,e,jr,0,-r,a),oa("cn4",t,e,jr,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function oa(n,e,t,i,r,a,s){zR.set(r,a,s).unproject(i);const o=e[n];if(o!==void 0){const l=t.getAttribute("position");for(let u=0,c=o.length;u<c;u++)l.setXYZ(o[u],zR.x,zR.y,zR.z)}}const kR=new Is;class GZe extends pf{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new Rn;a.setIndex(new Mi(i,1)),a.setAttribute("position",new Mi(r,3)),super(a,new ho({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&kR.setFromObject(this.object),kR.isEmpty())return;const e=kR.min,t=kR.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class VZe extends pf{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Rn;a.setIndex(new Mi(i,1)),a.setAttribute("position",new Yt(r,3)),super(a,new ho({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class jZe extends Dp{constructor(e,t=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new Rn;s.setAttribute("position",new Yt(a,3)),s.computeBoundingSphere(),super(s,new ho({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Rn;l.setAttribute("position",new Yt(o,3)),l.computeBoundingSphere(),this.add(new La(l,new Kl({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Gte=new le;let FR,kz;class HZe extends _i{constructor(e=new le(0,0,1),t=new le(0,0,0),i=1,r=16776960,a=i*.2,s=a*.2){super(),this.type="ArrowHelper",FR===void 0&&(FR=new Rn,FR.setAttribute("position",new Yt([0,0,0,0,1,0],3)),kz=new nw(.5,1,5,1),kz.translate(0,-.5,0)),this.position.copy(t),this.line=new Dp(FR,new ho({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new La(kz,new Kl({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Gte.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Gte,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class WZe extends pf{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Rn;r.setAttribute("position",new Yt(t,3)),r.setAttribute("color",new Yt(i,3));const a=new ho({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,t,i){const r=new Et,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class XZe{constructor(){this.type="ShapePath",this.color=new Et,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new eI,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,a,s){return this.currentPath.bezierCurveTo(e,t,i,r,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const b=[];for(let M=0,C=x.length;M<C;M++){const w=x[M],E=new by;E.curves=w.curves,b.push(E)}return b}function i(x,b){const M=b.length;let C=!1;for(let w=M-1,E=0;E<M;w=E++){let L=b[w],P=b[E],I=P.x-L.x,N=P.y-L.y;if(Math.abs(N)>Number.EPSILON){if(N<0&&(L=b[E],I=-I,P=b[w],N=-N),x.y<L.y||x.y>P.y)continue;if(x.y===L.y){if(x.x===L.x)return!0}else{const z=N*(x.x-L.x)-I*(x.y-L.y);if(z===0)return!0;if(z<0)continue;C=!C}}else{if(x.y!==L.y)continue;if(P.x<=x.x&&x.x<=L.x||L.x<=x.x&&x.x<=P.x)return!0}}return C}const r=Zc.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,l;const u=[];if(a.length===1)return o=a[0],l=new by,l.curves=o.curves,u.push(l),u;let c=!r(a[0].getPoints());c=e?!c:c;const f=[],h=[];let d=[],v=0,m;h[v]=void 0,d[v]=[];for(let x=0,b=a.length;x<b;x++)o=a[x],m=o.getPoints(),s=r(m),s=e?!s:s,s?(!c&&h[v]&&v++,h[v]={s:new by,p:m},h[v].s.curves=o.curves,c&&v++,d[v]=[]):d[v].push({h:o,p:m[0]});if(!h[0])return t(a);if(h.length>1){let x=!1,b=0;for(let M=0,C=h.length;M<C;M++)f[M]=[];for(let M=0,C=h.length;M<C;M++){const w=d[M];for(let E=0;E<w.length;E++){const L=w[E];let P=!0;for(let I=0;I<h.length;I++)i(L.p,h[I].p)&&(M!==I&&b++,P?(P=!1,f[I].push(L)):x=!0);P&&f[M].push(L)}}b>0&&x===!1&&(d=f)}let y;for(let x=0,b=h.length;x<b;x++){l=h[x].s,u.push(l),y=d[x];for(let M=0,C=y.length;M<C;M++)l.holes.push(y[M].h)}return u}}class YZe extends Vh{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Lt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function qZe(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function ZZe(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function KZe(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function X8(n,e,t,i){const r=JZe(i);switch(t){case Aj:return n*e;case _P:return n*e/r.components*r.byteLength;case JC:return n*e/r.components*r.byteLength;case bP:return n*e*2/r.components*r.byteLength;case SP:return n*e*2/r.components*r.byteLength;case Mj:return n*e*3/r.components*r.byteLength;case lo:return n*e*4/r.components*r.byteLength;case AP:return n*e*4/r.components*r.byteLength;case Q2:case $2:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case eT:case tT:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case AN:case TN:return Math.max(n,16)*Math.max(e,8)/4;case SN:case MN:return Math.max(n,8)*Math.max(e,8)/2;case CN:case wN:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case EN:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case DN:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case RN:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case LN:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case NN:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case IN:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case PN:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case BN:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case ON:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case zN:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case kN:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case FN:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case UN:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case GN:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case VN:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case jN:case HN:case WN:return Math.ceil(n/4)*Math.ceil(e/4)*16;case XN:case YN:return Math.ceil(n/4)*Math.ceil(e/4)*8;case qN:case ZN:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function JZe(n){switch(n){case tc:case xj:return{byteLength:1,components:1};case Cb:case _j:case Fm:return{byteLength:2,components:1};case yP:case xP:return{byteLength:2,components:4};case Ep:case gP:case Ho:return{byteLength:4,components:1};case bj:case Sj:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class QZe{static contain(e,t){return qZe(e,t)}static cover(e,t){return ZZe(e,t)}static fill(e){return KZe(e)}static getByteLength(e,t,i,r){return X8(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ZC}}));typeof window<"u"&&(window.__THREE__?Lt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ZC);function jme(){let n=null,e=!1,t=null,i=null;function r(a,s){t(a,s),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function $Ze(n){const e=new WeakMap;function t(o,l){const u=o.array,c=o.usage,f=u.byteLength,h=n.createBuffer();n.bindBuffer(l,h),n.bufferData(l,u,c),o.onUploadCallback();let d;if(u instanceof Float32Array)d=n.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)d=n.HALF_FLOAT;else if(u instanceof Uint16Array)o.isFloat16BufferAttribute?d=n.HALF_FLOAT:d=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)d=n.SHORT;else if(u instanceof Uint32Array)d=n.UNSIGNED_INT;else if(u instanceof Int32Array)d=n.INT;else if(u instanceof Int8Array)d=n.BYTE;else if(u instanceof Uint8Array)d=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)d=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:h,type:d,bytesPerElement:u.BYTES_PER_ELEMENT,version:o.version,size:f}}function i(o,l,u){const c=l.array,f=l.updateRanges;if(n.bindBuffer(u,o),f.length===0)n.bufferSubData(u,0,c);else{f.sort((d,v)=>d.start-v.start);let h=0;for(let d=1;d<f.length;d++){const v=f[h],m=f[d];m.start<=v.start+v.count+1?v.count=Math.max(v.count,m.start+m.count-v.start):(++h,f[h]=m)}f.length=h+1;for(let d=0,v=f.length;d<v;d++){const m=f[d];n.bufferSubData(u,m.start*c.BYTES_PER_ELEMENT,c,m.start,m.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(n.deleteBuffer(l.buffer),e.delete(o))}function s(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const c=e.get(o);(!c||c.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const u=e.get(o);if(u===void 0)e.set(o,t(o,l));else if(u.version<o.version){if(u.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(u.buffer,o,l),u.version=o.version}}return{get:r,remove:a,update:s}}var eKe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,tKe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,nKe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,iKe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,rKe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,aKe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,sKe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,oKe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,lKe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,uKe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,cKe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,fKe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,hKe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,dKe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,pKe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,vKe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,mKe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,gKe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,yKe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,xKe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,_Ke=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,bKe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,SKe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,AKe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,MKe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,TKe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,CKe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,wKe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,EKe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,DKe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,RKe="gl_FragColor = linearToOutputTexel( gl_FragColor );",LKe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,NKe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,IKe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,PKe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,BKe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,OKe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,zKe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,kKe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,FKe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,UKe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,GKe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,VKe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,jKe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,HKe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,WKe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,XKe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,YKe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,qKe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,ZKe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,KKe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,JKe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,QKe=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,$Ke=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,eJe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,tJe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,nJe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,iJe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,rJe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,aJe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,sJe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,oJe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,lJe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,uJe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,cJe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,fJe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,hJe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,dJe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,pJe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,vJe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,mJe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,gJe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,yJe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,xJe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_Je=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,bJe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,SJe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,AJe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,MJe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,TJe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,CJe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,wJe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,EJe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,DJe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,RJe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,LJe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,NJe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,IJe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,PJe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,BJe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,OJe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,zJe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,kJe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,FJe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,UJe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,GJe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,VJe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,jJe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,HJe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,WJe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,XJe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,YJe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,qJe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,ZJe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,KJe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,JJe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,QJe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const $Je=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,eQe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tQe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,nQe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,iQe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,rQe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,aQe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,sQe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,oQe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,lQe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,uQe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,cQe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,fQe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,hQe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,dQe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,pQe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vQe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mQe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gQe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,yQe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xQe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,_Qe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,bQe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SQe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AQe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,MQe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TQe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,CQe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wQe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,EQe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,DQe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,RQe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,LQe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,NQe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Hn={alphahash_fragment:eKe,alphahash_pars_fragment:tKe,alphamap_fragment:nKe,alphamap_pars_fragment:iKe,alphatest_fragment:rKe,alphatest_pars_fragment:aKe,aomap_fragment:sKe,aomap_pars_fragment:oKe,batching_pars_vertex:lKe,batching_vertex:uKe,begin_vertex:cKe,beginnormal_vertex:fKe,bsdfs:hKe,iridescence_fragment:dKe,bumpmap_pars_fragment:pKe,clipping_planes_fragment:vKe,clipping_planes_pars_fragment:mKe,clipping_planes_pars_vertex:gKe,clipping_planes_vertex:yKe,color_fragment:xKe,color_pars_fragment:_Ke,color_pars_vertex:bKe,color_vertex:SKe,common:AKe,cube_uv_reflection_fragment:MKe,defaultnormal_vertex:TKe,displacementmap_pars_vertex:CKe,displacementmap_vertex:wKe,emissivemap_fragment:EKe,emissivemap_pars_fragment:DKe,colorspace_fragment:RKe,colorspace_pars_fragment:LKe,envmap_fragment:NKe,envmap_common_pars_fragment:IKe,envmap_pars_fragment:PKe,envmap_pars_vertex:BKe,envmap_physical_pars_fragment:XKe,envmap_vertex:OKe,fog_vertex:zKe,fog_pars_vertex:kKe,fog_fragment:FKe,fog_pars_fragment:UKe,gradientmap_pars_fragment:GKe,lightmap_pars_fragment:VKe,lights_lambert_fragment:jKe,lights_lambert_pars_fragment:HKe,lights_pars_begin:WKe,lights_toon_fragment:YKe,lights_toon_pars_fragment:qKe,lights_phong_fragment:ZKe,lights_phong_pars_fragment:KKe,lights_physical_fragment:JKe,lights_physical_pars_fragment:QKe,lights_fragment_begin:$Ke,lights_fragment_maps:eJe,lights_fragment_end:tJe,logdepthbuf_fragment:nJe,logdepthbuf_pars_fragment:iJe,logdepthbuf_pars_vertex:rJe,logdepthbuf_vertex:aJe,map_fragment:sJe,map_pars_fragment:oJe,map_particle_fragment:lJe,map_particle_pars_fragment:uJe,metalnessmap_fragment:cJe,metalnessmap_pars_fragment:fJe,morphinstance_vertex:hJe,morphcolor_vertex:dJe,morphnormal_vertex:pJe,morphtarget_pars_vertex:vJe,morphtarget_vertex:mJe,normal_fragment_begin:gJe,normal_fragment_maps:yJe,normal_pars_fragment:xJe,normal_pars_vertex:_Je,normal_vertex:bJe,normalmap_pars_fragment:SJe,clearcoat_normal_fragment_begin:AJe,clearcoat_normal_fragment_maps:MJe,clearcoat_pars_fragment:TJe,iridescence_pars_fragment:CJe,opaque_fragment:wJe,packing:EJe,premultiplied_alpha_fragment:DJe,project_vertex:RJe,dithering_fragment:LJe,dithering_pars_fragment:NJe,roughnessmap_fragment:IJe,roughnessmap_pars_fragment:PJe,shadowmap_pars_fragment:BJe,shadowmap_pars_vertex:OJe,shadowmap_vertex:zJe,shadowmask_pars_fragment:kJe,skinbase_vertex:FJe,skinning_pars_vertex:UJe,skinning_vertex:GJe,skinnormal_vertex:VJe,specularmap_fragment:jJe,specularmap_pars_fragment:HJe,tonemapping_fragment:WJe,tonemapping_pars_fragment:XJe,transmission_fragment:YJe,transmission_pars_fragment:qJe,uv_pars_fragment:ZJe,uv_pars_vertex:KJe,uv_vertex:JJe,worldpos_vertex:QJe,background_vert:$Je,background_frag:eQe,backgroundCube_vert:tQe,backgroundCube_frag:nQe,cube_vert:iQe,cube_frag:rQe,depth_vert:aQe,depth_frag:sQe,distanceRGBA_vert:oQe,distanceRGBA_frag:lQe,equirect_vert:uQe,equirect_frag:cQe,linedashed_vert:fQe,linedashed_frag:hQe,meshbasic_vert:dQe,meshbasic_frag:pQe,meshlambert_vert:vQe,meshlambert_frag:mQe,meshmatcap_vert:gQe,meshmatcap_frag:yQe,meshnormal_vert:xQe,meshnormal_frag:_Qe,meshphong_vert:bQe,meshphong_frag:SQe,meshphysical_vert:AQe,meshphysical_frag:MQe,meshtoon_vert:TQe,meshtoon_frag:CQe,points_vert:wQe,points_frag:EQe,shadow_vert:DQe,shadow_frag:RQe,sprite_vert:LQe,sprite_frag:NQe},Rt={common:{diffuse:{value:new Et(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new kn},alphaMap:{value:null},alphaMapTransform:{value:new kn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new kn}},envmap:{envMap:{value:null},envMapRotation:{value:new kn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new kn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new kn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new kn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new kn},normalScale:{value:new Ke(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new kn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new kn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new kn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new kn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new kn},alphaTest:{value:0},uvTransform:{value:new kn}},sprite:{diffuse:{value:new Et(16777215)},opacity:{value:1},center:{value:new Ke(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new kn},alphaMap:{value:null},alphaMapTransform:{value:new kn},alphaTest:{value:0}}},Hc={basic:{uniforms:Bo([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.fog]),vertexShader:Hn.meshbasic_vert,fragmentShader:Hn.meshbasic_frag},lambert:{uniforms:Bo([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.fog,Rt.lights,{emissive:{value:new Et(0)}}]),vertexShader:Hn.meshlambert_vert,fragmentShader:Hn.meshlambert_frag},phong:{uniforms:Bo([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.fog,Rt.lights,{emissive:{value:new Et(0)},specular:{value:new Et(1118481)},shininess:{value:30}}]),vertexShader:Hn.meshphong_vert,fragmentShader:Hn.meshphong_frag},standard:{uniforms:Bo([Rt.common,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.roughnessmap,Rt.metalnessmap,Rt.fog,Rt.lights,{emissive:{value:new Et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Hn.meshphysical_vert,fragmentShader:Hn.meshphysical_frag},toon:{uniforms:Bo([Rt.common,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.gradientmap,Rt.fog,Rt.lights,{emissive:{value:new Et(0)}}]),vertexShader:Hn.meshtoon_vert,fragmentShader:Hn.meshtoon_frag},matcap:{uniforms:Bo([Rt.common,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.fog,{matcap:{value:null}}]),vertexShader:Hn.meshmatcap_vert,fragmentShader:Hn.meshmatcap_frag},points:{uniforms:Bo([Rt.points,Rt.fog]),vertexShader:Hn.points_vert,fragmentShader:Hn.points_frag},dashed:{uniforms:Bo([Rt.common,Rt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Hn.linedashed_vert,fragmentShader:Hn.linedashed_frag},depth:{uniforms:Bo([Rt.common,Rt.displacementmap]),vertexShader:Hn.depth_vert,fragmentShader:Hn.depth_frag},normal:{uniforms:Bo([Rt.common,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,{opacity:{value:1}}]),vertexShader:Hn.meshnormal_vert,fragmentShader:Hn.meshnormal_frag},sprite:{uniforms:Bo([Rt.sprite,Rt.fog]),vertexShader:Hn.sprite_vert,fragmentShader:Hn.sprite_frag},background:{uniforms:{uvTransform:{value:new kn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Hn.background_vert,fragmentShader:Hn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new kn}},vertexShader:Hn.backgroundCube_vert,fragmentShader:Hn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Hn.cube_vert,fragmentShader:Hn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Hn.equirect_vert,fragmentShader:Hn.equirect_frag},distanceRGBA:{uniforms:Bo([Rt.common,Rt.displacementmap,{referencePosition:{value:new le},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Hn.distanceRGBA_vert,fragmentShader:Hn.distanceRGBA_frag},shadow:{uniforms:Bo([Rt.lights,Rt.fog,{color:{value:new Et(0)},opacity:{value:1}}]),vertexShader:Hn.shadow_vert,fragmentShader:Hn.shadow_frag}};Hc.physical={uniforms:Bo([Hc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new kn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new kn},clearcoatNormalScale:{value:new Ke(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new kn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new kn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new kn},sheen:{value:0},sheenColor:{value:new Et(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new kn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new kn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new kn},transmissionSamplerSize:{value:new Ke},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new kn},attenuationDistance:{value:0},attenuationColor:{value:new Et(0)},specularColor:{value:new Et(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new kn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new kn},anisotropyVector:{value:new Ke},anisotropyMap:{value:null},anisotropyMapTransform:{value:new kn}}]),vertexShader:Hn.meshphysical_vert,fragmentShader:Hn.meshphysical_frag};const UR={r:0,b:0,g:0},S0=new uf,IQe=new vn;function PQe(n,e,t,i,r,a,s){const o=new Et(0);let l=a===!0?0:1,u,c,f=null,h=0,d=null;function v(M){let C=M.isScene===!0?M.background:null;return C&&C.isTexture&&(C=(M.backgroundBlurriness>0?t:e).get(C)),C}function m(M){let C=!1;const w=v(M);w===null?x(o,l):w&&w.isColor&&(x(w,1),C=!0);const E=n.xr.getEnvironmentBlendMode();E==="additive"?i.buffers.color.setClear(0,0,0,1,s):E==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,s),(n.autoClear||C)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function y(M,C){const w=v(C);w&&(w.isCubeTexture||w.mapping===_S)?(c===void 0&&(c=new La(new ix(1,1,1),new nc({name:"BackgroundCubeMaterial",uniforms:Ob(Hc.backgroundCube.uniforms),vertexShader:Hc.backgroundCube.vertexShader,fragmentShader:Hc.backgroundCube.fragmentShader,side:Xo,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(E,L,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),S0.copy(C.backgroundRotation),S0.x*=-1,S0.y*=-1,S0.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(S0.y*=-1,S0.z*=-1),c.material.uniforms.envMap.value=w,c.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=C.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(IQe.makeRotationFromEuler(S0)),c.material.toneMapped=gi.getTransfer(w.colorSpace)!==Hi,(f!==w||h!==w.version||d!==n.toneMapping)&&(c.material.needsUpdate=!0,f=w,h=w.version,d=n.toneMapping),c.layers.enableAll(),M.unshift(c,c.geometry,c.material,0,0,null)):w&&w.isTexture&&(u===void 0&&(u=new La(new SS(2,2),new nc({name:"BackgroundMaterial",uniforms:Ob(Hc.background.uniforms),vertexShader:Hc.background.vertexShader,fragmentShader:Hc.background.fragmentShader,side:zh,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=w,u.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,u.material.toneMapped=gi.getTransfer(w.colorSpace)!==Hi,w.matrixAutoUpdate===!0&&w.updateMatrix(),u.material.uniforms.uvTransform.value.copy(w.matrix),(f!==w||h!==w.version||d!==n.toneMapping)&&(u.material.needsUpdate=!0,f=w,h=w.version,d=n.toneMapping),u.layers.enableAll(),M.unshift(u,u.geometry,u.material,0,0,null))}function x(M,C){M.getRGB(UR,qve(n)),i.buffers.color.setClear(UR.r,UR.g,UR.b,C,s)}function b(){c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return o},setClearColor:function(M,C=1){o.set(M),l=C,x(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(M){l=M,x(o,l)},render:m,addToRenderList:y,dispose:b}}function BQe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=h(null);let a=r,s=!1;function o(N,z,V,U,j){let W=!1;const G=f(U,V,z);a!==G&&(a=G,u(a.object)),W=d(N,U,V,j),W&&v(N,U,V,j),j!==null&&e.update(j,n.ELEMENT_ARRAY_BUFFER),(W||s)&&(s=!1,C(N,z,V,U),j!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(j).buffer))}function l(){return n.createVertexArray()}function u(N){return n.bindVertexArray(N)}function c(N){return n.deleteVertexArray(N)}function f(N,z,V){const U=V.wireframe===!0;let j=i[N.id];j===void 0&&(j={},i[N.id]=j);let W=j[z.id];W===void 0&&(W={},j[z.id]=W);let G=W[U];return G===void 0&&(G=h(l()),W[U]=G),G}function h(N){const z=[],V=[],U=[];for(let j=0;j<t;j++)z[j]=0,V[j]=0,U[j]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:z,enabledAttributes:V,attributeDivisors:U,object:N,attributes:{},index:null}}function d(N,z,V,U){const j=a.attributes,W=z.attributes;let G=0;const X=V.getAttributes();for(const q in X)if(X[q].location>=0){const te=j[q];let J=W[q];if(J===void 0&&(q==="instanceMatrix"&&N.instanceMatrix&&(J=N.instanceMatrix),q==="instanceColor"&&N.instanceColor&&(J=N.instanceColor)),te===void 0||te.attribute!==J||J&&te.data!==J.data)return!0;G++}return a.attributesNum!==G||a.index!==U}function v(N,z,V,U){const j={},W=z.attributes;let G=0;const X=V.getAttributes();for(const q in X)if(X[q].location>=0){let te=W[q];te===void 0&&(q==="instanceMatrix"&&N.instanceMatrix&&(te=N.instanceMatrix),q==="instanceColor"&&N.instanceColor&&(te=N.instanceColor));const J={};J.attribute=te,te&&te.data&&(J.data=te.data),j[q]=J,G++}a.attributes=j,a.attributesNum=G,a.index=U}function m(){const N=a.newAttributes;for(let z=0,V=N.length;z<V;z++)N[z]=0}function y(N){x(N,0)}function x(N,z){const V=a.newAttributes,U=a.enabledAttributes,j=a.attributeDivisors;V[N]=1,U[N]===0&&(n.enableVertexAttribArray(N),U[N]=1),j[N]!==z&&(n.vertexAttribDivisor(N,z),j[N]=z)}function b(){const N=a.newAttributes,z=a.enabledAttributes;for(let V=0,U=z.length;V<U;V++)z[V]!==N[V]&&(n.disableVertexAttribArray(V),z[V]=0)}function M(N,z,V,U,j,W,G){G===!0?n.vertexAttribIPointer(N,z,V,j,W):n.vertexAttribPointer(N,z,V,U,j,W)}function C(N,z,V,U){m();const j=U.attributes,W=V.getAttributes(),G=z.defaultAttributeValues;for(const X in W){const q=W[X];if(q.location>=0){let $=j[X];if($===void 0&&(X==="instanceMatrix"&&N.instanceMatrix&&($=N.instanceMatrix),X==="instanceColor"&&N.instanceColor&&($=N.instanceColor)),$!==void 0){const te=$.normalized,J=$.itemSize,Q=e.get($);if(Q===void 0)continue;const se=Q.buffer,ce=Q.type,ue=Q.bytesPerElement,fe=ce===n.INT||ce===n.UNSIGNED_INT||$.gpuType===gP;if($.isInterleavedBufferAttribute){const ge=$.data,Se=ge.stride,Ee=$.offset;if(ge.isInstancedInterleavedBuffer){for(let Ue=0;Ue<q.locationSize;Ue++)x(q.location+Ue,ge.meshPerAttribute);N.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=ge.meshPerAttribute*ge.count)}else for(let Ue=0;Ue<q.locationSize;Ue++)y(q.location+Ue);n.bindBuffer(n.ARRAY_BUFFER,se);for(let Ue=0;Ue<q.locationSize;Ue++)M(q.location+Ue,J/q.locationSize,ce,te,Se*ue,(Ee+J/q.locationSize*Ue)*ue,fe)}else{if($.isInstancedBufferAttribute){for(let ge=0;ge<q.locationSize;ge++)x(q.location+ge,$.meshPerAttribute);N.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=$.meshPerAttribute*$.count)}else for(let ge=0;ge<q.locationSize;ge++)y(q.location+ge);n.bindBuffer(n.ARRAY_BUFFER,se);for(let ge=0;ge<q.locationSize;ge++)M(q.location+ge,J/q.locationSize,ce,te,J*ue,J/q.locationSize*ge*ue,fe)}}else if(G!==void 0){const te=G[X];if(te!==void 0)switch(te.length){case 2:n.vertexAttrib2fv(q.location,te);break;case 3:n.vertexAttrib3fv(q.location,te);break;case 4:n.vertexAttrib4fv(q.location,te);break;default:n.vertexAttrib1fv(q.location,te)}}}}b()}function w(){P();for(const N in i){const z=i[N];for(const V in z){const U=z[V];for(const j in U)c(U[j].object),delete U[j];delete z[V]}delete i[N]}}function E(N){if(i[N.id]===void 0)return;const z=i[N.id];for(const V in z){const U=z[V];for(const j in U)c(U[j].object),delete U[j];delete z[V]}delete i[N.id]}function L(N){for(const z in i){const V=i[z];if(V[N.id]===void 0)continue;const U=V[N.id];for(const j in U)c(U[j].object),delete U[j];delete V[N.id]}}function P(){I(),s=!0,a!==r&&(a=r,u(a.object))}function I(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:P,resetDefaultState:I,dispose:w,releaseStatesOfGeometry:E,releaseStatesOfProgram:L,initAttributes:m,enableAttribute:y,disableUnusedAttributes:b}}function OQe(n,e,t){let i;function r(u){i=u}function a(u,c){n.drawArrays(i,u,c),t.update(c,i,1)}function s(u,c,f){f!==0&&(n.drawArraysInstanced(i,u,c,f),t.update(c,i,f))}function o(u,c,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,u,0,c,0,f);let d=0;for(let v=0;v<f;v++)d+=c[v];t.update(d,i,1)}function l(u,c,f,h){if(f===0)return;const d=e.get("WEBGL_multi_draw");if(d===null)for(let v=0;v<u.length;v++)s(u[v],c[v],h[v]);else{d.multiDrawArraysInstancedWEBGL(i,u,0,c,0,h,0,f);let v=0;for(let m=0;m<f;m++)v+=c[m]*h[m];t.update(v,i,1)}}this.setMode=r,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function zQe(n,e,t,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(L){return!(L!==lo&&i.convert(L)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(L){const P=L===Fm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(L!==tc&&i.convert(L)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&L!==Ho&&!P)}function l(L){if(L==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";L="mediump"}return L==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const c=l(u);c!==u&&(Lt("WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);const f=t.logarithmicDepthBuffer===!0,h=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),b=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),M=n.getParameter(n.MAX_VARYING_VECTORS),C=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),w=v>0,E=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:o,precision:u,logarithmicDepthBuffer:f,reversedDepthBuffer:h,maxTextures:d,maxVertexTextures:v,maxTextureSize:m,maxCubemapSize:y,maxAttributes:x,maxVertexUniforms:b,maxVaryings:M,maxFragmentUniforms:C,vertexTextures:w,maxSamples:E}}function kQe(n){const e=this;let t=null,i=0,r=!1,a=!1;const s=new Wd,o=new kn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const d=f.length!==0||h||i!==0||r;return r=h,i=f.length,d},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,h){t=c(f,h,0)},this.setState=function(f,h,d){const v=f.clippingPlanes,m=f.clipIntersection,y=f.clipShadows,x=n.get(f);if(!r||v===null||v.length===0||a&&!y)a?c(null):u();else{const b=a?0:i,M=b*4;let C=x.clippingState||null;l.value=C,C=c(v,h,M,d);for(let w=0;w!==M;++w)C[w]=t[w];x.clippingState=C,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=b}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function c(f,h,d,v){const m=f!==null?f.length:0;let y=null;if(m!==0){if(y=l.value,v!==!0||y===null){const x=d+m*4,b=h.matrixWorldInverse;o.getNormalMatrix(b),(y===null||y.length<x)&&(y=new Float32Array(x));for(let M=0,C=d;M!==m;++M,C+=4)s.copy(f[M]).applyMatrix4(b,o),s.normal.toArray(y,C),y[C+3]=s.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,y}}function FQe(n){let e=new WeakMap;function t(s,o){return o===iC?s.mapping=wp:o===rC&&(s.mapping=Cm),s}function i(s){if(s&&s.isTexture){const o=s.mapping;if(o===iC||o===rC)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const u=new Jve(l.height);return u.fromEquirectangularTexture(n,s),e.set(s,u),s.addEventListener("dispose",r),t(u.texture,s.mapping)}else return null}}return s}function r(s){const o=s.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const tm=4,Vte=[.125,.215,.35,.446,.526,.582],U0=20,UQe=256,JM=new up,jte=new Et;let Fz=null,Uz=0,Gz=0,Vz=!1;const GQe=new le;class Y8{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,i=.1,r=100,a={}){const{size:s=256,position:o=GQe}=a;Fz=this._renderer.getRenderTarget(),Uz=this._renderer.getActiveCubeFace(),Gz=this._renderer.getActiveMipmapLevel(),Vz=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,i,r,l,o),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Xte(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Wte(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(Fz,Uz,Gz),this._renderer.xr.enabled=Vz,e.scissorTest=!1,u1(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===wp||e.mapping===Cm?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Fz=this._renderer.getRenderTarget(),Uz=this._renderer.getActiveCubeFace(),Gz=this._renderer.getActiveMipmapLevel(),Vz=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:hr,minFilter:hr,generateMipmaps:!1,type:Fm,format:lo,colorSpace:Em,depthBuffer:!1},r=Hte(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Hte(e,t,i);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=VQe(a)),this._blurMaterial=HQe(a,e,t),this._ggxMaterial=jQe(a,e,t)}return r}_compileMaterial(e){const t=new La(new Rn,e);this._renderer.compile(t,JM)}_sceneToCubeUV(e,t,i,r,a){const l=new qr(90,1,t,i),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,d=f.toneMapping;f.getClearColor(jte),f.toneMapping=Eh,f.autoClear=!1,f.state.buffers.depth.getReversed()&&(f.setRenderTarget(r),f.clearDepth(),f.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new La(new ix,new Kl({name:"PMREM.Background",side:Xo,depthWrite:!1,depthTest:!1})));const m=this._backgroundBox,y=m.material;let x=!1;const b=e.background;b?b.isColor&&(y.color.copy(b),e.background=null,x=!0):(y.color.copy(jte),x=!0);for(let M=0;M<6;M++){const C=M%3;C===0?(l.up.set(0,u[M],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x+c[M],a.y,a.z)):C===1?(l.up.set(0,0,u[M]),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y+c[M],a.z)):(l.up.set(0,u[M],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y,a.z+c[M]));const w=this._cubeSize;u1(r,C*w,M>2?w:0,w,w),f.setRenderTarget(r),x&&f.render(m,l),f.render(e,l)}f.toneMapping=d,f.autoClear=h,e.background=b}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===wp||e.mapping===Cm;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Xte()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Wte());const a=r?this._cubemapMaterial:this._equirectMaterial,s=this._lodMeshes[0];s.material=a;const o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;u1(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(s,JM)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodMeshes.length;for(let a=1;a<r;a++)this._applyGGXFilter(e,a-1,a);t.autoClear=i}_applyGGXFilter(e,t,i){const r=this._renderer,a=this._pingPongRenderTarget,s=this._ggxMaterial,o=this._lodMeshes[i];o.material=s;const l=s.uniforms,u=i/(this._lodMeshes.length-1),c=t/(this._lodMeshes.length-1),f=Math.sqrt(u*u-c*c),h=.05+u*.95,d=f*h,{_lodMax:v}=this,m=this._sizeLods[i],y=3*m*(i>v-tm?i-v+tm:0),x=4*(this._cubeSize-m);l.envMap.value=e.texture,l.roughness.value=d,l.mipInt.value=v-t,u1(a,y,x,3*m,2*m),r.setRenderTarget(a),r.render(o,JM),l.envMap.value=a.texture,l.roughness.value=0,l.mipInt.value=v-i,u1(e,y,x,3*m,2*m),r.setRenderTarget(e),r.render(o,JM)}_blur(e,t,i,r,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,i,r,"latitudinal",a),this._halfBlur(s,e,i,i,r,"longitudinal",a)}_halfBlur(e,t,i,r,a,s,o){const l=this._renderer,u=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&Cn("blur direction must be either latitudinal or longitudinal!");const c=3,f=this._lodMeshes[r];f.material=u;const h=u.uniforms,d=this._sizeLods[i]-1,v=isFinite(a)?Math.PI/(2*d):2*Math.PI/(2*U0-1),m=a/v,y=isFinite(a)?1+Math.floor(c*m):U0;y>U0&&Lt(`sigmaRadians, ${a}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${U0}`);const x=[];let b=0;for(let L=0;L<U0;++L){const P=L/m,I=Math.exp(-P*P/2);x.push(I),L===0?b+=I:L<y&&(b+=2*I)}for(let L=0;L<x.length;L++)x[L]=x[L]/b;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=x,h.latitudinal.value=s==="latitudinal",o&&(h.poleAxis.value=o);const{_lodMax:M}=this;h.dTheta.value=v,h.mipInt.value=M-i;const C=this._sizeLods[r],w=3*C*(r>M-tm?r-M+tm:0),E=4*(this._cubeSize-C);u1(t,w,E,3*C,2*C),l.setRenderTarget(t),l.render(f,JM)}}function VQe(n){const e=[],t=[],i=[];let r=n;const a=n-tm+1+Vte.length;for(let s=0;s<a;s++){const o=Math.pow(2,r);e.push(o);let l=1/o;s>n-tm?l=Vte[s-n+tm-1]:s===0&&(l=0),t.push(l);const u=1/(o-2),c=-u,f=1+u,h=[c,c,f,c,f,f,c,c,f,f,c,f],d=6,v=6,m=3,y=2,x=1,b=new Float32Array(m*v*d),M=new Float32Array(y*v*d),C=new Float32Array(x*v*d);for(let E=0;E<d;E++){const L=E%3*2/3-1,P=E>2?0:-1,I=[L,P,0,L+2/3,P,0,L+2/3,P+1,0,L,P,0,L+2/3,P+1,0,L,P+1,0];b.set(I,m*v*E),M.set(h,y*v*E);const N=[E,E,E,E,E,E];C.set(N,x*v*E)}const w=new Rn;w.setAttribute("position",new Mi(b,m)),w.setAttribute("uv",new Mi(M,y)),w.setAttribute("faceIndex",new Mi(C,x)),i.push(new La(w,null)),r>tm&&r--}return{lodMeshes:i,sizeLods:e,sigmas:t}}function Hte(n,e,t){const i=new lf(n,e,t);return i.texture.mapping=_S,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function u1(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function jQe(n,e,t){return new nc({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:UQe,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:ZP(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:wh,depthTest:!1,depthWrite:!1})}function HQe(n,e,t){const i=new Float32Array(U0),r=new le(0,1,0);return new nc({name:"SphericalGaussianBlur",defines:{n:U0,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:ZP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:wh,depthTest:!1,depthWrite:!1})}function Wte(){return new nc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:ZP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:wh,depthTest:!1,depthWrite:!1})}function Xte(){return new nc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:ZP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:wh,depthTest:!1,depthWrite:!1})}function ZP(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WQe(n){let e=new WeakMap,t=null;function i(o){if(o&&o.isTexture){const l=o.mapping,u=l===iC||l===rC,c=l===wp||l===Cm;if(u||c){let f=e.get(o);const h=f!==void 0?f.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==h)return t===null&&(t=new Y8(n)),f=u?t.fromEquirectangular(o,f):t.fromCubemap(o,f),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),f.texture;if(f!==void 0)return f.texture;{const d=o.image;return u&&d&&d.height>0||c&&d&&r(d)?(t===null&&(t=new Y8(n)),f=u?t.fromEquirectangular(o):t.fromCubemap(o),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),o.addEventListener("dispose",a),f.texture):null}}}return o}function r(o){let l=0;const u=6;for(let c=0;c<u;c++)o[c]!==void 0&&l++;return l===u}function a(o){const l=o.target;l.removeEventListener("dispose",a);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:s}}function XQe(n){const e={};function t(i){if(e[i]!==void 0)return e[i];const r=n.getExtension(i);return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&Ib("WebGLRenderer: "+i+" extension not supported."),r}}}function YQe(n,e,t,i){const r={},a=new WeakMap;function s(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const v in h.attributes)e.remove(h.attributes[v]);h.removeEventListener("dispose",s),delete r[h.id];const d=a.get(h);d&&(e.remove(d),a.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function o(f,h){return r[h.id]===!0||(h.addEventListener("dispose",s),r[h.id]=!0,t.memory.geometries++),h}function l(f){const h=f.attributes;for(const d in h)e.update(h[d],n.ARRAY_BUFFER)}function u(f){const h=[],d=f.index,v=f.attributes.position;let m=0;if(d!==null){const b=d.array;m=d.version;for(let M=0,C=b.length;M<C;M+=3){const w=b[M+0],E=b[M+1],L=b[M+2];h.push(w,E,E,L,L,w)}}else if(v!==void 0){const b=v.array;m=v.version;for(let M=0,C=b.length/3-1;M<C;M+=3){const w=M+0,E=M+1,L=M+2;h.push(w,E,E,L,L,w)}}else return;const y=new(Vve(h)?Lj:Rj)(h,1);y.version=m;const x=a.get(f);x&&e.remove(x),a.set(f,y)}function c(f){const h=a.get(f);if(h){const d=f.index;d!==null&&h.version<d.version&&u(f)}else u(f);return a.get(f)}return{get:o,update:l,getWireframeAttribute:c}}function qQe(n,e,t){let i;function r(h){i=h}let a,s;function o(h){a=h.type,s=h.bytesPerElement}function l(h,d){n.drawElements(i,d,a,h*s),t.update(d,i,1)}function u(h,d,v){v!==0&&(n.drawElementsInstanced(i,d,a,h*s,v),t.update(d,i,v))}function c(h,d,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,d,0,a,h,0,v);let y=0;for(let x=0;x<v;x++)y+=d[x];t.update(y,i,1)}function f(h,d,v,m){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let x=0;x<h.length;x++)u(h[x]/s,d[x],m[x]);else{y.multiDrawElementsInstancedWEBGL(i,d,0,a,h,0,m,0,v);let x=0;for(let b=0;b<v;b++)x+=d[b]*m[b];t.update(x,i,1)}}this.setMode=r,this.setIndex=o,this.render=l,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function ZQe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,s,o){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=o*(a/3);break;case n.LINES:t.lines+=o*(a/2);break;case n.LINE_STRIP:t.lines+=o*(a-1);break;case n.LINE_LOOP:t.lines+=o*a;break;case n.POINTS:t.points+=o*a;break;default:Cn("WebGLInfo: Unknown draw mode:",s);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function KQe(n,e,t){const i=new WeakMap,r=new Ai;function a(s,o,l){const u=s.morphTargetInfluences,c=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,f=c!==void 0?c.length:0;let h=i.get(o);if(h===void 0||h.count!==f){let N=function(){P.dispose(),i.delete(o),o.removeEventListener("dispose",N)};var d=N;h!==void 0&&h.texture.dispose();const v=o.morphAttributes.position!==void 0,m=o.morphAttributes.normal!==void 0,y=o.morphAttributes.color!==void 0,x=o.morphAttributes.position||[],b=o.morphAttributes.normal||[],M=o.morphAttributes.color||[];let C=0;v===!0&&(C=1),m===!0&&(C=2),y===!0&&(C=3);let w=o.attributes.position.count*C,E=1;w>e.maxTextureSize&&(E=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const L=new Float32Array(w*E*4*f),P=new TP(L,w,E,f);P.type=Ho,P.needsUpdate=!0;const I=C*4;for(let z=0;z<f;z++){const V=x[z],U=b[z],j=M[z],W=w*E*4*z;for(let G=0;G<V.count;G++){const X=G*I;v===!0&&(r.fromBufferAttribute(V,G),L[W+X+0]=r.x,L[W+X+1]=r.y,L[W+X+2]=r.z,L[W+X+3]=0),m===!0&&(r.fromBufferAttribute(U,G),L[W+X+4]=r.x,L[W+X+5]=r.y,L[W+X+6]=r.z,L[W+X+7]=0),y===!0&&(r.fromBufferAttribute(j,G),L[W+X+8]=r.x,L[W+X+9]=r.y,L[W+X+10]=r.z,L[W+X+11]=j.itemSize===4?r.w:1)}}h={count:f,texture:P,size:new Ke(w,E)},i.set(o,h),o.addEventListener("dispose",N)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",s.morphTexture,t);else{let v=0;for(let y=0;y<u.length;y++)v+=u[y];const m=o.morphTargetsRelative?1:1-v;l.getUniforms().setValue(n,"morphTargetBaseInfluence",m),l.getUniforms().setValue(n,"morphTargetInfluences",u)}l.getUniforms().setValue(n,"morphTargetsTexture",h.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",h.size)}return{update:a}}function JQe(n,e,t,i){let r=new WeakMap;function a(l){const u=i.render.frame,c=l.geometry,f=e.get(l,c);if(r.get(f)!==u&&(e.update(f),r.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==u&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,u))),l.isSkinnedMesh){const h=l.skeleton;r.get(h)!==u&&(h.update(),r.set(h,u))}return f}function s(){r=new WeakMap}function o(l){const u=l.target;u.removeEventListener("dispose",o),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:a,dispose:s}}const Hme=new Mr,Yte=new PP(1,1),Wme=new TP,Xme=new CP,Yme=new QC,qte=[],Zte=[],Kte=new Float32Array(16),Jte=new Float32Array(9),Qte=new Float32Array(4);function MS(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let a=qte[r];if(a===void 0&&(a=new Float32Array(r),qte[r]=a),e!==0){i.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,n[s].toArray(a,o)}return a}function Ya(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function qa(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function KP(n,e){let t=Zte[e];t===void 0&&(t=new Int32Array(e),Zte[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function QQe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function $Qe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ya(t,e))return;n.uniform2fv(this.addr,e),qa(t,e)}}function e$e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ya(t,e))return;n.uniform3fv(this.addr,e),qa(t,e)}}function t$e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ya(t,e))return;n.uniform4fv(this.addr,e),qa(t,e)}}function n$e(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ya(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),qa(t,e)}else{if(Ya(t,i))return;Qte.set(i),n.uniformMatrix2fv(this.addr,!1,Qte),qa(t,i)}}function i$e(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ya(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),qa(t,e)}else{if(Ya(t,i))return;Jte.set(i),n.uniformMatrix3fv(this.addr,!1,Jte),qa(t,i)}}function r$e(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ya(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),qa(t,e)}else{if(Ya(t,i))return;Kte.set(i),n.uniformMatrix4fv(this.addr,!1,Kte),qa(t,i)}}function a$e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function s$e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ya(t,e))return;n.uniform2iv(this.addr,e),qa(t,e)}}function o$e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ya(t,e))return;n.uniform3iv(this.addr,e),qa(t,e)}}function l$e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ya(t,e))return;n.uniform4iv(this.addr,e),qa(t,e)}}function u$e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function c$e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ya(t,e))return;n.uniform2uiv(this.addr,e),qa(t,e)}}function f$e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ya(t,e))return;n.uniform3uiv(this.addr,e),qa(t,e)}}function h$e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ya(t,e))return;n.uniform4uiv(this.addr,e),qa(t,e)}}function d$e(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let a;this.type===n.SAMPLER_2D_SHADOW?(Yte.compareFunction=wj,a=Yte):a=Hme,t.setTexture2D(e||a,r)}function p$e(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||Xme,r)}function v$e(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||Yme,r)}function m$e(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||Wme,r)}function g$e(n){switch(n){case 5126:return QQe;case 35664:return $Qe;case 35665:return e$e;case 35666:return t$e;case 35674:return n$e;case 35675:return i$e;case 35676:return r$e;case 5124:case 35670:return a$e;case 35667:case 35671:return s$e;case 35668:case 35672:return o$e;case 35669:case 35673:return l$e;case 5125:return u$e;case 36294:return c$e;case 36295:return f$e;case 36296:return h$e;case 35678:case 36198:case 36298:case 36306:case 35682:return d$e;case 35679:case 36299:case 36307:return p$e;case 35680:case 36300:case 36308:case 36293:return v$e;case 36289:case 36303:case 36311:case 36292:return m$e}}function y$e(n,e){n.uniform1fv(this.addr,e)}function x$e(n,e){const t=MS(e,this.size,2);n.uniform2fv(this.addr,t)}function _$e(n,e){const t=MS(e,this.size,3);n.uniform3fv(this.addr,t)}function b$e(n,e){const t=MS(e,this.size,4);n.uniform4fv(this.addr,t)}function S$e(n,e){const t=MS(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function A$e(n,e){const t=MS(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function M$e(n,e){const t=MS(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function T$e(n,e){n.uniform1iv(this.addr,e)}function C$e(n,e){n.uniform2iv(this.addr,e)}function w$e(n,e){n.uniform3iv(this.addr,e)}function E$e(n,e){n.uniform4iv(this.addr,e)}function D$e(n,e){n.uniform1uiv(this.addr,e)}function R$e(n,e){n.uniform2uiv(this.addr,e)}function L$e(n,e){n.uniform3uiv(this.addr,e)}function N$e(n,e){n.uniform4uiv(this.addr,e)}function I$e(n,e,t){const i=this.cache,r=e.length,a=KP(t,r);Ya(i,a)||(n.uniform1iv(this.addr,a),qa(i,a));for(let s=0;s!==r;++s)t.setTexture2D(e[s]||Hme,a[s])}function P$e(n,e,t){const i=this.cache,r=e.length,a=KP(t,r);Ya(i,a)||(n.uniform1iv(this.addr,a),qa(i,a));for(let s=0;s!==r;++s)t.setTexture3D(e[s]||Xme,a[s])}function B$e(n,e,t){const i=this.cache,r=e.length,a=KP(t,r);Ya(i,a)||(n.uniform1iv(this.addr,a),qa(i,a));for(let s=0;s!==r;++s)t.setTextureCube(e[s]||Yme,a[s])}function O$e(n,e,t){const i=this.cache,r=e.length,a=KP(t,r);Ya(i,a)||(n.uniform1iv(this.addr,a),qa(i,a));for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||Wme,a[s])}function z$e(n){switch(n){case 5126:return y$e;case 35664:return x$e;case 35665:return _$e;case 35666:return b$e;case 35674:return S$e;case 35675:return A$e;case 35676:return M$e;case 5124:case 35670:return T$e;case 35667:case 35671:return C$e;case 35668:case 35672:return w$e;case 35669:case 35673:return E$e;case 5125:return D$e;case 36294:return R$e;case 36295:return L$e;case 36296:return N$e;case 35678:case 36198:case 36298:case 36306:case 35682:return I$e;case 35679:case 36299:case 36307:return P$e;case 35680:case 36300:case 36308:case 36293:return B$e;case 36289:case 36303:case 36311:case 36292:return O$e}}class k$e{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=g$e(t.type)}}class F$e{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=z$e(t.type)}}class U$e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let a=0,s=r.length;a!==s;++a){const o=r[a];o.setValue(e,t[o.id],i)}}}const jz=/(\w+)(\])?(\[|\.)?/g;function $te(n,e){n.seq.push(e),n.map[e.id]=e}function G$e(n,e,t){const i=n.name,r=i.length;for(jz.lastIndex=0;;){const a=jz.exec(i),s=jz.lastIndex;let o=a[1];const l=a[2]==="]",u=a[3];if(l&&(o=o|0),u===void 0||u==="["&&s+2===r){$te(t,u===void 0?new k$e(o,n,e):new F$e(o,n,e));break}else{let f=t.map[o];f===void 0&&(f=new U$e(o),$te(t,f)),t=f}}}class I3{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(t,r),s=e.getUniformLocation(t,a.name);G$e(a,s,this)}}setValue(e,t,i,r){const a=this.map[t];a!==void 0&&a.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let a=0,s=t.length;a!==s;++a){const o=t[a],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,a=e.length;r!==a;++r){const s=e[r];s.id in t&&i.push(s)}return i}}function ene(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const V$e=37297;let j$e=0;function H$e(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=r;s<a;s++){const o=s+1;i.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return i.join(`
`)}const tne=new kn;function W$e(n){gi._getMatrix(tne,gi.workingColorSpace,n);const e=`mat3( ${tne.elements.map(t=>t.toFixed(4))} )`;switch(gi.getTransfer(n)){case sC:return[e,"LinearTransferOETF"];case Hi:return[e,"sRGBTransferOETF"];default:return Lt("WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function nne(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),a=(n.getShaderInfoLog(e)||"").trim();if(i&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+a+`

`+H$e(n.getShaderSource(e),o)}else return a}function X$e(n,e){const t=W$e(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Y$e(n,e){let t;switch(e){case bve:t="Linear";break;case Sve:t="Reinhard";break;case Ave:t="Cineon";break;case yj:t="ACESFilmic";break;case Tve:t="AgX";break;case Cve:t="Neutral";break;case Mve:t="Custom";break;default:Lt("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const GR=new le;function q$e(){gi.getLuminanceCoefficients(GR);const n=GR.x.toFixed(4),e=GR.y.toFixed(4),t=GR.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Z$e(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(x2).join(`
`)}function K$e(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function J$e(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=n.getActiveAttrib(e,r),s=a.name;let o=1;a.type===n.FLOAT_MAT2&&(o=2),a.type===n.FLOAT_MAT3&&(o=3),a.type===n.FLOAT_MAT4&&(o=4),t[s]={type:a.type,location:n.getAttribLocation(e,s),locationSize:o}}return t}function x2(n){return n!==""}function ine(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function rne(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Q$e=/^[ \t]*#include +<([\w\d./]+)>/gm;function q8(n){return n.replace(Q$e,eet)}const $$e=new Map;function eet(n,e){let t=Hn[e];if(t===void 0){const i=$$e.get(e);if(i!==void 0)t=Hn[i],Lt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return q8(t)}const tet=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ane(n){return n.replace(tet,net)}function net(n,e,t,i){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function sne(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function iet(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===pP?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===J2?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===jc&&(e="SHADOWMAP_TYPE_VSM"),e}function ret(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case wp:case Cm:e="ENVMAP_TYPE_CUBE";break;case _S:e="ENVMAP_TYPE_CUBE_UV";break}return e}function aet(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Cm:e="ENVMAP_MODE_REFRACTION";break}return e}function set(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case KC:e="ENVMAP_BLENDING_MULTIPLY";break;case xve:e="ENVMAP_BLENDING_MIX";break;case _ve:e="ENVMAP_BLENDING_ADD";break}return e}function oet(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function uet(n,e,t,i){const r=n.getContext(),a=t.defines;let s=t.vertexShader,o=t.fragmentShader;const l=iet(t),u=ret(t),c=aet(t),f=set(t),h=oet(t),d=Z$e(t),v=K$e(a),m=r.createProgram();let y,x,b=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(x2).join(`
`),y.length>0&&(y+=`
`),x=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(x2).join(`
`),x.length>0&&(x+=`
`)):(y=[sne(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(x2).join(`
`),x=[sne(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Eh?"#define TONE_MAPPING":"",t.toneMapping!==Eh?Hn.tonemapping_pars_fragment:"",t.toneMapping!==Eh?Y$e("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Hn.colorspace_pars_fragment,X$e("linearToOutputTexel",t.outputColorSpace),q$e(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(x2).join(`
`)),s=q8(s),s=ine(s,t),s=rne(s,t),o=q8(o),o=ine(o,t),o=rne(o,t),s=ane(s),o=ane(o),t.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,y=[d,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,x=["#define varying in",t.glslVersion===F8?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===F8?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const M=b+y+s,C=b+x+o,w=ene(r,r.VERTEX_SHADER,M),E=ene(r,r.FRAGMENT_SHADER,C);r.attachShader(m,w),r.attachShader(m,E),t.index0AttributeName!==void 0?r.bindAttribLocation(m,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m);function L(z){if(n.debug.checkShaderErrors){const V=r.getProgramInfoLog(m)||"",U=r.getShaderInfoLog(w)||"",j=r.getShaderInfoLog(E)||"",W=V.trim(),G=U.trim(),X=j.trim();let q=!0,$=!0;if(r.getProgramParameter(m,r.LINK_STATUS)===!1)if(q=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,m,w,E);else{const te=nne(r,w,"vertex"),J=nne(r,E,"fragment");Cn("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,r.VALIDATE_STATUS)+`

Material Name: `+z.name+`
Material Type: `+z.type+`

Program Info Log: `+W+`
`+te+`
`+J)}else W!==""?Lt("WebGLProgram: Program Info Log:",W):(G===""||X==="")&&($=!1);$&&(z.diagnostics={runnable:q,programLog:W,vertexShader:{log:G,prefix:y},fragmentShader:{log:X,prefix:x}})}r.deleteShader(w),r.deleteShader(E),P=new I3(r,m),I=J$e(r,m)}let P;this.getUniforms=function(){return P===void 0&&L(this),P};let I;this.getAttributes=function(){return I===void 0&&L(this),I};let N=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=r.getProgramParameter(m,V$e)),N},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=j$e++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=w,this.fragmentShader=E,this}let cet=0;class fet{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new het(e),t.set(e,i)),i}}class het{constructor(e){this.id=cet++,this.code=e,this.usedTimes=0}}function det(n,e,t,i,r,a,s){const o=new Bb,l=new fet,u=new Set,c=[],f=r.logarithmicDepthBuffer,h=r.vertexTextures;let d=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(I){return u.add(I),I===0?"uv":`uv${I}`}function y(I,N,z,V,U){const j=V.fog,W=U.geometry,G=I.isMeshStandardMaterial?V.environment:null,X=(I.isMeshStandardMaterial?t:e).get(I.envMap||G),q=X&&X.mapping===_S?X.image.height:null,$=v[I.type];I.precision!==null&&(d=r.getMaxPrecision(I.precision),d!==I.precision&&Lt("WebGLProgram.getParameters:",I.precision,"not supported, using",d,"instead."));const te=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,J=te!==void 0?te.length:0;let Q=0;W.morphAttributes.position!==void 0&&(Q=1),W.morphAttributes.normal!==void 0&&(Q=2),W.morphAttributes.color!==void 0&&(Q=3);let se,ce,ue,fe;if($){const Bn=Hc[$];se=Bn.vertexShader,ce=Bn.fragmentShader}else se=I.vertexShader,ce=I.fragmentShader,l.update(I),ue=l.getVertexShaderID(I),fe=l.getFragmentShaderID(I);const ge=n.getRenderTarget(),Se=n.state.buffers.depth.getReversed(),Ee=U.isInstancedMesh===!0,Ue=U.isBatchedMesh===!0,_e=!!I.map,ke=!!I.matcap,dt=!!X,De=!!I.aoMap,ae=!!I.lightMap,Fe=!!I.bumpMap,qe=!!I.normalMap,rt=!!I.displacementMap,Je=!!I.emissiveMap,_t=!!I.metalnessMap,pt=!!I.roughnessMap,Ct=I.anisotropy>0,oe=I.clearcoat>0,ee=I.dispersion>0,we=I.iridescence>0,Xe=I.sheen>0,nt=I.transmission>0,je=Ct&&!!I.anisotropyMap,Wt=oe&&!!I.clearcoatMap,St=oe&&!!I.clearcoatNormalMap,qt=oe&&!!I.clearcoatRoughnessMap,Vt=we&&!!I.iridescenceMap,et=we&&!!I.iridescenceThicknessMap,it=Xe&&!!I.sheenColorMap,Ht=Xe&&!!I.sheenRoughnessMap,de=!!I.specularMap,Pe=!!I.specularColorMap,lt=!!I.specularIntensityMap,he=nt&&!!I.transmissionMap,ut=nt&&!!I.thicknessMap,ft=!!I.gradientMap,vt=!!I.alphaMap,at=I.alphaTest>0,Qe=!!I.alphaHash,Tt=!!I.extensions;let Kt=Eh;I.toneMapped&&(ge===null||ge.isXRRenderTarget===!0)&&(Kt=n.toneMapping);const Xn={shaderID:$,shaderType:I.type,shaderName:I.name,vertexShader:se,fragmentShader:ce,defines:I.defines,customVertexShaderID:ue,customFragmentShaderID:fe,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:d,batching:Ue,batchingColor:Ue&&U._colorsTexture!==null,instancing:Ee,instancingColor:Ee&&U.instanceColor!==null,instancingMorph:Ee&&U.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:ge===null?n.outputColorSpace:ge.isXRRenderTarget===!0?ge.texture.colorSpace:Em,alphaToCoverage:!!I.alphaToCoverage,map:_e,matcap:ke,envMap:dt,envMapMode:dt&&X.mapping,envMapCubeUVHeight:q,aoMap:De,lightMap:ae,bumpMap:Fe,normalMap:qe,displacementMap:h&&rt,emissiveMap:Je,normalMapObjectSpace:qe&&I.normalMapType===Pve,normalMapTangentSpace:qe&&I.normalMapType===Um,metalnessMap:_t,roughnessMap:pt,anisotropy:Ct,anisotropyMap:je,clearcoat:oe,clearcoatMap:Wt,clearcoatNormalMap:St,clearcoatRoughnessMap:qt,dispersion:ee,iridescence:we,iridescenceMap:Vt,iridescenceThicknessMap:et,sheen:Xe,sheenColorMap:it,sheenRoughnessMap:Ht,specularMap:de,specularColorMap:Pe,specularIntensityMap:lt,transmission:nt,transmissionMap:he,thicknessMap:ut,gradientMap:ft,opaque:I.transparent===!1&&I.blending===xy&&I.alphaToCoverage===!1,alphaMap:vt,alphaTest:at,alphaHash:Qe,combine:I.combine,mapUv:_e&&m(I.map.channel),aoMapUv:De&&m(I.aoMap.channel),lightMapUv:ae&&m(I.lightMap.channel),bumpMapUv:Fe&&m(I.bumpMap.channel),normalMapUv:qe&&m(I.normalMap.channel),displacementMapUv:rt&&m(I.displacementMap.channel),emissiveMapUv:Je&&m(I.emissiveMap.channel),metalnessMapUv:_t&&m(I.metalnessMap.channel),roughnessMapUv:pt&&m(I.roughnessMap.channel),anisotropyMapUv:je&&m(I.anisotropyMap.channel),clearcoatMapUv:Wt&&m(I.clearcoatMap.channel),clearcoatNormalMapUv:St&&m(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:qt&&m(I.clearcoatRoughnessMap.channel),iridescenceMapUv:Vt&&m(I.iridescenceMap.channel),iridescenceThicknessMapUv:et&&m(I.iridescenceThicknessMap.channel),sheenColorMapUv:it&&m(I.sheenColorMap.channel),sheenRoughnessMapUv:Ht&&m(I.sheenRoughnessMap.channel),specularMapUv:de&&m(I.specularMap.channel),specularColorMapUv:Pe&&m(I.specularColorMap.channel),specularIntensityMapUv:lt&&m(I.specularIntensityMap.channel),transmissionMapUv:he&&m(I.transmissionMap.channel),thicknessMapUv:ut&&m(I.thicknessMap.channel),alphaMapUv:vt&&m(I.alphaMap.channel),vertexTangents:!!W.attributes.tangent&&(qe||Ct),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!W.attributes.color&&W.attributes.color.itemSize===4,pointsUvs:U.isPoints===!0&&!!W.attributes.uv&&(_e||vt),fog:!!j,useFog:I.fog===!0,fogExp2:!!j&&j.isFogExp2,flatShading:I.flatShading===!0&&I.wireframe===!1,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:f,reversedDepthBuffer:Se,skinning:U.isSkinnedMesh===!0,morphTargets:W.morphAttributes.position!==void 0,morphNormals:W.morphAttributes.normal!==void 0,morphColors:W.morphAttributes.color!==void 0,morphTargetsCount:J,morphTextureStride:Q,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:I.dithering,shadowMapEnabled:n.shadowMap.enabled&&z.length>0,shadowMapType:n.shadowMap.type,toneMapping:Kt,decodeVideoTexture:_e&&I.map.isVideoTexture===!0&&gi.getTransfer(I.map.colorSpace)===Hi,decodeVideoTextureEmissive:Je&&I.emissiveMap.isVideoTexture===!0&&gi.getTransfer(I.emissiveMap.colorSpace)===Hi,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Wc,flipSided:I.side===Xo,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:Tt&&I.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Tt&&I.extensions.multiDraw===!0||Ue)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return Xn.vertexUv1s=u.has(1),Xn.vertexUv2s=u.has(2),Xn.vertexUv3s=u.has(3),u.clear(),Xn}function x(I){const N=[];if(I.shaderID?N.push(I.shaderID):(N.push(I.customVertexShaderID),N.push(I.customFragmentShaderID)),I.defines!==void 0)for(const z in I.defines)N.push(z),N.push(I.defines[z]);return I.isRawShaderMaterial===!1&&(b(N,I),M(N,I),N.push(n.outputColorSpace)),N.push(I.customProgramCacheKey),N.join()}function b(I,N){I.push(N.precision),I.push(N.outputColorSpace),I.push(N.envMapMode),I.push(N.envMapCubeUVHeight),I.push(N.mapUv),I.push(N.alphaMapUv),I.push(N.lightMapUv),I.push(N.aoMapUv),I.push(N.bumpMapUv),I.push(N.normalMapUv),I.push(N.displacementMapUv),I.push(N.emissiveMapUv),I.push(N.metalnessMapUv),I.push(N.roughnessMapUv),I.push(N.anisotropyMapUv),I.push(N.clearcoatMapUv),I.push(N.clearcoatNormalMapUv),I.push(N.clearcoatRoughnessMapUv),I.push(N.iridescenceMapUv),I.push(N.iridescenceThicknessMapUv),I.push(N.sheenColorMapUv),I.push(N.sheenRoughnessMapUv),I.push(N.specularMapUv),I.push(N.specularColorMapUv),I.push(N.specularIntensityMapUv),I.push(N.transmissionMapUv),I.push(N.thicknessMapUv),I.push(N.combine),I.push(N.fogExp2),I.push(N.sizeAttenuation),I.push(N.morphTargetsCount),I.push(N.morphAttributeCount),I.push(N.numDirLights),I.push(N.numPointLights),I.push(N.numSpotLights),I.push(N.numSpotLightMaps),I.push(N.numHemiLights),I.push(N.numRectAreaLights),I.push(N.numDirLightShadows),I.push(N.numPointLightShadows),I.push(N.numSpotLightShadows),I.push(N.numSpotLightShadowsWithMaps),I.push(N.numLightProbes),I.push(N.shadowMapType),I.push(N.toneMapping),I.push(N.numClippingPlanes),I.push(N.numClipIntersection),I.push(N.depthPacking)}function M(I,N){o.disableAll(),N.supportsVertexTextures&&o.enable(0),N.instancing&&o.enable(1),N.instancingColor&&o.enable(2),N.instancingMorph&&o.enable(3),N.matcap&&o.enable(4),N.envMap&&o.enable(5),N.normalMapObjectSpace&&o.enable(6),N.normalMapTangentSpace&&o.enable(7),N.clearcoat&&o.enable(8),N.iridescence&&o.enable(9),N.alphaTest&&o.enable(10),N.vertexColors&&o.enable(11),N.vertexAlphas&&o.enable(12),N.vertexUv1s&&o.enable(13),N.vertexUv2s&&o.enable(14),N.vertexUv3s&&o.enable(15),N.vertexTangents&&o.enable(16),N.anisotropy&&o.enable(17),N.alphaHash&&o.enable(18),N.batching&&o.enable(19),N.dispersion&&o.enable(20),N.batchingColor&&o.enable(21),N.gradientMap&&o.enable(22),I.push(o.mask),o.disableAll(),N.fog&&o.enable(0),N.useFog&&o.enable(1),N.flatShading&&o.enable(2),N.logarithmicDepthBuffer&&o.enable(3),N.reversedDepthBuffer&&o.enable(4),N.skinning&&o.enable(5),N.morphTargets&&o.enable(6),N.morphNormals&&o.enable(7),N.morphColors&&o.enable(8),N.premultipliedAlpha&&o.enable(9),N.shadowMapEnabled&&o.enable(10),N.doubleSided&&o.enable(11),N.flipSided&&o.enable(12),N.useDepthPacking&&o.enable(13),N.dithering&&o.enable(14),N.transmission&&o.enable(15),N.sheen&&o.enable(16),N.opaque&&o.enable(17),N.pointsUvs&&o.enable(18),N.decodeVideoTexture&&o.enable(19),N.decodeVideoTextureEmissive&&o.enable(20),N.alphaToCoverage&&o.enable(21),I.push(o.mask)}function C(I){const N=v[I.type];let z;if(N){const V=Hc[N];z=Zve.clone(V.uniforms)}else z=I.uniforms;return z}function w(I,N){let z;for(let V=0,U=c.length;V<U;V++){const j=c[V];if(j.cacheKey===N){z=j,++z.usedTimes;break}}return z===void 0&&(z=new uet(n,N,I,a),c.push(z)),z}function E(I){if(--I.usedTimes===0){const N=c.indexOf(I);c[N]=c[c.length-1],c.pop(),I.destroy()}}function L(I){l.remove(I)}function P(){l.dispose()}return{getParameters:y,getProgramCacheKey:x,getUniforms:C,acquireProgram:w,releaseProgram:E,releaseShaderCache:L,programs:c,dispose:P}}function pet(){let n=new WeakMap;function e(s){return n.has(s)}function t(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function i(s){n.delete(s)}function r(s,o,l){n.get(s)[o]=l}function a(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:a}}function vet(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function one(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function lne(){const n=[];let e=0;const t=[],i=[],r=[];function a(){e=0,t.length=0,i.length=0,r.length=0}function s(f,h,d,v,m,y){let x=n[e];return x===void 0?(x={id:f.id,object:f,geometry:h,material:d,groupOrder:v,renderOrder:f.renderOrder,z:m,group:y},n[e]=x):(x.id=f.id,x.object=f,x.geometry=h,x.material=d,x.groupOrder=v,x.renderOrder=f.renderOrder,x.z=m,x.group=y),e++,x}function o(f,h,d,v,m,y){const x=s(f,h,d,v,m,y);d.transmission>0?i.push(x):d.transparent===!0?r.push(x):t.push(x)}function l(f,h,d,v,m,y){const x=s(f,h,d,v,m,y);d.transmission>0?i.unshift(x):d.transparent===!0?r.unshift(x):t.unshift(x)}function u(f,h){t.length>1&&t.sort(f||vet),i.length>1&&i.sort(h||one),r.length>1&&r.sort(h||one)}function c(){for(let f=e,h=n.length;f<h;f++){const d=n[f];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:t,transmissive:i,transparent:r,init:a,push:o,unshift:l,finish:c,sort:u}}function met(){let n=new WeakMap;function e(i,r){const a=n.get(i);let s;return a===void 0?(s=new lne,n.set(i,[s])):r>=a.length?(s=new lne,a.push(s)):s=a[r],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function get(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new le,color:new Et};break;case"SpotLight":t={position:new le,direction:new le,color:new Et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new le,color:new Et,distance:0,decay:0};break;case"HemisphereLight":t={direction:new le,skyColor:new Et,groundColor:new Et};break;case"RectAreaLight":t={color:new Et,position:new le,halfWidth:new le,halfHeight:new le};break}return n[e.id]=t,t}}}function yet(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ke};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ke};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ke,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let xet=0;function _et(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function bet(n){const e=new get,t=yet(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new le);const r=new le,a=new vn,s=new vn;function o(u){let c=0,f=0,h=0;for(let I=0;I<9;I++)i.probe[I].set(0,0,0);let d=0,v=0,m=0,y=0,x=0,b=0,M=0,C=0,w=0,E=0,L=0;u.sort(_et);for(let I=0,N=u.length;I<N;I++){const z=u[I],V=z.color,U=z.intensity,j=z.distance,W=z.shadow&&z.shadow.map?z.shadow.map.texture:null;if(z.isAmbientLight)c+=V.r*U,f+=V.g*U,h+=V.b*U;else if(z.isLightProbe){for(let G=0;G<9;G++)i.probe[G].addScaledVector(z.sh.coefficients[G],U);L++}else if(z.isDirectionalLight){const G=e.get(z);if(G.color.copy(z.color).multiplyScalar(z.intensity),z.castShadow){const X=z.shadow,q=t.get(z);q.shadowIntensity=X.intensity,q.shadowBias=X.bias,q.shadowNormalBias=X.normalBias,q.shadowRadius=X.radius,q.shadowMapSize=X.mapSize,i.directionalShadow[d]=q,i.directionalShadowMap[d]=W,i.directionalShadowMatrix[d]=z.shadow.matrix,b++}i.directional[d]=G,d++}else if(z.isSpotLight){const G=e.get(z);G.position.setFromMatrixPosition(z.matrixWorld),G.color.copy(V).multiplyScalar(U),G.distance=j,G.coneCos=Math.cos(z.angle),G.penumbraCos=Math.cos(z.angle*(1-z.penumbra)),G.decay=z.decay,i.spot[m]=G;const X=z.shadow;if(z.map&&(i.spotLightMap[w]=z.map,w++,X.updateMatrices(z),z.castShadow&&E++),i.spotLightMatrix[m]=X.matrix,z.castShadow){const q=t.get(z);q.shadowIntensity=X.intensity,q.shadowBias=X.bias,q.shadowNormalBias=X.normalBias,q.shadowRadius=X.radius,q.shadowMapSize=X.mapSize,i.spotShadow[m]=q,i.spotShadowMap[m]=W,C++}m++}else if(z.isRectAreaLight){const G=e.get(z);G.color.copy(V).multiplyScalar(U),G.halfWidth.set(z.width*.5,0,0),G.halfHeight.set(0,z.height*.5,0),i.rectArea[y]=G,y++}else if(z.isPointLight){const G=e.get(z);if(G.color.copy(z.color).multiplyScalar(z.intensity),G.distance=z.distance,G.decay=z.decay,z.castShadow){const X=z.shadow,q=t.get(z);q.shadowIntensity=X.intensity,q.shadowBias=X.bias,q.shadowNormalBias=X.normalBias,q.shadowRadius=X.radius,q.shadowMapSize=X.mapSize,q.shadowCameraNear=X.camera.near,q.shadowCameraFar=X.camera.far,i.pointShadow[v]=q,i.pointShadowMap[v]=W,i.pointShadowMatrix[v]=z.shadow.matrix,M++}i.point[v]=G,v++}else if(z.isHemisphereLight){const G=e.get(z);G.skyColor.copy(z.color).multiplyScalar(U),G.groundColor.copy(z.groundColor).multiplyScalar(U),i.hemi[x]=G,x++}}y>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Rt.LTC_FLOAT_1,i.rectAreaLTC2=Rt.LTC_FLOAT_2):(i.rectAreaLTC1=Rt.LTC_HALF_1,i.rectAreaLTC2=Rt.LTC_HALF_2)),i.ambient[0]=c,i.ambient[1]=f,i.ambient[2]=h;const P=i.hash;(P.directionalLength!==d||P.pointLength!==v||P.spotLength!==m||P.rectAreaLength!==y||P.hemiLength!==x||P.numDirectionalShadows!==b||P.numPointShadows!==M||P.numSpotShadows!==C||P.numSpotMaps!==w||P.numLightProbes!==L)&&(i.directional.length=d,i.spot.length=m,i.rectArea.length=y,i.point.length=v,i.hemi.length=x,i.directionalShadow.length=b,i.directionalShadowMap.length=b,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=b,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=C+w-E,i.spotLightMap.length=w,i.numSpotLightShadowsWithMaps=E,i.numLightProbes=L,P.directionalLength=d,P.pointLength=v,P.spotLength=m,P.rectAreaLength=y,P.hemiLength=x,P.numDirectionalShadows=b,P.numPointShadows=M,P.numSpotShadows=C,P.numSpotMaps=w,P.numLightProbes=L,i.version=xet++)}function l(u,c){let f=0,h=0,d=0,v=0,m=0;const y=c.matrixWorldInverse;for(let x=0,b=u.length;x<b;x++){const M=u[x];if(M.isDirectionalLight){const C=i.directional[f];C.direction.setFromMatrixPosition(M.matrixWorld),r.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(y),f++}else if(M.isSpotLight){const C=i.spot[d];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(y),C.direction.setFromMatrixPosition(M.matrixWorld),r.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(y),d++}else if(M.isRectAreaLight){const C=i.rectArea[v];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(y),s.identity(),a.copy(M.matrixWorld),a.premultiply(y),s.extractRotation(a),C.halfWidth.set(M.width*.5,0,0),C.halfHeight.set(0,M.height*.5,0),C.halfWidth.applyMatrix4(s),C.halfHeight.applyMatrix4(s),v++}else if(M.isPointLight){const C=i.point[h];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(y),h++}else if(M.isHemisphereLight){const C=i.hemi[m];C.direction.setFromMatrixPosition(M.matrixWorld),C.direction.transformDirection(y),m++}}}return{setup:o,setupView:l,state:i}}function une(n){const e=new bet(n),t=[],i=[];function r(c){u.camera=c,t.length=0,i.length=0}function a(c){t.push(c)}function s(c){i.push(c)}function o(){e.setup(t)}function l(c){e.setupView(t,c)}const u={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:u,setupLights:o,setupLightsView:l,pushLight:a,pushShadow:s}}function Aet(n){let e=new WeakMap;function t(r,a=0){const s=e.get(r);let o;return s===void 0?(o=new une(n),e.set(r,[o])):a>=s.length?(o=new une(n),s.push(o)):o=s[a],o}function i(){e=new WeakMap}return{get:t,dispose:i}}const Met=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Tet=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Cet(n,e,t){let i=new bS;const r=new Ke,a=new Ke,s=new Ai,o=new Wj({depthPacking:Ive}),l=new Xj,u={},c=t.maxTextureSize,f={[zh]:Xo,[Xo]:zh,[Wc]:Wc},h=new nc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ke},radius:{value:4}},vertexShader:Met,fragmentShader:Tet}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const v=new Rn;v.setAttribute("position",new Mi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new La(v,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=pP;let x=this.type;this.render=function(E,L,P){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||E.length===0)return;const I=n.getRenderTarget(),N=n.getActiveCubeFace(),z=n.getActiveMipmapLevel(),V=n.state;V.setBlending(wh),V.buffers.depth.getReversed()===!0?V.buffers.color.setClear(0,0,0,0):V.buffers.color.setClear(1,1,1,1),V.buffers.depth.setTest(!0),V.setScissorTest(!1);const U=x!==jc&&this.type===jc,j=x===jc&&this.type!==jc;for(let W=0,G=E.length;W<G;W++){const X=E[W],q=X.shadow;if(q===void 0){Lt("WebGLShadowMap:",X,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;r.copy(q.mapSize);const $=q.getFrameExtents();if(r.multiply($),a.copy(q.mapSize),(r.x>c||r.y>c)&&(r.x>c&&(a.x=Math.floor(c/$.x),r.x=a.x*$.x,q.mapSize.x=a.x),r.y>c&&(a.y=Math.floor(c/$.y),r.y=a.y*$.y,q.mapSize.y=a.y)),q.map===null||U===!0||j===!0){const J=this.type!==jc?{minFilter:ps,magFilter:ps}:{};q.map!==null&&q.map.dispose(),q.map=new lf(r.x,r.y,J),q.map.texture.name=X.name+".shadowMap",q.camera.updateProjectionMatrix()}n.setRenderTarget(q.map),n.clear();const te=q.getViewportCount();for(let J=0;J<te;J++){const Q=q.getViewport(J);s.set(a.x*Q.x,a.y*Q.y,a.x*Q.z,a.y*Q.w),V.viewport(s),q.updateMatrices(X,J),i=q.getFrustum(),C(L,P,q.camera,X,this.type)}q.isPointLightShadow!==!0&&this.type===jc&&b(q,P),q.needsUpdate=!1}x=this.type,y.needsUpdate=!1,n.setRenderTarget(I,N,z)};function b(E,L){const P=e.update(m);h.defines.VSM_SAMPLES!==E.blurSamples&&(h.defines.VSM_SAMPLES=E.blurSamples,d.defines.VSM_SAMPLES=E.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new lf(r.x,r.y)),h.uniforms.shadow_pass.value=E.map.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(L,null,P,h,m,null),d.uniforms.shadow_pass.value=E.mapPass.texture,d.uniforms.resolution.value=E.mapSize,d.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(L,null,P,d,m,null)}function M(E,L,P,I){let N=null;const z=P.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(z!==void 0)N=z;else if(N=P.isPointLight===!0?l:o,n.localClippingEnabled&&L.clipShadows===!0&&Array.isArray(L.clippingPlanes)&&L.clippingPlanes.length!==0||L.displacementMap&&L.displacementScale!==0||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0||L.alphaToCoverage===!0){const V=N.uuid,U=L.uuid;let j=u[V];j===void 0&&(j={},u[V]=j);let W=j[U];W===void 0&&(W=N.clone(),j[U]=W,L.addEventListener("dispose",w)),N=W}if(N.visible=L.visible,N.wireframe=L.wireframe,I===jc?N.side=L.shadowSide!==null?L.shadowSide:L.side:N.side=L.shadowSide!==null?L.shadowSide:f[L.side],N.alphaMap=L.alphaMap,N.alphaTest=L.alphaToCoverage===!0?.5:L.alphaTest,N.map=L.map,N.clipShadows=L.clipShadows,N.clippingPlanes=L.clippingPlanes,N.clipIntersection=L.clipIntersection,N.displacementMap=L.displacementMap,N.displacementScale=L.displacementScale,N.displacementBias=L.displacementBias,N.wireframeLinewidth=L.wireframeLinewidth,N.linewidth=L.linewidth,P.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const V=n.properties.get(N);V.light=P}return N}function C(E,L,P,I,N){if(E.visible===!1)return;if(E.layers.test(L.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&N===jc)&&(!E.frustumCulled||i.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,E.matrixWorld);const U=e.update(E),j=E.material;if(Array.isArray(j)){const W=U.groups;for(let G=0,X=W.length;G<X;G++){const q=W[G],$=j[q.materialIndex];if($&&$.visible){const te=M(E,$,I,N);E.onBeforeShadow(n,E,L,P,U,te,q),n.renderBufferDirect(P,null,U,te,E,q),E.onAfterShadow(n,E,L,P,U,te,q)}}}else if(j.visible){const W=M(E,j,I,N);E.onBeforeShadow(n,E,L,P,U,W,null),n.renderBufferDirect(P,null,U,W,E,null),E.onAfterShadow(n,E,L,P,U,W,null)}}const V=E.children;for(let U=0,j=V.length;U<j;U++)C(V[U],L,P,I,N)}function w(E){E.target.removeEventListener("dispose",w);for(const P in u){const I=u[P],N=E.target.uuid;N in I&&(I[N].dispose(),delete I[N])}}}const wet={[vN]:mN,[gN]:_N,[yN]:bN,[Fy]:xN,[mN]:vN,[_N]:gN,[bN]:yN,[xN]:Fy};function Eet(n,e){function t(){let he=!1;const ut=new Ai;let ft=null;const vt=new Ai(0,0,0,0);return{setMask:function(at){ft!==at&&!he&&(n.colorMask(at,at,at,at),ft=at)},setLocked:function(at){he=at},setClear:function(at,Qe,Tt,Kt,Xn){Xn===!0&&(at*=Kt,Qe*=Kt,Tt*=Kt),ut.set(at,Qe,Tt,Kt),vt.equals(ut)===!1&&(n.clearColor(at,Qe,Tt,Kt),vt.copy(ut))},reset:function(){he=!1,ft=null,vt.set(-1,0,0,0)}}}function i(){let he=!1,ut=!1,ft=null,vt=null,at=null;return{setReversed:function(Qe){if(ut!==Qe){const Tt=e.get("EXT_clip_control");Qe?Tt.clipControlEXT(Tt.LOWER_LEFT_EXT,Tt.ZERO_TO_ONE_EXT):Tt.clipControlEXT(Tt.LOWER_LEFT_EXT,Tt.NEGATIVE_ONE_TO_ONE_EXT),ut=Qe;const Kt=at;at=null,this.setClear(Kt)}},getReversed:function(){return ut},setTest:function(Qe){Qe?ge(n.DEPTH_TEST):Se(n.DEPTH_TEST)},setMask:function(Qe){ft!==Qe&&!he&&(n.depthMask(Qe),ft=Qe)},setFunc:function(Qe){if(ut&&(Qe=wet[Qe]),vt!==Qe){switch(Qe){case vN:n.depthFunc(n.NEVER);break;case mN:n.depthFunc(n.ALWAYS);break;case gN:n.depthFunc(n.LESS);break;case Fy:n.depthFunc(n.LEQUAL);break;case yN:n.depthFunc(n.EQUAL);break;case xN:n.depthFunc(n.GEQUAL);break;case _N:n.depthFunc(n.GREATER);break;case bN:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}vt=Qe}},setLocked:function(Qe){he=Qe},setClear:function(Qe){at!==Qe&&(ut&&(Qe=1-Qe),n.clearDepth(Qe),at=Qe)},reset:function(){he=!1,ft=null,vt=null,at=null,ut=!1}}}function r(){let he=!1,ut=null,ft=null,vt=null,at=null,Qe=null,Tt=null,Kt=null,Xn=null;return{setTest:function(Bn){he||(Bn?ge(n.STENCIL_TEST):Se(n.STENCIL_TEST))},setMask:function(Bn){ut!==Bn&&!he&&(n.stencilMask(Bn),ut=Bn)},setFunc:function(Bn,or,ea){(ft!==Bn||vt!==or||at!==ea)&&(n.stencilFunc(Bn,or,ea),ft=Bn,vt=or,at=ea)},setOp:function(Bn,or,ea){(Qe!==Bn||Tt!==or||Kt!==ea)&&(n.stencilOp(Bn,or,ea),Qe=Bn,Tt=or,Kt=ea)},setLocked:function(Bn){he=Bn},setClear:function(Bn){Xn!==Bn&&(n.clearStencil(Bn),Xn=Bn)},reset:function(){he=!1,ut=null,ft=null,vt=null,at=null,Qe=null,Tt=null,Kt=null,Xn=null}}}const a=new t,s=new i,o=new r,l=new WeakMap,u=new WeakMap;let c={},f={},h=new WeakMap,d=[],v=null,m=!1,y=null,x=null,b=null,M=null,C=null,w=null,E=null,L=new Et(0,0,0),P=0,I=!1,N=null,z=null,V=null,U=null,j=null;const W=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let G=!1,X=0;const q=n.getParameter(n.VERSION);q.indexOf("WebGL")!==-1?(X=parseFloat(/^WebGL (\d)/.exec(q)[1]),G=X>=1):q.indexOf("OpenGL ES")!==-1&&(X=parseFloat(/^OpenGL ES (\d)/.exec(q)[1]),G=X>=2);let $=null,te={};const J=n.getParameter(n.SCISSOR_BOX),Q=n.getParameter(n.VIEWPORT),se=new Ai().fromArray(J),ce=new Ai().fromArray(Q);function ue(he,ut,ft,vt){const at=new Uint8Array(4),Qe=n.createTexture();n.bindTexture(he,Qe),n.texParameteri(he,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(he,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Tt=0;Tt<ft;Tt++)he===n.TEXTURE_3D||he===n.TEXTURE_2D_ARRAY?n.texImage3D(ut,0,n.RGBA,1,1,vt,0,n.RGBA,n.UNSIGNED_BYTE,at):n.texImage2D(ut+Tt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,at);return Qe}const fe={};fe[n.TEXTURE_2D]=ue(n.TEXTURE_2D,n.TEXTURE_2D,1),fe[n.TEXTURE_CUBE_MAP]=ue(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),fe[n.TEXTURE_2D_ARRAY]=ue(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),fe[n.TEXTURE_3D]=ue(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),o.setClear(0),ge(n.DEPTH_TEST),s.setFunc(Fy),Fe(!1),qe(I8),ge(n.CULL_FACE),De(wh);function ge(he){c[he]!==!0&&(n.enable(he),c[he]=!0)}function Se(he){c[he]!==!1&&(n.disable(he),c[he]=!1)}function Ee(he,ut){return f[he]!==ut?(n.bindFramebuffer(he,ut),f[he]=ut,he===n.DRAW_FRAMEBUFFER&&(f[n.FRAMEBUFFER]=ut),he===n.FRAMEBUFFER&&(f[n.DRAW_FRAMEBUFFER]=ut),!0):!1}function Ue(he,ut){let ft=d,vt=!1;if(he){ft=h.get(ut),ft===void 0&&(ft=[],h.set(ut,ft));const at=he.textures;if(ft.length!==at.length||ft[0]!==n.COLOR_ATTACHMENT0){for(let Qe=0,Tt=at.length;Qe<Tt;Qe++)ft[Qe]=n.COLOR_ATTACHMENT0+Qe;ft.length=at.length,vt=!0}}else ft[0]!==n.BACK&&(ft[0]=n.BACK,vt=!0);vt&&n.drawBuffers(ft)}function _e(he){return v!==he?(n.useProgram(he),v=he,!0):!1}const ke={[Gv]:n.FUNC_ADD,[nve]:n.FUNC_SUBTRACT,[ive]:n.FUNC_REVERSE_SUBTRACT};ke[rve]=n.MIN,ke[ave]=n.MAX;const dt={[sve]:n.ZERO,[ove]:n.ONE,[lve]:n.SRC_COLOR,[dN]:n.SRC_ALPHA,[pve]:n.SRC_ALPHA_SATURATE,[hve]:n.DST_COLOR,[cve]:n.DST_ALPHA,[uve]:n.ONE_MINUS_SRC_COLOR,[pN]:n.ONE_MINUS_SRC_ALPHA,[dve]:n.ONE_MINUS_DST_COLOR,[fve]:n.ONE_MINUS_DST_ALPHA,[vve]:n.CONSTANT_COLOR,[mve]:n.ONE_MINUS_CONSTANT_COLOR,[gve]:n.CONSTANT_ALPHA,[yve]:n.ONE_MINUS_CONSTANT_ALPHA};function De(he,ut,ft,vt,at,Qe,Tt,Kt,Xn,Bn){if(he===wh){m===!0&&(Se(n.BLEND),m=!1);return}if(m===!1&&(ge(n.BLEND),m=!0),he!==tve){if(he!==y||Bn!==I){if((x!==Gv||C!==Gv)&&(n.blendEquation(n.FUNC_ADD),x=Gv,C=Gv),Bn)switch(he){case xy:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case P8:n.blendFunc(n.ONE,n.ONE);break;case B8:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case O8:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:Cn("WebGLState: Invalid blending: ",he);break}else switch(he){case xy:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case P8:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case B8:Cn("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case O8:Cn("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Cn("WebGLState: Invalid blending: ",he);break}b=null,M=null,w=null,E=null,L.set(0,0,0),P=0,y=he,I=Bn}return}at=at||ut,Qe=Qe||ft,Tt=Tt||vt,(ut!==x||at!==C)&&(n.blendEquationSeparate(ke[ut],ke[at]),x=ut,C=at),(ft!==b||vt!==M||Qe!==w||Tt!==E)&&(n.blendFuncSeparate(dt[ft],dt[vt],dt[Qe],dt[Tt]),b=ft,M=vt,w=Qe,E=Tt),(Kt.equals(L)===!1||Xn!==P)&&(n.blendColor(Kt.r,Kt.g,Kt.b,Xn),L.copy(Kt),P=Xn),y=he,I=!1}function ae(he,ut){he.side===Wc?Se(n.CULL_FACE):ge(n.CULL_FACE);let ft=he.side===Xo;ut&&(ft=!ft),Fe(ft),he.blending===xy&&he.transparent===!1?De(wh):De(he.blending,he.blendEquation,he.blendSrc,he.blendDst,he.blendEquationAlpha,he.blendSrcAlpha,he.blendDstAlpha,he.blendColor,he.blendAlpha,he.premultipliedAlpha),s.setFunc(he.depthFunc),s.setTest(he.depthTest),s.setMask(he.depthWrite),a.setMask(he.colorWrite);const vt=he.stencilWrite;o.setTest(vt),vt&&(o.setMask(he.stencilWriteMask),o.setFunc(he.stencilFunc,he.stencilRef,he.stencilFuncMask),o.setOp(he.stencilFail,he.stencilZFail,he.stencilZPass)),Je(he.polygonOffset,he.polygonOffsetFactor,he.polygonOffsetUnits),he.alphaToCoverage===!0?ge(n.SAMPLE_ALPHA_TO_COVERAGE):Se(n.SAMPLE_ALPHA_TO_COVERAGE)}function Fe(he){N!==he&&(he?n.frontFace(n.CW):n.frontFace(n.CCW),N=he)}function qe(he){he!==Qpe?(ge(n.CULL_FACE),he!==z&&(he===I8?n.cullFace(n.BACK):he===$pe?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Se(n.CULL_FACE),z=he}function rt(he){he!==V&&(G&&n.lineWidth(he),V=he)}function Je(he,ut,ft){he?(ge(n.POLYGON_OFFSET_FILL),(U!==ut||j!==ft)&&(n.polygonOffset(ut,ft),U=ut,j=ft)):Se(n.POLYGON_OFFSET_FILL)}function _t(he){he?ge(n.SCISSOR_TEST):Se(n.SCISSOR_TEST)}function pt(he){he===void 0&&(he=n.TEXTURE0+W-1),$!==he&&(n.activeTexture(he),$=he)}function Ct(he,ut,ft){ft===void 0&&($===null?ft=n.TEXTURE0+W-1:ft=$);let vt=te[ft];vt===void 0&&(vt={type:void 0,texture:void 0},te[ft]=vt),(vt.type!==he||vt.texture!==ut)&&($!==ft&&(n.activeTexture(ft),$=ft),n.bindTexture(he,ut||fe[he]),vt.type=he,vt.texture=ut)}function oe(){const he=te[$];he!==void 0&&he.type!==void 0&&(n.bindTexture(he.type,null),he.type=void 0,he.texture=void 0)}function ee(){try{n.compressedTexImage2D(...arguments)}catch(he){he("WebGLState:",he)}}function we(){try{n.compressedTexImage3D(...arguments)}catch(he){he("WebGLState:",he)}}function Xe(){try{n.texSubImage2D(...arguments)}catch(he){he("WebGLState:",he)}}function nt(){try{n.texSubImage3D(...arguments)}catch(he){he("WebGLState:",he)}}function je(){try{n.compressedTexSubImage2D(...arguments)}catch(he){he("WebGLState:",he)}}function Wt(){try{n.compressedTexSubImage3D(...arguments)}catch(he){he("WebGLState:",he)}}function St(){try{n.texStorage2D(...arguments)}catch(he){he("WebGLState:",he)}}function qt(){try{n.texStorage3D(...arguments)}catch(he){he("WebGLState:",he)}}function Vt(){try{n.texImage2D(...arguments)}catch(he){he("WebGLState:",he)}}function et(){try{n.texImage3D(...arguments)}catch(he){he("WebGLState:",he)}}function it(he){se.equals(he)===!1&&(n.scissor(he.x,he.y,he.z,he.w),se.copy(he))}function Ht(he){ce.equals(he)===!1&&(n.viewport(he.x,he.y,he.z,he.w),ce.copy(he))}function de(he,ut){let ft=u.get(ut);ft===void 0&&(ft=new WeakMap,u.set(ut,ft));let vt=ft.get(he);vt===void 0&&(vt=n.getUniformBlockIndex(ut,he.name),ft.set(he,vt))}function Pe(he,ut){const vt=u.get(ut).get(he);l.get(ut)!==vt&&(n.uniformBlockBinding(ut,vt,he.__bindingPointIndex),l.set(ut,vt))}function lt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),s.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),c={},$=null,te={},f={},h=new WeakMap,d=[],v=null,m=!1,y=null,x=null,b=null,M=null,C=null,w=null,E=null,L=new Et(0,0,0),P=0,I=!1,N=null,z=null,V=null,U=null,j=null,se.set(0,0,n.canvas.width,n.canvas.height),ce.set(0,0,n.canvas.width,n.canvas.height),a.reset(),s.reset(),o.reset()}return{buffers:{color:a,depth:s,stencil:o},enable:ge,disable:Se,bindFramebuffer:Ee,drawBuffers:Ue,useProgram:_e,setBlending:De,setMaterial:ae,setFlipSided:Fe,setCullFace:qe,setLineWidth:rt,setPolygonOffset:Je,setScissorTest:_t,activeTexture:pt,bindTexture:Ct,unbindTexture:oe,compressedTexImage2D:ee,compressedTexImage3D:we,texImage2D:Vt,texImage3D:et,updateUBOMapping:de,uniformBlockBinding:Pe,texStorage2D:St,texStorage3D:qt,texSubImage2D:Xe,texSubImage3D:nt,compressedTexSubImage2D:je,compressedTexSubImage3D:Wt,scissor:it,viewport:Ht,reset:lt}}function Det(n,e,t,i,r,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new Ke,c=new WeakMap;let f;const h=new WeakMap;let d=!1;try{d=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(oe,ee){return d?new OffscreenCanvas(oe,ee):lC("canvas")}function m(oe,ee,we){let Xe=1;const nt=Ct(oe);if((nt.width>we||nt.height>we)&&(Xe=we/Math.max(nt.width,nt.height)),Xe<1)if(typeof HTMLImageElement<"u"&&oe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&oe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&oe instanceof ImageBitmap||typeof VideoFrame<"u"&&oe instanceof VideoFrame){const je=Math.floor(Xe*nt.width),Wt=Math.floor(Xe*nt.height);f===void 0&&(f=v(je,Wt));const St=ee?v(je,Wt):f;return St.width=je,St.height=Wt,St.getContext("2d").drawImage(oe,0,0,je,Wt),Lt("WebGLRenderer: Texture has been resized from ("+nt.width+"x"+nt.height+") to ("+je+"x"+Wt+")."),St}else return"data"in oe&&Lt("WebGLRenderer: Image in DataTexture is too big ("+nt.width+"x"+nt.height+")."),oe;return oe}function y(oe){return oe.generateMipmaps}function x(oe){n.generateMipmap(oe)}function b(oe){return oe.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:oe.isWebGL3DRenderTarget?n.TEXTURE_3D:oe.isWebGLArrayRenderTarget||oe.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function M(oe,ee,we,Xe,nt=!1){if(oe!==null){if(n[oe]!==void 0)return n[oe];Lt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+oe+"'")}let je=ee;if(ee===n.RED&&(we===n.FLOAT&&(je=n.R32F),we===n.HALF_FLOAT&&(je=n.R16F),we===n.UNSIGNED_BYTE&&(je=n.R8)),ee===n.RED_INTEGER&&(we===n.UNSIGNED_BYTE&&(je=n.R8UI),we===n.UNSIGNED_SHORT&&(je=n.R16UI),we===n.UNSIGNED_INT&&(je=n.R32UI),we===n.BYTE&&(je=n.R8I),we===n.SHORT&&(je=n.R16I),we===n.INT&&(je=n.R32I)),ee===n.RG&&(we===n.FLOAT&&(je=n.RG32F),we===n.HALF_FLOAT&&(je=n.RG16F),we===n.UNSIGNED_BYTE&&(je=n.RG8)),ee===n.RG_INTEGER&&(we===n.UNSIGNED_BYTE&&(je=n.RG8UI),we===n.UNSIGNED_SHORT&&(je=n.RG16UI),we===n.UNSIGNED_INT&&(je=n.RG32UI),we===n.BYTE&&(je=n.RG8I),we===n.SHORT&&(je=n.RG16I),we===n.INT&&(je=n.RG32I)),ee===n.RGB_INTEGER&&(we===n.UNSIGNED_BYTE&&(je=n.RGB8UI),we===n.UNSIGNED_SHORT&&(je=n.RGB16UI),we===n.UNSIGNED_INT&&(je=n.RGB32UI),we===n.BYTE&&(je=n.RGB8I),we===n.SHORT&&(je=n.RGB16I),we===n.INT&&(je=n.RGB32I)),ee===n.RGBA_INTEGER&&(we===n.UNSIGNED_BYTE&&(je=n.RGBA8UI),we===n.UNSIGNED_SHORT&&(je=n.RGBA16UI),we===n.UNSIGNED_INT&&(je=n.RGBA32UI),we===n.BYTE&&(je=n.RGBA8I),we===n.SHORT&&(je=n.RGBA16I),we===n.INT&&(je=n.RGBA32I)),ee===n.RGB&&(we===n.UNSIGNED_INT_5_9_9_9_REV&&(je=n.RGB9_E5),we===n.UNSIGNED_INT_10F_11F_11F_REV&&(je=n.R11F_G11F_B10F)),ee===n.RGBA){const Wt=nt?sC:gi.getTransfer(Xe);we===n.FLOAT&&(je=n.RGBA32F),we===n.HALF_FLOAT&&(je=n.RGBA16F),we===n.UNSIGNED_BYTE&&(je=Wt===Hi?n.SRGB8_ALPHA8:n.RGBA8),we===n.UNSIGNED_SHORT_4_4_4_4&&(je=n.RGBA4),we===n.UNSIGNED_SHORT_5_5_5_1&&(je=n.RGB5_A1)}return(je===n.R16F||je===n.R32F||je===n.RG16F||je===n.RG32F||je===n.RGBA16F||je===n.RGBA32F)&&e.get("EXT_color_buffer_float"),je}function C(oe,ee){let we;return oe?ee===null||ee===Ep||ee===wb?we=n.DEPTH24_STENCIL8:ee===Ho?we=n.DEPTH32F_STENCIL8:ee===Cb&&(we=n.DEPTH24_STENCIL8,Lt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):ee===null||ee===Ep||ee===wb?we=n.DEPTH_COMPONENT24:ee===Ho?we=n.DEPTH_COMPONENT32F:ee===Cb&&(we=n.DEPTH_COMPONENT16),we}function w(oe,ee){return y(oe)===!0||oe.isFramebufferTexture&&oe.minFilter!==ps&&oe.minFilter!==hr?Math.log2(Math.max(ee.width,ee.height))+1:oe.mipmaps!==void 0&&oe.mipmaps.length>0?oe.mipmaps.length:oe.isCompressedTexture&&Array.isArray(oe.image)?ee.mipmaps.length:1}function E(oe){const ee=oe.target;ee.removeEventListener("dispose",E),P(ee),ee.isVideoTexture&&c.delete(ee)}function L(oe){const ee=oe.target;ee.removeEventListener("dispose",L),N(ee)}function P(oe){const ee=i.get(oe);if(ee.__webglInit===void 0)return;const we=oe.source,Xe=h.get(we);if(Xe){const nt=Xe[ee.__cacheKey];nt.usedTimes--,nt.usedTimes===0&&I(oe),Object.keys(Xe).length===0&&h.delete(we)}i.remove(oe)}function I(oe){const ee=i.get(oe);n.deleteTexture(ee.__webglTexture);const we=oe.source,Xe=h.get(we);delete Xe[ee.__cacheKey],s.memory.textures--}function N(oe){const ee=i.get(oe);if(oe.depthTexture&&(oe.depthTexture.dispose(),i.remove(oe.depthTexture)),oe.isWebGLCubeRenderTarget)for(let Xe=0;Xe<6;Xe++){if(Array.isArray(ee.__webglFramebuffer[Xe]))for(let nt=0;nt<ee.__webglFramebuffer[Xe].length;nt++)n.deleteFramebuffer(ee.__webglFramebuffer[Xe][nt]);else n.deleteFramebuffer(ee.__webglFramebuffer[Xe]);ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer[Xe])}else{if(Array.isArray(ee.__webglFramebuffer))for(let Xe=0;Xe<ee.__webglFramebuffer.length;Xe++)n.deleteFramebuffer(ee.__webglFramebuffer[Xe]);else n.deleteFramebuffer(ee.__webglFramebuffer);if(ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer)for(let Xe=0;Xe<ee.__webglColorRenderbuffer.length;Xe++)ee.__webglColorRenderbuffer[Xe]&&n.deleteRenderbuffer(ee.__webglColorRenderbuffer[Xe]);ee.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ee.__webglDepthRenderbuffer)}const we=oe.textures;for(let Xe=0,nt=we.length;Xe<nt;Xe++){const je=i.get(we[Xe]);je.__webglTexture&&(n.deleteTexture(je.__webglTexture),s.memory.textures--),i.remove(we[Xe])}i.remove(oe)}let z=0;function V(){z=0}function U(){const oe=z;return oe>=r.maxTextures&&Lt("WebGLTextures: Trying to use "+oe+" texture units while this GPU supports only "+r.maxTextures),z+=1,oe}function j(oe){const ee=[];return ee.push(oe.wrapS),ee.push(oe.wrapT),ee.push(oe.wrapR||0),ee.push(oe.magFilter),ee.push(oe.minFilter),ee.push(oe.anisotropy),ee.push(oe.internalFormat),ee.push(oe.format),ee.push(oe.type),ee.push(oe.generateMipmaps),ee.push(oe.premultiplyAlpha),ee.push(oe.flipY),ee.push(oe.unpackAlignment),ee.push(oe.colorSpace),ee.join()}function W(oe,ee){const we=i.get(oe);if(oe.isVideoTexture&&_t(oe),oe.isRenderTargetTexture===!1&&oe.isExternalTexture!==!0&&oe.version>0&&we.__version!==oe.version){const Xe=oe.image;if(Xe===null)Lt("WebGLRenderer: Texture marked for update but no image data found.");else if(Xe.complete===!1)Lt("WebGLRenderer: Texture marked for update but image is incomplete");else{fe(we,oe,ee);return}}else oe.isExternalTexture&&(we.__webglTexture=oe.sourceTexture?oe.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,we.__webglTexture,n.TEXTURE0+ee)}function G(oe,ee){const we=i.get(oe);if(oe.isRenderTargetTexture===!1&&oe.version>0&&we.__version!==oe.version){fe(we,oe,ee);return}else oe.isExternalTexture&&(we.__webglTexture=oe.sourceTexture?oe.sourceTexture:null);t.bindTexture(n.TEXTURE_2D_ARRAY,we.__webglTexture,n.TEXTURE0+ee)}function X(oe,ee){const we=i.get(oe);if(oe.isRenderTargetTexture===!1&&oe.version>0&&we.__version!==oe.version){fe(we,oe,ee);return}t.bindTexture(n.TEXTURE_3D,we.__webglTexture,n.TEXTURE0+ee)}function q(oe,ee){const we=i.get(oe);if(oe.version>0&&we.__version!==oe.version){ge(we,oe,ee);return}t.bindTexture(n.TEXTURE_CUBE_MAP,we.__webglTexture,n.TEXTURE0+ee)}const $={[wm]:n.REPEAT,[jo]:n.CLAMP_TO_EDGE,[Tb]:n.MIRRORED_REPEAT},te={[ps]:n.NEAREST,[mP]:n.NEAREST_MIPMAP_NEAREST,[Q0]:n.NEAREST_MIPMAP_LINEAR,[hr]:n.LINEAR,[J1]:n.LINEAR_MIPMAP_NEAREST,[Yu]:n.LINEAR_MIPMAP_LINEAR},J={[Bve]:n.NEVER,[Gve]:n.ALWAYS,[Ove]:n.LESS,[wj]:n.LEQUAL,[zve]:n.EQUAL,[Uve]:n.GEQUAL,[kve]:n.GREATER,[Fve]:n.NOTEQUAL};function Q(oe,ee){if(ee.type===Ho&&e.has("OES_texture_float_linear")===!1&&(ee.magFilter===hr||ee.magFilter===J1||ee.magFilter===Q0||ee.magFilter===Yu||ee.minFilter===hr||ee.minFilter===J1||ee.minFilter===Q0||ee.minFilter===Yu)&&Lt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(oe,n.TEXTURE_WRAP_S,$[ee.wrapS]),n.texParameteri(oe,n.TEXTURE_WRAP_T,$[ee.wrapT]),(oe===n.TEXTURE_3D||oe===n.TEXTURE_2D_ARRAY)&&n.texParameteri(oe,n.TEXTURE_WRAP_R,$[ee.wrapR]),n.texParameteri(oe,n.TEXTURE_MAG_FILTER,te[ee.magFilter]),n.texParameteri(oe,n.TEXTURE_MIN_FILTER,te[ee.minFilter]),ee.compareFunction&&(n.texParameteri(oe,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(oe,n.TEXTURE_COMPARE_FUNC,J[ee.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ee.magFilter===ps||ee.minFilter!==Q0&&ee.minFilter!==Yu||ee.type===Ho&&e.has("OES_texture_float_linear")===!1)return;if(ee.anisotropy>1||i.get(ee).__currentAnisotropy){const we=e.get("EXT_texture_filter_anisotropic");n.texParameterf(oe,we.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ee.anisotropy,r.getMaxAnisotropy())),i.get(ee).__currentAnisotropy=ee.anisotropy}}}function se(oe,ee){let we=!1;oe.__webglInit===void 0&&(oe.__webglInit=!0,ee.addEventListener("dispose",E));const Xe=ee.source;let nt=h.get(Xe);nt===void 0&&(nt={},h.set(Xe,nt));const je=j(ee);if(je!==oe.__cacheKey){nt[je]===void 0&&(nt[je]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,we=!0),nt[je].usedTimes++;const Wt=nt[oe.__cacheKey];Wt!==void 0&&(nt[oe.__cacheKey].usedTimes--,Wt.usedTimes===0&&I(ee)),oe.__cacheKey=je,oe.__webglTexture=nt[je].texture}return we}function ce(oe,ee,we){return Math.floor(Math.floor(oe/we)/ee)}function ue(oe,ee,we,Xe){const je=oe.updateRanges;if(je.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,ee.width,ee.height,we,Xe,ee.data);else{je.sort((et,it)=>et.start-it.start);let Wt=0;for(let et=1;et<je.length;et++){const it=je[Wt],Ht=je[et],de=it.start+it.count,Pe=ce(Ht.start,ee.width,4),lt=ce(it.start,ee.width,4);Ht.start<=de+1&&Pe===lt&&ce(Ht.start+Ht.count-1,ee.width,4)===Pe?it.count=Math.max(it.count,Ht.start+Ht.count-it.start):(++Wt,je[Wt]=Ht)}je.length=Wt+1;const St=n.getParameter(n.UNPACK_ROW_LENGTH),qt=n.getParameter(n.UNPACK_SKIP_PIXELS),Vt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,ee.width);for(let et=0,it=je.length;et<it;et++){const Ht=je[et],de=Math.floor(Ht.start/4),Pe=Math.ceil(Ht.count/4),lt=de%ee.width,he=Math.floor(de/ee.width),ut=Pe,ft=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,lt),n.pixelStorei(n.UNPACK_SKIP_ROWS,he),t.texSubImage2D(n.TEXTURE_2D,0,lt,he,ut,ft,we,Xe,ee.data)}oe.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,St),n.pixelStorei(n.UNPACK_SKIP_PIXELS,qt),n.pixelStorei(n.UNPACK_SKIP_ROWS,Vt)}}function fe(oe,ee,we){let Xe=n.TEXTURE_2D;(ee.isDataArrayTexture||ee.isCompressedArrayTexture)&&(Xe=n.TEXTURE_2D_ARRAY),ee.isData3DTexture&&(Xe=n.TEXTURE_3D);const nt=se(oe,ee),je=ee.source;t.bindTexture(Xe,oe.__webglTexture,n.TEXTURE0+we);const Wt=i.get(je);if(je.version!==Wt.__version||nt===!0){t.activeTexture(n.TEXTURE0+we);const St=gi.getPrimaries(gi.workingColorSpace),qt=ee.colorSpace===Yd?null:gi.getPrimaries(ee.colorSpace),Vt=ee.colorSpace===Yd||St===qt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ee.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ee.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Vt);let et=m(ee.image,!1,r.maxTextureSize);et=pt(ee,et);const it=a.convert(ee.format,ee.colorSpace),Ht=a.convert(ee.type);let de=M(ee.internalFormat,it,Ht,ee.colorSpace,ee.isVideoTexture);Q(Xe,ee);let Pe;const lt=ee.mipmaps,he=ee.isVideoTexture!==!0,ut=Wt.__version===void 0||nt===!0,ft=je.dataReady,vt=w(ee,et);if(ee.isDepthTexture)de=C(ee.format===Db,ee.type),ut&&(he?t.texStorage2D(n.TEXTURE_2D,1,de,et.width,et.height):t.texImage2D(n.TEXTURE_2D,0,de,et.width,et.height,0,it,Ht,null));else if(ee.isDataTexture)if(lt.length>0){he&&ut&&t.texStorage2D(n.TEXTURE_2D,vt,de,lt[0].width,lt[0].height);for(let at=0,Qe=lt.length;at<Qe;at++)Pe=lt[at],he?ft&&t.texSubImage2D(n.TEXTURE_2D,at,0,0,Pe.width,Pe.height,it,Ht,Pe.data):t.texImage2D(n.TEXTURE_2D,at,de,Pe.width,Pe.height,0,it,Ht,Pe.data);ee.generateMipmaps=!1}else he?(ut&&t.texStorage2D(n.TEXTURE_2D,vt,de,et.width,et.height),ft&&ue(ee,et,it,Ht)):t.texImage2D(n.TEXTURE_2D,0,de,et.width,et.height,0,it,Ht,et.data);else if(ee.isCompressedTexture)if(ee.isCompressedArrayTexture){he&&ut&&t.texStorage3D(n.TEXTURE_2D_ARRAY,vt,de,lt[0].width,lt[0].height,et.depth);for(let at=0,Qe=lt.length;at<Qe;at++)if(Pe=lt[at],ee.format!==lo)if(it!==null)if(he){if(ft)if(ee.layerUpdates.size>0){const Tt=X8(Pe.width,Pe.height,ee.format,ee.type);for(const Kt of ee.layerUpdates){const Xn=Pe.data.subarray(Kt*Tt/Pe.data.BYTES_PER_ELEMENT,(Kt+1)*Tt/Pe.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,at,0,0,Kt,Pe.width,Pe.height,1,it,Xn)}ee.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,at,0,0,0,Pe.width,Pe.height,et.depth,it,Pe.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,at,de,Pe.width,Pe.height,et.depth,0,Pe.data,0,0);else Lt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else he?ft&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,at,0,0,0,Pe.width,Pe.height,et.depth,it,Ht,Pe.data):t.texImage3D(n.TEXTURE_2D_ARRAY,at,de,Pe.width,Pe.height,et.depth,0,it,Ht,Pe.data)}else{he&&ut&&t.texStorage2D(n.TEXTURE_2D,vt,de,lt[0].width,lt[0].height);for(let at=0,Qe=lt.length;at<Qe;at++)Pe=lt[at],ee.format!==lo?it!==null?he?ft&&t.compressedTexSubImage2D(n.TEXTURE_2D,at,0,0,Pe.width,Pe.height,it,Pe.data):t.compressedTexImage2D(n.TEXTURE_2D,at,de,Pe.width,Pe.height,0,Pe.data):Lt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):he?ft&&t.texSubImage2D(n.TEXTURE_2D,at,0,0,Pe.width,Pe.height,it,Ht,Pe.data):t.texImage2D(n.TEXTURE_2D,at,de,Pe.width,Pe.height,0,it,Ht,Pe.data)}else if(ee.isDataArrayTexture)if(he){if(ut&&t.texStorage3D(n.TEXTURE_2D_ARRAY,vt,de,et.width,et.height,et.depth),ft)if(ee.layerUpdates.size>0){const at=X8(et.width,et.height,ee.format,ee.type);for(const Qe of ee.layerUpdates){const Tt=et.data.subarray(Qe*at/et.data.BYTES_PER_ELEMENT,(Qe+1)*at/et.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Qe,et.width,et.height,1,it,Ht,Tt)}ee.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,et.width,et.height,et.depth,it,Ht,et.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,de,et.width,et.height,et.depth,0,it,Ht,et.data);else if(ee.isData3DTexture)he?(ut&&t.texStorage3D(n.TEXTURE_3D,vt,de,et.width,et.height,et.depth),ft&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,et.width,et.height,et.depth,it,Ht,et.data)):t.texImage3D(n.TEXTURE_3D,0,de,et.width,et.height,et.depth,0,it,Ht,et.data);else if(ee.isFramebufferTexture){if(ut)if(he)t.texStorage2D(n.TEXTURE_2D,vt,de,et.width,et.height);else{let at=et.width,Qe=et.height;for(let Tt=0;Tt<vt;Tt++)t.texImage2D(n.TEXTURE_2D,Tt,de,at,Qe,0,it,Ht,null),at>>=1,Qe>>=1}}else if(lt.length>0){if(he&&ut){const at=Ct(lt[0]);t.texStorage2D(n.TEXTURE_2D,vt,de,at.width,at.height)}for(let at=0,Qe=lt.length;at<Qe;at++)Pe=lt[at],he?ft&&t.texSubImage2D(n.TEXTURE_2D,at,0,0,it,Ht,Pe):t.texImage2D(n.TEXTURE_2D,at,de,it,Ht,Pe);ee.generateMipmaps=!1}else if(he){if(ut){const at=Ct(et);t.texStorage2D(n.TEXTURE_2D,vt,de,at.width,at.height)}ft&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,it,Ht,et)}else t.texImage2D(n.TEXTURE_2D,0,de,it,Ht,et);y(ee)&&x(Xe),Wt.__version=je.version,ee.onUpdate&&ee.onUpdate(ee)}oe.__version=ee.version}function ge(oe,ee,we){if(ee.image.length!==6)return;const Xe=se(oe,ee),nt=ee.source;t.bindTexture(n.TEXTURE_CUBE_MAP,oe.__webglTexture,n.TEXTURE0+we);const je=i.get(nt);if(nt.version!==je.__version||Xe===!0){t.activeTexture(n.TEXTURE0+we);const Wt=gi.getPrimaries(gi.workingColorSpace),St=ee.colorSpace===Yd?null:gi.getPrimaries(ee.colorSpace),qt=ee.colorSpace===Yd||Wt===St?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ee.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ee.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,qt);const Vt=ee.isCompressedTexture||ee.image[0].isCompressedTexture,et=ee.image[0]&&ee.image[0].isDataTexture,it=[];for(let Qe=0;Qe<6;Qe++)!Vt&&!et?it[Qe]=m(ee.image[Qe],!0,r.maxCubemapSize):it[Qe]=et?ee.image[Qe].image:ee.image[Qe],it[Qe]=pt(ee,it[Qe]);const Ht=it[0],de=a.convert(ee.format,ee.colorSpace),Pe=a.convert(ee.type),lt=M(ee.internalFormat,de,Pe,ee.colorSpace),he=ee.isVideoTexture!==!0,ut=je.__version===void 0||Xe===!0,ft=nt.dataReady;let vt=w(ee,Ht);Q(n.TEXTURE_CUBE_MAP,ee);let at;if(Vt){he&&ut&&t.texStorage2D(n.TEXTURE_CUBE_MAP,vt,lt,Ht.width,Ht.height);for(let Qe=0;Qe<6;Qe++){at=it[Qe].mipmaps;for(let Tt=0;Tt<at.length;Tt++){const Kt=at[Tt];ee.format!==lo?de!==null?he?ft&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,Tt,0,0,Kt.width,Kt.height,de,Kt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,Tt,lt,Kt.width,Kt.height,0,Kt.data):Lt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):he?ft&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,Tt,0,0,Kt.width,Kt.height,de,Pe,Kt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,Tt,lt,Kt.width,Kt.height,0,de,Pe,Kt.data)}}}else{if(at=ee.mipmaps,he&&ut){at.length>0&&vt++;const Qe=Ct(it[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,vt,lt,Qe.width,Qe.height)}for(let Qe=0;Qe<6;Qe++)if(et){he?ft&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,it[Qe].width,it[Qe].height,de,Pe,it[Qe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,lt,it[Qe].width,it[Qe].height,0,de,Pe,it[Qe].data);for(let Tt=0;Tt<at.length;Tt++){const Xn=at[Tt].image[Qe].image;he?ft&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,Tt+1,0,0,Xn.width,Xn.height,de,Pe,Xn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,Tt+1,lt,Xn.width,Xn.height,0,de,Pe,Xn.data)}}else{he?ft&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,de,Pe,it[Qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,lt,de,Pe,it[Qe]);for(let Tt=0;Tt<at.length;Tt++){const Kt=at[Tt];he?ft&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,Tt+1,0,0,de,Pe,Kt.image[Qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,Tt+1,lt,de,Pe,Kt.image[Qe])}}}y(ee)&&x(n.TEXTURE_CUBE_MAP),je.__version=nt.version,ee.onUpdate&&ee.onUpdate(ee)}oe.__version=ee.version}function Se(oe,ee,we,Xe,nt,je){const Wt=a.convert(we.format,we.colorSpace),St=a.convert(we.type),qt=M(we.internalFormat,Wt,St,we.colorSpace),Vt=i.get(ee),et=i.get(we);if(et.__renderTarget=ee,!Vt.__hasExternalTextures){const it=Math.max(1,ee.width>>je),Ht=Math.max(1,ee.height>>je);nt===n.TEXTURE_3D||nt===n.TEXTURE_2D_ARRAY?t.texImage3D(nt,je,qt,it,Ht,ee.depth,0,Wt,St,null):t.texImage2D(nt,je,qt,it,Ht,0,Wt,St,null)}t.bindFramebuffer(n.FRAMEBUFFER,oe),Je(ee)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Xe,nt,et.__webglTexture,0,rt(ee)):(nt===n.TEXTURE_2D||nt>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&nt<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Xe,nt,et.__webglTexture,je),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ee(oe,ee,we){if(n.bindRenderbuffer(n.RENDERBUFFER,oe),ee.depthBuffer){const Xe=ee.depthTexture,nt=Xe&&Xe.isDepthTexture?Xe.type:null,je=C(ee.stencilBuffer,nt),Wt=ee.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,St=rt(ee);Je(ee)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,St,je,ee.width,ee.height):we?n.renderbufferStorageMultisample(n.RENDERBUFFER,St,je,ee.width,ee.height):n.renderbufferStorage(n.RENDERBUFFER,je,ee.width,ee.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Wt,n.RENDERBUFFER,oe)}else{const Xe=ee.textures;for(let nt=0;nt<Xe.length;nt++){const je=Xe[nt],Wt=a.convert(je.format,je.colorSpace),St=a.convert(je.type),qt=M(je.internalFormat,Wt,St,je.colorSpace),Vt=rt(ee);we&&Je(ee)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Vt,qt,ee.width,ee.height):Je(ee)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Vt,qt,ee.width,ee.height):n.renderbufferStorage(n.RENDERBUFFER,qt,ee.width,ee.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ue(oe,ee){if(ee&&ee.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,oe),!(ee.depthTexture&&ee.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Xe=i.get(ee.depthTexture);Xe.__renderTarget=ee,(!Xe.__webglTexture||ee.depthTexture.image.width!==ee.width||ee.depthTexture.image.height!==ee.height)&&(ee.depthTexture.image.width=ee.width,ee.depthTexture.image.height=ee.height,ee.depthTexture.needsUpdate=!0),W(ee.depthTexture,0);const nt=Xe.__webglTexture,je=rt(ee);if(ee.depthTexture.format===Eb)Je(ee)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,nt,0,je):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,nt,0);else if(ee.depthTexture.format===Db)Je(ee)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,nt,0,je):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,nt,0);else throw new Error("Unknown depthTexture format")}function _e(oe){const ee=i.get(oe),we=oe.isWebGLCubeRenderTarget===!0;if(ee.__boundDepthTexture!==oe.depthTexture){const Xe=oe.depthTexture;if(ee.__depthDisposeCallback&&ee.__depthDisposeCallback(),Xe){const nt=()=>{delete ee.__boundDepthTexture,delete ee.__depthDisposeCallback,Xe.removeEventListener("dispose",nt)};Xe.addEventListener("dispose",nt),ee.__depthDisposeCallback=nt}ee.__boundDepthTexture=Xe}if(oe.depthTexture&&!ee.__autoAllocateDepthBuffer){if(we)throw new Error("target.depthTexture not supported in Cube render targets");const Xe=oe.texture.mipmaps;Xe&&Xe.length>0?Ue(ee.__webglFramebuffer[0],oe):Ue(ee.__webglFramebuffer,oe)}else if(we){ee.__webglDepthbuffer=[];for(let Xe=0;Xe<6;Xe++)if(t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglFramebuffer[Xe]),ee.__webglDepthbuffer[Xe]===void 0)ee.__webglDepthbuffer[Xe]=n.createRenderbuffer(),Ee(ee.__webglDepthbuffer[Xe],oe,!1);else{const nt=oe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,je=ee.__webglDepthbuffer[Xe];n.bindRenderbuffer(n.RENDERBUFFER,je),n.framebufferRenderbuffer(n.FRAMEBUFFER,nt,n.RENDERBUFFER,je)}}else{const Xe=oe.texture.mipmaps;if(Xe&&Xe.length>0?t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglFramebuffer),ee.__webglDepthbuffer===void 0)ee.__webglDepthbuffer=n.createRenderbuffer(),Ee(ee.__webglDepthbuffer,oe,!1);else{const nt=oe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,je=ee.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,je),n.framebufferRenderbuffer(n.FRAMEBUFFER,nt,n.RENDERBUFFER,je)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function ke(oe,ee,we){const Xe=i.get(oe);ee!==void 0&&Se(Xe.__webglFramebuffer,oe,oe.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),we!==void 0&&_e(oe)}function dt(oe){const ee=oe.texture,we=i.get(oe),Xe=i.get(ee);oe.addEventListener("dispose",L);const nt=oe.textures,je=oe.isWebGLCubeRenderTarget===!0,Wt=nt.length>1;if(Wt||(Xe.__webglTexture===void 0&&(Xe.__webglTexture=n.createTexture()),Xe.__version=ee.version,s.memory.textures++),je){we.__webglFramebuffer=[];for(let St=0;St<6;St++)if(ee.mipmaps&&ee.mipmaps.length>0){we.__webglFramebuffer[St]=[];for(let qt=0;qt<ee.mipmaps.length;qt++)we.__webglFramebuffer[St][qt]=n.createFramebuffer()}else we.__webglFramebuffer[St]=n.createFramebuffer()}else{if(ee.mipmaps&&ee.mipmaps.length>0){we.__webglFramebuffer=[];for(let St=0;St<ee.mipmaps.length;St++)we.__webglFramebuffer[St]=n.createFramebuffer()}else we.__webglFramebuffer=n.createFramebuffer();if(Wt)for(let St=0,qt=nt.length;St<qt;St++){const Vt=i.get(nt[St]);Vt.__webglTexture===void 0&&(Vt.__webglTexture=n.createTexture(),s.memory.textures++)}if(oe.samples>0&&Je(oe)===!1){we.__webglMultisampledFramebuffer=n.createFramebuffer(),we.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,we.__webglMultisampledFramebuffer);for(let St=0;St<nt.length;St++){const qt=nt[St];we.__webglColorRenderbuffer[St]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,we.__webglColorRenderbuffer[St]);const Vt=a.convert(qt.format,qt.colorSpace),et=a.convert(qt.type),it=M(qt.internalFormat,Vt,et,qt.colorSpace,oe.isXRRenderTarget===!0),Ht=rt(oe);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ht,it,oe.width,oe.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+St,n.RENDERBUFFER,we.__webglColorRenderbuffer[St])}n.bindRenderbuffer(n.RENDERBUFFER,null),oe.depthBuffer&&(we.__webglDepthRenderbuffer=n.createRenderbuffer(),Ee(we.__webglDepthRenderbuffer,oe,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(je){t.bindTexture(n.TEXTURE_CUBE_MAP,Xe.__webglTexture),Q(n.TEXTURE_CUBE_MAP,ee);for(let St=0;St<6;St++)if(ee.mipmaps&&ee.mipmaps.length>0)for(let qt=0;qt<ee.mipmaps.length;qt++)Se(we.__webglFramebuffer[St][qt],oe,ee,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+St,qt);else Se(we.__webglFramebuffer[St],oe,ee,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+St,0);y(ee)&&x(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Wt){for(let St=0,qt=nt.length;St<qt;St++){const Vt=nt[St],et=i.get(Vt);let it=n.TEXTURE_2D;(oe.isWebGL3DRenderTarget||oe.isWebGLArrayRenderTarget)&&(it=oe.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(it,et.__webglTexture),Q(it,Vt),Se(we.__webglFramebuffer,oe,Vt,n.COLOR_ATTACHMENT0+St,it,0),y(Vt)&&x(it)}t.unbindTexture()}else{let St=n.TEXTURE_2D;if((oe.isWebGL3DRenderTarget||oe.isWebGLArrayRenderTarget)&&(St=oe.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(St,Xe.__webglTexture),Q(St,ee),ee.mipmaps&&ee.mipmaps.length>0)for(let qt=0;qt<ee.mipmaps.length;qt++)Se(we.__webglFramebuffer[qt],oe,ee,n.COLOR_ATTACHMENT0,St,qt);else Se(we.__webglFramebuffer,oe,ee,n.COLOR_ATTACHMENT0,St,0);y(ee)&&x(St),t.unbindTexture()}oe.depthBuffer&&_e(oe)}function De(oe){const ee=oe.textures;for(let we=0,Xe=ee.length;we<Xe;we++){const nt=ee[we];if(y(nt)){const je=b(oe),Wt=i.get(nt).__webglTexture;t.bindTexture(je,Wt),x(je),t.unbindTexture()}}}const ae=[],Fe=[];function qe(oe){if(oe.samples>0){if(Je(oe)===!1){const ee=oe.textures,we=oe.width,Xe=oe.height;let nt=n.COLOR_BUFFER_BIT;const je=oe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Wt=i.get(oe),St=ee.length>1;if(St)for(let Vt=0;Vt<ee.length;Vt++)t.bindFramebuffer(n.FRAMEBUFFER,Wt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Vt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Wt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Vt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Wt.__webglMultisampledFramebuffer);const qt=oe.texture.mipmaps;qt&&qt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Wt.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Wt.__webglFramebuffer);for(let Vt=0;Vt<ee.length;Vt++){if(oe.resolveDepthBuffer&&(oe.depthBuffer&&(nt|=n.DEPTH_BUFFER_BIT),oe.stencilBuffer&&oe.resolveStencilBuffer&&(nt|=n.STENCIL_BUFFER_BIT)),St){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Wt.__webglColorRenderbuffer[Vt]);const et=i.get(ee[Vt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,et,0)}n.blitFramebuffer(0,0,we,Xe,0,0,we,Xe,nt,n.NEAREST),l===!0&&(ae.length=0,Fe.length=0,ae.push(n.COLOR_ATTACHMENT0+Vt),oe.depthBuffer&&oe.resolveDepthBuffer===!1&&(ae.push(je),Fe.push(je),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Fe)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ae))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),St)for(let Vt=0;Vt<ee.length;Vt++){t.bindFramebuffer(n.FRAMEBUFFER,Wt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Vt,n.RENDERBUFFER,Wt.__webglColorRenderbuffer[Vt]);const et=i.get(ee[Vt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Wt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Vt,n.TEXTURE_2D,et,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Wt.__webglMultisampledFramebuffer)}else if(oe.depthBuffer&&oe.resolveDepthBuffer===!1&&l){const ee=oe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[ee])}}}function rt(oe){return Math.min(r.maxSamples,oe.samples)}function Je(oe){const ee=i.get(oe);return oe.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ee.__useRenderToTexture!==!1}function _t(oe){const ee=s.render.frame;c.get(oe)!==ee&&(c.set(oe,ee),oe.update())}function pt(oe,ee){const we=oe.colorSpace,Xe=oe.format,nt=oe.type;return oe.isCompressedTexture===!0||oe.isVideoTexture===!0||we!==Em&&we!==Yd&&(gi.getTransfer(we)===Hi?(Xe!==lo||nt!==tc)&&Lt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Cn("WebGLTextures: Unsupported texture color space:",we)),ee}function Ct(oe){return typeof HTMLImageElement<"u"&&oe instanceof HTMLImageElement?(u.width=oe.naturalWidth||oe.width,u.height=oe.naturalHeight||oe.height):typeof VideoFrame<"u"&&oe instanceof VideoFrame?(u.width=oe.displayWidth,u.height=oe.displayHeight):(u.width=oe.width,u.height=oe.height),u}this.allocateTextureUnit=U,this.resetTextureUnits=V,this.setTexture2D=W,this.setTexture2DArray=G,this.setTexture3D=X,this.setTextureCube=q,this.rebindTextures=ke,this.setupRenderTarget=dt,this.updateRenderTargetMipmap=De,this.updateMultisampleRenderTarget=qe,this.setupDepthRenderbuffer=_e,this.setupFrameBufferTexture=Se,this.useMultisampledRTT=Je}function qme(n,e){function t(i,r=Yd){let a;const s=gi.getTransfer(r);if(i===tc)return n.UNSIGNED_BYTE;if(i===yP)return n.UNSIGNED_SHORT_4_4_4_4;if(i===xP)return n.UNSIGNED_SHORT_5_5_5_1;if(i===bj)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===Sj)return n.UNSIGNED_INT_10F_11F_11F_REV;if(i===xj)return n.BYTE;if(i===_j)return n.SHORT;if(i===Cb)return n.UNSIGNED_SHORT;if(i===gP)return n.INT;if(i===Ep)return n.UNSIGNED_INT;if(i===Ho)return n.FLOAT;if(i===Fm)return n.HALF_FLOAT;if(i===Aj)return n.ALPHA;if(i===Mj)return n.RGB;if(i===lo)return n.RGBA;if(i===Eb)return n.DEPTH_COMPONENT;if(i===Db)return n.DEPTH_STENCIL;if(i===_P)return n.RED;if(i===JC)return n.RED_INTEGER;if(i===bP)return n.RG;if(i===SP)return n.RG_INTEGER;if(i===AP)return n.RGBA_INTEGER;if(i===Q2||i===$2||i===eT||i===tT)if(s===Hi)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===Q2)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===$2)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===eT)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===tT)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===Q2)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===$2)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===eT)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===tT)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===SN||i===AN||i===MN||i===TN)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===SN)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===AN)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===MN)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===TN)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===CN||i===wN||i===EN)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===CN||i===wN)return s===Hi?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===EN)return s===Hi?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===DN||i===RN||i===LN||i===NN||i===IN||i===PN||i===BN||i===ON||i===zN||i===kN||i===FN||i===UN||i===GN||i===VN)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===DN)return s===Hi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===RN)return s===Hi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===LN)return s===Hi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===NN)return s===Hi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===IN)return s===Hi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===PN)return s===Hi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===BN)return s===Hi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===ON)return s===Hi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===zN)return s===Hi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===kN)return s===Hi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===FN)return s===Hi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===UN)return s===Hi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===GN)return s===Hi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===VN)return s===Hi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===jN||i===HN||i===WN)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===jN)return s===Hi?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===HN)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===WN)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===XN||i===YN||i===qN||i===ZN)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===XN)return a.COMPRESSED_RED_RGTC1_EXT;if(i===YN)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===qN)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===ZN)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===wb?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const Ret=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Let=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Net{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const i=new kj(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new nc({vertexShader:Ret,fragmentShader:Let,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new La(new SS(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Iet extends Vh{constructor(e,t){super();const i=this;let r=null,a=1,s=null,o="local-floor",l=1,u=null,c=null,f=null,h=null,d=null,v=null;const m=typeof XRWebGLBinding<"u",y=new Net,x={},b=t.getContextAttributes();let M=null,C=null;const w=[],E=[],L=new Ke;let P=null;const I=new qr;I.viewport=new Ai;const N=new qr;N.viewport=new Ai;const z=[I,N],V=new zme;let U=null,j=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(fe){let ge=w[fe];return ge===void 0&&(ge=new N3,w[fe]=ge),ge.getTargetRaySpace()},this.getControllerGrip=function(fe){let ge=w[fe];return ge===void 0&&(ge=new N3,w[fe]=ge),ge.getGripSpace()},this.getHand=function(fe){let ge=w[fe];return ge===void 0&&(ge=new N3,w[fe]=ge),ge.getHandSpace()};function W(fe){const ge=E.indexOf(fe.inputSource);if(ge===-1)return;const Se=w[ge];Se!==void 0&&(Se.update(fe.inputSource,fe.frame,u||s),Se.dispatchEvent({type:fe.type,data:fe.inputSource}))}function G(){r.removeEventListener("select",W),r.removeEventListener("selectstart",W),r.removeEventListener("selectend",W),r.removeEventListener("squeeze",W),r.removeEventListener("squeezestart",W),r.removeEventListener("squeezeend",W),r.removeEventListener("end",G),r.removeEventListener("inputsourceschange",X);for(let fe=0;fe<w.length;fe++){const ge=E[fe];ge!==null&&(E[fe]=null,w[fe].disconnect(ge))}U=null,j=null,y.reset();for(const fe in x)delete x[fe];e.setRenderTarget(M),d=null,h=null,f=null,r=null,C=null,ue.stop(),i.isPresenting=!1,e.setPixelRatio(P),e.setSize(L.width,L.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(fe){a=fe,i.isPresenting===!0&&Lt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(fe){o=fe,i.isPresenting===!0&&Lt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||s},this.setReferenceSpace=function(fe){u=fe},this.getBaseLayer=function(){return h!==null?h:d},this.getBinding=function(){return f===null&&m&&(f=new XRWebGLBinding(r,t)),f},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(fe){if(r=fe,r!==null){if(M=e.getRenderTarget(),r.addEventListener("select",W),r.addEventListener("selectstart",W),r.addEventListener("selectend",W),r.addEventListener("squeeze",W),r.addEventListener("squeezestart",W),r.addEventListener("squeezeend",W),r.addEventListener("end",G),r.addEventListener("inputsourceschange",X),b.xrCompatible!==!0&&await t.makeXRCompatible(),P=e.getPixelRatio(),e.getSize(L),m&&"createProjectionLayer"in XRWebGLBinding.prototype){let Se=null,Ee=null,Ue=null;b.depth&&(Ue=b.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Se=b.stencil?Db:Eb,Ee=b.stencil?wb:Ep);const _e={colorFormat:t.RGBA8,depthFormat:Ue,scaleFactor:a};f=this.getBinding(),h=f.createProjectionLayer(_e),r.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),C=new lf(h.textureWidth,h.textureHeight,{format:lo,type:tc,depthTexture:new PP(h.textureWidth,h.textureHeight,Ee,void 0,void 0,void 0,void 0,void 0,void 0,Se),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{const Se={antialias:b.antialias,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:a};d=new XRWebGLLayer(r,t,Se),r.updateRenderState({baseLayer:d}),e.setPixelRatio(1),e.setSize(d.framebufferWidth,d.framebufferHeight,!1),C=new lf(d.framebufferWidth,d.framebufferHeight,{format:lo,type:tc,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil,resolveDepthBuffer:d.ignoreDepthValues===!1,resolveStencilBuffer:d.ignoreDepthValues===!1})}C.isXRRenderTarget=!0,this.setFoveation(l),u=null,s=await r.requestReferenceSpace(o),ue.setContext(r),ue.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function X(fe){for(let ge=0;ge<fe.removed.length;ge++){const Se=fe.removed[ge],Ee=E.indexOf(Se);Ee>=0&&(E[Ee]=null,w[Ee].disconnect(Se))}for(let ge=0;ge<fe.added.length;ge++){const Se=fe.added[ge];let Ee=E.indexOf(Se);if(Ee===-1){for(let _e=0;_e<w.length;_e++)if(_e>=E.length){E.push(Se),Ee=_e;break}else if(E[_e]===null){E[_e]=Se,Ee=_e;break}if(Ee===-1)break}const Ue=w[Ee];Ue&&Ue.connect(Se)}}const q=new le,$=new le;function te(fe,ge,Se){q.setFromMatrixPosition(ge.matrixWorld),$.setFromMatrixPosition(Se.matrixWorld);const Ee=q.distanceTo($),Ue=ge.projectionMatrix.elements,_e=Se.projectionMatrix.elements,ke=Ue[14]/(Ue[10]-1),dt=Ue[14]/(Ue[10]+1),De=(Ue[9]+1)/Ue[5],ae=(Ue[9]-1)/Ue[5],Fe=(Ue[8]-1)/Ue[0],qe=(_e[8]+1)/_e[0],rt=ke*Fe,Je=ke*qe,_t=Ee/(-Fe+qe),pt=_t*-Fe;if(ge.matrixWorld.decompose(fe.position,fe.quaternion,fe.scale),fe.translateX(pt),fe.translateZ(_t),fe.matrixWorld.compose(fe.position,fe.quaternion,fe.scale),fe.matrixWorldInverse.copy(fe.matrixWorld).invert(),Ue[10]===-1)fe.projectionMatrix.copy(ge.projectionMatrix),fe.projectionMatrixInverse.copy(ge.projectionMatrixInverse);else{const Ct=ke+_t,oe=dt+_t,ee=rt-pt,we=Je+(Ee-pt),Xe=De*dt/oe*Ct,nt=ae*dt/oe*Ct;fe.projectionMatrix.makePerspective(ee,we,Xe,nt,Ct,oe),fe.projectionMatrixInverse.copy(fe.projectionMatrix).invert()}}function J(fe,ge){ge===null?fe.matrixWorld.copy(fe.matrix):fe.matrixWorld.multiplyMatrices(ge.matrixWorld,fe.matrix),fe.matrixWorldInverse.copy(fe.matrixWorld).invert()}this.updateCamera=function(fe){if(r===null)return;let ge=fe.near,Se=fe.far;y.texture!==null&&(y.depthNear>0&&(ge=y.depthNear),y.depthFar>0&&(Se=y.depthFar)),V.near=N.near=I.near=ge,V.far=N.far=I.far=Se,(U!==V.near||j!==V.far)&&(r.updateRenderState({depthNear:V.near,depthFar:V.far}),U=V.near,j=V.far),V.layers.mask=fe.layers.mask|6,I.layers.mask=V.layers.mask&3,N.layers.mask=V.layers.mask&5;const Ee=fe.parent,Ue=V.cameras;J(V,Ee);for(let _e=0;_e<Ue.length;_e++)J(Ue[_e],Ee);Ue.length===2?te(V,I,N):V.projectionMatrix.copy(I.projectionMatrix),Q(fe,V,Ee)};function Q(fe,ge,Se){Se===null?fe.matrix.copy(ge.matrixWorld):(fe.matrix.copy(Se.matrixWorld),fe.matrix.invert(),fe.matrix.multiply(ge.matrixWorld)),fe.matrix.decompose(fe.position,fe.quaternion,fe.scale),fe.updateMatrixWorld(!0),fe.projectionMatrix.copy(ge.projectionMatrix),fe.projectionMatrixInverse.copy(ge.projectionMatrixInverse),fe.isPerspectiveCamera&&(fe.fov=Pb*2*Math.atan(1/fe.projectionMatrix.elements[5]),fe.zoom=1)}this.getCamera=function(){return V},this.getFoveation=function(){if(!(h===null&&d===null))return l},this.setFoveation=function(fe){l=fe,h!==null&&(h.fixedFoveation=fe),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=fe)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(V)},this.getCameraTexture=function(fe){return x[fe]};let se=null;function ce(fe,ge){if(c=ge.getViewerPose(u||s),v=ge,c!==null){const Se=c.views;d!==null&&(e.setRenderTargetFramebuffer(C,d.framebuffer),e.setRenderTarget(C));let Ee=!1;Se.length!==V.cameras.length&&(V.cameras.length=0,Ee=!0);for(let dt=0;dt<Se.length;dt++){const De=Se[dt];let ae=null;if(d!==null)ae=d.getViewport(De);else{const qe=f.getViewSubImage(h,De);ae=qe.viewport,dt===0&&(e.setRenderTargetTextures(C,qe.colorTexture,qe.depthStencilTexture),e.setRenderTarget(C))}let Fe=z[dt];Fe===void 0&&(Fe=new qr,Fe.layers.enable(dt),Fe.viewport=new Ai,z[dt]=Fe),Fe.matrix.fromArray(De.transform.matrix),Fe.matrix.decompose(Fe.position,Fe.quaternion,Fe.scale),Fe.projectionMatrix.fromArray(De.projectionMatrix),Fe.projectionMatrixInverse.copy(Fe.projectionMatrix).invert(),Fe.viewport.set(ae.x,ae.y,ae.width,ae.height),dt===0&&(V.matrix.copy(Fe.matrix),V.matrix.decompose(V.position,V.quaternion,V.scale)),Ee===!0&&V.cameras.push(Fe)}const Ue=r.enabledFeatures;if(Ue&&Ue.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&m){f=i.getBinding();const dt=f.getDepthInformation(Se[0]);dt&&dt.isValid&&dt.texture&&y.init(dt,r.renderState)}if(Ue&&Ue.includes("camera-access")&&m){e.state.unbindTexture(),f=i.getBinding();for(let dt=0;dt<Se.length;dt++){const De=Se[dt].camera;if(De){let ae=x[De];ae||(ae=new kj,x[De]=ae);const Fe=f.getCameraImage(De);ae.sourceTexture=Fe}}}}for(let Se=0;Se<w.length;Se++){const Ee=E[Se],Ue=w[Se];Ee!==null&&Ue!==void 0&&Ue.update(Ee,ge,u||s)}se&&se(fe,ge),ge.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ge}),v=null}const ue=new jme;ue.setAnimationLoop(ce),this.setAnimationLoop=function(fe){se=fe},this.dispose=function(){}}}const A0=new uf,Pet=new vn;function Bet(n,e){function t(y,x){y.matrixAutoUpdate===!0&&y.updateMatrix(),x.value.copy(y.matrix)}function i(y,x){x.color.getRGB(y.fogColor.value,qve(n)),x.isFog?(y.fogNear.value=x.near,y.fogFar.value=x.far):x.isFogExp2&&(y.fogDensity.value=x.density)}function r(y,x,b,M,C){x.isMeshBasicMaterial||x.isMeshLambertMaterial?a(y,x):x.isMeshToonMaterial?(a(y,x),f(y,x)):x.isMeshPhongMaterial?(a(y,x),c(y,x)):x.isMeshStandardMaterial?(a(y,x),h(y,x),x.isMeshPhysicalMaterial&&d(y,x,C)):x.isMeshMatcapMaterial?(a(y,x),v(y,x)):x.isMeshDepthMaterial?a(y,x):x.isMeshDistanceMaterial?(a(y,x),m(y,x)):x.isMeshNormalMaterial?a(y,x):x.isLineBasicMaterial?(s(y,x),x.isLineDashedMaterial&&o(y,x)):x.isPointsMaterial?l(y,x,b,M):x.isSpriteMaterial?u(y,x):x.isShadowMaterial?(y.color.value.copy(x.color),y.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function a(y,x){y.opacity.value=x.opacity,x.color&&y.diffuse.value.copy(x.color),x.emissive&&y.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(y.map.value=x.map,t(x.map,y.mapTransform)),x.alphaMap&&(y.alphaMap.value=x.alphaMap,t(x.alphaMap,y.alphaMapTransform)),x.bumpMap&&(y.bumpMap.value=x.bumpMap,t(x.bumpMap,y.bumpMapTransform),y.bumpScale.value=x.bumpScale,x.side===Xo&&(y.bumpScale.value*=-1)),x.normalMap&&(y.normalMap.value=x.normalMap,t(x.normalMap,y.normalMapTransform),y.normalScale.value.copy(x.normalScale),x.side===Xo&&y.normalScale.value.negate()),x.displacementMap&&(y.displacementMap.value=x.displacementMap,t(x.displacementMap,y.displacementMapTransform),y.displacementScale.value=x.displacementScale,y.displacementBias.value=x.displacementBias),x.emissiveMap&&(y.emissiveMap.value=x.emissiveMap,t(x.emissiveMap,y.emissiveMapTransform)),x.specularMap&&(y.specularMap.value=x.specularMap,t(x.specularMap,y.specularMapTransform)),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);const b=e.get(x),M=b.envMap,C=b.envMapRotation;M&&(y.envMap.value=M,A0.copy(C),A0.x*=-1,A0.y*=-1,A0.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(A0.y*=-1,A0.z*=-1),y.envMapRotation.value.setFromMatrix4(Pet.makeRotationFromEuler(A0)),y.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=x.reflectivity,y.ior.value=x.ior,y.refractionRatio.value=x.refractionRatio),x.lightMap&&(y.lightMap.value=x.lightMap,y.lightMapIntensity.value=x.lightMapIntensity,t(x.lightMap,y.lightMapTransform)),x.aoMap&&(y.aoMap.value=x.aoMap,y.aoMapIntensity.value=x.aoMapIntensity,t(x.aoMap,y.aoMapTransform))}function s(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,x.map&&(y.map.value=x.map,t(x.map,y.mapTransform))}function o(y,x){y.dashSize.value=x.dashSize,y.totalSize.value=x.dashSize+x.gapSize,y.scale.value=x.scale}function l(y,x,b,M){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.size.value=x.size*b,y.scale.value=M*.5,x.map&&(y.map.value=x.map,t(x.map,y.uvTransform)),x.alphaMap&&(y.alphaMap.value=x.alphaMap,t(x.alphaMap,y.alphaMapTransform)),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest)}function u(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.rotation.value=x.rotation,x.map&&(y.map.value=x.map,t(x.map,y.mapTransform)),x.alphaMap&&(y.alphaMap.value=x.alphaMap,t(x.alphaMap,y.alphaMapTransform)),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest)}function c(y,x){y.specular.value.copy(x.specular),y.shininess.value=Math.max(x.shininess,1e-4)}function f(y,x){x.gradientMap&&(y.gradientMap.value=x.gradientMap)}function h(y,x){y.metalness.value=x.metalness,x.metalnessMap&&(y.metalnessMap.value=x.metalnessMap,t(x.metalnessMap,y.metalnessMapTransform)),y.roughness.value=x.roughness,x.roughnessMap&&(y.roughnessMap.value=x.roughnessMap,t(x.roughnessMap,y.roughnessMapTransform)),x.envMap&&(y.envMapIntensity.value=x.envMapIntensity)}function d(y,x,b){y.ior.value=x.ior,x.sheen>0&&(y.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),y.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(y.sheenColorMap.value=x.sheenColorMap,t(x.sheenColorMap,y.sheenColorMapTransform)),x.sheenRoughnessMap&&(y.sheenRoughnessMap.value=x.sheenRoughnessMap,t(x.sheenRoughnessMap,y.sheenRoughnessMapTransform))),x.clearcoat>0&&(y.clearcoat.value=x.clearcoat,y.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(y.clearcoatMap.value=x.clearcoatMap,t(x.clearcoatMap,y.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,t(x.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(y.clearcoatNormalMap.value=x.clearcoatNormalMap,t(x.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===Xo&&y.clearcoatNormalScale.value.negate())),x.dispersion>0&&(y.dispersion.value=x.dispersion),x.iridescence>0&&(y.iridescence.value=x.iridescence,y.iridescenceIOR.value=x.iridescenceIOR,y.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(y.iridescenceMap.value=x.iridescenceMap,t(x.iridescenceMap,y.iridescenceMapTransform)),x.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=x.iridescenceThicknessMap,t(x.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),x.transmission>0&&(y.transmission.value=x.transmission,y.transmissionSamplerMap.value=b.texture,y.transmissionSamplerSize.value.set(b.width,b.height),x.transmissionMap&&(y.transmissionMap.value=x.transmissionMap,t(x.transmissionMap,y.transmissionMapTransform)),y.thickness.value=x.thickness,x.thicknessMap&&(y.thicknessMap.value=x.thicknessMap,t(x.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=x.attenuationDistance,y.attenuationColor.value.copy(x.attenuationColor)),x.anisotropy>0&&(y.anisotropyVector.value.set(x.anisotropy*Math.cos(x.anisotropyRotation),x.anisotropy*Math.sin(x.anisotropyRotation)),x.anisotropyMap&&(y.anisotropyMap.value=x.anisotropyMap,t(x.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=x.specularIntensity,y.specularColor.value.copy(x.specularColor),x.specularColorMap&&(y.specularColorMap.value=x.specularColorMap,t(x.specularColorMap,y.specularColorMapTransform)),x.specularIntensityMap&&(y.specularIntensityMap.value=x.specularIntensityMap,t(x.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,x){x.matcap&&(y.matcap.value=x.matcap)}function m(y,x){const b=e.get(x).light;y.referencePosition.value.setFromMatrixPosition(b.matrixWorld),y.nearDistance.value=b.shadow.camera.near,y.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Oet(n,e,t,i){let r={},a={},s=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(b,M){const C=M.program;i.uniformBlockBinding(b,C)}function u(b,M){let C=r[b.id];C===void 0&&(v(b),C=c(b),r[b.id]=C,b.addEventListener("dispose",y));const w=M.program;i.updateUBOMapping(b,w);const E=e.render.frame;a[b.id]!==E&&(h(b),a[b.id]=E)}function c(b){const M=f();b.__bindingPointIndex=M;const C=n.createBuffer(),w=b.__size,E=b.usage;return n.bindBuffer(n.UNIFORM_BUFFER,C),n.bufferData(n.UNIFORM_BUFFER,w,E),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,M,C),C}function f(){for(let b=0;b<o;b++)if(s.indexOf(b)===-1)return s.push(b),b;return Cn("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(b){const M=r[b.id],C=b.uniforms,w=b.__cache;n.bindBuffer(n.UNIFORM_BUFFER,M);for(let E=0,L=C.length;E<L;E++){const P=Array.isArray(C[E])?C[E]:[C[E]];for(let I=0,N=P.length;I<N;I++){const z=P[I];if(d(z,E,I,w)===!0){const V=z.__offset,U=Array.isArray(z.value)?z.value:[z.value];let j=0;for(let W=0;W<U.length;W++){const G=U[W],X=m(G);typeof G=="number"||typeof G=="boolean"?(z.__data[0]=G,n.bufferSubData(n.UNIFORM_BUFFER,V+j,z.__data)):G.isMatrix3?(z.__data[0]=G.elements[0],z.__data[1]=G.elements[1],z.__data[2]=G.elements[2],z.__data[3]=0,z.__data[4]=G.elements[3],z.__data[5]=G.elements[4],z.__data[6]=G.elements[5],z.__data[7]=0,z.__data[8]=G.elements[6],z.__data[9]=G.elements[7],z.__data[10]=G.elements[8],z.__data[11]=0):(G.toArray(z.__data,j),j+=X.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,V,z.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function d(b,M,C,w){const E=b.value,L=M+"_"+C;if(w[L]===void 0)return typeof E=="number"||typeof E=="boolean"?w[L]=E:w[L]=E.clone(),!0;{const P=w[L];if(typeof E=="number"||typeof E=="boolean"){if(P!==E)return w[L]=E,!0}else if(P.equals(E)===!1)return P.copy(E),!0}return!1}function v(b){const M=b.uniforms;let C=0;const w=16;for(let L=0,P=M.length;L<P;L++){const I=Array.isArray(M[L])?M[L]:[M[L]];for(let N=0,z=I.length;N<z;N++){const V=I[N],U=Array.isArray(V.value)?V.value:[V.value];for(let j=0,W=U.length;j<W;j++){const G=U[j],X=m(G),q=C%w,$=q%X.boundary,te=q+$;C+=$,te!==0&&w-te<X.storage&&(C+=w-te),V.__data=new Float32Array(X.storage/Float32Array.BYTES_PER_ELEMENT),V.__offset=C,C+=X.storage}}}const E=C%w;return E>0&&(C+=w-E),b.__size=C,b.__cache={},this}function m(b){const M={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(M.boundary=4,M.storage=4):b.isVector2?(M.boundary=8,M.storage=8):b.isVector3||b.isColor?(M.boundary=16,M.storage=12):b.isVector4?(M.boundary=16,M.storage=16):b.isMatrix3?(M.boundary=48,M.storage=48):b.isMatrix4?(M.boundary=64,M.storage=64):b.isTexture?Lt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Lt("WebGLRenderer: Unsupported uniform value type.",b),M}function y(b){const M=b.target;M.removeEventListener("dispose",y);const C=s.indexOf(M.__bindingPointIndex);s.splice(C,1),n.deleteBuffer(r[M.id]),delete r[M.id],delete a[M.id]}function x(){for(const b in r)n.deleteBuffer(r[b]);s=[],r={},a={}}return{bind:l,update:u,dispose:x}}const zet=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let kd=null;function ket(){return kd===null&&(kd=new tf(zet,32,32,bP,Fm),kd.minFilter=hr,kd.magFilter=hr,kd.wrapS=jo,kd.wrapT=jo,kd.generateMipmaps=!1,kd.needsUpdate=!0),kd}class Zme{constructor(e={}){const{canvas:t=jve(),context:i=null,depth:r=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1,reversedDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let d;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");d=i.getContextAttributes().alpha}else d=s;const v=new Set([AP,SP,JC]),m=new Set([tc,Ep,Cb,wb,yP,xP]),y=new Uint32Array(4),x=new Int32Array(4);let b=null,M=null;const C=[],w=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Eh,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const E=this;let L=!1;this._outputColorSpace=ao;let P=0,I=0,N=null,z=-1,V=null;const U=new Ai,j=new Ai;let W=null;const G=new Et(0);let X=0,q=t.width,$=t.height,te=1,J=null,Q=null;const se=new Ai(0,0,q,$),ce=new Ai(0,0,q,$);let ue=!1;const fe=new bS;let ge=!1,Se=!1;const Ee=new vn,Ue=new le,_e=new Ai,ke={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let dt=!1;function De(){return N===null?te:1}let ae=i;function Fe(ne,be){return t.getContext(ne,be)}try{const ne={alpha:!0,depth:r,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${ZC}`),t.addEventListener("webglcontextlost",at,!1),t.addEventListener("webglcontextrestored",Qe,!1),t.addEventListener("webglcontextcreationerror",Tt,!1),ae===null){const be="webgl2";if(ae=Fe(be,ne),ae===null)throw Fe(be)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ne){throw ne("WebGLRenderer: "+ne.message),ne}let qe,rt,Je,_t,pt,Ct,oe,ee,we,Xe,nt,je,Wt,St,qt,Vt,et,it,Ht,de,Pe,lt,he,ut;function ft(){qe=new XQe(ae),qe.init(),lt=new qme(ae,qe),rt=new zQe(ae,qe,e,lt),Je=new Eet(ae,qe),rt.reversedDepthBuffer&&h&&Je.buffers.depth.setReversed(!0),_t=new ZQe(ae),pt=new pet,Ct=new Det(ae,qe,Je,pt,rt,lt,_t),oe=new FQe(E),ee=new WQe(E),we=new $Ze(ae),he=new BQe(ae,we),Xe=new YQe(ae,we,_t,he),nt=new JQe(ae,Xe,we,_t),Ht=new KQe(ae,rt,Ct),Vt=new kQe(pt),je=new det(E,oe,ee,qe,rt,he,Vt),Wt=new Bet(E,pt),St=new met,qt=new Aet(qe),it=new PQe(E,oe,ee,Je,nt,d,l),et=new Cet(E,nt,rt),ut=new Oet(ae,_t,rt,Je),de=new OQe(ae,qe,_t),Pe=new qQe(ae,qe,_t),_t.programs=je.programs,E.capabilities=rt,E.extensions=qe,E.properties=pt,E.renderLists=St,E.shadowMap=et,E.state=Je,E.info=_t}ft();const vt=new Iet(E,ae);this.xr=vt,this.getContext=function(){return ae},this.getContextAttributes=function(){return ae.getContextAttributes()},this.forceContextLoss=function(){const ne=qe.get("WEBGL_lose_context");ne&&ne.loseContext()},this.forceContextRestore=function(){const ne=qe.get("WEBGL_lose_context");ne&&ne.restoreContext()},this.getPixelRatio=function(){return te},this.setPixelRatio=function(ne){ne!==void 0&&(te=ne,this.setSize(q,$,!1))},this.getSize=function(ne){return ne.set(q,$)},this.setSize=function(ne,be,Oe=!0){if(vt.isPresenting){Lt("WebGLRenderer: Can't change size while VR device is presenting.");return}q=ne,$=be,t.width=Math.floor(ne*te),t.height=Math.floor(be*te),Oe===!0&&(t.style.width=ne+"px",t.style.height=be+"px"),this.setViewport(0,0,ne,be)},this.getDrawingBufferSize=function(ne){return ne.set(q*te,$*te).floor()},this.setDrawingBufferSize=function(ne,be,Oe){q=ne,$=be,te=Oe,t.width=Math.floor(ne*Oe),t.height=Math.floor(be*Oe),this.setViewport(0,0,ne,be)},this.getCurrentViewport=function(ne){return ne.copy(U)},this.getViewport=function(ne){return ne.copy(se)},this.setViewport=function(ne,be,Oe,Re){ne.isVector4?se.set(ne.x,ne.y,ne.z,ne.w):se.set(ne,be,Oe,Re),Je.viewport(U.copy(se).multiplyScalar(te).round())},this.getScissor=function(ne){return ne.copy(ce)},this.setScissor=function(ne,be,Oe,Re){ne.isVector4?ce.set(ne.x,ne.y,ne.z,ne.w):ce.set(ne,be,Oe,Re),Je.scissor(j.copy(ce).multiplyScalar(te).round())},this.getScissorTest=function(){return ue},this.setScissorTest=function(ne){Je.setScissorTest(ue=ne)},this.setOpaqueSort=function(ne){J=ne},this.setTransparentSort=function(ne){Q=ne},this.getClearColor=function(ne){return ne.copy(it.getClearColor())},this.setClearColor=function(){it.setClearColor(...arguments)},this.getClearAlpha=function(){return it.getClearAlpha()},this.setClearAlpha=function(){it.setClearAlpha(...arguments)},this.clear=function(ne=!0,be=!0,Oe=!0){let Re=0;if(ne){let Ae=!1;if(N!==null){const mt=N.texture.format;Ae=v.has(mt)}if(Ae){const mt=N.texture.type,Mt=m.has(mt),zt=it.getClearColor(),Gt=it.getClearAlpha(),on=zt.r,fn=zt.g,en=zt.b;Mt?(y[0]=on,y[1]=fn,y[2]=en,y[3]=Gt,ae.clearBufferuiv(ae.COLOR,0,y)):(x[0]=on,x[1]=fn,x[2]=en,x[3]=Gt,ae.clearBufferiv(ae.COLOR,0,x))}else Re|=ae.COLOR_BUFFER_BIT}be&&(Re|=ae.DEPTH_BUFFER_BIT),Oe&&(Re|=ae.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ae.clear(Re)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",at,!1),t.removeEventListener("webglcontextrestored",Qe,!1),t.removeEventListener("webglcontextcreationerror",Tt,!1),it.dispose(),St.dispose(),qt.dispose(),pt.dispose(),oe.dispose(),ee.dispose(),nt.dispose(),he.dispose(),ut.dispose(),je.dispose(),vt.dispose(),vt.removeEventListener("sessionstart",jh),vt.removeEventListener("sessionend",Hh),ma.stop()};function at(ne){ne.preventDefault(),uC("WebGLRenderer: Context Lost."),L=!0}function Qe(){uC("WebGLRenderer: Context Restored."),L=!1;const ne=_t.autoReset,be=et.enabled,Oe=et.autoUpdate,Re=et.needsUpdate,Ae=et.type;ft(),_t.autoReset=ne,et.enabled=be,et.autoUpdate=Oe,et.needsUpdate=Re,et.type=Ae}function Tt(ne){Cn("WebGLRenderer: A WebGL context could not be created. Reason: ",ne.statusMessage)}function Kt(ne){const be=ne.target;be.removeEventListener("dispose",Kt),Xn(be)}function Xn(ne){Bn(ne),pt.remove(ne)}function Bn(ne){const be=pt.get(ne).programs;be!==void 0&&(be.forEach(function(Oe){je.releaseProgram(Oe)}),ne.isShaderMaterial&&je.releaseShaderCache(ne))}this.renderBufferDirect=function(ne,be,Oe,Re,Ae,mt){be===null&&(be=ke);const Mt=Ae.isMesh&&Ae.matrixWorld.determinant()<0,zt=sx(ne,be,Oe,Re,Ae);Je.setMaterial(Re,Mt);let Gt=Oe.index,on=1;if(Re.wireframe===!0){if(Gt=Xe.getWireframeAttribute(Oe),Gt===void 0)return;on=2}const fn=Oe.drawRange,en=Oe.attributes.position;let Ln=fn.start*on,oi=(fn.start+fn.count)*on;mt!==null&&(Ln=Math.max(Ln,mt.start*on),oi=Math.min(oi,(mt.start+mt.count)*on)),Gt!==null?(Ln=Math.max(Ln,0),oi=Math.min(oi,Gt.count)):en!=null&&(Ln=Math.max(Ln,0),oi=Math.min(oi,en.count));const li=oi-Ln;if(li<0||li===1/0)return;he.setup(Ae,Re,zt,Oe,Gt);let Kn,Ci=de;if(Gt!==null&&(Kn=we.get(Gt),Ci=Pe,Ci.setIndex(Kn)),Ae.isMesh)Re.wireframe===!0?(Je.setLineWidth(Re.wireframeLinewidth*De()),Ci.setMode(ae.LINES)):Ci.setMode(ae.TRIANGLES);else if(Ae.isLine){let sn=Re.linewidth;sn===void 0&&(sn=1),Je.setLineWidth(sn*De()),Ae.isLineSegments?Ci.setMode(ae.LINES):Ae.isLineLoop?Ci.setMode(ae.LINE_LOOP):Ci.setMode(ae.LINE_STRIP)}else Ae.isPoints?Ci.setMode(ae.POINTS):Ae.isSprite&&Ci.setMode(ae.TRIANGLES);if(Ae.isBatchedMesh)if(Ae._multiDrawInstances!==null)Ib("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Ci.renderMultiDrawInstances(Ae._multiDrawStarts,Ae._multiDrawCounts,Ae._multiDrawCount,Ae._multiDrawInstances);else if(qe.get("WEBGL_multi_draw"))Ci.renderMultiDraw(Ae._multiDrawStarts,Ae._multiDrawCounts,Ae._multiDrawCount);else{const sn=Ae._multiDrawStarts,Oi=Ae._multiDrawCounts,Jn=Ae._multiDrawCount,Fr=Gt?we.get(Gt).bytesPerElement:1,fc=pt.get(Re).currentProgram.getUniforms();for(let Gi=0;Gi<Jn;Gi++)fc.setValue(ae,"_gl_DrawID",Gi),Ci.render(sn[Gi]/Fr,Oi[Gi])}else if(Ae.isInstancedMesh)Ci.renderInstances(Ln,li,Ae.count);else if(Oe.isInstancedBufferGeometry){const sn=Oe._maxInstanceCount!==void 0?Oe._maxInstanceCount:1/0,Oi=Math.min(Oe.instanceCount,sn);Ci.renderInstances(Ln,li,Oi)}else Ci.render(Ln,li)};function or(ne,be,Oe){ne.transparent===!0&&ne.side===Wc&&ne.forceSinglePass===!1?(ne.side=Xo,ne.needsUpdate=!0,Tr(ne,be,Oe),ne.side=zh,ne.needsUpdate=!0,Tr(ne,be,Oe),ne.side=Wc):Tr(ne,be,Oe)}this.compile=function(ne,be,Oe=null){Oe===null&&(Oe=ne),M=qt.get(Oe),M.init(be),w.push(M),Oe.traverseVisible(function(Ae){Ae.isLight&&Ae.layers.test(be.layers)&&(M.pushLight(Ae),Ae.castShadow&&M.pushShadow(Ae))}),ne!==Oe&&ne.traverseVisible(function(Ae){Ae.isLight&&Ae.layers.test(be.layers)&&(M.pushLight(Ae),Ae.castShadow&&M.pushShadow(Ae))}),M.setupLights();const Re=new Set;return ne.traverse(function(Ae){if(!(Ae.isMesh||Ae.isPoints||Ae.isLine||Ae.isSprite))return;const mt=Ae.material;if(mt)if(Array.isArray(mt))for(let Mt=0;Mt<mt.length;Mt++){const zt=mt[Mt];or(zt,Oe,Ae),Re.add(zt)}else or(mt,Oe,Ae),Re.add(mt)}),M=w.pop(),Re},this.compileAsync=function(ne,be,Oe=null){const Re=this.compile(ne,be,Oe);return new Promise(Ae=>{function mt(){if(Re.forEach(function(Mt){pt.get(Mt).currentProgram.isReady()&&Re.delete(Mt)}),Re.size===0){Ae(ne);return}setTimeout(mt,10)}qe.get("KHR_parallel_shader_compile")!==null?mt():setTimeout(mt,10)})};let ea=null;function jm(ne){ea&&ea(ne)}function jh(){ma.stop()}function Hh(){ma.start()}const ma=new jme;ma.setAnimationLoop(jm),typeof self<"u"&&ma.setContext(self),this.setAnimationLoop=function(ne){ea=ne,vt.setAnimationLoop(ne),ne===null?ma.stop():ma.start()},vt.addEventListener("sessionstart",jh),vt.addEventListener("sessionend",Hh),this.render=function(ne,be){if(be!==void 0&&be.isCamera!==!0){Cn("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(L===!0)return;if(ne.matrixWorldAutoUpdate===!0&&ne.updateMatrixWorld(),be.parent===null&&be.matrixWorldAutoUpdate===!0&&be.updateMatrixWorld(),vt.enabled===!0&&vt.isPresenting===!0&&(vt.cameraAutoUpdate===!0&&vt.updateCamera(be),be=vt.getCamera()),ne.isScene===!0&&ne.onBeforeRender(E,ne,be,N),M=qt.get(ne,w.length),M.init(be),w.push(M),Ee.multiplyMatrices(be.projectionMatrix,be.matrixWorldInverse),fe.setFromProjectionMatrix(Ee,Zl,be.reversedDepth),Se=this.localClippingEnabled,ge=Vt.init(this.clippingPlanes,Se),b=St.get(ne,C.length),b.init(),C.push(b),vt.enabled===!0&&vt.isPresenting===!0){const mt=E.xr.getDepthSensingMesh();mt!==null&&mf(mt,be,-1/0,E.sortObjects)}mf(ne,be,0,E.sortObjects),b.finish(),E.sortObjects===!0&&b.sort(J,Q),dt=vt.enabled===!1||vt.isPresenting===!1||vt.hasDepthSensing()===!1,dt&&it.addToRenderList(b,ne),this.info.render.frame++,ge===!0&&Vt.beginShadows();const Oe=M.state.shadowsArray;et.render(Oe,ne,be),ge===!0&&Vt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Re=b.opaque,Ae=b.transmissive;if(M.setupLights(),be.isArrayCamera){const mt=be.cameras;if(Ae.length>0)for(let Mt=0,zt=mt.length;Mt<zt;Mt++){const Gt=mt[Mt];vo(Re,Ae,ne,Gt)}dt&&it.render(ne);for(let Mt=0,zt=mt.length;Mt<zt;Mt++){const Gt=mt[Mt];Zo(b,ne,Gt,Gt.viewport)}}else Ae.length>0&&vo(Re,Ae,ne,be),dt&&it.render(ne),Zo(b,ne,be);N!==null&&I===0&&(Ct.updateMultisampleRenderTarget(N),Ct.updateRenderTargetMipmap(N)),ne.isScene===!0&&ne.onAfterRender(E,ne,be),he.resetDefaultState(),z=-1,V=null,w.pop(),w.length>0?(M=w[w.length-1],ge===!0&&Vt.setGlobalState(E.clippingPlanes,M.state.camera)):M=null,C.pop(),C.length>0?b=C[C.length-1]:b=null};function mf(ne,be,Oe,Re){if(ne.visible===!1)return;if(ne.layers.test(be.layers)){if(ne.isGroup)Oe=ne.renderOrder;else if(ne.isLOD)ne.autoUpdate===!0&&ne.update(be);else if(ne.isLight)M.pushLight(ne),ne.castShadow&&M.pushShadow(ne);else if(ne.isSprite){if(!ne.frustumCulled||fe.intersectsSprite(ne)){Re&&_e.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(Ee);const Mt=nt.update(ne),zt=ne.material;zt.visible&&b.push(ne,Mt,zt,Oe,_e.z,null)}}else if((ne.isMesh||ne.isLine||ne.isPoints)&&(!ne.frustumCulled||fe.intersectsObject(ne))){const Mt=nt.update(ne),zt=ne.material;if(Re&&(ne.boundingSphere!==void 0?(ne.boundingSphere===null&&ne.computeBoundingSphere(),_e.copy(ne.boundingSphere.center)):(Mt.boundingSphere===null&&Mt.computeBoundingSphere(),_e.copy(Mt.boundingSphere.center)),_e.applyMatrix4(ne.matrixWorld).applyMatrix4(Ee)),Array.isArray(zt)){const Gt=Mt.groups;for(let on=0,fn=Gt.length;on<fn;on++){const en=Gt[on],Ln=zt[en.materialIndex];Ln&&Ln.visible&&b.push(ne,Mt,Ln,Oe,_e.z,en)}}else zt.visible&&b.push(ne,Mt,zt,Oe,_e.z,null)}}const mt=ne.children;for(let Mt=0,zt=mt.length;Mt<zt;Mt++)mf(mt[Mt],be,Oe,Re)}function Zo(ne,be,Oe,Re){const{opaque:Ae,transmissive:mt,transparent:Mt}=ne;M.setupLightsView(Oe),ge===!0&&Vt.setGlobalState(E.clippingPlanes,Oe),Re&&Je.viewport(U.copy(Re)),Ae.length>0&&Ka(Ae,be,Oe),mt.length>0&&Ka(mt,be,Oe),Mt.length>0&&Ka(Mt,be,Oe),Je.buffers.depth.setTest(!0),Je.buffers.depth.setMask(!0),Je.buffers.color.setMask(!0),Je.setPolygonOffset(!1)}function vo(ne,be,Oe,Re){if((Oe.isScene===!0?Oe.overrideMaterial:null)!==null)return;M.state.transmissionRenderTarget[Re.id]===void 0&&(M.state.transmissionRenderTarget[Re.id]=new lf(1,1,{generateMipmaps:!0,type:qe.has("EXT_color_buffer_half_float")||qe.has("EXT_color_buffer_float")?Fm:tc,minFilter:Yu,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:gi.workingColorSpace}));const mt=M.state.transmissionRenderTarget[Re.id],Mt=Re.viewport||U;mt.setSize(Mt.z*E.transmissionResolutionScale,Mt.w*E.transmissionResolutionScale);const zt=E.getRenderTarget(),Gt=E.getActiveCubeFace(),on=E.getActiveMipmapLevel();E.setRenderTarget(mt),E.getClearColor(G),X=E.getClearAlpha(),X<1&&E.setClearColor(16777215,.5),E.clear(),dt&&it.render(Oe);const fn=E.toneMapping;E.toneMapping=Eh;const en=Re.viewport;if(Re.viewport!==void 0&&(Re.viewport=void 0),M.setupLightsView(Re),ge===!0&&Vt.setGlobalState(E.clippingPlanes,Re),Ka(ne,Oe,Re),Ct.updateMultisampleRenderTarget(mt),Ct.updateRenderTargetMipmap(mt),qe.has("WEBGL_multisampled_render_to_texture")===!1){let Ln=!1;for(let oi=0,li=be.length;oi<li;oi++){const Kn=be[oi],{object:Ci,geometry:sn,material:Oi,group:Jn}=Kn;if(Oi.side===Wc&&Ci.layers.test(Re.layers)){const Fr=Oi.side;Oi.side=Xo,Oi.needsUpdate=!0,Fn(Ci,Oe,Re,sn,Oi,Jn),Oi.side=Fr,Oi.needsUpdate=!0,Ln=!0}}Ln===!0&&(Ct.updateMultisampleRenderTarget(mt),Ct.updateRenderTargetMipmap(mt))}E.setRenderTarget(zt,Gt,on),E.setClearColor(G,X),en!==void 0&&(Re.viewport=en),E.toneMapping=fn}function Ka(ne,be,Oe){const Re=be.isScene===!0?be.overrideMaterial:null;for(let Ae=0,mt=ne.length;Ae<mt;Ae++){const Mt=ne[Ae],{object:zt,geometry:Gt,group:on}=Mt;let fn=Mt.material;fn.allowOverride===!0&&Re!==null&&(fn=Re),zt.layers.test(Oe.layers)&&Fn(zt,be,Oe,Gt,fn,on)}}function Fn(ne,be,Oe,Re,Ae,mt){ne.onBeforeRender(E,be,Oe,Re,Ae,mt),ne.modelViewMatrix.multiplyMatrices(Oe.matrixWorldInverse,ne.matrixWorld),ne.normalMatrix.getNormalMatrix(ne.modelViewMatrix),Ae.onBeforeRender(E,be,Oe,Re,ne,mt),Ae.transparent===!0&&Ae.side===Wc&&Ae.forceSinglePass===!1?(Ae.side=Xo,Ae.needsUpdate=!0,E.renderBufferDirect(Oe,be,Re,Ae,ne,mt),Ae.side=zh,Ae.needsUpdate=!0,E.renderBufferDirect(Oe,be,Re,Ae,ne,mt),Ae.side=Wc):E.renderBufferDirect(Oe,be,Re,Ae,ne,mt),ne.onAfterRender(E,be,Oe,Re,Ae,mt)}function Tr(ne,be,Oe){be.isScene!==!0&&(be=ke);const Re=pt.get(ne),Ae=M.state.lights,mt=M.state.shadowsArray,Mt=Ae.state.version,zt=je.getParameters(ne,Ae.state,mt,be,Oe),Gt=je.getProgramCacheKey(zt);let on=Re.programs;Re.environment=ne.isMeshStandardMaterial?be.environment:null,Re.fog=be.fog,Re.envMap=(ne.isMeshStandardMaterial?ee:oe).get(ne.envMap||Re.environment),Re.envMapRotation=Re.environment!==null&&ne.envMap===null?be.environmentRotation:ne.envMapRotation,on===void 0&&(ne.addEventListener("dispose",Kt),on=new Map,Re.programs=on);let fn=on.get(Gt);if(fn!==void 0){if(Re.currentProgram===fn&&Re.lightsStateVersion===Mt)return Wh(ne,zt),fn}else zt.uniforms=je.getUniforms(ne),ne.onBeforeCompile(zt,E),fn=je.acquireProgram(zt,Gt),on.set(Gt,fn),Re.uniforms=zt.uniforms;const en=Re.uniforms;return(!ne.isShaderMaterial&&!ne.isRawShaderMaterial||ne.clipping===!0)&&(en.clippingPlanes=Vt.uniform),Wh(ne,zt),Re.needsLights=Pp(ne),Re.lightsStateVersion=Mt,Re.needsLights&&(en.ambientLightColor.value=Ae.state.ambient,en.lightProbe.value=Ae.state.probe,en.directionalLights.value=Ae.state.directional,en.directionalLightShadows.value=Ae.state.directionalShadow,en.spotLights.value=Ae.state.spot,en.spotLightShadows.value=Ae.state.spotShadow,en.rectAreaLights.value=Ae.state.rectArea,en.ltc_1.value=Ae.state.rectAreaLTC1,en.ltc_2.value=Ae.state.rectAreaLTC2,en.pointLights.value=Ae.state.point,en.pointLightShadows.value=Ae.state.pointShadow,en.hemisphereLights.value=Ae.state.hemi,en.directionalShadowMap.value=Ae.state.directionalShadowMap,en.directionalShadowMatrix.value=Ae.state.directionalShadowMatrix,en.spotShadowMap.value=Ae.state.spotShadowMap,en.spotLightMatrix.value=Ae.state.spotLightMatrix,en.spotLightMap.value=Ae.state.spotLightMap,en.pointShadowMap.value=Ae.state.pointShadowMap,en.pointShadowMatrix.value=Ae.state.pointShadowMatrix),Re.currentProgram=fn,Re.uniformsList=null,fn}function _l(ne){if(ne.uniformsList===null){const be=ne.currentProgram.getUniforms();ne.uniformsList=I3.seqWithValue(be.seq,ne.uniforms)}return ne.uniformsList}function Wh(ne,be){const Oe=pt.get(ne);Oe.outputColorSpace=be.outputColorSpace,Oe.batching=be.batching,Oe.batchingColor=be.batchingColor,Oe.instancing=be.instancing,Oe.instancingColor=be.instancingColor,Oe.instancingMorph=be.instancingMorph,Oe.skinning=be.skinning,Oe.morphTargets=be.morphTargets,Oe.morphNormals=be.morphNormals,Oe.morphColors=be.morphColors,Oe.morphTargetsCount=be.morphTargetsCount,Oe.numClippingPlanes=be.numClippingPlanes,Oe.numIntersection=be.numClipIntersection,Oe.vertexAlphas=be.vertexAlphas,Oe.vertexTangents=be.vertexTangents,Oe.toneMapping=be.toneMapping}function sx(ne,be,Oe,Re,Ae){be.isScene!==!0&&(be=ke),Ct.resetTextureUnits();const mt=be.fog,Mt=Re.isMeshStandardMaterial?be.environment:null,zt=N===null?E.outputColorSpace:N.isXRRenderTarget===!0?N.texture.colorSpace:Em,Gt=(Re.isMeshStandardMaterial?ee:oe).get(Re.envMap||Mt),on=Re.vertexColors===!0&&!!Oe.attributes.color&&Oe.attributes.color.itemSize===4,fn=!!Oe.attributes.tangent&&(!!Re.normalMap||Re.anisotropy>0),en=!!Oe.morphAttributes.position,Ln=!!Oe.morphAttributes.normal,oi=!!Oe.morphAttributes.color;let li=Eh;Re.toneMapped&&(N===null||N.isXRRenderTarget===!0)&&(li=E.toneMapping);const Kn=Oe.morphAttributes.position||Oe.morphAttributes.normal||Oe.morphAttributes.color,Ci=Kn!==void 0?Kn.length:0,sn=pt.get(Re),Oi=M.state.lights;if(ge===!0&&(Se===!0||ne!==V)){const ia=ne===V&&Re.id===z;Vt.setState(Re,ne,ia)}let Jn=!1;Re.version===sn.__version?(sn.needsLights&&sn.lightsStateVersion!==Oi.state.version||sn.outputColorSpace!==zt||Ae.isBatchedMesh&&sn.batching===!1||!Ae.isBatchedMesh&&sn.batching===!0||Ae.isBatchedMesh&&sn.batchingColor===!0&&Ae.colorTexture===null||Ae.isBatchedMesh&&sn.batchingColor===!1&&Ae.colorTexture!==null||Ae.isInstancedMesh&&sn.instancing===!1||!Ae.isInstancedMesh&&sn.instancing===!0||Ae.isSkinnedMesh&&sn.skinning===!1||!Ae.isSkinnedMesh&&sn.skinning===!0||Ae.isInstancedMesh&&sn.instancingColor===!0&&Ae.instanceColor===null||Ae.isInstancedMesh&&sn.instancingColor===!1&&Ae.instanceColor!==null||Ae.isInstancedMesh&&sn.instancingMorph===!0&&Ae.morphTexture===null||Ae.isInstancedMesh&&sn.instancingMorph===!1&&Ae.morphTexture!==null||sn.envMap!==Gt||Re.fog===!0&&sn.fog!==mt||sn.numClippingPlanes!==void 0&&(sn.numClippingPlanes!==Vt.numPlanes||sn.numIntersection!==Vt.numIntersection)||sn.vertexAlphas!==on||sn.vertexTangents!==fn||sn.morphTargets!==en||sn.morphNormals!==Ln||sn.morphColors!==oi||sn.toneMapping!==li||sn.morphTargetsCount!==Ci)&&(Jn=!0):(Jn=!0,sn.__version=Re.version);let Fr=sn.currentProgram;Jn===!0&&(Fr=Tr(Re,be,Ae));let fc=!1,Gi=!1,ou=!1;const Vi=Fr.getUniforms(),ta=sn.uniforms;if(Je.useProgram(Fr.program)&&(fc=!0,Gi=!0,ou=!0),Re.id!==z&&(z=Re.id,Gi=!0),fc||V!==ne){Je.buffers.depth.getReversed()&&ne.reversedDepth!==!0&&(ne._reversedDepth=!0,ne.updateProjectionMatrix()),Vi.setValue(ae,"projectionMatrix",ne.projectionMatrix),Vi.setValue(ae,"viewMatrix",ne.matrixWorldInverse);const dr=Vi.map.cameraPosition;dr!==void 0&&dr.setValue(ae,Ue.setFromMatrixPosition(ne.matrixWorld)),rt.logarithmicDepthBuffer&&Vi.setValue(ae,"logDepthBufFC",2/(Math.log(ne.far+1)/Math.LN2)),(Re.isMeshPhongMaterial||Re.isMeshToonMaterial||Re.isMeshLambertMaterial||Re.isMeshBasicMaterial||Re.isMeshStandardMaterial||Re.isShaderMaterial)&&Vi.setValue(ae,"isOrthographic",ne.isOrthographicCamera===!0),V!==ne&&(V=ne,Gi=!0,ou=!0)}if(Ae.isSkinnedMesh){Vi.setOptional(ae,Ae,"bindMatrix"),Vi.setOptional(ae,Ae,"bindMatrixInverse");const ia=Ae.skeleton;ia&&(ia.boneTexture===null&&ia.computeBoneTexture(),Vi.setValue(ae,"boneTexture",ia.boneTexture,Ct))}Ae.isBatchedMesh&&(Vi.setOptional(ae,Ae,"batchingTexture"),Vi.setValue(ae,"batchingTexture",Ae._matricesTexture,Ct),Vi.setOptional(ae,Ae,"batchingIdTexture"),Vi.setValue(ae,"batchingIdTexture",Ae._indirectTexture,Ct),Vi.setOptional(ae,Ae,"batchingColorTexture"),Ae._colorsTexture!==null&&Vi.setValue(ae,"batchingColorTexture",Ae._colorsTexture,Ct));const na=Oe.morphAttributes;if((na.position!==void 0||na.normal!==void 0||na.color!==void 0)&&Ht.update(Ae,Oe,Fr),(Gi||sn.receiveShadow!==Ae.receiveShadow)&&(sn.receiveShadow=Ae.receiveShadow,Vi.setValue(ae,"receiveShadow",Ae.receiveShadow)),Re.isMeshGouraudMaterial&&Re.envMap!==null&&(ta.envMap.value=Gt,ta.flipEnvMap.value=Gt.isCubeTexture&&Gt.isRenderTargetTexture===!1?-1:1),Re.isMeshStandardMaterial&&Re.envMap===null&&be.environment!==null&&(ta.envMapIntensity.value=be.environmentIntensity),ta.dfgLUT!==void 0&&(ta.dfgLUT.value=ket()),Gi&&(Vi.setValue(ae,"toneMappingExposure",E.toneMappingExposure),sn.needsLights&&wS(ta,ou),mt&&Re.fog===!0&&Wt.refreshFogUniforms(ta,mt),Wt.refreshMaterialUniforms(ta,Re,te,$,M.state.transmissionRenderTarget[ne.id]),I3.upload(ae,_l(sn),ta,Ct)),Re.isShaderMaterial&&Re.uniformsNeedUpdate===!0&&(I3.upload(ae,_l(sn),ta,Ct),Re.uniformsNeedUpdate=!1),Re.isSpriteMaterial&&Vi.setValue(ae,"center",Ae.center),Vi.setValue(ae,"modelViewMatrix",Ae.modelViewMatrix),Vi.setValue(ae,"normalMatrix",Ae.normalMatrix),Vi.setValue(ae,"modelMatrix",Ae.matrixWorld),Re.isShaderMaterial||Re.isRawShaderMaterial){const ia=Re.uniformsGroups;for(let dr=0,bl=ia.length;dr<bl;dr++){const Ko=ia[dr];ut.update(Ko,Fr),ut.bind(Ko,Fr)}}return Fr}function wS(ne,be){ne.ambientLightColor.needsUpdate=be,ne.lightProbe.needsUpdate=be,ne.directionalLights.needsUpdate=be,ne.directionalLightShadows.needsUpdate=be,ne.pointLights.needsUpdate=be,ne.pointLightShadows.needsUpdate=be,ne.spotLights.needsUpdate=be,ne.spotLightShadows.needsUpdate=be,ne.rectAreaLights.needsUpdate=be,ne.hemisphereLights.needsUpdate=be}function Pp(ne){return ne.isMeshLambertMaterial||ne.isMeshToonMaterial||ne.isMeshPhongMaterial||ne.isMeshStandardMaterial||ne.isShadowMaterial||ne.isShaderMaterial&&ne.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(ne,be,Oe){const Re=pt.get(ne);Re.__autoAllocateDepthBuffer=ne.resolveDepthBuffer===!1,Re.__autoAllocateDepthBuffer===!1&&(Re.__useRenderToTexture=!1),pt.get(ne.texture).__webglTexture=be,pt.get(ne.depthTexture).__webglTexture=Re.__autoAllocateDepthBuffer?void 0:Oe,Re.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(ne,be){const Oe=pt.get(ne);Oe.__webglFramebuffer=be,Oe.__useDefaultFramebuffer=be===void 0};const cc=ae.createFramebuffer();this.setRenderTarget=function(ne,be=0,Oe=0){N=ne,P=be,I=Oe;let Re=!0,Ae=null,mt=!1,Mt=!1;if(ne){const Gt=pt.get(ne);if(Gt.__useDefaultFramebuffer!==void 0)Je.bindFramebuffer(ae.FRAMEBUFFER,null),Re=!1;else if(Gt.__webglFramebuffer===void 0)Ct.setupRenderTarget(ne);else if(Gt.__hasExternalTextures)Ct.rebindTextures(ne,pt.get(ne.texture).__webglTexture,pt.get(ne.depthTexture).__webglTexture);else if(ne.depthBuffer){const en=ne.depthTexture;if(Gt.__boundDepthTexture!==en){if(en!==null&&pt.has(en)&&(ne.width!==en.image.width||ne.height!==en.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Ct.setupDepthRenderbuffer(ne)}}const on=ne.texture;(on.isData3DTexture||on.isDataArrayTexture||on.isCompressedArrayTexture)&&(Mt=!0);const fn=pt.get(ne).__webglFramebuffer;ne.isWebGLCubeRenderTarget?(Array.isArray(fn[be])?Ae=fn[be][Oe]:Ae=fn[be],mt=!0):ne.samples>0&&Ct.useMultisampledRTT(ne)===!1?Ae=pt.get(ne).__webglMultisampledFramebuffer:Array.isArray(fn)?Ae=fn[Oe]:Ae=fn,U.copy(ne.viewport),j.copy(ne.scissor),W=ne.scissorTest}else U.copy(se).multiplyScalar(te).floor(),j.copy(ce).multiplyScalar(te).floor(),W=ue;if(Oe!==0&&(Ae=cc),Je.bindFramebuffer(ae.FRAMEBUFFER,Ae)&&Re&&Je.drawBuffers(ne,Ae),Je.viewport(U),Je.scissor(j),Je.setScissorTest(W),mt){const Gt=pt.get(ne.texture);ae.framebufferTexture2D(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_CUBE_MAP_POSITIVE_X+be,Gt.__webglTexture,Oe)}else if(Mt){const Gt=be;for(let on=0;on<ne.textures.length;on++){const fn=pt.get(ne.textures[on]);ae.framebufferTextureLayer(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0+on,fn.__webglTexture,Oe,Gt)}}else if(ne!==null&&Oe!==0){const Gt=pt.get(ne.texture);ae.framebufferTexture2D(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_2D,Gt.__webglTexture,Oe)}z=-1},this.readRenderTargetPixels=function(ne,be,Oe,Re,Ae,mt,Mt,zt=0){if(!(ne&&ne.isWebGLRenderTarget)){Cn("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Gt=pt.get(ne).__webglFramebuffer;if(ne.isWebGLCubeRenderTarget&&Mt!==void 0&&(Gt=Gt[Mt]),Gt){Je.bindFramebuffer(ae.FRAMEBUFFER,Gt);try{const on=ne.textures[zt],fn=on.format,en=on.type;if(!rt.textureFormatReadable(fn)){Cn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!rt.textureTypeReadable(en)){Cn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}be>=0&&be<=ne.width-Re&&Oe>=0&&Oe<=ne.height-Ae&&(ne.textures.length>1&&ae.readBuffer(ae.COLOR_ATTACHMENT0+zt),ae.readPixels(be,Oe,Re,Ae,lt.convert(fn),lt.convert(en),mt))}finally{const on=N!==null?pt.get(N).__webglFramebuffer:null;Je.bindFramebuffer(ae.FRAMEBUFFER,on)}}},this.readRenderTargetPixelsAsync=async function(ne,be,Oe,Re,Ae,mt,Mt,zt=0){if(!(ne&&ne.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Gt=pt.get(ne).__webglFramebuffer;if(ne.isWebGLCubeRenderTarget&&Mt!==void 0&&(Gt=Gt[Mt]),Gt)if(be>=0&&be<=ne.width-Re&&Oe>=0&&Oe<=ne.height-Ae){Je.bindFramebuffer(ae.FRAMEBUFFER,Gt);const on=ne.textures[zt],fn=on.format,en=on.type;if(!rt.textureFormatReadable(fn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!rt.textureTypeReadable(en))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Ln=ae.createBuffer();ae.bindBuffer(ae.PIXEL_PACK_BUFFER,Ln),ae.bufferData(ae.PIXEL_PACK_BUFFER,mt.byteLength,ae.STREAM_READ),ne.textures.length>1&&ae.readBuffer(ae.COLOR_ATTACHMENT0+zt),ae.readPixels(be,Oe,Re,Ae,lt.convert(fn),lt.convert(en),0);const oi=N!==null?pt.get(N).__webglFramebuffer:null;Je.bindFramebuffer(ae.FRAMEBUFFER,oi);const li=ae.fenceSync(ae.SYNC_GPU_COMMANDS_COMPLETE,0);return ae.flush(),await iYe(ae,li,4),ae.bindBuffer(ae.PIXEL_PACK_BUFFER,Ln),ae.getBufferSubData(ae.PIXEL_PACK_BUFFER,0,mt),ae.deleteBuffer(Ln),ae.deleteSync(li),mt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(ne,be=null,Oe=0){const Re=Math.pow(2,-Oe),Ae=Math.floor(ne.image.width*Re),mt=Math.floor(ne.image.height*Re),Mt=be!==null?be.x:0,zt=be!==null?be.y:0;Ct.setTexture2D(ne,0),ae.copyTexSubImage2D(ae.TEXTURE_2D,Oe,0,0,Mt,zt,Ae,mt),Je.unbindTexture()};const Xh=ae.createFramebuffer(),Cr=ae.createFramebuffer();this.copyTextureToTexture=function(ne,be,Oe=null,Re=null,Ae=0,mt=null){mt===null&&(Ae!==0?(Ib("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),mt=Ae,Ae=0):mt=0);let Mt,zt,Gt,on,fn,en,Ln,oi,li;const Kn=ne.isCompressedTexture?ne.mipmaps[mt]:ne.image;if(Oe!==null)Mt=Oe.max.x-Oe.min.x,zt=Oe.max.y-Oe.min.y,Gt=Oe.isBox3?Oe.max.z-Oe.min.z:1,on=Oe.min.x,fn=Oe.min.y,en=Oe.isBox3?Oe.min.z:0;else{const na=Math.pow(2,-Ae);Mt=Math.floor(Kn.width*na),zt=Math.floor(Kn.height*na),ne.isDataArrayTexture?Gt=Kn.depth:ne.isData3DTexture?Gt=Math.floor(Kn.depth*na):Gt=1,on=0,fn=0,en=0}Re!==null?(Ln=Re.x,oi=Re.y,li=Re.z):(Ln=0,oi=0,li=0);const Ci=lt.convert(be.format),sn=lt.convert(be.type);let Oi;be.isData3DTexture?(Ct.setTexture3D(be,0),Oi=ae.TEXTURE_3D):be.isDataArrayTexture||be.isCompressedArrayTexture?(Ct.setTexture2DArray(be,0),Oi=ae.TEXTURE_2D_ARRAY):(Ct.setTexture2D(be,0),Oi=ae.TEXTURE_2D),ae.pixelStorei(ae.UNPACK_FLIP_Y_WEBGL,be.flipY),ae.pixelStorei(ae.UNPACK_PREMULTIPLY_ALPHA_WEBGL,be.premultiplyAlpha),ae.pixelStorei(ae.UNPACK_ALIGNMENT,be.unpackAlignment);const Jn=ae.getParameter(ae.UNPACK_ROW_LENGTH),Fr=ae.getParameter(ae.UNPACK_IMAGE_HEIGHT),fc=ae.getParameter(ae.UNPACK_SKIP_PIXELS),Gi=ae.getParameter(ae.UNPACK_SKIP_ROWS),ou=ae.getParameter(ae.UNPACK_SKIP_IMAGES);ae.pixelStorei(ae.UNPACK_ROW_LENGTH,Kn.width),ae.pixelStorei(ae.UNPACK_IMAGE_HEIGHT,Kn.height),ae.pixelStorei(ae.UNPACK_SKIP_PIXELS,on),ae.pixelStorei(ae.UNPACK_SKIP_ROWS,fn),ae.pixelStorei(ae.UNPACK_SKIP_IMAGES,en);const Vi=ne.isDataArrayTexture||ne.isData3DTexture,ta=be.isDataArrayTexture||be.isData3DTexture;if(ne.isDepthTexture){const na=pt.get(ne),ia=pt.get(be),dr=pt.get(na.__renderTarget),bl=pt.get(ia.__renderTarget);Je.bindFramebuffer(ae.READ_FRAMEBUFFER,dr.__webglFramebuffer),Je.bindFramebuffer(ae.DRAW_FRAMEBUFFER,bl.__webglFramebuffer);for(let Ko=0;Ko<Gt;Ko++)Vi&&(ae.framebufferTextureLayer(ae.READ_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,pt.get(ne).__webglTexture,Ae,en+Ko),ae.framebufferTextureLayer(ae.DRAW_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,pt.get(be).__webglTexture,mt,li+Ko)),ae.blitFramebuffer(on,fn,Mt,zt,Ln,oi,Mt,zt,ae.DEPTH_BUFFER_BIT,ae.NEAREST);Je.bindFramebuffer(ae.READ_FRAMEBUFFER,null),Je.bindFramebuffer(ae.DRAW_FRAMEBUFFER,null)}else if(Ae!==0||ne.isRenderTargetTexture||pt.has(ne)){const na=pt.get(ne),ia=pt.get(be);Je.bindFramebuffer(ae.READ_FRAMEBUFFER,Xh),Je.bindFramebuffer(ae.DRAW_FRAMEBUFFER,Cr);for(let dr=0;dr<Gt;dr++)Vi?ae.framebufferTextureLayer(ae.READ_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,na.__webglTexture,Ae,en+dr):ae.framebufferTexture2D(ae.READ_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_2D,na.__webglTexture,Ae),ta?ae.framebufferTextureLayer(ae.DRAW_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ia.__webglTexture,mt,li+dr):ae.framebufferTexture2D(ae.DRAW_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_2D,ia.__webglTexture,mt),Ae!==0?ae.blitFramebuffer(on,fn,Mt,zt,Ln,oi,Mt,zt,ae.COLOR_BUFFER_BIT,ae.NEAREST):ta?ae.copyTexSubImage3D(Oi,mt,Ln,oi,li+dr,on,fn,Mt,zt):ae.copyTexSubImage2D(Oi,mt,Ln,oi,on,fn,Mt,zt);Je.bindFramebuffer(ae.READ_FRAMEBUFFER,null),Je.bindFramebuffer(ae.DRAW_FRAMEBUFFER,null)}else ta?ne.isDataTexture||ne.isData3DTexture?ae.texSubImage3D(Oi,mt,Ln,oi,li,Mt,zt,Gt,Ci,sn,Kn.data):be.isCompressedArrayTexture?ae.compressedTexSubImage3D(Oi,mt,Ln,oi,li,Mt,zt,Gt,Ci,Kn.data):ae.texSubImage3D(Oi,mt,Ln,oi,li,Mt,zt,Gt,Ci,sn,Kn):ne.isDataTexture?ae.texSubImage2D(ae.TEXTURE_2D,mt,Ln,oi,Mt,zt,Ci,sn,Kn.data):ne.isCompressedTexture?ae.compressedTexSubImage2D(ae.TEXTURE_2D,mt,Ln,oi,Kn.width,Kn.height,Ci,Kn.data):ae.texSubImage2D(ae.TEXTURE_2D,mt,Ln,oi,Mt,zt,Ci,sn,Kn);ae.pixelStorei(ae.UNPACK_ROW_LENGTH,Jn),ae.pixelStorei(ae.UNPACK_IMAGE_HEIGHT,Fr),ae.pixelStorei(ae.UNPACK_SKIP_PIXELS,fc),ae.pixelStorei(ae.UNPACK_SKIP_ROWS,Gi),ae.pixelStorei(ae.UNPACK_SKIP_IMAGES,ou),mt===0&&be.generateMipmaps&&ae.generateMipmap(Oi),Je.unbindTexture()},this.initRenderTarget=function(ne){pt.get(ne).__webglFramebuffer===void 0&&Ct.setupRenderTarget(ne)},this.initTexture=function(ne){ne.isCubeTexture?Ct.setTextureCube(ne,0):ne.isData3DTexture?Ct.setTexture3D(ne,0):ne.isDataArrayTexture||ne.isCompressedArrayTexture?Ct.setTexture2DArray(ne,0):Ct.setTexture2D(ne,0),Je.unbindTexture()},this.resetState=function(){P=0,I=0,N=null,Je.reset(),he.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Zl}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=gi._getDrawingBufferColorSpace(e),t.unpackColorSpace=gi._getUnpackColorSpace()}}const Fet=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:yj,AddEquation:Gv,AddOperation:_ve,AdditiveAnimationBlendMode:Tj,AdditiveBlending:P8,AgXToneMapping:Tve,AlphaFormat:Aj,AlwaysCompare:Gve,AlwaysDepth:mN,AlwaysStencilFunc:k8,AmbientLight:Rme,AnimationAction:Ume,AnimationClip:kb,AnimationLoader:Xqe,AnimationMixer:xZe,AnimationObjectGroup:gZe,AnimationUtils:Vqe,ArcCurve:rme,ArrayCamera:zme,ArrowHelper:HZe,AttachedBindMode:z8,Audio:kme,AudioAnalyser:oZe,AudioContext:tH,AudioListener:rZe,AudioLoader:tZe,AxesHelper:WZe,BackSide:Xo,BasicDepthPacking:Nve,BasicShadowMap:eve,BatchedMesh:tme,Bone:RP,BooleanKeyframeTrack:rx,Box2:EZe,Box3:Is,Box3Helper:VZe,BoxGeometry:ix,BoxHelper:GZe,BufferAttribute:Mi,BufferGeometry:Rn,BufferGeometryLoader:Bme,ByteType:xj,Cache:bh,Camera:wP,CameraHelper:UZe,CanvasTexture:fqe,CapsuleGeometry:BP,CatmullRomCurve3:ame,CineonToneMapping:Ave,CircleGeometry:OP,ClampToEdgeWrapping:jo,Clock:nH,Color:Et,ColorKeyframeTrack:Zj,ColorManagement:gi,CompressedArrayTexture:uqe,CompressedCubeTexture:cqe,CompressedTexture:IP,CompressedTextureLoader:Yqe,ConeGeometry:nw,ConstantAlphaFactor:gve,ConstantColorFactor:vve,Controls:YZe,CubeCamera:Kve,CubeReflectionMapping:wp,CubeRefractionMapping:Cm,CubeTexture:QC,CubeTextureLoader:qqe,CubeUVReflectionMapping:_S,CubicBezierCurve:Uj,CubicBezierCurve3:sme,CubicInterpolant:Mme,CullFaceBack:I8,CullFaceFront:$pe,CullFaceFrontBack:_Xe,CullFaceNone:Qpe,Curve:vf,CurvePath:lme,CustomBlending:tve,CustomToneMapping:Mve,CylinderGeometry:tw,Cylindrical:wZe,Data3DTexture:CP,DataArrayTexture:TP,DataTexture:tf,DataTextureLoader:Zqe,DataUtils:PYe,DecrementStencilOp:LXe,DecrementWrapStencilOp:IXe,DefaultLoadingManager:wme,DepthFormat:Eb,DepthStencilFormat:Db,DepthTexture:PP,DetachedBindMode:wve,DirectionalLight:eH,DirectionalLightHelper:FZe,DiscreteInterpolant:Tme,DodecahedronGeometry:zP,DoubleSide:Wc,DstAlphaFactor:cve,DstColorFactor:hve,DynamicCopyUsage:qXe,DynamicDrawUsage:VXe,DynamicReadUsage:WXe,EdgesGeometry:ime,EllipseCurve:kP,EqualCompare:zve,EqualDepth:yN,EqualStencilFunc:zXe,EquirectangularReflectionMapping:iC,EquirectangularRefractionMapping:rC,Euler:uf,EventDispatcher:Vh,ExternalTexture:kj,ExtrudeGeometry:FP,FileLoader:iu,Float16BufferAttribute:GYe,Float32BufferAttribute:Yt,FloatType:Ho,Fog:DP,FogExp2:EP,FramebufferTexture:lqe,FrontSide:zh,Frustum:bS,FrustumArray:LP,GLBufferAttribute:MZe,GLSL1:KXe,GLSL3:F8,GreaterCompare:kve,GreaterDepth:_N,GreaterEqualCompare:Uve,GreaterEqualDepth:xN,GreaterEqualStencilFunc:GXe,GreaterStencilFunc:FXe,GridHelper:zZe,Group:ep,HalfFloatType:Fm,HemisphereLight:Dme,HemisphereLightHelper:OZe,IcosahedronGeometry:UP,ImageBitmapLoader:Ome,ImageLoader:dC,ImageUtils:Wve,IncrementStencilOp:RXe,IncrementWrapStencilOp:NXe,InstancedBufferAttribute:Uy,InstancedBufferGeometry:Pme,InstancedInterleavedBuffer:AZe,InstancedMesh:Bj,Int16BufferAttribute:FYe,Int32BufferAttribute:UYe,Int8BufferAttribute:OYe,IntType:gP,InterleavedBuffer:$C,InterleavedBufferAttribute:Rm,Interpolant:AS,InterpolateDiscrete:Rb,InterpolateLinear:Lb,InterpolateSmooth:L3,InterpolationSamplingMode:$Xe,InterpolationSamplingType:QXe,InvertStencilOp:PXe,KeepStencilOp:B0,KeyframeTrack:uc,LOD:eme,LatheGeometry:GP,Layers:Bb,LessCompare:Ove,LessDepth:gN,LessEqualCompare:wj,LessEqualDepth:Fy,LessEqualStencilFunc:kXe,LessStencilFunc:OXe,Light:Vm,LightProbe:Ime,Line:Dp,Line3:LZe,LineBasicMaterial:ho,LineCurve:Gj,LineCurve3:ome,LineDashedMaterial:bme,LineLoop:Oj,LineSegments:pf,LinearFilter:hr,LinearInterpolant:qj,LinearMipMapLinearFilter:MXe,LinearMipMapNearestFilter:AXe,LinearMipmapLinearFilter:Yu,LinearMipmapNearestFilter:J1,LinearSRGBColorSpace:Em,LinearToneMapping:bve,LinearTransfer:sC,Loader:po,LoaderUtils:hm,LoadingManager:Kj,LoopOnce:Eve,LoopPingPong:Rve,LoopRepeat:Dve,MOUSE:I0,Material:Wa,MaterialLoader:qP,MathUtils:Hve,Matrix2:sH,Matrix3:kn,Matrix4:vn,MaxEquation:ave,Mesh:La,MeshBasicMaterial:Kl,MeshDepthMaterial:Wj,MeshDistanceMaterial:Xj,MeshLambertMaterial:xme,MeshMatcapMaterial:_me,MeshNormalMaterial:yme,MeshPhongMaterial:mme,MeshPhysicalMaterial:lc,MeshStandardMaterial:aw,MeshToonMaterial:gme,MinEquation:rve,MirroredRepeatWrapping:Tb,MixOperation:xve,MultiplyBlending:O8,MultiplyOperation:KC,NearestFilter:ps,NearestMipMapLinearFilter:SXe,NearestMipMapNearestFilter:bXe,NearestMipmapLinearFilter:Q0,NearestMipmapNearestFilter:mP,NeutralToneMapping:Cve,NeverCompare:Bve,NeverDepth:vN,NeverStencilFunc:BXe,NoBlending:wh,NoColorSpace:Yd,NoToneMapping:Eh,NormalAnimationBlendMode:MP,NormalBlending:xy,NotEqualCompare:Fve,NotEqualDepth:bN,NotEqualStencilFunc:UXe,NumberKeyframeTrack:Vy,Object3D:_i,ObjectLoader:$qe,ObjectSpaceNormalMap:Pve,OctahedronGeometry:iw,OneFactor:ove,OneMinusConstantAlphaFactor:yve,OneMinusConstantColorFactor:mve,OneMinusDstAlphaFactor:fve,OneMinusDstColorFactor:dve,OneMinusSrcAlphaFactor:pN,OneMinusSrcColorFactor:uve,OrthographicCamera:up,PCFShadowMap:pP,PCFSoftShadowMap:J2,PMREMGenerator:Y8,Path:eI,PerspectiveCamera:qr,Plane:Wd,PlaneGeometry:SS,PlaneHelper:jZe,PointLight:$j,PointLightHelper:PZe,Points:zj,PointsMaterial:NP,PolarGridHelper:kZe,PolyhedronGeometry:Gm,PositionalAudio:sZe,PropertyBinding:bi,PropertyMixer:Fme,QuadraticBezierCurve:Vj,QuadraticBezierCurve3:jj,Quaternion:vs,QuaternionKeyframeTrack:jy,QuaternionLinearInterpolant:Cme,RED_GREEN_RGTC2_Format:qN,RED_RGTC1_Format:XN,REVISION:ZC,RGBADepthPacking:Ive,RGBAFormat:lo,RGBAIntegerFormat:AP,RGBA_ASTC_10x10_Format:UN,RGBA_ASTC_10x5_Format:zN,RGBA_ASTC_10x6_Format:kN,RGBA_ASTC_10x8_Format:FN,RGBA_ASTC_12x10_Format:GN,RGBA_ASTC_12x12_Format:VN,RGBA_ASTC_4x4_Format:DN,RGBA_ASTC_5x4_Format:RN,RGBA_ASTC_5x5_Format:LN,RGBA_ASTC_6x5_Format:NN,RGBA_ASTC_6x6_Format:IN,RGBA_ASTC_8x5_Format:PN,RGBA_ASTC_8x6_Format:BN,RGBA_ASTC_8x8_Format:ON,RGBA_BPTC_Format:jN,RGBA_ETC2_EAC_Format:EN,RGBA_PVRTC_2BPPV1_Format:TN,RGBA_PVRTC_4BPPV1_Format:MN,RGBA_S3TC_DXT1_Format:$2,RGBA_S3TC_DXT3_Format:eT,RGBA_S3TC_DXT5_Format:tT,RGBDepthPacking:CXe,RGBFormat:Mj,RGBIntegerFormat:TXe,RGB_BPTC_SIGNED_Format:HN,RGB_BPTC_UNSIGNED_Format:WN,RGB_ETC1_Format:CN,RGB_ETC2_Format:wN,RGB_PVRTC_2BPPV1_Format:AN,RGB_PVRTC_4BPPV1_Format:SN,RGB_S3TC_DXT1_Format:Q2,RGDepthPacking:wXe,RGFormat:bP,RGIntegerFormat:SP,RawShaderMaterial:vme,Ray:nx,Raycaster:Gme,RectAreaLight:Lme,RedFormat:_P,RedIntegerFormat:JC,ReinhardToneMapping:Sve,RenderTarget:Dj,RenderTarget3D:_Ze,RepeatWrapping:wm,ReplaceStencilOp:DXe,ReverseSubtractEquation:ive,RingGeometry:VP,SIGNED_RED_GREEN_RGTC2_Format:ZN,SIGNED_RED_RGTC1_Format:YN,SRGBColorSpace:ao,SRGBTransfer:Hi,Scene:Nj,ShaderChunk:Hn,ShaderLib:Hc,ShaderMaterial:nc,ShadowMaterial:pme,Shape:by,ShapeGeometry:jP,ShapePath:XZe,ShapeUtils:Zc,ShortType:_j,Skeleton:ew,SkeletonHelper:IZe,SkinnedMesh:Pj,Source:em,Sphere:ms,SphereGeometry:rw,Spherical:W8,SphericalHarmonics3:Nme,SplineCurve:Hj,SpotLight:Qj,SpotLightHelper:NZe,Sprite:$ve,SpriteMaterial:Ij,SrcAlphaFactor:dN,SrcAlphaSaturateFactor:pve,SrcColorFactor:lve,StaticCopyUsage:YXe,StaticDrawUsage:oC,StaticReadUsage:HXe,StereoCamera:nZe,StreamCopyUsage:ZXe,StreamDrawUsage:jXe,StreamReadUsage:XXe,StringKeyframeTrack:ax,SubtractEquation:nve,SubtractiveBlending:B8,TOUCH:P0,TangentSpaceNormalMap:Um,TetrahedronGeometry:HP,Texture:Mr,TextureLoader:Eme,TextureUtils:QZe,Timer:TZe,TimestampQuery:JXe,TorusGeometry:WP,TorusKnotGeometry:XP,Triangle:Vv,TriangleFanDrawMode:KN,TriangleStripDrawMode:Cj,TrianglesDrawMode:Lve,TubeGeometry:YP,UVMapping:vP,Uint16BufferAttribute:Rj,Uint32BufferAttribute:Lj,Uint8BufferAttribute:zYe,Uint8ClampedBufferAttribute:kYe,Uniform:aH,UniformsGroup:SZe,UniformsLib:Rt,UniformsUtils:Zve,UnsignedByteType:tc,UnsignedInt101111Type:Sj,UnsignedInt248Type:wb,UnsignedInt5999Type:bj,UnsignedIntType:Ep,UnsignedShort4444Type:yP,UnsignedShort5551Type:xP,UnsignedShortType:Cb,VSMShadowMap:jc,Vector2:Ke,Vector3:le,Vector4:Ai,VectorKeyframeTrack:Hy,VideoFrameTexture:oqe,VideoTexture:nme,WebGL3DRenderTarget:MYe,WebGLArrayRenderTarget:AYe,WebGLCoordinateSystem:Zl,WebGLCubeRenderTarget:Jve,WebGLRenderTarget:lf,WebGLRenderer:Zme,WebGLUtils:qme,WebGPUCoordinateSystem:Nb,WebXRController:N3,WireframeGeometry:dme,WrapAroundEnding:aC,ZeroCurvatureEnding:$0,ZeroFactor:sve,ZeroSlopeEnding:ey,ZeroStencilOp:EXe,createCanvasElement:jve,error:Cn,getConsoleFunction:nYe,log:uC,setConsoleFunction:tYe,warn:Lt,warnOnce:Ib},Symbol.toStringTag,{value:"Module"}));var Hz={exports:{}},Wz={},Xz={exports:{}},Yz={};var cne;function Uet(){if(cne)return Yz;cne=1;var n=Wb();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,a=n.useLayoutEffect,s=n.useDebugValue;function o(f,h){var d=h(),v=i({inst:{value:d,getSnapshot:h}}),m=v[0].inst,y=v[1];return a(function(){m.value=d,m.getSnapshot=h,l(m)&&y({inst:m})},[f,d,h]),r(function(){return l(m)&&y({inst:m}),f(function(){l(m)&&y({inst:m})})},[f]),s(d),d}function l(f){var h=f.getSnapshot;f=f.value;try{var d=h();return!t(f,d)}catch{return!0}}function u(f,h){return h()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return Yz.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:c,Yz}var fne;function Get(){return fne||(fne=1,Xz.exports=Uet()),Xz.exports}var hne;function Vet(){if(hne)return Wz;hne=1;var n=Wb(),e=Get();function t(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=n.useRef,s=n.useEffect,o=n.useMemo,l=n.useDebugValue;return Wz.useSyncExternalStoreWithSelector=function(u,c,f,h,d){var v=a(null);if(v.current===null){var m={hasValue:!1,value:null};v.current=m}else m=v.current;v=o(function(){function x(E){if(!b){if(b=!0,M=E,E=h(E),d!==void 0&&m.hasValue){var L=m.value;if(d(L,E))return C=L}return C=E}if(L=C,i(M,E))return L;var P=h(E);return d!==void 0&&d(L,P)?(M=E,L):(M=E,C=P)}var b=!1,M,C,w=f===void 0?null:f;return[function(){return x(c())},w===null?void 0:function(){return x(w())}]},[c,f,h,d]);var y=r(u,v[0],v[1]);return s(function(){m.hasValue=!0,m.value=y},[y]),l(y),y},Wz}var dne;function jet(){return dne||(dne=1,Hz.exports=Vet()),Hz.exports}var Het=jet();const Wet=hI(Het),pne=n=>{let e;const t=new Set,i=(u,c)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const h=e;e=c??(typeof f!="object"||f===null)?f:Object.assign({},e,f),t.forEach(d=>d(e,h))}},r=()=>e,o={setState:i,getState:r,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u))},l=e=n(i,r,o);return o},Xet=(n=>n?pne(n):pne),{useSyncExternalStoreWithSelector:Yet}=Wet,qet=n=>n;function Zet(n,e=qet,t){const i=Yet(n.subscribe,n.getState,n.getInitialState,e,t);return Ps.useDebugValue(i),i}const vne=(n,e)=>{const t=Xet(n),i=(r,a=e)=>Zet(t,r,a);return Object.assign(i,t),i},Ket=((n,e)=>n?vne(n,e):vne),Jet=n=>typeof n=="object"&&typeof n.then=="function",ny=[];function Kme(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function Jme(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const a of ny)if(Kme(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return i.lifespan&&i.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,i.lifespan)),a.response;if(!t)throw a.promise}const r={keys:e,equal:i.equal,remove:()=>{const a=ny.indexOf(r);a!==-1&&ny.splice(a,1)},promise:(Jet(n)?n:n(...e)).then(a=>{r.response=a,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(a=>r.error=a)};if(ny.push(r),!t)throw r.promise}const Qet=(n,e,t)=>Jme(n,e,!1,t),$et=(n,e,t)=>void Jme(n,e,!0,t),ett=n=>{if(n===void 0||n.length===0)ny.splice(0,ny.length);else{const e=ny.find(t=>Kme(n,t.keys,t.equal));e&&e.remove()}};var qz={exports:{}},Zz={exports:{}},Kz={exports:{}},Jz={};var mne;function ttt(){return mne||(mne=1,(function(n){function e(G,X){var q=G.length;G.push(X);e:for(;0<q;){var $=q-1>>>1,te=G[$];if(0<r(te,X))G[$]=X,G[q]=te,q=$;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var X=G[0],q=G.pop();if(q!==X){G[0]=q;e:for(var $=0,te=G.length,J=te>>>1;$<J;){var Q=2*($+1)-1,se=G[Q],ce=Q+1,ue=G[ce];if(0>r(se,q))ce<te&&0>r(ue,se)?(G[$]=ue,G[ce]=q,$=ce):(G[$]=se,G[Q]=q,$=Q);else if(ce<te&&0>r(ue,q))G[$]=ue,G[ce]=q,$=ce;else break e}}return X}function r(G,X){var q=G.sortIndex-X.sortIndex;return q!==0?q:G.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();n.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,h=3,d=!1,v=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function M(G){for(var X=t(u);X!==null;){if(X.callback===null)i(u);else if(X.startTime<=G)i(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(u)}}function C(G){if(m=!1,M(G),!v)if(t(l)!==null)v=!0,j();else{var X=t(u);X!==null&&W(C,X.startTime-G)}}var w=!1,E=-1,L=5,P=-1;function I(){return!(n.unstable_now()-P<L)}function N(){if(w){var G=n.unstable_now();P=G;var X=!0;try{e:{v=!1,m&&(m=!1,x(E),E=-1),d=!0;var q=h;try{t:{for(M(G),f=t(l);f!==null&&!(f.expirationTime>G&&I());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var te=$(f.expirationTime<=G);if(G=n.unstable_now(),typeof te=="function"){f.callback=te,M(G),X=!0;break t}f===t(l)&&i(l),M(G)}else i(l);f=t(l)}if(f!==null)X=!0;else{var J=t(u);J!==null&&W(C,J.startTime-G),X=!1}}break e}finally{f=null,h=q,d=!1}X=void 0}}finally{X?z():w=!1}}}var z;if(typeof b=="function")z=function(){b(N)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,U=V.port2;V.port1.onmessage=N,z=function(){U.postMessage(null)}}else z=function(){y(N,0)};function j(){w||(w=!0,z())}function W(G,X){E=y(function(){G(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){v||d||(v=!0,j())},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(G){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var q=h;h=X;try{return G()}finally{h=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,X){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var q=h;h=G;try{return X()}finally{h=q}},n.unstable_scheduleCallback=function(G,X,q){var $=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?$+q:$):q=$,G){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=q+te,G={id:c++,callback:X,priorityLevel:G,startTime:q,expirationTime:te,sortIndex:-1},q>$?(G.sortIndex=q,e(u,G),t(l)===null&&G===t(u)&&(m?(x(E),E=-1):m=!0,W(C,q-$))):(G.sortIndex=te,e(l,G),v||d||(v=!0,j())),G},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(G){var X=h;return function(){var q=h;h=X;try{return G.apply(this,arguments)}finally{h=q}}}})(Jz)),Jz}var gne;function Qme(){return gne||(gne=1,Kz.exports=ttt()),Kz.exports}var yne;function ntt(){return yne||(yne=1,(function(n){n.exports=function(e){function t(_,S,R,O){return new $S(_,S,R,O)}function i(){}function r(_){var S="https://react.dev/errors/"+_;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)S+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+_+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(_){return _===null||typeof _!="object"?null:(_=sA&&_[sA]||_["@@iterator"],typeof _=="function"?_:null)}function s(_){if(_==null)return null;if(typeof _=="function")return _.$$typeof===sd?null:_.displayName||_.name||null;if(typeof _=="string")return _;switch(_){case Kp:return"Fragment";case Tl:return"Portal";case aA:return"Profiler";case rA:return"StrictMode";case Ix:return"Suspense";case Bf:return"SuspenseList"}if(typeof _=="object")switch(_.$$typeof){case vu:return(_.displayName||"Context")+".Provider";case Pf:return(_._context.displayName||"Context")+".Consumer";case Jp:var S=_.render;return _=_.displayName,_||(_=S.displayName||S.name||"",_=_!==""?"ForwardRef("+_+")":"ForwardRef"),_;case fg:return S=_.displayName||null,S!==null?S:s(_.type)||"Memo";case Cl:S=_._payload,_=_._init;try{return s(_(S))}catch{}}return null}function o(_){if(Px===void 0)try{throw Error()}catch(R){var S=R.stack.trim().match(/\n( *(at )?)/);Px=S&&S[1]||"",oA=-1<R.stack.indexOf(`
    at`)?" (<anonymous>)":-1<R.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Px+_+oA}function l(_,S){if(!_||Of)return"";Of=!0;var R=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(S){var Dt=function(){throw Error()};if(Object.defineProperty(Dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Dt,[])}catch(Tn){var Pt=Tn}Reflect.construct(_,[],Dt)}else{try{Dt.call()}catch(Tn){Pt=Tn}_.call(Dt.prototype)}}else{try{throw Error()}catch(Tn){Pt=Tn}(Dt=_())&&typeof Dt.catch=="function"&&Dt.catch(function(){})}}catch(Tn){if(Tn&&Pt&&typeof Tn.stack=="string")return[Tn.stack,Pt.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var F=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");F&&F.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=O.DetermineComponentFrameRoot(),re=H[0],pe=H[1];if(re&&pe){var Ce=re.split(`
`),Ze=pe.split(`
`);for(F=O=0;O<Ce.length&&!Ce[O].includes("DetermineComponentFrameRoot");)O++;for(;F<Ze.length&&!Ze[F].includes("DetermineComponentFrameRoot");)F++;if(O===Ce.length||F===Ze.length)for(O=Ce.length-1,F=Ze.length-1;1<=O&&0<=F&&Ce[O]!==Ze[F];)F--;for(;1<=O&&0<=F;O--,F--)if(Ce[O]!==Ze[F]){if(O!==1||F!==1)do if(O--,F--,0>F||Ce[O]!==Ze[F]){var gt=`
`+Ce[O].replace(" at new "," at ");return _.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",_.displayName)),gt}while(1<=O&&0<=F);break}}}finally{Of=!1,Error.prepareStackTrace=R}return(R=_?_.displayName||_.name:"")?o(R):""}function u(_){switch(_.tag){case 26:case 27:case 5:return o(_.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return _=l(_.type,!1),_;case 11:return _=l(_.type.render,!1),_;case 1:return _=l(_.type,!0),_;default:return""}}function c(_){try{var S="";do S+=u(_),_=_.return;while(_);return S}catch(R){return`
Error generating stack: `+R.message+`
`+R.stack}}function f(_){var S=_,R=_;if(_.alternate)for(;S.return;)S=S.return;else{_=S;do S=_,(S.flags&4098)!==0&&(R=S.return),_=S.return;while(_)}return S.tag===3?R:null}function h(_){if(f(_)!==_)throw Error(r(188))}function d(_){var S=_.alternate;if(!S){if(S=f(_),S===null)throw Error(r(188));return S!==_?null:_}for(var R=_,O=S;;){var F=R.return;if(F===null)break;var H=F.alternate;if(H===null){if(O=F.return,O!==null){R=O;continue}break}if(F.child===H.child){for(H=F.child;H;){if(H===R)return h(F),_;if(H===O)return h(F),S;H=H.sibling}throw Error(r(188))}if(R.return!==O.return)R=F,O=H;else{for(var re=!1,pe=F.child;pe;){if(pe===R){re=!0,R=F,O=H;break}if(pe===O){re=!0,O=F,R=H;break}pe=pe.sibling}if(!re){for(pe=H.child;pe;){if(pe===R){re=!0,R=H,O=F;break}if(pe===O){re=!0,O=H,R=F;break}pe=pe.sibling}if(!re)throw Error(r(189))}}if(R.alternate!==O)throw Error(r(190))}if(R.tag!==3)throw Error(r(188));return R.stateNode.current===R?_:S}function v(_){var S=_.tag;if(S===5||S===26||S===27||S===6)return _;for(_=_.child;_!==null;){if(S=v(_),S!==null)return S;_=_.sibling}return null}function m(_){var S=_.tag;if(S===5||S===26||S===27||S===6)return _;for(_=_.child;_!==null;){if(_.tag!==4&&(S=m(_),S!==null))return S;_=_.sibling}return null}function y(_){return{current:_}}function x(_){0>Tc||(_.current=_g[Tc],_g[Tc]=null,Tc--)}function b(_,S){Tc++,_g[Tc]=_.current,_.current=S}function M(_){return _>>>=0,_===0?32:31-(bg(_)/iE|0)|0}function C(_){var S=_&42;if(S!==0)return S;switch(_&-_){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return _&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return _}}function w(_,S){var R=_.pendingLanes;if(R===0)return 0;var O=0,F=_.suspendedLanes,H=_.pingedLanes,re=_.warmLanes;_=_.finishedLanes!==0;var pe=R&134217727;return pe!==0?(R=pe&~F,R!==0?O=C(R):(H&=pe,H!==0?O=C(H):_||(re=pe&~re,re!==0&&(O=C(re))))):(pe=R&~F,pe!==0?O=C(pe):H!==0?O=C(H):_||(re=R&~re,re!==0&&(O=C(re)))),O===0?0:S!==0&&S!==O&&(S&F)===0&&(F=O&-O,re=S&-S,F>=re||F===32&&(re&4194176)!==0)?S:O}function E(_,S){return(_.pendingLanes&~(_.suspendedLanes&~_.pingedLanes)&S)===0}function L(_,S){switch(_){case 1:case 2:case 4:case 8:return S+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return S+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P(){var _=tv;return tv<<=1,(tv&4194176)===0&&(tv=128),_}function I(){var _=Sg;return Sg<<=1,(Sg&62914560)===0&&(Sg=4194304),_}function N(_){for(var S=[],R=0;31>R;R++)S.push(_);return S}function z(_,S){_.pendingLanes|=S,S!==268435456&&(_.suspendedLanes=0,_.pingedLanes=0,_.warmLanes=0)}function V(_,S,R,O,F,H){var re=_.pendingLanes;_.pendingLanes=R,_.suspendedLanes=0,_.pingedLanes=0,_.warmLanes=0,_.expiredLanes&=R,_.entangledLanes&=R,_.errorRecoveryDisabledLanes&=R,_.shellSuspendCounter=0;var pe=_.entanglements,Ce=_.expirationTimes,Ze=_.hiddenUpdates;for(R=re&~R;0<R;){var gt=31-Hs(R),Dt=1<<gt;pe[gt]=0,Ce[gt]=-1;var Pt=Ze[gt];if(Pt!==null)for(Ze[gt]=null,gt=0;gt<Pt.length;gt++){var Tn=Pt[gt];Tn!==null&&(Tn.lane&=-536870913)}R&=~Dt}O!==0&&U(_,O,0),H!==0&&F===0&&_.tag!==0&&(_.suspendedLanes|=H&~(re&~S))}function U(_,S,R){_.pendingLanes|=S,_.suspendedLanes&=~S;var O=31-Hs(S);_.entangledLanes|=S,_.entanglements[O]=_.entanglements[O]|1073741824|R&4194218}function j(_,S){var R=_.entangledLanes|=S;for(_=_.entanglements;R;){var O=31-Hs(R),F=1<<O;F&S|_[O]&S&&(_[O]|=S),R&=~F}}function W(_){return _&=-_,2<_?8<_?(_&134217727)!==0?32:268435456:8:2}function G(_){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(iv,_,void 0,(_.current.flags&128)===128)}catch{}}function X(_){if(typeof oE=="function"&&kA(_),Ws&&typeof Ws.setStrictMode=="function")try{Ws.setStrictMode(iv,_)}catch{}}function q(_,S){return _===S&&(_!==0||1/_===1/S)||_!==_&&S!==S}function $(_,S){if(typeof _=="object"&&_!==null){var R=Jx.get(_);return R!==void 0?R:(S={value:_,source:S,stack:c(S)},Jx.set(_,S),S)}return{value:_,source:S,stack:c(S)}}function te(_,S){er[mr++]=Tg,er[mr++]=Mg,Mg=_,Tg=S}function J(_,S,R){Ao[Mo++]=_u,Ao[Mo++]=$o,Ao[Mo++]=wl,wl=_;var O=_u;_=$o;var F=32-Hs(O)-1;O&=~(1<<F),R+=1;var H=32-Hs(S)+F;if(30<H){var re=F-F%5;H=(O&(1<<re)-1).toString(32),O>>=re,F-=re,_u=1<<32-Hs(S)+F|R<<F|O,$o=H+_}else _u=1<<H|R<<F|O,$o=_}function Q(_){_.return!==null&&(te(_,1),J(_,1,0))}function se(_){for(;_===Mg;)Mg=er[--mr],er[mr]=null,Tg=er[--mr],er[mr]=null;for(;_===wl;)wl=Ao[--Mo],Ao[Mo]=null,$o=Ao[--Mo],Ao[Mo]=null,_u=Ao[--Mo],Ao[Mo]=null}function ce(_,S){b(El,S),b(Cg,_),b(ba,null),_=od(S),x(ba),b(ba,_)}function ue(){x(ba),x(Cg),x(El)}function fe(_){_.memoizedState!==null&&b(rv,_);var S=ba.current,R=Ow(S,_.type);S!==R&&(b(Cg,_),b(ba,R))}function ge(_){Cg.current===_&&(x(ba),x(Cg)),rv.current===_&&(x(rv),gu?gn._currentValue=js:gn._currentValue2=js)}function Se(_){var S=Error(r(418,""));throw dt($(S,_)),wg}function Ee(_,S){if(!As)throw Error(r(175));lB(_.stateNode,_.type,_.memoizedProps,S,_)||Se(_)}function Ue(_){for(ns=_.return;ns;)switch(ns.tag){case 3:case 27:el=!0;return;case 5:case 13:el=!1;return;default:ns=ns.return}}function _e(_){if(!As||_!==ns)return!1;if(!di)return Ue(_),di=!0,!1;var S=!1;if(za?_.tag!==3&&_.tag!==27&&(_.tag!==5||Qw(_.type)&&!Ff(_.type,_.memoizedProps))&&(S=!0):_.tag!==3&&(_.tag!==5||Qw(_.type)&&!Ff(_.type,_.memoizedProps))&&(S=!0),S&&Fa&&Se(_),Ue(_),_.tag===13){if(!As)throw Error(r(316));if(_=_.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));Fa=Kw(_)}else Fa=ns?TA(_.stateNode):null;return!0}function ke(){As&&(Fa=ns=null,di=!1)}function dt(_){To===null?To=[_]:To.push(_)}function De(){for(var _=Gf,S=av=Gf=0;S<_;){var R=Co[S];Co[S++]=null;var O=Co[S];Co[S++]=null;var F=Co[S];Co[S++]=null;var H=Co[S];if(Co[S++]=null,O!==null&&F!==null){var re=O.pending;re===null?F.next=F:(F.next=re.next,re.next=F),O.pending=F}H!==0&&rt(R,F,H)}}function ae(_,S,R,O){Co[Gf++]=_,Co[Gf++]=S,Co[Gf++]=R,Co[Gf++]=O,av|=O,_.lanes|=O,_=_.alternate,_!==null&&(_.lanes|=O)}function Fe(_,S,R,O){return ae(_,S,R,O),Je(_)}function qe(_,S){return ae(_,null,null,S),Je(_)}function rt(_,S,R){_.lanes|=R;var O=_.alternate;O!==null&&(O.lanes|=R);for(var F=!1,H=_.return;H!==null;)H.childLanes|=R,O=H.alternate,O!==null&&(O.childLanes|=R),H.tag===22&&(_=H.stateNode,_===null||_._visibility&1||(F=!0)),_=H,H=H.return;F&&S!==null&&_.tag===3&&(H=_.stateNode,F=31-Hs(R),H=H.hiddenUpdates,_=H[F],_===null?H[F]=[S]:_.push(S),S.lane=R|536870912)}function Je(_){if(50<yd)throw yd=0,Cs=null,Error(r(185));for(var S=_.return;S!==null;)_=S,S=_.return;return _.tag===3?_.stateNode:null}function _t(_){_!==fd&&_.next===null&&(fd===null?sv=fd=_:fd=fd.next=_),Dg=!0,Eg||(Eg=!0,Xe(Ct))}function pt(_,S){if(!Dl&&Dg){Dl=!0;do for(var R=!1,O=sv;O!==null;){if(_!==0){var F=O.pendingLanes;if(F===0)var H=0;else{var re=O.suspendedLanes,pe=O.pingedLanes;H=(1<<31-Hs(42|_)+1)-1,H&=F&~(re&~pe),H=H&201326677?H&201326677|1:H?H|2:0}H!==0&&(R=!0,we(O,H))}else H=Vn,H=w(O,O===Yn?H:0),(H&3)===0||E(O,H)||(R=!0,we(O,H));O=O.next}while(R);Dl=!1}}function Ct(){Dg=Eg=!1;var _=0;Vf!==0&&(Uf()&&(_=Vf),Vf=0);for(var S=ka(),R=null,O=sv;O!==null;){var F=O.next,H=oe(O,S);H===0?(O.next=null,R===null?sv=F:R.next=F,F===null&&(fd=R)):(R=O,(_!==0||(H&3)!==0)&&(Dg=!0)),O=F}pt(_)}function oe(_,S){for(var R=_.suspendedLanes,O=_.pingedLanes,F=_.expirationTimes,H=_.pendingLanes&-62914561;0<H;){var re=31-Hs(H),pe=1<<re,Ce=F[re];Ce===-1?((pe&R)===0||(pe&O)!==0)&&(F[re]=L(pe,S)):Ce<=S&&(_.expiredLanes|=pe),H&=~pe}if(S=Yn,R=Vn,R=w(_,_===S?R:0),O=_.callbackNode,R===0||_===S&&ki===2||_.cancelPendingCommit!==null)return O!==null&&O!==null&&Ag(O),_.callbackNode=null,_.callbackPriority=0;if((R&3)===0||E(_,R)){if(S=R&-R,S===_.callbackPriority)return S;switch(O!==null&&Ag(O),W(R)){case 2:case 8:R=sE;break;case 32:R=Zx;break;case 268435456:R=Kx;break;default:R=Zx}return O=ee.bind(null,_),R=nv(R,O),_.callbackPriority=S,_.callbackNode=R,S}return O!==null&&O!==null&&Ag(O),_.callbackPriority=2,_.callbackNode=null,2}function ee(_,S){var R=_.callbackNode;if(xa()&&_.callbackNode!==R)return null;var O=Vn;return O=w(_,_===Yn?O:0),O===0?null:(sg(_,O,S),oe(_,ka()),_.callbackNode!=null&&_.callbackNode===R?ee.bind(null,_):null)}function we(_,S){if(xa())return null;sg(_,S,!0)}function Xe(_){Ur?kx(function(){(nn&6)!==0?nv(zA,_):_()}):nv(zA,_)}function nt(){return Vf===0&&(Vf=P()),Vf}function je(_,S){if(Rg===null){var R=Rg=[];Qx=0,Xs=nt(),jf={status:"pending",value:void 0,then:function(O){R.push(O)}}}return Qx++,S.then(Wt,Wt),S}function Wt(){if(--Qx===0&&Rg!==null){jf!==null&&(jf.status="fulfilled");var _=Rg;Rg=null,Xs=0,jf=null;for(var S=0;S<_.length;S++)(0,_[S])()}}function St(_,S){var R=[],O={status:"pending",value:null,reason:null,then:function(F){R.push(F)}};return _.then(function(){O.status="fulfilled",O.value=S;for(var F=0;F<R.length;F++)(0,R[F])(S)},function(F){for(O.status="rejected",O.reason=F,F=0;F<R.length;F++)(0,R[F])(void 0)}),O}function qt(_){_.updateQueue={baseState:_.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vt(_,S){_=_.updateQueue,S.updateQueue===_&&(S.updateQueue={baseState:_.baseState,firstBaseUpdate:_.firstBaseUpdate,lastBaseUpdate:_.lastBaseUpdate,shared:_.shared,callbacks:null})}function et(_){return{lane:_,tag:0,payload:null,callback:null,next:null}}function it(_,S,R){var O=_.updateQueue;if(O===null)return null;if(O=O.shared,(nn&2)!==0){var F=O.pending;return F===null?S.next=S:(S.next=F.next,F.next=S),O.pending=S,S=Je(_),rt(_,null,R),S}return ae(_,O,S,R),Je(_)}function Ht(_,S,R){if(S=S.updateQueue,S!==null&&(S=S.shared,(R&4194176)!==0)){var O=S.lanes;O&=_.pendingLanes,R|=O,S.lanes=R,j(_,R)}}function de(_,S){var R=_.updateQueue,O=_.alternate;if(O!==null&&(O=O.updateQueue,R===O)){var F=null,H=null;if(R=R.firstBaseUpdate,R!==null){do{var re={lane:R.lane,tag:R.tag,payload:R.payload,callback:null,next:null};H===null?F=H=re:H=H.next=re,R=R.next}while(R!==null);H===null?F=H=S:H=H.next=S}else F=H=S;R={baseState:O.baseState,firstBaseUpdate:F,lastBaseUpdate:H,shared:O.shared,callbacks:O.callbacks},_.updateQueue=R;return}_=R.lastBaseUpdate,_===null?R.firstBaseUpdate=S:_.next=S,R.lastBaseUpdate=S}function Pe(){if(ov){var _=jf;if(_!==null)throw _}}function lt(_,S,R,O){ov=!1;var F=_.updateQueue;Cc=!1;var H=F.firstBaseUpdate,re=F.lastBaseUpdate,pe=F.shared.pending;if(pe!==null){F.shared.pending=null;var Ce=pe,Ze=Ce.next;Ce.next=null,re===null?H=Ze:re.next=Ze,re=Ce;var gt=_.alternate;gt!==null&&(gt=gt.updateQueue,pe=gt.lastBaseUpdate,pe!==re&&(pe===null?gt.firstBaseUpdate=Ze:pe.next=Ze,gt.lastBaseUpdate=Ce))}if(H!==null){var Dt=F.baseState;re=0,gt=Ze=Ce=null,pe=H;do{var Pt=pe.lane&-536870913,Tn=Pt!==pe.lane;if(Tn?(Vn&Pt)===Pt:(O&Pt)===Pt){Pt!==0&&Pt===Xs&&(ov=!0),gt!==null&&(gt=gt.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var Ks=_,Pg=pe;Pt=S;var xd=R;switch(Pg.tag){case 1:if(Ks=Pg.payload,typeof Ks=="function"){Dt=Ks.call(xd,Dt,Pt);break e}Dt=Ks;break e;case 3:Ks.flags=Ks.flags&-65537|128;case 0:if(Ks=Pg.payload,Pt=typeof Ks=="function"?Ks.call(xd,Dt,Pt):Ks,Pt==null)break e;Dt=ad({},Dt,Pt);break e;case 2:Cc=!0}}Pt=pe.callback,Pt!==null&&(_.flags|=64,Tn&&(_.flags|=8192),Tn=F.callbacks,Tn===null?F.callbacks=[Pt]:Tn.push(Pt))}else Tn={lane:Pt,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},gt===null?(Ze=gt=Tn,Ce=Dt):gt=gt.next=Tn,re|=Pt;if(pe=pe.next,pe===null){if(pe=F.shared.pending,pe===null)break;Tn=pe,pe=Tn.next,Tn.next=null,F.lastBaseUpdate=Tn,F.shared.pending=null}}while(!0);gt===null&&(Ce=Dt),F.baseState=Ce,F.firstBaseUpdate=Ze,F.lastBaseUpdate=gt,H===null&&(F.shared.lanes=0),Ro|=re,_.lanes=re,_.memoizedState=Dt}}function he(_,S){if(typeof _!="function")throw Error(r(191,_));_.call(S)}function ut(_,S){var R=_.callbacks;if(R!==null)for(_.callbacks=null,_=0;_<R.length;_++)he(R[_],S)}function ft(_,S){if(So(_,S))return!0;if(typeof _!="object"||_===null||typeof S!="object"||S===null)return!1;var R=Object.keys(_),O=Object.keys(S);if(R.length!==O.length)return!1;for(O=0;O<R.length;O++){var F=R[O];if(!Lg.call(S,F)||!So(_[F],S[F]))return!1}return!0}function vt(_){return _=_.status,_==="fulfilled"||_==="rejected"}function at(){}function Qe(_,S,R){switch(R=_[R],R===void 0?_.push(S):R!==S&&(S.then(at,at),S=R),S.status){case"fulfilled":return S.value;case"rejected":throw _=S.reason,_===Ni?Error(r(483)):_;default:if(typeof S.status=="string")S.then(at,at);else{if(_=Yn,_!==null&&100<_.shellSuspendCounter)throw Error(r(482));_=S,_.status="pending",_.then(function(O){if(S.status==="pending"){var F=S;F.status="fulfilled",F.value=O}},function(O){if(S.status==="pending"){var F=S;F.status="rejected",F.reason=O}})}switch(S.status){case"fulfilled":return S.value;case"rejected":throw _=S.reason,_===Ni?Error(r(483)):_}throw hd=S,Ni}}function Tt(){if(hd===null)throw Error(r(459));var _=hd;return hd=null,_}function Kt(_){var S=tl;return tl+=1,bu===null&&(bu=[]),Qe(bu,_,S)}function Xn(_,S){S=S.props.ref,_.ref=S!==void 0?S:null}function Bn(_,S){throw S.$$typeof===iA?Error(r(525)):(_=Object.prototype.toString.call(S),Error(r(31,_==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":_)))}function or(_){var S=_._init;return S(_._payload)}function ea(_){function S(Be,Me){if(_){var Ge=Be.deletions;Ge===null?(Be.deletions=[Me],Be.flags|=16):Ge.push(Me)}}function R(Be,Me){if(!_)return null;for(;Me!==null;)S(Be,Me),Me=Me.sibling;return null}function O(Be){for(var Me=new Map;Be!==null;)Be.key!==null?Me.set(Be.key,Be):Me.set(Be.index,Be),Be=Be.sibling;return Me}function F(Be,Me){return Be=es(Be,Me),Be.index=0,Be.sibling=null,Be}function H(Be,Me,Ge){return Be.index=Ge,_?(Ge=Be.alternate,Ge!==null?(Ge=Ge.index,Ge<Me?(Be.flags|=33554434,Me):Ge):(Be.flags|=33554434,Me)):(Be.flags|=1048576,Me)}function re(Be){return _&&Be.alternate===null&&(Be.flags|=33554434),Be}function pe(Be,Me,Ge,ht){return Me===null||Me.tag!==6?(Me=If(Ge,Be.mode,ht),Me.return=Be,Me):(Me=F(Me,Ge),Me.return=Be,Me)}function Ce(Be,Me,Ge,ht){var Qt=Ge.type;return Qt===Kp?gt(Be,Me,Ge.props.children,ht,Ge.key):Me!==null&&(Me.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===Cl&&or(Qt)===Me.type)?(Me=F(Me,Ge.props),Xn(Me,Ge),Me.return=Be,Me):(Me=Jo(Ge.type,Ge.key,Ge.props,null,Be.mode,ht),Xn(Me,Ge),Me.return=Be,Me)}function Ze(Be,Me,Ge,ht){return Me===null||Me.tag!==4||Me.stateNode.containerInfo!==Ge.containerInfo||Me.stateNode.implementation!==Ge.implementation?(Me=Zp(Ge,Be.mode,ht),Me.return=Be,Me):(Me=F(Me,Ge.children||[]),Me.return=Be,Me)}function gt(Be,Me,Ge,ht,Qt){return Me===null||Me.tag!==7?(Me=_c(Ge,Be.mode,ht,Qt),Me.return=Be,Me):(Me=F(Me,Ge),Me.return=Be,Me)}function Dt(Be,Me,Ge){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Me=If(""+Me,Be.mode,Ge),Me.return=Be,Me;if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case bc:return Ge=Jo(Me.type,Me.key,Me.props,null,Be.mode,Ge),Xn(Ge,Me),Ge.return=Be,Ge;case Tl:return Me=Zp(Me,Be.mode,Ge),Me.return=Be,Me;case Cl:var ht=Me._init;return Me=ht(Me._payload),Dt(Be,Me,Ge)}if(zf(Me)||a(Me))return Me=_c(Me,Be.mode,Ge,null),Me.return=Be,Me;if(typeof Me.then=="function")return Dt(Be,Kt(Me),Ge);if(Me.$$typeof===vu)return Dt(Be,tg(Be,Me),Ge);Bn(Be,Me)}return null}function Pt(Be,Me,Ge,ht){var Qt=Me!==null?Me.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Qt!==null?null:pe(Be,Me,""+Ge,ht);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case bc:return Ge.key===Qt?Ce(Be,Me,Ge,ht):null;case Tl:return Ge.key===Qt?Ze(Be,Me,Ge,ht):null;case Cl:return Qt=Ge._init,Ge=Qt(Ge._payload),Pt(Be,Me,Ge,ht)}if(zf(Ge)||a(Ge))return Qt!==null?null:gt(Be,Me,Ge,ht,null);if(typeof Ge.then=="function")return Pt(Be,Me,Kt(Ge),ht);if(Ge.$$typeof===vu)return Pt(Be,Me,tg(Be,Ge),ht);Bn(Be,Ge)}return null}function Tn(Be,Me,Ge,ht,Qt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Be=Be.get(Ge)||null,pe(Me,Be,""+ht,Qt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case bc:return Be=Be.get(ht.key===null?Ge:ht.key)||null,Ce(Me,Be,ht,Qt);case Tl:return Be=Be.get(ht.key===null?Ge:ht.key)||null,Ze(Me,Be,ht,Qt);case Cl:var qi=ht._init;return ht=qi(ht._payload),Tn(Be,Me,Ge,ht,Qt)}if(zf(ht)||a(ht))return Be=Be.get(Ge)||null,gt(Me,Be,ht,Qt,null);if(typeof ht.then=="function")return Tn(Be,Me,Ge,Kt(ht),Qt);if(ht.$$typeof===vu)return Tn(Be,Me,Ge,tg(Me,ht),Qt);Bn(Me,ht)}return null}function Ks(Be,Me,Ge,ht){for(var Qt=null,qi=null,yn=Me,vi=Me=0,sa=null;yn!==null&&vi<Ge.length;vi++){yn.index>vi?(sa=yn,yn=null):sa=yn.sibling;var mi=Pt(Be,yn,Ge[vi],ht);if(mi===null){yn===null&&(yn=sa);break}_&&yn&&mi.alternate===null&&S(Be,yn),Me=H(mi,Me,vi),qi===null?Qt=mi:qi.sibling=mi,qi=mi,yn=sa}if(vi===Ge.length)return R(Be,yn),di&&te(Be,vi),Qt;if(yn===null){for(;vi<Ge.length;vi++)yn=Dt(Be,Ge[vi],ht),yn!==null&&(Me=H(yn,Me,vi),qi===null?Qt=yn:qi.sibling=yn,qi=yn);return di&&te(Be,vi),Qt}for(yn=O(yn);vi<Ge.length;vi++)sa=Tn(yn,Be,vi,Ge[vi],ht),sa!==null&&(_&&sa.alternate!==null&&yn.delete(sa.key===null?vi:sa.key),Me=H(sa,Me,vi),qi===null?Qt=sa:qi.sibling=sa,qi=sa);return _&&yn.forEach(function(Ic){return S(Be,Ic)}),di&&te(Be,vi),Qt}function Pg(Be,Me,Ge,ht){if(Ge==null)throw Error(r(151));for(var Qt=null,qi=null,yn=Me,vi=Me=0,sa=null,mi=Ge.next();yn!==null&&!mi.done;vi++,mi=Ge.next()){yn.index>vi?(sa=yn,yn=null):sa=yn.sibling;var Ic=Pt(Be,yn,mi.value,ht);if(Ic===null){yn===null&&(yn=sa);break}_&&yn&&Ic.alternate===null&&S(Be,yn),Me=H(Ic,Me,vi),qi===null?Qt=Ic:qi.sibling=Ic,qi=Ic,yn=sa}if(mi.done)return R(Be,yn),di&&te(Be,vi),Qt;if(yn===null){for(;!mi.done;vi++,mi=Ge.next())mi=Dt(Be,mi.value,ht),mi!==null&&(Me=H(mi,Me,vi),qi===null?Qt=mi:qi.sibling=mi,qi=mi);return di&&te(Be,vi),Qt}for(yn=O(yn);!mi.done;vi++,mi=Ge.next())mi=Tn(yn,Be,vi,mi.value,ht),mi!==null&&(_&&mi.alternate!==null&&yn.delete(mi.key===null?vi:mi.key),Me=H(mi,Me,vi),qi===null?Qt=mi:qi.sibling=mi,qi=mi);return _&&yn.forEach(function(o_){return S(Be,o_)}),di&&te(Be,vi),Qt}function xd(Be,Me,Ge,ht){if(typeof Ge=="object"&&Ge!==null&&Ge.type===Kp&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case bc:e:{for(var Qt=Ge.key;Me!==null;){if(Me.key===Qt){if(Qt=Ge.type,Qt===Kp){if(Me.tag===7){R(Be,Me.sibling),ht=F(Me,Ge.props.children),ht.return=Be,Be=ht;break e}}else if(Me.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===Cl&&or(Qt)===Me.type){R(Be,Me.sibling),ht=F(Me,Ge.props),Xn(ht,Ge),ht.return=Be,Be=ht;break e}R(Be,Me);break}else S(Be,Me);Me=Me.sibling}Ge.type===Kp?(ht=_c(Ge.props.children,Be.mode,ht,Ge.key),ht.return=Be,Be=ht):(ht=Jo(Ge.type,Ge.key,Ge.props,null,Be.mode,ht),Xn(ht,Ge),ht.return=Be,Be=ht)}return re(Be);case Tl:e:{for(Qt=Ge.key;Me!==null;){if(Me.key===Qt)if(Me.tag===4&&Me.stateNode.containerInfo===Ge.containerInfo&&Me.stateNode.implementation===Ge.implementation){R(Be,Me.sibling),ht=F(Me,Ge.children||[]),ht.return=Be,Be=ht;break e}else{R(Be,Me);break}else S(Be,Me);Me=Me.sibling}ht=Zp(Ge,Be.mode,ht),ht.return=Be,Be=ht}return re(Be);case Cl:return Qt=Ge._init,Ge=Qt(Ge._payload),xd(Be,Me,Ge,ht)}if(zf(Ge))return Ks(Be,Me,Ge,ht);if(a(Ge)){if(Qt=a(Ge),typeof Qt!="function")throw Error(r(150));return Ge=Qt.call(Ge),Pg(Be,Me,Ge,ht)}if(typeof Ge.then=="function")return xd(Be,Me,Kt(Ge),ht);if(Ge.$$typeof===vu)return xd(Be,Me,tg(Be,Ge),ht);Bn(Be,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint"?(Ge=""+Ge,Me!==null&&Me.tag===6?(R(Be,Me.sibling),ht=F(Me,Ge),ht.return=Be,Be=ht):(R(Be,Me),ht=If(Ge,Be.mode,ht),ht.return=Be,Be=ht),re(Be)):R(Be,Me)}return function(Be,Me,Ge,ht){try{tl=0;var Qt=xd(Be,Me,Ge,ht);return bu=null,Qt}catch(yn){if(yn===Ni)throw yn;var qi=t(29,yn,null,Be.mode);return qi.lanes=ht,qi.return=Be,qi}finally{}}}function jm(_,S){_=Rl,b(wo,_),b(Su,S),Rl=_|S.baseLanes}function jh(){b(wo,Rl),b(Su,Su.current)}function Hh(){Rl=wo.current,x(Su),x(wo)}function ma(_){var S=_.alternate;b(Gr,Gr.current&1),b(Eo,_),nl===null&&(S===null||Su.current!==null||S.memoizedState!==null)&&(nl=_)}function mf(_){if(_.tag===22){if(b(Gr,Gr.current),b(Eo,_),nl===null){var S=_.alternate;S!==null&&S.memoizedState!==null&&(nl=_)}}else Zo()}function Zo(){b(Gr,Gr.current),b(Eo,Eo.current)}function vo(_){x(Eo),nl===_&&(nl=null),x(Gr)}function Ka(_){for(var S=_;S!==null;){if(S.tag===13){var R=S.memoizedState;if(R!==null&&(R=R.dehydrated,R===null||jx(R)||xg(R)))return S}else if(S.tag===19&&S.memoizedProps.revealOrder!==void 0){if((S.flags&128)!==0)return S}else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===_)break;for(;S.sibling===null;){if(S.return===null||S.return===_)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}return null}function Fn(){throw Error(r(321))}function Tr(_,S){if(S===null)return!1;for(var R=0;R<S.length&&R<_.length;R++)if(!So(_[R],S[R]))return!1;return!0}function _l(_,S,R,O,F,H){return Au=H,On=S,S.memoizedState=null,S.updateQueue=null,S.lanes=0,hn.H=_===null||_.memoizedState===null?Vr:is,wc=!1,H=R(O,F),wc=!1,tr&&(H=sx(S,R,O,F)),Wh(_),H}function Wh(_){hn.H=pi;var S=Si!==null&&Si.next!==null;if(Au=0,Er=Si=On=null,il=!1,gr=0,lv=null,S)throw Error(r(300));_===null||Dr||(_=_.dependencies,_!==null&&Sf(_)&&(Dr=!0))}function sx(_,S,R,O){On=_;var F=0;do{if(tr&&(lv=null),gr=0,tr=!1,25<=F)throw Error(r(301));if(F+=1,Er=Si=null,_.updateQueue!=null){var H=_.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}hn.H=Wf,H=S(R,O)}while(tr);return H}function wS(){var _=hn.H,S=_.useState()[0];return S=typeof S.then=="function"?be(S):S,_=_.useState()[0],(Si!==null?Si.memoizedState:null)!==_&&(On.flags|=1024),S}function Pp(){var _=Ng!==0;return Ng=0,_}function cc(_,S,R){S.updateQueue=_.updateQueue,S.flags&=-2053,_.lanes&=~R}function Xh(_){if(il){for(_=_.memoizedState;_!==null;){var S=_.queue;S!==null&&(S.pending=null),_=_.next}il=!1}Au=0,Er=Si=On=null,tr=!1,gr=Ng=0,lv=null}function Cr(){var _={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?On.memoizedState=Er=_:Er=Er.next=_,Er}function ne(){if(Si===null){var _=On.alternate;_=_!==null?_.memoizedState:null}else _=Si.next;var S=Er===null?On.memoizedState:Er.next;if(S!==null)Er=S,Si=_;else{if(_===null)throw On.alternate===null?Error(r(467)):Error(r(310));Si=_,_={memoizedState:Si.memoizedState,baseState:Si.baseState,baseQueue:Si.baseQueue,queue:Si.queue,next:null},Er===null?On.memoizedState=Er=_:Er=Er.next=_}return Er}function be(_){var S=gr;return gr+=1,lv===null&&(lv=[]),_=Qe(lv,_,S),S=On,(Er===null?S.memoizedState:Er.next)===null&&(S=S.alternate,hn.H=S===null||S.memoizedState===null?Vr:is),_}function Oe(_){if(_!==null&&typeof _=="object"){if(typeof _.then=="function")return be(_);if(_.$$typeof===vu)return Pa(_)}throw Error(r(438,String(_)))}function Re(_){var S=null,R=On.updateQueue;if(R!==null&&(S=R.memoCache),S==null){var O=On.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(S={data:O.data.map(function(F){return F.slice()}),index:0})))}if(S==null&&(S={data:[],index:0}),R===null&&(R=e_(),On.updateQueue=R),R.memoCache=S,R=S.data[S.index],R===void 0)for(R=S.data[S.index]=Array(_),O=0;O<_;O++)R[O]=Bw;return S.index++,R}function Ae(_,S){return typeof S=="function"?S(_):S}function mt(_){var S=ne();return Mt(S,Si,_)}function Mt(_,S,R){var O=_.queue;if(O===null)throw Error(r(311));O.lastRenderedReducer=R;var F=_.baseQueue,H=O.pending;if(H!==null){if(F!==null){var re=F.next;F.next=H.next,H.next=re}S.baseQueue=F=H,O.pending=null}if(H=_.baseState,F===null)_.memoizedState=H;else{S=F.next;var pe=re=null,Ce=null,Ze=S,gt=!1;do{var Dt=Ze.lane&-536870913;if(Dt!==Ze.lane?(Vn&Dt)===Dt:(Au&Dt)===Dt){var Pt=Ze.revertLane;if(Pt===0)Ce!==null&&(Ce=Ce.next={lane:0,revertLane:0,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),Dt===Xs&&(gt=!0);else if((Au&Pt)===Pt){Ze=Ze.next,Pt===Xs&&(gt=!0);continue}else Dt={lane:0,revertLane:Ze.revertLane,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},Ce===null?(pe=Ce=Dt,re=H):Ce=Ce.next=Dt,On.lanes|=Pt,Ro|=Pt;Dt=Ze.action,wc&&R(H,Dt),H=Ze.hasEagerState?Ze.eagerState:R(H,Dt)}else Pt={lane:Dt,revertLane:Ze.revertLane,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},Ce===null?(pe=Ce=Pt,re=H):Ce=Ce.next=Pt,On.lanes|=Dt,Ro|=Dt;Ze=Ze.next}while(Ze!==null&&Ze!==S);if(Ce===null?re=H:Ce.next=pe,!So(H,_.memoizedState)&&(Dr=!0,gt&&(R=jf,R!==null)))throw R;_.memoizedState=H,_.baseState=re,_.baseQueue=Ce,O.lastRenderedState=H}return F===null&&(O.lanes=0),[_.memoizedState,O.dispatch]}function zt(_){var S=ne(),R=S.queue;if(R===null)throw Error(r(311));R.lastRenderedReducer=_;var O=R.dispatch,F=R.pending,H=S.memoizedState;if(F!==null){R.pending=null;var re=F=F.next;do H=_(H,re.action),re=re.next;while(re!==F);So(H,S.memoizedState)||(Dr=!0),S.memoizedState=H,S.baseQueue===null&&(S.baseState=H),R.lastRenderedState=H}return[H,O]}function Gt(_,S,R){var O=On,F=ne(),H=di;if(H){if(R===void 0)throw Error(r(407));R=R()}else R=S();var re=!So((Si||F).memoizedState,R);if(re&&(F.memoizedState=R,Dr=!0),F=F.queue,Wm(en.bind(null,O,F,_),[_]),F.getSnapshot!==S||re||Er!==null&&Er.memoizedState.tag&1){if(O.flags|=2048,dr(9,fn.bind(null,O,F,R,S),{destroy:void 0},null),Yn===null)throw Error(r(349));H||(Au&60)!==0||on(O,S,R)}return R}function on(_,S,R){_.flags|=16384,_={getSnapshot:S,value:R},S=On.updateQueue,S===null?(S=e_(),On.updateQueue=S,S.stores=[_]):(R=S.stores,R===null?S.stores=[_]:R.push(_))}function fn(_,S,R,O){S.value=R,S.getSnapshot=O,Ln(S)&&oi(_)}function en(_,S,R){return R(function(){Ln(S)&&oi(_)})}function Ln(_){var S=_.getSnapshot;_=_.value;try{var R=S();return!So(_,R)}catch{return!0}}function oi(_){var S=qe(_,2);S!==null&&$a(S,_,2)}function li(_){var S=Cr();if(typeof _=="function"){var R=_;if(_=R(),wc){X(!0);try{R()}finally{X(!1)}}}return S.memoizedState=S.baseState=_,S.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ae,lastRenderedState:_},S}function Kn(_,S,R,O){return _.baseState=R,Mt(_,Si,typeof O=="function"?O:Ae)}function Ci(_,S,R,O,F){if(Zh(_))throw Error(r(485));if(_=S.action,_!==null){var H={payload:F,action:_,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(re){H.listeners.push(re)}};hn.T!==null?R(!0):H.isTransition=!1,O(H),R=S.pending,R===null?(H.next=S.pending=H,sn(S,H)):(H.next=R.next,S.pending=R.next=H)}}function sn(_,S){var R=S.action,O=S.payload,F=_.state;if(S.isTransition){var H=hn.T,re={};hn.T=re;try{var pe=R(F,O),Ce=hn.S;Ce!==null&&Ce(re,pe),Oi(_,S,pe)}catch(Ze){Fr(_,S,Ze)}finally{hn.T=H}}else try{H=R(F,O),Oi(_,S,H)}catch(Ze){Fr(_,S,Ze)}}function Oi(_,S,R){R!==null&&typeof R=="object"&&typeof R.then=="function"?R.then(function(O){Jn(_,S,O)},function(O){return Fr(_,S,O)}):Jn(_,S,R)}function Jn(_,S,R){S.status="fulfilled",S.value=R,fc(S),_.state=R,S=_.pending,S!==null&&(R=S.next,R===S?_.pending=null:(R=R.next,S.next=R,sn(_,R)))}function Fr(_,S,R){var O=_.pending;if(_.pending=null,O!==null){O=O.next;do S.status="rejected",S.reason=R,fc(S),S=S.next;while(S!==O)}_.action=null}function fc(_){_=_.listeners;for(var S=0;S<_.length;S++)(0,_[S])()}function Gi(_,S){return S}function ou(_,S){if(di){var R=Yn.formState;if(R!==null){e:{var O=On;if(di){if(Fa){var F=Vw(Fa,el);if(F){Fa=TA(F),O=jw(F);break e}}Se(O)}O=!1}O&&(S=R[0])}}R=Cr(),R.memoizedState=R.baseState=S,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:S},R.queue=O,R=cx.bind(null,On,O),O.dispatch=R,O=li(!1);var H=fx.bind(null,On,!1,O.queue);return O=Cr(),F={state:S,dispatch:null,action:_,pending:null},O.queue=F,R=Ci.bind(null,On,F,H,R),F.dispatch=R,O.memoizedState=_,[S,R,!1]}function Vi(_){var S=ne();return ta(S,Si,_)}function ta(_,S,R){S=Mt(_,S,Gi)[0],_=mt(Ae)[0],S=typeof S=="object"&&S!==null&&typeof S.then=="function"?be(S):S;var O=ne(),F=O.queue,H=F.dispatch;return R!==O.memoizedState&&(On.flags|=2048,dr(9,na.bind(null,F,R),{destroy:void 0},null)),[S,H,_]}function na(_,S){_.action=S}function ia(_){var S=ne(),R=Si;if(R!==null)return ta(S,R,_);ne(),S=S.memoizedState,R=ne();var O=R.queue.dispatch;return R.memoizedState=_,[S,O,!1]}function dr(_,S,R,O){return _={tag:_,create:S,inst:R,deps:O,next:null},S=On.updateQueue,S===null&&(S=e_(),On.updateQueue=S),R=S.lastEffect,R===null?S.lastEffect=_.next=_:(O=R.next,R.next=_,_.next=O,S.lastEffect=_),_}function bl(){return ne().memoizedState}function Ko(_,S,R,O){var F=Cr();On.flags|=_,F.memoizedState=dr(1|S,R,{destroy:void 0},O===void 0?null:O)}function Hm(_,S,R,O){var F=ne();O=O===void 0?null:O;var H=F.memoizedState.inst;Si!==null&&O!==null&&Tr(O,Si.memoizedState.deps)?F.memoizedState=dr(S,R,H,O):(On.flags|=_,F.memoizedState=dr(1|S,R,H,O))}function ES(_,S){Ko(8390656,8,_,S)}function Wm(_,S){Hm(2048,8,_,S)}function cw(_,S){return Hm(4,2,_,S)}function fw(_,S){return Hm(4,4,_,S)}function Xm(_,S){if(typeof S=="function"){_=_();var R=S(_);return function(){typeof R=="function"?R():S(null)}}if(S!=null)return _=_(),S.current=_,function(){S.current=null}}function lu(_,S,R){R=R!=null?R.concat([_]):null,Hm(4,4,Xm.bind(null,S,_),R)}function Ym(){}function ox(_,S){var R=ne();S=S===void 0?null:S;var O=R.memoizedState;return S!==null&&Tr(S,O[1])?O[0]:(R.memoizedState=[_,S],_)}function Yh(_,S){var R=ne();S=S===void 0?null:S;var O=R.memoizedState;if(S!==null&&Tr(S,O[1]))return O[0];if(O=_(),wc){X(!0);try{_()}finally{X(!1)}}return R.memoizedState=[O,S],O}function gf(_,S,R){return R===void 0||(Au&1073741824)!==0?_.memoizedState=S:(_.memoizedState=R,_=fu(),On.lanes|=_,Ro|=_,R)}function DS(_,S,R,O){return So(R,S)?R:Su.current!==null?(_=gf(_,R,O),So(_,S)||(Dr=!0),_):(Au&42)===0?(Dr=!0,_.memoizedState=R):(_=fu(),On.lanes|=_,Ro|=_,S)}function lx(_,S,R,O,F){var H=ra();ts(H!==0&&8>H?H:8);var re=hn.T,pe={};hn.T=pe,fx(_,!1,S,R);try{var Ce=F(),Ze=hn.S;if(Ze!==null&&Ze(pe,Ce),Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var gt=St(Ce,O);xf(_,S,gt,Ss(_))}else xf(_,S,O,Ss(_))}catch(Dt){xf(_,S,{then:function(){},status:"rejected",reason:Dt},Ss())}finally{ts(H),hn.T=re}}function RS(_){var S=_.memoizedState;if(S!==null)return S;S={memoizedState:js,baseState:js,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ae,lastRenderedState:js},next:null};var R={};return S.next={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ae,lastRenderedState:R},next:null},_.memoizedState=S,_=_.alternate,_!==null&&(_.memoizedState=S),S}function qh(){return Pa(gn)}function uu(){return ne().memoizedState}function ux(){return ne().memoizedState}function qm(_){for(var S=_.return;S!==null;){switch(S.tag){case 24:case 3:var R=Ss();_=et(R);var O=it(S,_,R);O!==null&&($a(O,S,R),Ht(O,S,R)),S={cache:mx()},_.payload=S;return}S=S.return}}function yf(_,S,R){var O=Ss();R={lane:O,revertLane:0,action:R,hasEagerState:!1,eagerState:null,next:null},Zh(_)?Zm(S,R):(R=Fe(_,S,R,O),R!==null&&($a(R,_,O),LS(R,S,O)))}function cx(_,S,R){var O=Ss();xf(_,S,R,O)}function xf(_,S,R,O){var F={lane:O,revertLane:0,action:R,hasEagerState:!1,eagerState:null,next:null};if(Zh(_))Zm(S,F);else{var H=_.alternate;if(_.lanes===0&&(H===null||H.lanes===0)&&(H=S.lastRenderedReducer,H!==null))try{var re=S.lastRenderedState,pe=H(re,R);if(F.hasEagerState=!0,F.eagerState=pe,So(pe,re))return ae(_,S,F,0),Yn===null&&De(),!1}catch{}finally{}if(R=Fe(_,S,F,O),R!==null)return $a(R,_,O),LS(R,S,O),!0}return!1}function fx(_,S,R,O){if(O={lane:2,revertLane:nt(),action:O,hasEagerState:!1,eagerState:null,next:null},Zh(_)){if(S)throw Error(r(479))}else S=Fe(_,R,O,2),S!==null&&$a(S,_,2)}function Zh(_){var S=_.alternate;return _===On||S!==null&&S===On}function Zm(_,S){tr=il=!0;var R=_.pending;R===null?S.next=S:(S.next=R.next,R.next=S),_.pending=S}function LS(_,S,R){if((R&4194176)!==0){var O=S.lanes;O&=_.pendingLanes,R|=O,S.lanes=R,j(_,R)}}function Ja(_,S,R,O){S=_.memoizedState,R=R(O,S),R=R==null?S:ad({},S,R),_.memoizedState=R,_.lanes===0&&(_.updateQueue.baseState=R)}function _f(_,S,R,O,F,H,re){return _=_.stateNode,typeof _.shouldComponentUpdate=="function"?_.shouldComponentUpdate(O,H,re):S.prototype&&S.prototype.isPureReactComponent?!ft(R,O)||!ft(F,H):!0}function Km(_,S,R,O){_=S.state,typeof S.componentWillReceiveProps=="function"&&S.componentWillReceiveProps(R,O),typeof S.UNSAFE_componentWillReceiveProps=="function"&&S.UNSAFE_componentWillReceiveProps(R,O),S.state!==_&&t_.enqueueReplaceState(S,S.state,null)}function Sl(_,S){var R=S;if("ref"in S){R={};for(var O in S)O!=="ref"&&(R[O]=S[O])}if(_=_.defaultProps){R===S&&(R=ad({},R));for(var F in _)R[F]===void 0&&(R[F]=_[F])}return R}function hx(_,S){try{var R=_.onUncaughtError;R(S.value,{componentStack:S.stack})}catch(O){setTimeout(function(){throw O})}}function dx(_,S,R){try{var O=_.onCaughtError;O(R.value,{componentStack:R.stack,errorBoundary:S.tag===1?S.stateNode:null})}catch(F){setTimeout(function(){throw F})}}function Jm(_,S,R){return R=et(R),R.tag=3,R.payload={element:null},R.callback=function(){hx(_,S)},R}function Bp(_){return _=et(_),_.tag=3,_}function Qm(_,S,R,O){var F=R.type.getDerivedStateFromError;if(typeof F=="function"){var H=O.value;_.payload=function(){return F(H)},_.callback=function(){dx(S,R,O)}}var re=R.stateNode;re!==null&&typeof re.componentDidCatch=="function"&&(_.callback=function(){dx(S,R,O),typeof F!="function"&&(No===null?No=new Set([this]):No.add(this));var pe=O.stack;this.componentDidCatch(O.value,{componentStack:pe!==null?pe:""})})}function hw(_,S,R,O,F){if(R.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){if(S=R.alternate,S!==null&&Kh(S,R,F,!0),R=Eo.current,R!==null){switch(R.tag){case 13:return nl===null?Vs():R.alternate===null&&ci===0&&(ci=3),R.flags&=-257,R.flags|=65536,R.lanes=F,O===$x?R.flags|=16384:(S=R.updateQueue,S===null?R.updateQueue=new Set([O]):S.add(O),Lx(_,O,F)),!1;case 22:return R.flags|=65536,O===$x?R.flags|=16384:(S=R.updateQueue,S===null?(S={transitions:null,markerInstances:null,retryQueue:new Set([O])},R.updateQueue=S):(R=S.retryQueue,R===null?S.retryQueue=new Set([O]):R.add(O)),Lx(_,O,F)),!1}throw Error(r(435,R.tag))}return Lx(_,O,F),Vs(),!1}if(di)return S=Eo.current,S!==null?((S.flags&65536)===0&&(S.flags|=256),S.flags|=65536,S.lanes=F,O!==wg&&(_=Error(r(422),{cause:O}),dt($(_,R)))):(O!==wg&&(S=Error(r(423),{cause:O}),dt($(S,R))),_=_.current.alternate,_.flags|=65536,F&=-F,_.lanes|=F,O=$(O,R),F=Jm(_.stateNode,O,F),de(_,F),ci!==4&&(ci=2)),!1;var H=Error(r(520),{cause:O});if(H=$(H,R),cv===null?cv=[H]:cv.push(H),ci!==4&&(ci=2),S===null)return!0;O=$(O,R),R=S;do{switch(R.tag){case 3:return R.flags|=65536,_=F&-F,R.lanes|=_,_=Jm(R.stateNode,O,_),de(R,_),!1;case 1:if(S=R.type,H=R.stateNode,(R.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(No===null||!No.has(H))))return R.flags|=65536,F&=-F,R.lanes|=F,F=Bp(F),Qm(F,_,R,O),de(R,F),!1}R=R.return}while(R!==null);return!1}function Ia(_,S,R,O){S.child=_===null?UA(S,null,R,O):Hf(S,_.child,R,O)}function dw(_,S,R,O,F){R=R.render;var H=S.ref;if("ref"in O){var re={};for(var pe in O)pe!=="ref"&&(re[pe]=O[pe])}else re=O;return Jh(S),O=_l(_,S,R,re,H,F),pe=Pp(),_!==null&&!Dr?(cc(_,S,F),hc(_,S,F)):(di&&pe&&Q(S),S.flags|=1,Ia(_,S,O,F),S.child)}function pw(_,S,R,O,F){if(_===null){var H=R.type;return typeof H=="function"&&!yc(H)&&H.defaultProps===void 0&&R.compare===null?(S.tag=15,S.type=H,px(_,S,H,O,F)):(_=Jo(R.type,null,O,S,S.mode,F),_.ref=S.ref,_.return=S,S.child=_)}if(H=_.child,!kS(_,F)){var re=H.memoizedProps;if(R=R.compare,R=R!==null?R:ft,R(re,O)&&_.ref===S.ref)return hc(_,S,F)}return S.flags|=1,_=es(H,O),_.ref=S.ref,_.return=S,S.child=_}function px(_,S,R,O,F){if(_!==null){var H=_.memoizedProps;if(ft(H,O)&&_.ref===S.ref)if(Dr=!1,S.pendingProps=O=H,kS(_,F))(_.flags&131072)!==0&&(Dr=!0);else return S.lanes=_.lanes,hc(_,S,F)}return NS(_,S,R,O,F)}function vw(_,S,R){var O=S.pendingProps,F=O.children,H=(S.stateNode._pendingVisibility&2)!==0,re=_!==null?_.memoizedState:null;if($m(_,S),O.mode==="hidden"||H){if((S.flags&128)!==0){if(O=re!==null?re.baseLanes|R:R,_!==null){for(F=S.child=_.child,H=0;F!==null;)H=H|F.lanes|F.childLanes,F=F.sibling;S.childLanes=H&~O}else S.childLanes=0,S.child=null;return mw(_,S,O,R)}if((R&536870912)!==0)S.memoizedState={baseLanes:0,cachePool:null},_!==null&&gx(S,re!==null?re.cachePool:null),re!==null?jm(S,re):jh(),mf(S);else return S.lanes=S.childLanes=536870912,mw(_,S,re!==null?re.baseLanes|R:R,R)}else re!==null?(gx(S,re.cachePool),jm(S,re),Zo(),S.memoizedState=null):(_!==null&&gx(S,null),jh(),Zo());return Ia(_,S,F,R),S.child}function mw(_,S,R,O){var F=Af();return F=F===null?null:{parent:gu?wi._currentValue:wi._currentValue2,pool:F},S.memoizedState={baseLanes:R,cachePool:F},_!==null&&gx(S,null),jh(),mf(S),_!==null&&Kh(_,S,O,!0),null}function $m(_,S){var R=S.ref;if(R===null)_!==null&&_.ref!==null&&(S.flags|=2097664);else{if(typeof R!="function"&&typeof R!="object")throw Error(r(284));(_===null||_.ref!==R)&&(S.flags|=2097664)}}function NS(_,S,R,O,F){return Jh(S),R=_l(_,S,R,O,void 0,F),O=Pp(),_!==null&&!Dr?(cc(_,S,F),hc(_,S,F)):(di&&O&&Q(S),S.flags|=1,Ia(_,S,R,F),S.child)}function gw(_,S,R,O,F,H){return Jh(S),S.updateQueue=null,R=sx(S,O,R,F),Wh(_),O=Pp(),_!==null&&!Dr?(cc(_,S,H),hc(_,S,H)):(di&&O&&Q(S),S.flags|=1,Ia(_,S,R,H),S.child)}function IS(_,S,R,O,F){if(Jh(S),S.stateNode===null){var H=cd,re=R.contextType;typeof re=="object"&&re!==null&&(H=Pa(re)),H=new R(O,H),S.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=t_,S.stateNode=H,H._reactInternals=S,H=S.stateNode,H.props=O,H.state=S.memoizedState,H.refs={},qt(S),re=R.contextType,H.context=typeof re=="object"&&re!==null?Pa(re):cd,H.state=S.memoizedState,re=R.getDerivedStateFromProps,typeof re=="function"&&(Ja(S,R,re,O),H.state=S.memoizedState),typeof R.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(re=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),re!==H.state&&t_.enqueueReplaceState(H,H.state,null),lt(S,O,H,F),Pe(),H.state=S.memoizedState),typeof H.componentDidMount=="function"&&(S.flags|=4194308),O=!0}else if(_===null){H=S.stateNode;var pe=S.memoizedProps,Ce=Sl(R,pe);H.props=Ce;var Ze=H.context,gt=R.contextType;re=cd,typeof gt=="object"&&gt!==null&&(re=Pa(gt));var Dt=R.getDerivedStateFromProps;gt=typeof Dt=="function"||typeof H.getSnapshotBeforeUpdate=="function",pe=S.pendingProps!==pe,gt||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(pe||Ze!==re)&&Km(S,H,O,re),Cc=!1;var Pt=S.memoizedState;H.state=Pt,lt(S,O,H,F),Pe(),Ze=S.memoizedState,pe||Pt!==Ze||Cc?(typeof Dt=="function"&&(Ja(S,R,Dt,O),Ze=S.memoizedState),(Ce=Cc||_f(S,R,Ce,O,Pt,Ze,re))?(gt||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(S.flags|=4194308)):(typeof H.componentDidMount=="function"&&(S.flags|=4194308),S.memoizedProps=O,S.memoizedState=Ze),H.props=O,H.state=Ze,H.context=re,O=Ce):(typeof H.componentDidMount=="function"&&(S.flags|=4194308),O=!1)}else{H=S.stateNode,Vt(_,S),re=S.memoizedProps,gt=Sl(R,re),H.props=gt,Dt=S.pendingProps,Pt=H.context,Ze=R.contextType,Ce=cd,typeof Ze=="object"&&Ze!==null&&(Ce=Pa(Ze)),pe=R.getDerivedStateFromProps,(Ze=typeof pe=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(re!==Dt||Pt!==Ce)&&Km(S,H,O,Ce),Cc=!1,Pt=S.memoizedState,H.state=Pt,lt(S,O,H,F),Pe();var Tn=S.memoizedState;re!==Dt||Pt!==Tn||Cc||_!==null&&_.dependencies!==null&&Sf(_.dependencies)?(typeof pe=="function"&&(Ja(S,R,pe,O),Tn=S.memoizedState),(gt=Cc||_f(S,R,gt,O,Pt,Tn,Ce)||_!==null&&_.dependencies!==null&&Sf(_.dependencies))?(Ze||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(O,Tn,Ce),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(O,Tn,Ce)),typeof H.componentDidUpdate=="function"&&(S.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(S.flags|=1024)):(typeof H.componentDidUpdate!="function"||re===_.memoizedProps&&Pt===_.memoizedState||(S.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||re===_.memoizedProps&&Pt===_.memoizedState||(S.flags|=1024),S.memoizedProps=O,S.memoizedState=Tn),H.props=O,H.state=Tn,H.context=Ce,O=gt):(typeof H.componentDidUpdate!="function"||re===_.memoizedProps&&Pt===_.memoizedState||(S.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||re===_.memoizedProps&&Pt===_.memoizedState||(S.flags|=1024),O=!1)}return H=O,$m(_,S),O=(S.flags&128)!==0,H||O?(H=S.stateNode,R=O&&typeof R.getDerivedStateFromError!="function"?null:H.render(),S.flags|=1,_!==null&&O?(S.child=Hf(S,_.child,null,F),S.child=Hf(S,null,R,F)):Ia(_,S,R,F),S.memoizedState=H.state,_=S.child):_=hc(_,S,F),_}function yw(_,S,R,O){return ke(),S.flags|=256,Ia(_,S,R,O),S.child}function PS(_){return{baseLanes:_,cachePool:Aw()}}function BS(_,S,R){return _=_!==null?_.childLanes&~R:0,S&&(_|=Zs),_}function xw(_,S,R){var O=S.pendingProps,F=!1,H=(S.flags&128)!==0,re;if((re=H)||(re=_!==null&&_.memoizedState===null?!1:(Gr.current&2)!==0),re&&(F=!0,S.flags&=-129),re=(S.flags&32)!==0,S.flags&=-33,_===null){if(di){if(F?ma(S):Zo(),di){var pe=Fa,Ce;(Ce=pe)&&(pe=qw(pe,el),pe!==null?(S.memoizedState={dehydrated:pe,treeContext:wl!==null?{id:_u,overflow:$o}:null,retryLane:536870912},Ce=t(18,null,null,0),Ce.stateNode=pe,Ce.return=S,S.child=Ce,ns=S,Fa=null,Ce=!0):Ce=!1),Ce||Se(S)}if(pe=S.memoizedState,pe!==null&&(pe=pe.dehydrated,pe!==null))return xg(pe)?S.lanes=16:S.lanes=536870912,null;vo(S)}return pe=O.children,O=O.fallback,F?(Zo(),F=S.mode,pe=OS({mode:"hidden",children:pe},F),O=_c(O,F,R,null),pe.return=S,O.return=S,pe.sibling=O,S.child=pe,F=S.child,F.memoizedState=PS(R),F.childLanes=BS(_,re,R),S.memoizedState=rs,O):(ma(S),eg(S,pe))}if(Ce=_.memoizedState,Ce!==null&&(pe=Ce.dehydrated,pe!==null)){if(H)S.flags&256?(ma(S),S.flags&=-257,S=zS(_,S,R)):S.memoizedState!==null?(Zo(),S.child=_.child,S.flags|=128,S=null):(Zo(),F=O.fallback,pe=S.mode,O=OS({mode:"visible",children:O.children},pe),F=_c(F,pe,R,null),F.flags|=2,O.return=S,F.return=S,O.sibling=F,S.child=O,Hf(S,_.child,null,R),O=S.child,O.memoizedState=PS(R),O.childLanes=BS(_,re,R),S.memoizedState=rs,S=F);else if(ma(S),xg(pe))re=Gw(pe).digest,O=Error(r(419)),O.stack="",O.digest=re,dt({value:O,source:null,stack:null}),S=zS(_,S,R);else if(Dr||Kh(_,S,R,!1),re=(R&_.childLanes)!==0,Dr||re){if(re=Yn,re!==null){if(O=R&-R,(O&42)!==0)O=1;else switch(O){case 2:O=1;break;case 8:O=4;break;case 32:O=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:O=64;break;case 268435456:O=134217728;break;default:O=0}if(O=(O&(re.suspendedLanes|R))!==0?0:O,O!==0&&O!==Ce.retryLane)throw Ce.retryLane=O,qe(_,O),$a(re,_,O),uE}jx(pe)||Vs(),S=zS(_,S,R)}else jx(pe)?(S.flags|=128,S.child=_.child,S=id.bind(null,_),oB(pe,S),S=null):(_=Ce.treeContext,As&&(Fa=Ww(pe),ns=S,di=!0,To=null,el=!1,_!==null&&(Ao[Mo++]=_u,Ao[Mo++]=$o,Ao[Mo++]=wl,_u=_.id,$o=_.overflow,wl=S)),S=eg(S,O.children),S.flags|=4096);return S}return F?(Zo(),F=O.fallback,pe=S.mode,Ce=_.child,H=Ce.sibling,O=es(Ce,{mode:"hidden",children:O.children}),O.subtreeFlags=Ce.subtreeFlags&31457280,H!==null?F=es(H,F):(F=_c(F,pe,R,null),F.flags|=2),F.return=S,O.return=S,O.sibling=F,S.child=O,O=F,F=S.child,pe=_.child.memoizedState,pe===null?pe=PS(R):(Ce=pe.cachePool,Ce!==null?(H=gu?wi._currentValue:wi._currentValue2,Ce=Ce.parent!==H?{parent:H,pool:H}:Ce):Ce=Aw(),pe={baseLanes:pe.baseLanes|R,cachePool:Ce}),F.memoizedState=pe,F.childLanes=BS(_,re,R),S.memoizedState=rs,O):(ma(S),R=_.child,_=R.sibling,R=es(R,{mode:"visible",children:O.children}),R.return=S,R.sibling=null,_!==null&&(re=S.deletions,re===null?(S.deletions=[_],S.flags|=16):re.push(_)),S.child=R,S.memoizedState=null,R)}function eg(_,S){return S=OS({mode:"visible",children:S},_.mode),S.return=_,_.child=S}function OS(_,S){return Nx(_,S,0,null)}function zS(_,S,R){return Hf(S,_.child,null,R),_=eg(S,S.pendingProps.children),_.flags|=2,S.memoizedState=null,_}function _w(_,S,R){_.lanes|=S;var O=_.alternate;O!==null&&(O.lanes|=S),FS(_.return,S,R)}function vx(_,S,R,O,F){var H=_.memoizedState;H===null?_.memoizedState={isBackwards:S,rendering:null,renderingStartTime:0,last:O,tail:R,tailMode:F}:(H.isBackwards=S,H.rendering=null,H.renderingStartTime=0,H.last=O,H.tail=R,H.tailMode=F)}function bw(_,S,R){var O=S.pendingProps,F=O.revealOrder,H=O.tail;if(Ia(_,S,O.children,R),O=Gr.current,(O&2)!==0)O=O&1|2,S.flags|=128;else{if(_!==null&&(_.flags&128)!==0)e:for(_=S.child;_!==null;){if(_.tag===13)_.memoizedState!==null&&_w(_,R,S);else if(_.tag===19)_w(_,R,S);else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===S)break e;for(;_.sibling===null;){if(_.return===null||_.return===S)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}O&=1}switch(b(Gr,O),F){case"forwards":for(R=S.child,F=null;R!==null;)_=R.alternate,_!==null&&Ka(_)===null&&(F=R),R=R.sibling;R=F,R===null?(F=S.child,S.child=null):(F=R.sibling,R.sibling=null),vx(S,!1,F,R,H);break;case"backwards":for(R=null,F=S.child,S.child=null;F!==null;){if(_=F.alternate,_!==null&&Ka(_)===null){S.child=F;break}_=F.sibling,F.sibling=R,R=F,F=_}vx(S,!0,R,null,H);break;case"together":vx(S,!1,null,null,void 0);break;default:S.memoizedState=null}return S.child}function hc(_,S,R){if(_!==null&&(S.dependencies=_.dependencies),Ro|=S.lanes,(R&S.childLanes)===0)if(_!==null){if(Kh(_,S,R,!1),(R&S.childLanes)===0)return null}else return null;if(_!==null&&S.child!==_.child)throw Error(r(153));if(S.child!==null){for(_=S.child,R=es(_,_.pendingProps),S.child=R,R.return=S;_.sibling!==null;)_=_.sibling,R=R.sibling=es(_,_.pendingProps),R.return=S;R.sibling=null}return S.child}function kS(_,S){return(_.lanes&S)!==0?!0:(_=_.dependencies,!!(_!==null&&Sf(_)))}function rB(_,S,R){switch(S.tag){case 3:ce(S,S.stateNode.containerInfo),bf(S,wi,_.memoizedState.cache),ke();break;case 27:case 5:fe(S);break;case 4:ce(S,S.stateNode.containerInfo);break;case 10:bf(S,S.type,S.memoizedProps.value);break;case 13:var O=S.memoizedState;if(O!==null)return O.dehydrated!==null?(ma(S),S.flags|=128,null):(R&S.child.childLanes)!==0?xw(_,S,R):(ma(S),_=hc(_,S,R),_!==null?_.sibling:null);ma(S);break;case 19:var F=(_.flags&128)!==0;if(O=(R&S.childLanes)!==0,O||(Kh(_,S,R,!1),O=(R&S.childLanes)!==0),F){if(O)return bw(_,S,R);S.flags|=128}if(F=S.memoizedState,F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),b(Gr,Gr.current),O)break;return null;case 22:case 23:return S.lanes=0,vw(_,S,R);case 24:bf(S,wi,_.memoizedState.cache)}return hc(_,S,R)}function Sw(_,S,R){if(_!==null)if(_.memoizedProps!==S.pendingProps)Dr=!0;else{if(!kS(_,R)&&(S.flags&128)===0)return Dr=!1,rB(_,S,R);Dr=(_.flags&131072)!==0}else Dr=!1,di&&(S.flags&1048576)!==0&&J(S,Tg,S.index);switch(S.lanes=0,S.tag){case 16:e:{_=S.pendingProps;var O=S.elementType,F=O._init;if(O=F(O._payload),S.type=O,typeof O=="function")yc(O)?(_=Sl(O,_),S.tag=1,S=IS(null,S,O,_,R)):(S.tag=0,S=NS(null,S,O,_,R));else{if(O!=null){if(F=O.$$typeof,F===Jp){S.tag=11,S=dw(null,S,O,_,R);break e}else if(F===fg){S.tag=14,S=pw(null,S,O,_,R);break e}}throw S=s(O)||O,Error(r(306,S,""))}}return S;case 0:return NS(_,S,S.type,S.pendingProps,R);case 1:return O=S.type,F=Sl(O,S.pendingProps),IS(_,S,O,F,R);case 3:e:{if(ce(S,S.stateNode.containerInfo),_===null)throw Error(r(387));var H=S.pendingProps;F=S.memoizedState,O=F.element,Vt(_,S),lt(S,H,null,R);var re=S.memoizedState;if(H=re.cache,bf(S,wi,H),H!==F.cache&&US(S,[wi],R,!0),Pe(),H=re.element,As&&F.isDehydrated)if(F={element:H,isDehydrated:!1,cache:re.cache},S.updateQueue.baseState=F,S.memoizedState=F,S.flags&256){S=yw(_,S,H,R);break e}else if(H!==O){O=$(Error(r(424)),S),dt(O),S=yw(_,S,H,R);break e}else for(As&&(Fa=Hw(S.stateNode.containerInfo),ns=S,di=!0,To=null,el=!0),R=UA(S,null,H,R),S.child=R;R;)R.flags=R.flags&-3|4096,R=R.sibling;else{if(ke(),H===O){S=hc(_,S,R);break e}Ia(_,S,H,R)}S=S.child}return S;case 26:if(bo)return $m(_,S),_===null?(R=qx(S.type,null,S.pendingProps,null))?S.memoizedState=R:di||(S.stateNode=uB(S.type,S.pendingProps,El.current,S)):S.memoizedState=qx(S.type,_.memoizedProps,S.pendingProps,_.memoizedState),null;case 27:if(za)return fe(S),_===null&&za&&di&&(O=S.stateNode=OA(S.type,S.pendingProps,El.current,ba.current,!1),ns=S,el=!0,Fa=Hx(O)),O=S.pendingProps.children,_!==null||di?Ia(_,S,O,R):S.child=Hf(S,null,O,R),$m(_,S),S.child;case 5:return _===null&&di&&($w(S.type,S.pendingProps,ba.current),(F=O=Fa)&&(O=Xw(O,S.type,S.pendingProps,el),O!==null?(S.stateNode=O,ns=S,Fa=Hx(O),el=!1,F=!0):F=!1),F||Se(S)),fe(S),F=S.type,H=S.pendingProps,re=_!==null?_.memoizedProps:null,O=H.children,Ff(F,H)?O=null:re!==null&&Ff(F,re)&&(S.flags|=32),S.memoizedState!==null&&(F=_l(_,S,wS,null,null,R),gu?gn._currentValue=F:gn._currentValue2=F),$m(_,S),Ia(_,S,O,R),S.child;case 6:return _===null&&di&&(eE(S.pendingProps,ba.current),(_=R=Fa)&&(R=Yw(R,S.pendingProps,el),R!==null?(S.stateNode=R,ns=S,Fa=null,_=!0):_=!1),_||Se(S)),null;case 13:return xw(_,S,R);case 4:return ce(S,S.stateNode.containerInfo),O=S.pendingProps,_===null?S.child=Hf(S,null,O,R):Ia(_,S,O,R),S.child;case 11:return dw(_,S,S.type,S.pendingProps,R);case 7:return Ia(_,S,S.pendingProps,R),S.child;case 8:return Ia(_,S,S.pendingProps.children,R),S.child;case 12:return Ia(_,S,S.pendingProps.children,R),S.child;case 10:return O=S.pendingProps,bf(S,S.type,O.value),Ia(_,S,O.children,R),S.child;case 9:return F=S.type._context,O=S.pendingProps.children,Jh(S),F=Pa(F),O=O(F),S.flags|=1,Ia(_,S,O,R),S.child;case 14:return pw(_,S,S.type,S.pendingProps,R);case 15:return px(_,S,S.type,S.pendingProps,R);case 19:return bw(_,S,R);case 22:return vw(_,S,R);case 24:return Jh(S),O=Pa(wi),_===null?(F=Af(),F===null&&(F=Yn,H=mx(),F.pooledCache=H,H.refCount++,H!==null&&(F.pooledCacheLanes|=R),F=H),S.memoizedState={parent:O,cache:F},qt(S),bf(S,wi,F)):((_.lanes&R)!==0&&(Vt(_,S),lt(S,null,null,R),Pe()),F=_.memoizedState,H=S.memoizedState,F.parent!==O?(F={parent:O,cache:O},S.memoizedState=F,S.lanes===0&&(S.memoizedState=S.updateQueue.baseState=F),bf(S,wi,O)):(O=H.cache,bf(S,wi,O),O!==F.cache&&US(S,[wi],R,!0))),Ia(_,S,S.pendingProps.children,R),S.child;case 29:throw S.pendingProps}throw Error(r(156,S.tag))}function bf(_,S,R){gu?(b(Ys,S._currentValue),S._currentValue=R):(b(Ys,S._currentValue2),S._currentValue2=R)}function dc(_){var S=Ys.current;gu?_._currentValue=S:_._currentValue2=S,x(Ys)}function FS(_,S,R){for(;_!==null;){var O=_.alternate;if((_.childLanes&S)!==S?(_.childLanes|=S,O!==null&&(O.childLanes|=S)):O!==null&&(O.childLanes&S)!==S&&(O.childLanes|=S),_===R)break;_=_.return}}function US(_,S,R,O){var F=_.child;for(F!==null&&(F.return=_);F!==null;){var H=F.dependencies;if(H!==null){var re=F.child;H=H.firstContext;e:for(;H!==null;){var pe=H;H=F;for(var Ce=0;Ce<S.length;Ce++)if(pe.context===S[Ce]){H.lanes|=R,pe=H.alternate,pe!==null&&(pe.lanes|=R),FS(H.return,R,_),O||(re=null);break e}H=pe.next}}else if(F.tag===18){if(re=F.return,re===null)throw Error(r(341));re.lanes|=R,H=re.alternate,H!==null&&(H.lanes|=R),FS(re,R,_),re=null}else re=F.child;if(re!==null)re.return=F;else for(re=F;re!==null;){if(re===_){re=null;break}if(F=re.sibling,F!==null){F.return=re.return,re=F;break}re=re.return}F=re}}function Kh(_,S,R,O){_=null;for(var F=S,H=!1;F!==null;){if(!H){if((F.flags&524288)!==0)H=!0;else if((F.flags&262144)!==0)break}if(F.tag===10){var re=F.alternate;if(re===null)throw Error(r(387));if(re=re.memoizedProps,re!==null){var pe=F.type;So(F.pendingProps.value,re.value)||(_!==null?_.push(pe):_=[pe])}}else if(F===rv.current){if(re=F.alternate,re===null)throw Error(r(387));re.memoizedState.memoizedState!==F.memoizedState.memoizedState&&(_!==null?_.push(gn):_=[gn])}F=F.return}_!==null&&US(S,_,R,O),S.flags|=262144}function Sf(_){for(_=_.firstContext;_!==null;){var S=_.context;if(!So(gu?S._currentValue:S._currentValue2,_.memoizedValue))return!0;_=_.next}return!1}function Jh(_){Xf=_,yr=null,_=_.dependencies,_!==null&&(_.firstContext=null)}function Pa(_){return GS(Xf,_)}function tg(_,S){return Xf===null&&Jh(_),GS(_,S)}function GS(_,S){var R=gu?S._currentValue:S._currentValue2;if(S={context:S,memoizedValue:R,next:null},yr===null){if(_===null)throw Error(r(308));yr=S,_.dependencies={lanes:0,firstContext:S},_.flags|=524288}else yr=yr.next=S;return R}function mx(){return{controller:new cE,data:new Map,refCount:0}}function Op(_){_.refCount--,_.refCount===0&&Ec(dd,function(){_.controller.abort()})}function Af(){var _=Dc.current;return _!==null?_:Yn.pooledCache}function gx(_,S){S===null?b(Dc,Dc.current):b(Dc,S.pool)}function Aw(){var _=Af();return _===null?null:{parent:gu?wi._currentValue:wi._currentValue2,pool:_}}function mo(_){_.flags|=4}function VS(_,S){if(_!==null&&_.child===S.child)return!1;if((S.flags&16)!==0)return!0;for(_=S.child;_!==null;){if((_.flags&13878)!==0||(_.subtreeFlags&13878)!==0)return!0;_=_.sibling}return!1}function yx(_,S,R,O){if(Oa)for(R=S.child;R!==null;){if(R.tag===5||R.tag===6)mu(_,R.stateNode);else if(!(R.tag===4||za&&R.tag===27)&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===S)break;for(;R.sibling===null;){if(R.return===null||R.return===S)return;R=R.return}R.sibling.return=R.return,R=R.sibling}else if(xo)for(var F=S.child;F!==null;){if(F.tag===5){var H=F.stateNode;R&&O&&(H=AA(H,F.type,F.memoizedProps)),mu(_,H)}else if(F.tag===6)H=F.stateNode,R&&O&&(H=MA(H,F.memoizedProps)),mu(_,H);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)H=F.child,H!==null&&(H.return=F),yx(_,F,!0,!0);else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===S)break;for(;F.sibling===null;){if(F.return===null||F.return===S)return;F=F.return}F.sibling.return=F.return,F=F.sibling}}function zp(_,S,R,O){if(xo)for(var F=S.child;F!==null;){if(F.tag===5){var H=F.stateNode;R&&O&&(H=AA(H,F.type,F.memoizedProps)),bA(_,H)}else if(F.tag===6)H=F.stateNode,R&&O&&(H=MA(H,F.memoizedProps)),bA(_,H);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)H=F.child,H!==null&&(H.return=F),zp(_,F,!(F.memoizedProps!==null&&F.memoizedProps.mode==="manual"),!0);else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===S)break;for(;F.sibling===null;){if(F.return===null||F.return===S)return;F=F.return}F.sibling.return=F.return,F=F.sibling}}function kp(_,S){if(xo&&VS(_,S)){_=S.stateNode;var R=_.containerInfo,O=Vx();zp(O,S,!1,!1),_.pendingChildren=O,mo(S),Uw(R,O)}}function jS(_,S,R,O){if(Oa)_.memoizedProps!==O&&mo(S);else if(xo){var F=_.stateNode,H=_.memoizedProps;if((_=VS(_,S))||H!==O){var re=ba.current;H=_A(F,R,H,O,!_,null),H===F?S.stateNode=F:(Sc(H,R,O,re)&&mo(S),S.stateNode=H,_?yx(H,S,!1,!1):mo(S))}else S.stateNode=F}}function Fp(_,S,R){if(zw(S,R)){if(_.flags|=16777216,!Ac(S,R))if(og())_.flags|=8192;else throw hd=$x,FA}else _.flags&=-16777217}function HS(_,S){if(tE(S)){if(_.flags|=16777216,!PA(S))if(og())_.flags|=8192;else throw hd=$x,FA}else _.flags&=-16777217}function ng(_,S){S!==null&&(_.flags|=4),_.flags&16384&&(S=_.tag!==22?I():536870912,_.lanes|=S,Lc|=S)}function Qh(_,S){if(!di)switch(_.tailMode){case"hidden":S=_.tail;for(var R=null;S!==null;)S.alternate!==null&&(R=S),S=S.sibling;R===null?_.tail=null:R.sibling=null;break;case"collapsed":R=_.tail;for(var O=null;R!==null;)R.alternate!==null&&(O=R),R=R.sibling;O===null?S||_.tail===null?_.tail=null:_.tail.sibling=null:O.sibling=null}}function Qi(_){var S=_.alternate!==null&&_.alternate.child===_.child,R=0,O=0;if(S)for(var F=_.child;F!==null;)R|=F.lanes|F.childLanes,O|=F.subtreeFlags&31457280,O|=F.flags&31457280,F.return=_,F=F.sibling;else for(F=_.child;F!==null;)R|=F.lanes|F.childLanes,O|=F.subtreeFlags,O|=F.flags,F.return=_,F=F.sibling;return _.subtreeFlags|=O,_.childLanes=R,S}function Mw(_,S,R){var O=S.pendingProps;switch(se(S),S.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qi(S),null;case 1:return Qi(S),null;case 3:return R=S.stateNode,O=null,_!==null&&(O=_.memoizedState.cache),S.memoizedState.cache!==O&&(S.flags|=2048),dc(wi),ue(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(_===null||_.child===null)&&(_e(S)?mo(S):_===null||_.memoizedState.isDehydrated&&(S.flags&256)===0||(S.flags|=1024,To!==null&&(vc(To),To=null))),kp(_,S),Qi(S),null;case 26:if(bo){R=S.type;var F=S.memoizedState;return _===null?(mo(S),F!==null?(Qi(S),HS(S,F)):(Qi(S),Fp(S,R,O))):F?F!==_.memoizedState?(mo(S),Qi(S),HS(S,F)):(Qi(S),S.flags&=-16777217):(Oa?_.memoizedProps!==O&&mo(S):jS(_,S,R,O),Qi(S),Fp(S,R,O)),null}case 27:if(za){if(ge(S),R=El.current,F=S.type,_!==null&&S.stateNode!=null)Oa?_.memoizedProps!==O&&mo(S):jS(_,S,F,O);else{if(!O){if(S.stateNode===null)throw Error(r(166));return Qi(S),null}_=ba.current,_e(S)?Ee(S,_):(_=OA(F,O,R,_,!0),S.stateNode=_,mo(S))}return Qi(S),null}case 5:if(ge(S),R=S.type,_!==null&&S.stateNode!=null)jS(_,S,R,O);else{if(!O){if(S.stateNode===null)throw Error(r(166));return Qi(S),null}_=ba.current,_e(S)?Ee(S,_):(F=uA(R,O,El.current,_,S),yx(F,S,!1,!1),S.stateNode=F,Sc(F,R,O,_)&&mo(S))}return Qi(S),Fp(S,S.type,S.pendingProps),null;case 6:if(_&&S.stateNode!=null)R=_.memoizedProps,Oa?R!==O&&mo(S):xo&&(R!==O?(S.stateNode=Ox(O,El.current,ba.current,S),mo(S)):S.stateNode=_.stateNode);else{if(typeof O!="string"&&S.stateNode===null)throw Error(r(166));if(_=El.current,R=ba.current,_e(S)){if(!As)throw Error(r(176));if(_=S.stateNode,R=S.memoizedProps,O=null,F=ns,F!==null)switch(F.tag){case 27:case 5:O=F.memoizedProps}Zw(_,R,S,O)||Se(S)}else S.stateNode=Ox(O,_,R,S)}return Qi(S),null;case 13:if(O=S.memoizedState,_===null||_.memoizedState!==null&&_.memoizedState.dehydrated!==null){if(F=_e(S),O!==null&&O.dehydrated!==null){if(_===null){if(!F)throw Error(r(318));if(!As)throw Error(r(344));if(F=S.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(r(317));$p(F,S)}else ke(),(S.flags&128)===0&&(S.memoizedState=null),S.flags|=4;Qi(S),F=!1}else To!==null&&(vc(To),To=null),F=!0;if(!F)return S.flags&256?(vo(S),S):(vo(S),null)}if(vo(S),(S.flags&128)!==0)return S.lanes=R,S;if(R=O!==null,_=_!==null&&_.memoizedState!==null,R){O=S.child,F=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(F=O.alternate.memoizedState.cachePool.pool);var H=null;O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(H=O.memoizedState.cachePool.pool),H!==F&&(O.flags|=2048)}return R!==_&&R&&(S.child.flags|=8192),ng(S,S.updateQueue),Qi(S),null;case 4:return ue(),kp(_,S),_===null&&hA(S.stateNode.containerInfo),Qi(S),null;case 10:return dc(S.type),Qi(S),null;case 19:if(x(Gr),F=S.memoizedState,F===null)return Qi(S),null;if(O=(S.flags&128)!==0,H=F.rendering,H===null)if(O)Qh(F,!1);else{if(ci!==0||_!==null&&(_.flags&128)!==0)for(_=S.child;_!==null;){if(H=Ka(_),H!==null){for(S.flags|=128,Qh(F,!1),_=H.updateQueue,S.updateQueue=_,ng(S,_),S.subtreeFlags=0,_=R,R=S.child;R!==null;)xc(R,_),R=R.sibling;return b(Gr,Gr.current&1|2),S.child}_=_.sibling}F.tail!==null&&ka()>ur&&(S.flags|=128,O=!0,Qh(F,!1),S.lanes=4194304)}else{if(!O)if(_=Ka(H),_!==null){if(S.flags|=128,O=!0,_=_.updateQueue,S.updateQueue=_,ng(S,_),Qh(F,!0),F.tail===null&&F.tailMode==="hidden"&&!H.alternate&&!di)return Qi(S),null}else 2*ka()-F.renderingStartTime>ur&&R!==536870912&&(S.flags|=128,O=!0,Qh(F,!1),S.lanes=4194304);F.isBackwards?(H.sibling=S.child,S.child=H):(_=F.last,_!==null?_.sibling=H:S.child=H,F.last=H)}return F.tail!==null?(S=F.tail,F.rendering=S,F.tail=S.sibling,F.renderingStartTime=ka(),S.sibling=null,_=Gr.current,b(Gr,O?_&1|2:_&1),S):(Qi(S),null);case 22:case 23:return vo(S),Hh(),O=S.memoizedState!==null,_!==null?_.memoizedState!==null!==O&&(S.flags|=8192):O&&(S.flags|=8192),O?(R&536870912)!==0&&(S.flags&128)===0&&(Qi(S),S.subtreeFlags&6&&(S.flags|=8192)):Qi(S),R=S.updateQueue,R!==null&&ng(S,R.retryQueue),R=null,_!==null&&_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(R=_.memoizedState.cachePool.pool),O=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(O=S.memoizedState.cachePool.pool),O!==R&&(S.flags|=2048),_!==null&&x(Dc),null;case 24:return R=null,_!==null&&(R=_.memoizedState.cache),S.memoizedState.cache!==R&&(S.flags|=2048),dc(wi),Qi(S),null;case 25:return null}throw Error(r(156,S.tag))}function Tw(_,S){switch(se(S),S.tag){case 1:return _=S.flags,_&65536?(S.flags=_&-65537|128,S):null;case 3:return dc(wi),ue(),_=S.flags,(_&65536)!==0&&(_&128)===0?(S.flags=_&-65537|128,S):null;case 26:case 27:case 5:return ge(S),null;case 13:if(vo(S),_=S.memoizedState,_!==null&&_.dehydrated!==null){if(S.alternate===null)throw Error(r(340));ke()}return _=S.flags,_&65536?(S.flags=_&-65537|128,S):null;case 19:return x(Gr),null;case 4:return ue(),null;case 10:return dc(S.type),null;case 22:case 23:return vo(S),Hh(),_!==null&&x(Dc),_=S.flags,_&65536?(S.flags=_&-65537|128,S):null;case 24:return dc(wi),null;case 25:return null;default:return null}}function WS(_,S){switch(se(S),S.tag){case 3:dc(wi),ue();break;case 26:case 27:case 5:ge(S);break;case 4:ue();break;case 13:vo(S);break;case 19:x(Gr);break;case 10:dc(S.type);break;case 22:case 23:vo(S),Hh(),_!==null&&x(Dc);break;case 24:dc(wi)}}function ig(_,S){try{var R=S.updateQueue,O=R!==null?R.lastEffect:null;if(O!==null){var F=O.next;R=F;do{if((R.tag&_)===_){O=void 0;var H=R.create,re=R.inst;O=H(),re.destroy=O}R=R.next}while(R!==F)}}catch(pe){Qn(S,S.return,pe)}}function Mf(_,S,R){try{var O=S.updateQueue,F=O!==null?O.lastEffect:null;if(F!==null){var H=F.next;O=H;do{if((O.tag&_)===_){var re=O.inst,pe=re.destroy;if(pe!==void 0){re.destroy=void 0,F=S;var Ce=R;try{pe()}catch(Ze){Qn(F,Ce,Ze)}}}O=O.next}while(O!==H)}}catch(Ze){Qn(S,S.return,Ze)}}function Cw(_){var S=_.updateQueue;if(S!==null){var R=_.stateNode;try{ut(S,R)}catch(O){Qn(_,_.return,O)}}}function ww(_,S,R){R.props=Sl(_.type,_.memoizedProps),R.state=_.memoizedState;try{R.componentWillUnmount()}catch(O){Qn(_,S,O)}}function $h(_,S){try{var R=_.ref;if(R!==null){var O=_.stateNode;switch(_.tag){case 26:case 27:case 5:var F=Qp(O);break;default:F=O}typeof R=="function"?_.refCleanup=R(F):R.current=F}}catch(H){Qn(_,S,H)}}function $i(_,S){var R=_.ref,O=_.refCleanup;if(R!==null)if(typeof O=="function")try{O()}catch(F){Qn(_,S,F)}finally{_.refCleanup=null,_=_.alternate,_!=null&&(_.refCleanup=null)}else if(typeof R=="function")try{R(null)}catch(F){Qn(_,S,F)}else R.current=null}function Up(_){var S=_.type,R=_.memoizedProps,O=_.stateNode;try{sB(O,S,R,_)}catch(F){Qn(_,_.return,F)}}function XS(_,S,R){try{mA(_.stateNode,_.type,R,S,_)}catch(O){Qn(_,_.return,O)}}function YS(_){return _.tag===5||_.tag===3||(bo?_.tag===26:!1)||(za?_.tag===27:!1)||_.tag===4}function xx(_){e:for(;;){for(;_.sibling===null;){if(_.return===null||YS(_.return))return null;_=_.return}for(_.sibling.return=_.return,_=_.sibling;_.tag!==5&&_.tag!==6&&(!za||_.tag!==27)&&_.tag!==18;){if(_.flags&2||_.child===null||_.tag===4)continue e;_.child.return=_,_=_.child}if(!(_.flags&2))return _.stateNode}}function _x(_,S,R){var O=_.tag;if(O===5||O===6)_=_.stateNode,S?yA(R,_,S):kw(R,_);else if(!(O===4||za&&O===27)&&(_=_.child,_!==null))for(_x(_,S,R),_=_.sibling;_!==null;)_x(_,S,R),_=_.sibling}function Gp(_,S,R){var O=_.tag;if(O===5||O===6)_=_.stateNode,S?gA(R,_,S):vA(R,_);else if(!(O===4||za&&O===27)&&(_=_.child,_!==null))for(Gp(_,S,R),_=_.sibling;_!==null;)Gp(_,S,R),_=_.sibling}function Ew(_,S,R){_=_.containerInfo;try{SA(_,R)}catch(O){Qn(S,S.return,O)}}function Vp(_,S){for(kf(_.containerInfo),xr=S;xr!==null;)if(_=xr,S=_.child,(_.subtreeFlags&1028)!==0&&S!==null)S.return=_,xr=S;else for(;xr!==null;){_=xr;var R=_.alternate;switch(S=_.flags,_.tag){case 0:break;case 11:case 15:break;case 1:if((S&1024)!==0&&R!==null){S=void 0;var O=_,F=R.memoizedProps;R=R.memoizedState;var H=O.stateNode;try{var re=Sl(O.type,F,O.elementType===O.type);S=H.getSnapshotBeforeUpdate(re,R),H.__reactInternalSnapshotBeforeUpdate=S}catch(pe){Qn(O,O.return,pe)}}break;case 3:(S&1024)!==0&&Oa&&Gx(_.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((S&1024)!==0)throw Error(r(163))}if(S=_.sibling,S!==null){S.return=_.return,xr=S;break}xr=_.return}return re=pd,pd=!1,re}function bx(_,S,R){var O=R.flags;switch(R.tag){case 0:case 11:case 15:cu(_,R),O&4&&ig(5,R);break;case 1:if(cu(_,R),O&4)if(_=R.stateNode,S===null)try{_.componentDidMount()}catch(pe){Qn(R,R.return,pe)}else{var F=Sl(R.type,S.memoizedProps);S=S.memoizedState;try{_.componentDidUpdate(F,S,_.__reactInternalSnapshotBeforeUpdate)}catch(pe){Qn(R,R.return,pe)}}O&64&&Cw(R),O&512&&$h(R,R.return);break;case 3:if(cu(_,R),O&64&&(O=R.updateQueue,O!==null)){if(_=null,R.child!==null)switch(R.child.tag){case 27:case 5:_=Qp(R.child.stateNode);break;case 1:_=R.child.stateNode}try{ut(O,_)}catch(pe){Qn(R,R.return,pe)}}break;case 26:if(bo){cu(_,R),O&512&&$h(R,R.return);break}case 27:case 5:cu(_,R),S===null&&O&4&&Up(R),O&512&&$h(R,R.return);break;case 12:cu(_,R);break;case 13:cu(_,R),O&4&&Tf(_,R);break;case 22:if(F=R.memoizedState!==null||aa,!F){S=S!==null&&S.memoizedState!==null||lr;var H=aa,re=lr;aa=F,(lr=S)&&!re?wf(_,R,(R.subtreeFlags&8772)!==0):cu(_,R),aa=H,lr=re}O&512&&(R.memoizedProps.mode==="manual"?$h(R,R.return):$i(R,R.return));break;default:cu(_,R)}}function jp(_){var S=_.alternate;S!==null&&(_.alternate=null,jp(S)),_.child=null,_.deletions=null,_.sibling=null,_.tag===5&&(S=_.stateNode,S!==null&&dA(S)),_.stateNode=null,_.return=null,_.dependencies=null,_.memoizedProps=null,_.memoizedState=null,_.pendingProps=null,_.stateNode=null,_.updateQueue=null}function go(_,S,R){for(R=R.child;R!==null;)Sx(_,S,R),R=R.sibling}function Sx(_,S,R){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(iv,R)}catch{}switch(R.tag){case 26:if(bo){lr||$i(R,S),go(_,S,R),R.memoizedState?DA(R.memoizedState):R.stateNode&&NA(R.stateNode);break}case 27:if(za){lr||$i(R,S);var O=Rr,F=qs;Rr=R.stateNode,go(_,S,R),nE(R.stateNode),Rr=O,qs=F;break}case 5:lr||$i(R,S);case 6:if(Oa){if(O=Rr,F=qs,Rr=null,go(_,S,R),Rr=O,qs=F,Rr!==null)if(qs)try{wr(Rr,R.stateNode)}catch(H){Qn(R,S,H)}else try{Ms(Rr,R.stateNode)}catch(H){Qn(R,S,H)}}else go(_,S,R);break;case 18:Oa&&Rr!==null&&(qs?CA(Rr,R.stateNode):Jw(Rr,R.stateNode));break;case 4:Oa?(O=Rr,F=qs,Rr=R.stateNode.containerInfo,qs=!0,go(_,S,R),Rr=O,qs=F):(xo&&Ew(R.stateNode,R,Vx()),go(_,S,R));break;case 0:case 11:case 14:case 15:lr||Mf(2,R,S),lr||Mf(4,R,S),go(_,S,R);break;case 1:lr||($i(R,S),O=R.stateNode,typeof O.componentWillUnmount=="function"&&ww(R,S,O)),go(_,S,R);break;case 21:go(_,S,R);break;case 22:lr||$i(R,S),lr=(O=lr)||R.memoizedState!==null,go(_,S,R),lr=O;break;default:go(_,S,R)}}function Tf(_,S){if(As&&S.memoizedState===null&&(_=S.alternate,_!==null&&(_=_.memoizedState,_!==null&&(_=_.dehydrated,_!==null))))try{Xx(_)}catch(R){Qn(S,S.return,R)}}function Hp(_){switch(_.tag){case 13:case 19:var S=_.stateNode;return S===null&&(S=_.stateNode=new uv),S;case 22:return _=_.stateNode,S=_._retryCache,S===null&&(S=_._retryCache=new uv),S;default:throw Error(r(435,_.tag))}}function rg(_,S){var R=Hp(_);S.forEach(function(O){var F=QS.bind(null,_,O);R.has(O)||(R.add(O),O.then(F,F))})}function _s(_,S){var R=S.deletions;if(R!==null)for(var O=0;O<R.length;O++){var F=R[O],H=_,re=S;if(Oa){var pe=re;e:for(;pe!==null;){switch(pe.tag){case 27:case 5:Rr=pe.stateNode,qs=!1;break e;case 3:Rr=pe.stateNode.containerInfo,qs=!0;break e;case 4:Rr=pe.stateNode.containerInfo,qs=!0;break e}pe=pe.return}if(Rr===null)throw Error(r(160));Sx(H,re,F),Rr=null,qs=!1}else Sx(H,re,F);H=F.alternate,H!==null&&(H.return=null),F.return=null}if(S.subtreeFlags&13878)for(S=S.child;S!==null;)Cf(S,_),S=S.sibling}function Cf(_,S){var R=_.alternate,O=_.flags;switch(_.tag){case 0:case 11:case 14:case 15:_s(S,_),Us(_),O&4&&(Mf(3,_,_.return),ig(3,_),Mf(5,_,_.return));break;case 1:_s(S,_),Us(_),O&512&&(lr||R===null||$i(R,R.return)),O&64&&aa&&(_=_.updateQueue,_!==null&&(O=_.callbacks,O!==null&&(R=_.shared.hiddenCallbacks,_.shared.hiddenCallbacks=R===null?O:R.concat(O))));break;case 26:if(bo){var F=Ts;_s(S,_),Us(_),O&512&&(lr||R===null||$i(R,R.return)),O&4&&(O=R!==null?R.memoizedState:null,S=_.memoizedState,R===null?S===null?_.stateNode===null?_.stateNode=RA(F,_.type,_.memoizedProps,_):LA(F,_.type,_.stateNode):_.stateNode=EA(F,S,_.memoizedProps):O!==S?(O===null?R.stateNode!==null&&NA(R.stateNode):DA(O),S===null?LA(F,_.type,_.stateNode):EA(F,S,_.memoizedProps)):S===null&&_.stateNode!==null&&XS(_,_.memoizedProps,R.memoizedProps));break}case 27:if(za&&O&4&&_.alternate===null){F=_.stateNode;var H=_.memoizedProps;try{cB(F),fB(_.type,H,F,_)}catch(gt){Qn(_,_.return,gt)}}case 5:if(_s(S,_),Us(_),O&512&&(lr||R===null||$i(R,R.return)),Oa){if(_.flags&32){S=_.stateNode;try{gg(S)}catch(gt){Qn(_,_.return,gt)}}O&4&&_.stateNode!=null&&(S=_.memoizedProps,XS(_,S,R!==null?R.memoizedProps:S)),O&1024&&(Yf=!0)}break;case 6:if(_s(S,_),Us(_),O&4&&Oa){if(_.stateNode===null)throw Error(r(162));O=_.memoizedProps,R=R!==null?R.memoizedProps:O,S=_.stateNode;try{Fw(S,R,O)}catch(gt){Qn(_,_.return,gt)}}break;case 3:if(bo?(IA(),F=Ts,Ts=Yx(S.containerInfo),_s(S,_),Ts=F):_s(S,_),Us(_),O&4){if(Oa&&As&&R!==null&&R.memoizedState.isDehydrated)try{Wx(S.containerInfo)}catch(gt){Qn(_,_.return,gt)}if(xo){O=S.containerInfo,R=S.pendingChildren;try{SA(O,R)}catch(gt){Qn(_,_.return,gt)}}}Yf&&(Yf=!1,qS(_));break;case 4:bo?(R=Ts,Ts=Yx(_.stateNode.containerInfo),_s(S,_),Us(_),Ts=R):(_s(S,_),Us(_)),O&4&&xo&&Ew(_.stateNode,_,_.stateNode.pendingChildren);break;case 12:_s(S,_),Us(_);break;case 13:_s(S,_),Us(_),_.child.flags&8192&&_.memoizedState!==null!=(R!==null&&R.memoizedState!==null)&&(Mu=ka()),O&4&&(O=_.updateQueue,O!==null&&(_.updateQueue=null,rg(_,O)));break;case 22:O&512&&(lr||R===null||$i(R,R.return)),F=_.memoizedState!==null;var re=R!==null&&R.memoizedState!==null,pe=aa,Ce=lr;if(aa=pe||F,lr=Ce||re,_s(S,_),lr=Ce,aa=pe,Us(_),S=_.stateNode,S._current=_,S._visibility&=-3,S._visibility|=S._pendingVisibility&2,O&8192&&(S._visibility=F?S._visibility&-2:S._visibility|1,F&&(S=aa||lr,R===null||re||S||Wp(_)),Oa&&(_.memoizedProps===null||_.memoizedProps.mode!=="manual"))){e:if(R=null,Oa)for(S=_;;){if(S.tag===5||bo&&S.tag===26||za&&S.tag===27){if(R===null){re=R=S;try{H=re.stateNode,F?yg(H):xA(re.stateNode,re.memoizedProps)}catch(gt){Qn(re,re.return,gt)}}}else if(S.tag===6){if(R===null){re=S;try{var Ze=re.stateNode;F?Ux(Ze):Mc(Ze,re.memoizedProps)}catch(gt){Qn(re,re.return,gt)}}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===_)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===_)break e;for(;S.sibling===null;){if(S.return===null||S.return===_)break e;R===S&&(R=null),S=S.return}R===S&&(R=null),S.sibling.return=S.return,S=S.sibling}}O&4&&(O=_.updateQueue,O!==null&&(R=O.retryQueue,R!==null&&(O.retryQueue=null,rg(_,R))));break;case 19:_s(S,_),Us(_),O&4&&(O=_.updateQueue,O!==null&&(_.updateQueue=null,rg(_,O)));break;case 21:break;default:_s(S,_),Us(_)}}function Us(_){var S=_.flags;if(S&2){try{if(Oa&&(!za||_.tag!==27)){e:{for(var R=_.return;R!==null;){if(YS(R)){var O=R;break e}R=R.return}throw Error(r(160))}switch(O.tag){case 27:if(za){var F=O.stateNode,H=xx(_);Gp(_,H,F);break}case 5:var re=O.stateNode;O.flags&32&&(gg(re),O.flags&=-33);var pe=xx(_);Gp(_,pe,re);break;case 3:case 4:var Ce=O.stateNode.containerInfo,Ze=xx(_);_x(_,Ze,Ce);break;default:throw Error(r(161))}}}catch(gt){Qn(_,_.return,gt)}_.flags&=-3}S&4096&&(_.flags&=-4097)}function qS(_){if(_.subtreeFlags&1024)for(_=_.child;_!==null;){var S=_;qS(S),S.tag===5&&S.flags&1024&&zi(S.stateNode),_=_.sibling}}function cu(_,S){if(S.subtreeFlags&8772)for(S=S.child;S!==null;)bx(_,S.alternate,S),S=S.sibling}function Wp(_){for(_=_.child;_!==null;){var S=_;switch(S.tag){case 0:case 11:case 14:case 15:Mf(4,S,S.return),Wp(S);break;case 1:$i(S,S.return);var R=S.stateNode;typeof R.componentWillUnmount=="function"&&ww(S,S.return,R),Wp(S);break;case 26:case 27:case 5:$i(S,S.return),Wp(S);break;case 22:$i(S,S.return),S.memoizedState===null&&Wp(S);break;default:Wp(S)}_=_.sibling}}function wf(_,S,R){for(R=R&&(S.subtreeFlags&8772)!==0,S=S.child;S!==null;){var O=S.alternate,F=_,H=S,re=H.flags;switch(H.tag){case 0:case 11:case 15:wf(F,H,R),ig(4,H);break;case 1:if(wf(F,H,R),O=H,F=O.stateNode,typeof F.componentDidMount=="function")try{F.componentDidMount()}catch(Ze){Qn(O,O.return,Ze)}if(O=H,F=O.updateQueue,F!==null){var pe=O.stateNode;try{var Ce=F.shared.hiddenCallbacks;if(Ce!==null)for(F.shared.hiddenCallbacks=null,F=0;F<Ce.length;F++)he(Ce[F],pe)}catch(Ze){Qn(O,O.return,Ze)}}R&&re&64&&Cw(H),$h(H,H.return);break;case 26:case 27:case 5:wf(F,H,R),R&&O===null&&re&4&&Up(H),$h(H,H.return);break;case 12:wf(F,H,R);break;case 13:wf(F,H,R),R&&re&4&&Tf(F,H);break;case 22:H.memoizedState===null&&wf(F,H,R),$h(H,H.return);break;default:wf(F,H,R)}S=S.sibling}}function ZS(_,S){var R=null;_!==null&&_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(R=_.memoizedState.cachePool.pool),_=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(_=S.memoizedState.cachePool.pool),_!==R&&(_!=null&&_.refCount++,R!=null&&Op(R))}function Ax(_,S){_=null,S.alternate!==null&&(_=S.alternate.memoizedState.cache),S=S.memoizedState.cache,S!==_&&(S.refCount++,_!=null&&Op(_))}function pc(_,S,R,O){if(S.subtreeFlags&10256)for(S=S.child;S!==null;)Mx(_,S,R,O),S=S.sibling}function Mx(_,S,R,O){var F=S.flags;switch(S.tag){case 0:case 11:case 15:pc(_,S,R,O),F&2048&&ig(9,S);break;case 3:pc(_,S,R,O),F&2048&&(_=null,S.alternate!==null&&(_=S.alternate.memoizedState.cache),S=S.memoizedState.cache,S!==_&&(S.refCount++,_!=null&&Op(_)));break;case 12:if(F&2048){pc(_,S,R,O),_=S.stateNode;try{var H=S.memoizedProps,re=H.id,pe=H.onPostCommit;typeof pe=="function"&&pe(re,S.alternate===null?"mount":"update",_.passiveEffectDuration,-0)}catch(Ce){Qn(S,S.return,Ce)}}else pc(_,S,R,O);break;case 23:break;case 22:H=S.stateNode,S.memoizedState!==null?H._visibility&4?pc(_,S,R,O):Ef(_,S):H._visibility&4?pc(_,S,R,O):(H._visibility|=4,Qa(_,S,R,O,(S.subtreeFlags&10256)!==0)),F&2048&&ZS(S.alternate,S);break;case 24:pc(_,S,R,O),F&2048&&Ax(S.alternate,S);break;default:pc(_,S,R,O)}}function Qa(_,S,R,O,F){for(F=F&&(S.subtreeFlags&10256)!==0,S=S.child;S!==null;){var H=_,re=S,pe=R,Ce=O,Ze=re.flags;switch(re.tag){case 0:case 11:case 15:Qa(H,re,pe,Ce,F),ig(8,re);break;case 23:break;case 22:var gt=re.stateNode;re.memoizedState!==null?gt._visibility&4?Qa(H,re,pe,Ce,F):Ef(H,re):(gt._visibility|=4,Qa(H,re,pe,Ce,F)),F&&Ze&2048&&ZS(re.alternate,re);break;case 24:Qa(H,re,pe,Ce,F),F&&Ze&2048&&Ax(re.alternate,re);break;default:Qa(H,re,pe,Ce,F)}S=S.sibling}}function Ef(_,S){if(S.subtreeFlags&10256)for(S=S.child;S!==null;){var R=_,O=S,F=O.flags;switch(O.tag){case 22:Ef(R,O),F&2048&&ZS(O.alternate,O);break;case 24:Ef(R,O),F&2048&&Ax(O.alternate,O);break;default:Ef(R,O)}S=S.sibling}}function ga(_){if(_.subtreeFlags&vd)for(_=_.child;_!==null;)ed(_),_=_.sibling}function ed(_){switch(_.tag){case 26:ga(_),_.flags&vd&&(_.memoizedState!==null?BA(Ts,_.memoizedState,_.memoizedProps):pr(_.type,_.memoizedProps));break;case 5:ga(_),_.flags&vd&&pr(_.type,_.memoizedProps);break;case 3:case 4:if(bo){var S=Ts;Ts=Yx(_.stateNode.containerInfo),ga(_),Ts=S}else ga(_);break;case 22:_.memoizedState===null&&(S=_.alternate,S!==null&&S.memoizedState!==null?(S=vd,vd=16777216,ga(_),vd=S):ga(_));break;default:ga(_)}}function Tx(_){var S=_.alternate;if(S!==null&&(_=S.child,_!==null)){S.child=null;do S=_.sibling,_.sibling=null,_=S;while(_!==null)}}function Df(_){var S=_.deletions;if((_.flags&16)!==0){if(S!==null)for(var R=0;R<S.length;R++){var O=S[R];xr=O,Rf(O,_)}Tx(_)}if(_.subtreeFlags&10256)for(_=_.child;_!==null;)ag(_),_=_.sibling}function ag(_){switch(_.tag){case 0:case 11:case 15:Df(_),_.flags&2048&&Mf(9,_,_.return);break;case 3:Df(_);break;case 12:Df(_);break;case 22:var S=_.stateNode;_.memoizedState!==null&&S._visibility&4&&(_.return===null||_.return.tag!==13)?(S._visibility&=-5,Xp(_)):Df(_);break;default:Df(_)}}function Xp(_){var S=_.deletions;if((_.flags&16)!==0){if(S!==null)for(var R=0;R<S.length;R++){var O=S[R];xr=O,Rf(O,_)}Tx(_)}for(_=_.child;_!==null;){switch(S=_,S.tag){case 0:case 11:case 15:Mf(8,S,S.return),Xp(S);break;case 22:R=S.stateNode,R._visibility&4&&(R._visibility&=-5,Xp(S));break;default:Xp(S)}_=_.sibling}}function Rf(_,S){for(;xr!==null;){var R=xr;switch(R.tag){case 0:case 11:case 15:Mf(8,R,S);break;case 23:case 22:if(R.memoizedState!==null&&R.memoizedState.cachePool!==null){var O=R.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:Op(R.memoizedState.cache)}if(O=R.child,O!==null)O.return=R,xr=O;else e:for(R=_;xr!==null;){O=xr;var F=O.sibling,H=O.return;if(jp(O),O===R){xr=null;break e}if(F!==null){F.return=H,xr=F;break e}xr=H}}}function Cx(_){var S=fA(_);if(S!=null){if(typeof S.memoizedProps["data-testname"]!="string")throw Error(r(364));return S}if(_=ud(_),_===null)throw Error(r(362));return _.stateNode.current}function Yp(_,S){var R=_.tag;switch(S.$$typeof){case Ig:if(_.type===S.value)return!0;break;case r_:e:{for(S=S.value,_=[_,0],R=0;R<_.length;){var O=_[R++],F=O.tag,H=_[R++],re=S[H];if(F!==5&&F!==26&&F!==27||!xu(O)){for(;re!=null&&Yp(O,re);)H++,re=S[H];if(H===S.length){S=!0;break e}else for(O=O.child;O!==null;)_.push(O,H),O=O.sibling}}S=!1}return S;case a_:if((R===5||R===26||R===27)&&aB(_.stateNode,S.value))return!0;break;case Ei:if((R===5||R===6||R===26||R===27)&&(_=mg(_),_!==null&&0<=_.indexOf(S.value)))return!0;break;case ui:if((R===5||R===26||R===27)&&(_=_.memoizedProps["data-testname"],typeof _=="string"&&_.toLowerCase()===S.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Lf(_){switch(_.$$typeof){case Ig:return"<"+(s(_.value)||"Unknown")+">";case r_:return":has("+(Lf(_)||"")+")";case a_:return'[role="'+_.value+'"]';case Ei:return'"'+_.value+'"';case ui:return'[data-testname="'+_.value+'"]';default:throw Error(r(365))}}function Dw(_,S){var R=[];_=[_,0];for(var O=0;O<_.length;){var F=_[O++],H=F.tag,re=_[O++],pe=S[re];if(H!==5&&H!==26&&H!==27||!xu(F)){for(;pe!=null&&Yp(F,pe);)re++,pe=S[re];if(re===S.length)R.push(F);else for(F=F.child;F!==null;)_.push(F,re),F=F.sibling}}return R}function bs(_,S){if(!yu)throw Error(r(363));_=Cx(_),_=Dw(_,S),S=[],_=Array.from(_);for(var R=0;R<_.length;){var O=_[R++],F=O.tag;if(F===5||F===26||F===27)xu(O)||S.push(O.stateNode);else for(O=O.child;O!==null;)_.push(O),O=O.sibling}return S}function Ss(){if((nn&2)!==0&&Vn!==0)return Vn&-Vn;if(hn.T!==null){var _=Xs;return _!==0?_:nt()}return Qo()}function fu(){Zs===0&&(Zs=(Vn&536870912)===0||di?P():536870912);var _=Eo.current;return _!==null&&(_.flags|=32),Zs}function $a(_,S,R){(_===Yn&&ki===2||_.cancelPendingCommit!==null)&&(Ml(_,0),Al(_,Vn,Zs,!1)),z(_,R),((nn&2)===0||_!==Yn)&&(_===Yn&&((nn&2)===0&&(Ll|=R),ci===4&&Al(_,Vn,Zs,!1)),_t(_))}function sg(_,S,R){if((nn&6)!==0)throw Error(r(327));var O=!R&&(S&60)===0&&(S&_.expiredLanes)===0||E(_,S),F=O?pu(_,S):hu(_,S,!0),H=O;do{if(F===0){Do&&!O&&Al(_,S,0,!1);break}else if(F===6)Al(_,S,0,!Di);else{if(R=_.current.alternate,H&&!Rw(R)){F=hu(_,S,!1),H=!1;continue}if(F===2){if(H=S,_.errorRecoveryDisabledLanes&H)var re=0;else re=_.pendingLanes&-536870913,re=re!==0?re:re&536870912?536870912:0;if(re!==0){S=re;e:{var pe=_;F=cv;var Ce=As&&pe.current.memoizedState.isDehydrated;if(Ce&&(Ml(pe,re).flags|=256),re=hu(pe,re,!1),re!==2){if(Rc&&!Ce){pe.errorRecoveryDisabledLanes|=H,Ll|=H,F=4;break e}H=Lo,Lo=F,H!==null&&vc(H)}F=re}if(H=!1,F!==2)continue}}if(F===1){Ml(_,0),Al(_,S,0,!0);break}e:{switch(O=_,F){case 0:case 1:throw Error(r(345));case 4:if((S&4194176)===S){Al(O,S,Zs,!Di);break e}break;case 2:Lo=null;break;case 3:case 5:break;default:throw Error(r(329))}if(O.finishedWork=R,O.finishedLanes=S,(S&62914560)===S&&(H=Mu+300-ka(),10<H)){if(Al(O,S,Zs,!Di),w(O,0)!==0)break e;O.timeoutHandle=cA(Ex.bind(null,O,R,Lo,Nl,fv,S,Zs,Ll,Lc,Di,2,-0,0),H);break e}Ex(O,R,Lo,Nl,fv,S,Zs,Ll,Lc,Di,0,-0,0)}}break}while(!0);_t(_)}function vc(_){Lo===null?Lo=_:Lo.push.apply(Lo,_)}function Ex(_,S,R,O,F,H,re,pe,Ce,Ze,gt,Dt,Pt){var Tn=S.subtreeFlags;if((Tn&8192||(Tn&16785408)===16785408)&&(_o(),ed(S),S=zx(),S!==null)){_.cancelPendingCommit=S(Yi.bind(null,_,R,O,F,re,pe,Ce,1,Dt,Pt)),Al(_,H,re,!Ze);return}Yi(_,R,O,F,re,pe,Ce,gt,Dt,Pt)}function Rw(_){for(var S=_;;){var R=S.tag;if((R===0||R===11||R===15)&&S.flags&16384&&(R=S.updateQueue,R!==null&&(R=R.stores,R!==null)))for(var O=0;O<R.length;O++){var F=R[O],H=F.getSnapshot;F=F.value;try{if(!So(H(),F))return!1}catch{return!1}}if(R=S.child,S.subtreeFlags&16384&&R!==null)R.return=S,S=R;else{if(S===_)break;for(;S.sibling===null;){if(S.return===null||S.return===_)return!0;S=S.return}S.sibling.return=S.return,S=S.sibling}}return!0}function Al(_,S,R,O){S&=~as,S&=~Ll,_.suspendedLanes|=S,_.pingedLanes&=~S,O&&(_.warmLanes|=S),O=_.expirationTimes;for(var F=S;0<F;){var H=31-Hs(F),re=1<<H;O[H]=-1,F&=~re}R!==0&&U(_,R,S)}function KS(){return(nn&6)===0?(pt(0),!1):!0}function Gs(){if(En!==null){if(ki===0)var _=En.return;else _=En,yr=Xf=null,Xh(_),bu=null,tl=0,_=En;for(;_!==null;)WS(_.alternate,_),_=_.return;En=null}}function Ml(_,S){_.finishedWork=null,_.finishedLanes=0;var R=_.timeoutHandle;R!==ld&&(_.timeoutHandle=ld,vg(R)),R=_.cancelPendingCommit,R!==null&&(_.cancelPendingCommit=null,R()),Gs(),Yn=_,En=R=es(_.current,null),Vn=S,ki=0,Lr=null,Di=!1,Do=E(_,S),Rc=!1,Lc=Zs=as=Ll=Ro=ci=0,Lo=cv=null,fv=!1,(S&8)!==0&&(S|=S&32);var O=_.entangledLanes;if(O!==0)for(_=_.entanglements,O&=S;0<O;){var F=31-Hs(O),H=1<<F;S|=_[F],O&=~H}return Rl=S,De(),R}function td(_,S){On=null,hn.H=pi,S===Ni?(S=Tt(),ki=3):S===FA?(S=Tt(),ki=4):ki=S===uE?8:S!==null&&typeof S=="object"&&typeof S.then=="function"?6:1,Lr=S,En===null&&(ci=1,hx(_,$(S,_.current)))}function og(){var _=Eo.current;return _===null?!0:(Vn&4194176)===Vn?nl===null:(Vn&62914560)===Vn||(Vn&536870912)!==0?_===nl:!1}function qp(){var _=hn.H;return hn.H=pi,_===null?pi:_}function yo(){var _=hn.A;return hn.A=i_,_}function Vs(){ci=4,Di||(Vn&4194176)!==Vn&&Eo.current!==null||(Do=!0),(Ro&134217727)===0&&(Ll&134217727)===0||Yn===null||Al(Yn,Vn,Zs,!1)}function hu(_,S,R){var O=nn;nn|=2;var F=qp(),H=yo();(Yn!==_||Vn!==S)&&(Nl=null,Ml(_,S)),S=!1;var re=ci;e:do try{if(ki!==0&&En!==null){var pe=En,Ce=Lr;switch(ki){case 8:Gs(),re=6;break e;case 3:case 2:case 6:Eo.current===null&&(S=!0);var Ze=ki;if(ki=0,Lr=null,Nf(_,pe,Ce,Ze),R&&Do){re=0;break e}break;default:Ze=ki,ki=0,Lr=null,Nf(_,pe,Ce,Ze)}}du(),re=ci;break}catch(gt){td(_,gt)}while(!0);return S&&_.shellSuspendCounter++,yr=Xf=null,nn=O,hn.H=F,hn.A=H,En===null&&(Yn=null,Vn=0,De()),re}function du(){for(;En!==null;)JS(En)}function pu(_,S){var R=nn;nn|=2;var O=qp(),F=yo();Yn!==_||Vn!==S?(Nl=null,ur=ka()+500,Ml(_,S)):Do=E(_,S);e:do try{if(ki!==0&&En!==null){S=En;var H=Lr;t:switch(ki){case 1:ki=0,Lr=null,Nf(_,S,H,1);break;case 2:if(vt(H)){ki=0,Lr=null,Dx(S);break}S=function(){ki===2&&Yn===_&&(ki=7),_t(_)},H.then(S,S);break e;case 3:ki=7;break e;case 4:ki=5;break e;case 7:vt(H)?(ki=0,Lr=null,Dx(S)):(ki=0,Lr=null,Nf(_,S,H,7));break;case 5:var re=null;switch(En.tag){case 26:re=En.memoizedState;case 5:case 27:var pe=En,Ce=pe.type,Ze=pe.pendingProps;if(re?PA(re):Ac(Ce,Ze)){ki=0,Lr=null;var gt=pe.sibling;if(gt!==null)En=gt;else{var Dt=pe.return;Dt!==null?(En=Dt,lg(Dt)):En=null}break t}}ki=0,Lr=null,Nf(_,S,H,5);break;case 6:ki=0,Lr=null,Nf(_,S,H,6);break;case 8:Gs(),ci=6;break e;default:throw Error(r(462))}}mc();break}catch(Pt){td(_,Pt)}while(!0);return yr=Xf=null,hn.H=O,hn.A=F,nn=R,En!==null?0:(Yn=null,Vn=0,De(),ci)}function mc(){for(;En!==null&&!rE();)JS(En)}function JS(_){var S=Sw(_.alternate,_,Rl);_.memoizedProps=_.pendingProps,S===null?lg(_):En=S}function Dx(_){var S=_,R=S.alternate;switch(S.tag){case 15:case 0:S=gw(R,S,S.pendingProps,S.type,void 0,Vn);break;case 11:S=gw(R,S,S.pendingProps,S.type.render,S.ref,Vn);break;case 5:Xh(S);default:WS(R,S),S=En=xc(S,Rl),S=Sw(R,S,Rl)}_.memoizedProps=_.pendingProps,S===null?lg(_):En=S}function Nf(_,S,R,O){yr=Xf=null,Xh(S),bu=null,tl=0;var F=S.return;try{if(hw(_,F,S,R,Vn)){ci=1,hx(_,$(R,_.current)),En=null;return}}catch(H){if(F!==null)throw En=F,H;ci=1,hx(_,$(R,_.current)),En=null;return}S.flags&32768?(di||O===1?_=!0:Do||(Vn&536870912)!==0?_=!1:(Di=_=!0,(O===2||O===3||O===6)&&(O=Eo.current,O!==null&&O.tag===13&&(O.flags|=16384))),ya(S,_)):lg(S)}function lg(_){var S=_;do{if((S.flags&32768)!==0){ya(S,Di);return}_=S.return;var R=Mw(S.alternate,S,Rl);if(R!==null){En=R;return}if(S=S.sibling,S!==null){En=S;return}En=S=_}while(S!==null);ci===0&&(ci=5)}function ya(_,S){do{var R=Tw(_.alternate,_);if(R!==null){R.flags&=32767,En=R;return}if(R=_.return,R!==null&&(R.flags|=32768,R.subtreeFlags=0,R.deletions=null),!S&&(_=_.sibling,_!==null)){En=_;return}En=_=R}while(_!==null);ci=6,En=null}function Yi(_,S,R,O,F,H,re,pe,Ce,Ze){var gt=hn.T,Dt=ra();try{ts(2),hn.T=null,ni(_,S,R,O,Dt,F,H,re,pe,Ce,Ze)}finally{hn.T=gt,ts(Dt)}}function ni(_,S,R,O,F,H,re,pe){do xa();while(Nc!==null);if((nn&6)!==0)throw Error(r(327));var Ce=_.finishedWork;if(O=_.finishedLanes,Ce===null)return null;if(_.finishedWork=null,_.finishedLanes=0,Ce===_.current)throw Error(r(177));_.callbackNode=null,_.callbackPriority=0,_.cancelPendingCommit=null;var Ze=Ce.lanes|Ce.childLanes;if(Ze|=av,V(_,O,Ze,H,re,pe),_===Yn&&(En=Yn=null,Vn=0),(Ce.subtreeFlags&10256)===0&&(Ce.flags&10256)===0||rl||(rl=!0,s_=Ze,gd=R,ug(Zx,function(){return xa(),null})),R=(Ce.flags&15990)!==0,(Ce.subtreeFlags&15990)!==0||R?(R=hn.T,hn.T=null,H=ra(),ts(2),re=nn,nn|=4,Vp(_,Ce),Cf(Ce,_),lA(_.containerInfo),_.current=Ce,bx(_,Ce.alternate,Ce),aE(),nn=re,ts(H),hn.T=R):_.current=Ce,rl?(rl=!1,Nc=_,md=O):gc(_,Ze),Ze=_.pendingLanes,Ze===0&&(No=null),G(Ce.stateNode),_t(_),S!==null)for(F=_.onRecoverableError,Ce=0;Ce<S.length;Ce++)Ze=S[Ce],F(Ze.value,{componentStack:Ze.stack});return(md&3)!==0&&xa(),Ze=_.pendingLanes,(O&4194218)!==0&&(Ze&42)!==0?_===Cs?yd++:(yd=0,Cs=_):yd=0,pt(0),null}function gc(_,S){(_.pooledCacheLanes&=S)===0&&(S=_.pooledCache,S!=null&&(_.pooledCache=null,Op(S)))}function xa(){if(Nc!==null){var _=Nc,S=s_;s_=0;var R=W(md),O=32>R?32:R;R=hn.T;var F=ra();try{if(ts(O),hn.T=null,Nc===null)var H=!1;else{O=gd,gd=null;var re=Nc,pe=md;if(Nc=null,md=0,(nn&6)!==0)throw Error(r(331));var Ce=nn;if(nn|=4,ag(re.current),Mx(re,re.current,pe,O),nn=Ce,pt(0,!1),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(iv,re)}catch{}H=!0}return H}finally{ts(F),hn.T=R,gc(_,S)}}return!1}function Rx(_,S,R){S=$(R,S),S=Jm(_.stateNode,S,2),_=it(_,S,2),_!==null&&(z(_,2),_t(_))}function Qn(_,S,R){if(_.tag===3)Rx(_,_,R);else for(;S!==null;){if(S.tag===3){Rx(S,_,R);break}else if(S.tag===1){var O=S.stateNode;if(typeof S.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(No===null||!No.has(O))){_=$(R,_),R=Bp(2),O=it(S,R,2),O!==null&&(Qm(R,O,S,_),z(O,2),_t(O));break}}S=S.return}}function Lx(_,S,R){var O=_.pingCache;if(O===null){O=_.pingCache=new $n;var F=new Set;O.set(S,F)}else F=O.get(S),F===void 0&&(F=new Set,O.set(S,F));F.has(R)||(Rc=!0,F.add(R),_=Lw.bind(null,_,S,R),S.then(_,_))}function Lw(_,S,R){var O=_.pingCache;O!==null&&O.delete(S),_.pingedLanes|=_.suspendedLanes&R,_.warmLanes&=~R,Yn===_&&(Vn&R)===R&&(ci===4||ci===3&&(Vn&62914560)===Vn&&300>ka()-Mu?(nn&2)===0&&Ml(_,0):as|=R,Lc===Vn&&(Lc=0)),_t(_)}function nd(_,S){S===0&&(S=I()),_=qe(_,S),_!==null&&(z(_,S),_t(_))}function id(_){var S=_.memoizedState,R=0;S!==null&&(R=S.retryLane),nd(_,R)}function QS(_,S){var R=0;switch(_.tag){case 13:var O=_.stateNode,F=_.memoizedState;F!==null&&(R=F.retryLane);break;case 19:O=_.stateNode;break;case 22:O=_.stateNode._retryCache;break;default:throw Error(r(314))}O!==null&&O.delete(S),nd(_,R)}function ug(_,S){return nv(_,S)}function $S(_,S,R,O){this.tag=_,this.key=R,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=S,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yc(_){return _=_.prototype,!(!_||!_.isReactComponent)}function es(_,S){var R=_.alternate;return R===null?(R=t(_.tag,S,_.key,_.mode),R.elementType=_.elementType,R.type=_.type,R.stateNode=_.stateNode,R.alternate=_,_.alternate=R):(R.pendingProps=S,R.type=_.type,R.flags=0,R.subtreeFlags=0,R.deletions=null),R.flags=_.flags&31457280,R.childLanes=_.childLanes,R.lanes=_.lanes,R.child=_.child,R.memoizedProps=_.memoizedProps,R.memoizedState=_.memoizedState,R.updateQueue=_.updateQueue,S=_.dependencies,R.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext},R.sibling=_.sibling,R.index=_.index,R.ref=_.ref,R.refCleanup=_.refCleanup,R}function xc(_,S){_.flags&=31457282;var R=_.alternate;return R===null?(_.childLanes=0,_.lanes=S,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=R.childLanes,_.lanes=R.lanes,_.child=R.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=R.memoizedProps,_.memoizedState=R.memoizedState,_.updateQueue=R.updateQueue,_.type=R.type,S=R.dependencies,_.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext}),_}function Jo(_,S,R,O,F,H){var re=0;if(O=_,typeof _=="function")yc(_)&&(re=1);else if(typeof _=="string")re=bo&&za?wA(_,R,ba.current)?26:ev(_)?27:5:bo?wA(_,R,ba.current)?26:5:za&&ev(_)?27:5;else e:switch(_){case Kp:return _c(R.children,F,H,S);case rA:re=8,F|=24;break;case aA:return _=t(12,R,S,F|2),_.elementType=aA,_.lanes=H,_;case Ix:return _=t(13,R,S,F),_.elementType=Ix,_.lanes=H,_;case Bf:return _=t(19,R,S,F),_.elementType=Bf,_.lanes=H,_;case hg:return Nx(R,F,H,S);default:if(typeof _=="object"&&_!==null)switch(_.$$typeof){case Pw:case vu:re=10;break e;case Pf:re=9;break e;case Jp:re=11;break e;case fg:re=14;break e;case Cl:re=16,O=null;break e}re=29,R=Error(r(130,_===null?"null":typeof _,"")),O=null}return S=t(re,R,S,F),S.elementType=_,S.type=O,S.lanes=H,S}function _c(_,S,R,O){return _=t(7,_,O,S),_.lanes=R,_}function Nx(_,S,R,O){_=t(22,_,O,S),_.elementType=hg,_.lanes=R;var F={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var H=F._current;if(H===null)throw Error(r(456));if((F._pendingVisibility&2)===0){var re=qe(H,2);re!==null&&(F._pendingVisibility|=2,$a(re,H,2))}},attach:function(){var H=F._current;if(H===null)throw Error(r(456));if((F._pendingVisibility&2)!==0){var re=qe(H,2);re!==null&&(F._pendingVisibility&=-3,$a(re,H,2))}}};return _.stateNode=F,_}function If(_,S,R){return _=t(6,_,null,S),_.lanes=R,_}function Zp(_,S,R){return S=t(4,_.children!==null?_.children:[],_.key,S),S.lanes=R,S.stateNode={containerInfo:_.containerInfo,pendingChildren:null,implementation:_.implementation},S}function rd(_,S,R,O,F,H,re,pe){this.tag=1,this.containerInfo=_,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ld,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=N(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N(0),this.hiddenUpdates=N(null),this.identifierPrefix=O,this.onUncaughtError=F,this.onCaughtError=H,this.onRecoverableError=re,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function _a(_,S,R,O,F,H,re,pe,Ce,Ze,gt,Dt){return _=new rd(_,S,R,re,pe,Ce,Ze,Dt),S=1,H===!0&&(S|=24),H=t(3,null,null,S),_.current=H,H.stateNode=_,S=mx(),S.refCount++,_.pooledCache=S,S.refCount++,H.memoizedState={element:O,isDehydrated:R,cache:S},qt(H),_}function cg(_){return _?(_=cd,_):cd}function eA(_){var S=_._reactInternals;if(S===void 0)throw typeof _.render=="function"?Error(r(188)):(_=Object.keys(_).join(","),Error(r(268,_)));return _=d(S),_=_!==null?v(_):null,_===null?null:Qp(_.stateNode)}function Nw(_,S,R,O,F,H){F=cg(F),O.context===null?O.context=F:O.pendingContext=F,O=et(S),O.payload={element:R},H=H===void 0?null:H,H!==null&&(O.callback=H),R=it(_,O,S),R!==null&&($a(R,_,S),Ht(R,_,S))}function Iw(_,S){if(_=_.memoizedState,_!==null&&_.dehydrated!==null){var R=_.retryLane;_.retryLane=R!==0&&R<S?R:S}}function tA(_,S){Iw(_,S),(_=_.alternate)&&Iw(_,S)}var tn={},nA=Wb(),Ba=Qme(),ad=Object.assign,iA=Symbol.for("react.element"),bc=Symbol.for("react.transitional.element"),Tl=Symbol.for("react.portal"),Kp=Symbol.for("react.fragment"),rA=Symbol.for("react.strict_mode"),aA=Symbol.for("react.profiler"),Pw=Symbol.for("react.provider"),Pf=Symbol.for("react.consumer"),vu=Symbol.for("react.context"),Jp=Symbol.for("react.forward_ref"),Ix=Symbol.for("react.suspense"),Bf=Symbol.for("react.suspense_list"),fg=Symbol.for("react.memo"),Cl=Symbol.for("react.lazy"),hg=Symbol.for("react.offscreen"),Bw=Symbol.for("react.memo_cache_sentinel"),sA=Symbol.iterator,sd=Symbol.for("react.client.reference"),hn=nA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Px,oA,Of=!1,zf=Array.isArray,Bx=e.rendererVersion,dg=e.rendererPackageName,pg=e.extraDevToolsConfig,Qp=e.getPublicInstance,od=e.getRootHostContext,Ow=e.getChildHostContext,kf=e.prepareForCommit,lA=e.resetAfterCommit,uA=e.createInstance,mu=e.appendInitialChild,Sc=e.finalizeInitialChildren,Ff=e.shouldSetTextContent,Ox=e.createTextInstance,cA=e.scheduleTimeout,vg=e.cancelTimeout,ld=e.noTimeout,gu=e.isPrimaryRenderer;e.warnsIfNotActing;var Oa=e.supportsMutation,xo=e.supportsPersistence,As=e.supportsHydration,fA=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var hA=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ts=e.setCurrentUpdatePriority,ra=e.getCurrentUpdatePriority,Qo=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Uf=e.shouldAttemptEagerTransition,dA=e.detachDeletedInstance;e.requestPostPaintCallback;var zw=e.maySuspendCommit,Ac=e.preloadInstance,_o=e.startSuspendingCommit,pr=e.suspendInstance,zx=e.waitForCommitToBeReady,js=e.NotPendingTransition,gn=e.HostTransitionContext,zi=e.resetFormInstance;e.bindToConsole;var Ur=e.supportsMicrotasks,kx=e.scheduleMicrotask,yu=e.supportsTestSelectors,ud=e.findFiberRoot,Fx=e.getBoundingRect,mg=e.getTextContent,xu=e.isHiddenSubtree,aB=e.matchAccessibilityRole,vr=e.setFocusIfFocusable,pA=e.setupIntersectionObserver,vA=e.appendChild,kw=e.appendChildToContainer,Fw=e.commitTextUpdate,sB=e.commitMount,mA=e.commitUpdate,gA=e.insertBefore,yA=e.insertInContainerBefore,Ms=e.removeChild,wr=e.removeChildFromContainer,gg=e.resetTextContent,yg=e.hideInstance,Ux=e.hideTextInstance,xA=e.unhideInstance,Mc=e.unhideTextInstance,Gx=e.clearContainer,_A=e.cloneInstance,Vx=e.createContainerChildSet,bA=e.appendChildToContainerChildSet,Uw=e.finalizeContainerChildren,SA=e.replaceContainerChildren,AA=e.cloneHiddenInstance,MA=e.cloneHiddenTextInstance,jx=e.isSuspenseInstancePending,xg=e.isSuspenseInstanceFallback,Gw=e.getSuspenseInstanceFallbackErrorDetails,oB=e.registerSuspenseInstanceRetry,Vw=e.canHydrateFormStateMarker,jw=e.isFormStateMarkerMatching,TA=e.getNextHydratableSibling,Hx=e.getFirstHydratableChild,Hw=e.getFirstHydratableChildWithinContainer,Ww=e.getFirstHydratableChildWithinSuspenseInstance,Xw=e.canHydrateInstance,Yw=e.canHydrateTextInstance,qw=e.canHydrateSuspenseInstance,lB=e.hydrateInstance,Zw=e.hydrateTextInstance,$p=e.hydrateSuspenseInstance,Kw=e.getNextHydratableInstanceAfterSuspenseInstance,Wx=e.commitHydratedContainer,Xx=e.commitHydratedSuspenseInstance,Jw=e.clearSuspenseBoundary,CA=e.clearSuspenseBoundaryFromContainer,Qw=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var $w=e.validateHydratableInstance,eE=e.validateHydratableTextInstance,bo=e.supportsResources,wA=e.isHostHoistableType,Yx=e.getHoistableRoot,qx=e.getResource,EA=e.acquireResource,DA=e.releaseResource,RA=e.hydrateHoistable,LA=e.mountHoistable,NA=e.unmountHoistable,uB=e.createHoistableInstance,IA=e.prepareToCommitHoistables,tE=e.mayResourceSuspendCommit,PA=e.preloadResource,BA=e.suspendResource,za=e.supportsSingletons,OA=e.resolveSingletonInstance,cB=e.clearSingleton,fB=e.acquireSingletonInstance,nE=e.releaseSingletonInstance,ev=e.isHostSingletonType,_g=[],Tc=-1,cd={},Hs=Math.clz32?Math.clz32:M,bg=Math.log,iE=Math.LN2,tv=128,Sg=4194304,nv=Ba.unstable_scheduleCallback,Ag=Ba.unstable_cancelCallback,rE=Ba.unstable_shouldYield,aE=Ba.unstable_requestPaint,ka=Ba.unstable_now,zA=Ba.unstable_ImmediatePriority,sE=Ba.unstable_UserBlockingPriority,Zx=Ba.unstable_NormalPriority,Kx=Ba.unstable_IdlePriority,oE=Ba.log,kA=Ba.unstable_setDisableYieldValue,iv=null,Ws=null,So=typeof Object.is=="function"?Object.is:q,Jx=new WeakMap,er=[],mr=0,Mg=null,Tg=0,Ao=[],Mo=0,wl=null,_u=1,$o="",ba=y(null),Cg=y(null),El=y(null),rv=y(null),ns=null,Fa=null,di=!1,To=null,el=!1,wg=Error(r(519)),Co=[],Gf=0,av=0,sv=null,fd=null,Eg=!1,Dg=!1,Dl=!1,Vf=0,Rg=null,Qx=0,Xs=0,jf=null,Cc=!1,ov=!1,Lg=Object.prototype.hasOwnProperty,Ni=Error(r(460)),FA=Error(r(474)),$x={then:function(){}},hd=null,bu=null,tl=0,Hf=ea(!0),UA=ea(!1),Su=y(null),wo=y(0),Eo=y(null),nl=null,Gr=y(0),Au=0,On=null,Si=null,Er=null,il=!1,tr=!1,wc=!1,Ng=0,gr=0,lv=null,lE=0,e_=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},pi={readContext:Pa,use:Oe,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useLayoutEffect:Fn,useInsertionEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useSyncExternalStore:Fn,useId:Fn};pi.useCacheRefresh=Fn,pi.useMemoCache=Fn,pi.useHostTransitionStatus=Fn,pi.useFormState=Fn,pi.useActionState=Fn,pi.useOptimistic=Fn;var Vr={readContext:Pa,use:Oe,useCallback:function(_,S){return Cr().memoizedState=[_,S===void 0?null:S],_},useContext:Pa,useEffect:ES,useImperativeHandle:function(_,S,R){R=R!=null?R.concat([_]):null,Ko(4194308,4,Xm.bind(null,S,_),R)},useLayoutEffect:function(_,S){return Ko(4194308,4,_,S)},useInsertionEffect:function(_,S){Ko(4,2,_,S)},useMemo:function(_,S){var R=Cr();S=S===void 0?null:S;var O=_();if(wc){X(!0);try{_()}finally{X(!1)}}return R.memoizedState=[O,S],O},useReducer:function(_,S,R){var O=Cr();if(R!==void 0){var F=R(S);if(wc){X(!0);try{R(S)}finally{X(!1)}}}else F=S;return O.memoizedState=O.baseState=F,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_,lastRenderedState:F},O.queue=_,_=_.dispatch=yf.bind(null,On,_),[O.memoizedState,_]},useRef:function(_){var S=Cr();return _={current:_},S.memoizedState=_},useState:function(_){_=li(_);var S=_.queue,R=cx.bind(null,On,S);return S.dispatch=R,[_.memoizedState,R]},useDebugValue:Ym,useDeferredValue:function(_,S){var R=Cr();return gf(R,_,S)},useTransition:function(){var _=li(!1);return _=lx.bind(null,On,_.queue,!0,!1),Cr().memoizedState=_,[!1,_]},useSyncExternalStore:function(_,S,R){var O=On,F=Cr();if(di){if(R===void 0)throw Error(r(407));R=R()}else{if(R=S(),Yn===null)throw Error(r(349));(Vn&60)!==0||on(O,S,R)}F.memoizedState=R;var H={value:R,getSnapshot:S};return F.queue=H,ES(en.bind(null,O,H,_),[_]),O.flags|=2048,dr(9,fn.bind(null,O,H,R,S),{destroy:void 0},null),R},useId:function(){var _=Cr(),S=Yn.identifierPrefix;if(di){var R=$o,O=_u;R=(O&~(1<<32-Hs(O)-1)).toString(32)+R,S=":"+S+"R"+R,R=Ng++,0<R&&(S+="H"+R.toString(32)),S+=":"}else R=lE++,S=":"+S+"r"+R.toString(32)+":";return _.memoizedState=S},useCacheRefresh:function(){return Cr().memoizedState=qm.bind(null,On)}};Vr.useMemoCache=Re,Vr.useHostTransitionStatus=qh,Vr.useFormState=ou,Vr.useActionState=ou,Vr.useOptimistic=function(_){var S=Cr();S.memoizedState=S.baseState=_;var R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return S.queue=R,S=fx.bind(null,On,!0,R),R.dispatch=S,[_,S]};var is={readContext:Pa,use:Oe,useCallback:ox,useContext:Pa,useEffect:Wm,useImperativeHandle:lu,useInsertionEffect:cw,useLayoutEffect:fw,useMemo:Yh,useReducer:mt,useRef:bl,useState:function(){return mt(Ae)},useDebugValue:Ym,useDeferredValue:function(_,S){var R=ne();return DS(R,Si.memoizedState,_,S)},useTransition:function(){var _=mt(Ae)[0],S=ne().memoizedState;return[typeof _=="boolean"?_:be(_),S]},useSyncExternalStore:Gt,useId:uu};is.useCacheRefresh=ux,is.useMemoCache=Re,is.useHostTransitionStatus=qh,is.useFormState=Vi,is.useActionState=Vi,is.useOptimistic=function(_,S){var R=ne();return Kn(R,Si,_,S)};var Wf={readContext:Pa,use:Oe,useCallback:ox,useContext:Pa,useEffect:Wm,useImperativeHandle:lu,useInsertionEffect:cw,useLayoutEffect:fw,useMemo:Yh,useReducer:zt,useRef:bl,useState:function(){return zt(Ae)},useDebugValue:Ym,useDeferredValue:function(_,S){var R=ne();return Si===null?gf(R,_,S):DS(R,Si.memoizedState,_,S)},useTransition:function(){var _=zt(Ae)[0],S=ne().memoizedState;return[typeof _=="boolean"?_:be(_),S]},useSyncExternalStore:Gt,useId:uu};Wf.useCacheRefresh=ux,Wf.useMemoCache=Re,Wf.useHostTransitionStatus=qh,Wf.useFormState=ia,Wf.useActionState=ia,Wf.useOptimistic=function(_,S){var R=ne();return Si!==null?Kn(R,Si,_,S):(R.baseState=_,[_,R.queue.dispatch])};var t_={isMounted:function(_){return(_=_._reactInternals)?f(_)===_:!1},enqueueSetState:function(_,S,R){_=_._reactInternals;var O=Ss(),F=et(O);F.payload=S,R!=null&&(F.callback=R),S=it(_,F,O),S!==null&&($a(S,_,O),Ht(S,_,O))},enqueueReplaceState:function(_,S,R){_=_._reactInternals;var O=Ss(),F=et(O);F.tag=1,F.payload=S,R!=null&&(F.callback=R),S=it(_,F,O),S!==null&&($a(S,_,O),Ht(S,_,O))},enqueueForceUpdate:function(_,S){_=_._reactInternals;var R=Ss(),O=et(R);O.tag=2,S!=null&&(O.callback=S),S=it(_,O,R),S!==null&&($a(S,_,R),Ht(S,_,R))}},GA=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var S=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(S))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},uE=Error(r(461)),Dr=!1,rs={dehydrated:null,treeContext:null,retryLane:0},Ys=y(null),Xf=null,yr=null,cE=typeof AbortController<"u"?AbortController:function(){var _=[],S=this.signal={aborted:!1,addEventListener:function(R,O){_.push(O)}};this.abort=function(){S.aborted=!0,_.forEach(function(R){return R()})}},Ec=Ba.unstable_scheduleCallback,dd=Ba.unstable_NormalPriority,wi={$$typeof:vu,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},n_=hn.S;hn.S=function(_,S){typeof S=="object"&&S!==null&&typeof S.then=="function"&&je(_,S),n_!==null&&n_(_,S)};var Dc=y(null),aa=!1,lr=!1,Yf=!1,uv=typeof WeakSet=="function"?WeakSet:Set,xr=null,pd=!1,Rr=null,qs=!1,Ts=null,vd=8192,i_={getCacheForType:function(_){var S=Pa(wi),R=S.data.get(_);return R===void 0&&(R=_(),S.data.set(_,R)),R}},Ig=0,r_=1,a_=2,ui=3,Ei=4;if(typeof Symbol=="function"&&Symbol.for){var zn=Symbol.for;Ig=zn("selector.component"),r_=zn("selector.has_pseudo_class"),a_=zn("selector.role"),ui=zn("selector.test_id"),Ei=zn("selector.text")}var $n=typeof WeakMap=="function"?WeakMap:Map,nn=0,Yn=null,En=null,Vn=0,ki=0,Lr=null,Di=!1,Do=!1,Rc=!1,Rl=0,ci=0,Ro=0,Ll=0,as=0,Zs=0,Lc=0,cv=null,Lo=null,fv=!1,Mu=0,ur=1/0,Nl=null,No=null,rl=!1,Nc=null,md=0,s_=0,gd=null,yd=0,Cs=null;return tn.attemptContinuousHydration=function(_){if(_.tag===13){var S=qe(_,67108864);S!==null&&$a(S,_,67108864),tA(_,67108864)}},tn.attemptHydrationAtCurrentPriority=function(_){if(_.tag===13){var S=Ss(),R=qe(_,S);R!==null&&$a(R,_,S),tA(_,S)}},tn.attemptSynchronousHydration=function(_){switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var S=C(_.pendingLanes);if(S!==0){for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var R=1<<31-Hs(S);_.entanglements[1]|=R,S&=~R}_t(_),(nn&6)===0&&(ur=ka()+500,pt(0))}}break;case 13:S=qe(_,2),S!==null&&$a(S,_,2),KS(),tA(_,2)}},tn.batchedUpdates=function(_,S){return _(S)},tn.createComponentSelector=function(_){return{$$typeof:Ig,value:_}},tn.createContainer=function(_,S,R,O,F,H,re,pe,Ce,Ze){return _a(_,S,!1,null,R,O,H,re,pe,Ce,Ze,null)},tn.createHasPseudoClassSelector=function(_){return{$$typeof:r_,value:_}},tn.createHydrationContainer=function(_,S,R,O,F,H,re,pe,Ce,Ze,gt,Dt,Pt){return _=_a(R,O,!0,_,F,H,pe,Ce,Ze,gt,Dt,Pt),_.context=cg(null),R=_.current,O=Ss(),F=et(O),F.callback=S??null,it(R,F,O),_.current.lanes=O,z(_,O),_t(_),_},tn.createPortal=function(_,S,R){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tl,key:O==null?null:""+O,children:_,containerInfo:S,implementation:R}},tn.createRoleSelector=function(_){return{$$typeof:a_,value:_}},tn.createTestNameSelector=function(_){return{$$typeof:ui,value:_}},tn.createTextSelector=function(_){return{$$typeof:Ei,value:_}},tn.defaultOnCaughtError=function(_){console.error(_)},tn.defaultOnRecoverableError=function(_){GA(_)},tn.defaultOnUncaughtError=function(_){GA(_)},tn.deferredUpdates=function(_){var S=hn.T,R=ra();try{return ts(32),hn.T=null,_()}finally{ts(R),hn.T=S}},tn.discreteUpdates=function(_,S,R,O,F){var H=hn.T,re=ra();try{return ts(2),hn.T=null,_(S,R,O,F)}finally{ts(re),hn.T=H,nn===0&&(ur=ka()+500)}},tn.findAllNodes=bs,tn.findBoundingRects=function(_,S){if(!yu)throw Error(r(363));S=bs(_,S),_=[];for(var R=0;R<S.length;R++)_.push(Fx(S[R]));for(S=_.length-1;0<S;S--){R=_[S];for(var O=R.x,F=O+R.width,H=R.y,re=H+R.height,pe=S-1;0<=pe;pe--)if(S!==pe){var Ce=_[pe],Ze=Ce.x,gt=Ze+Ce.width,Dt=Ce.y,Pt=Dt+Ce.height;if(O>=Ze&&H>=Dt&&F<=gt&&re<=Pt){_.splice(S,1);break}else if(O!==Ze||R.width!==Ce.width||Pt<H||Dt>re){if(!(H!==Dt||R.height!==Ce.height||gt<O||Ze>F)){Ze>O&&(Ce.width+=Ze-O,Ce.x=O),gt<F&&(Ce.width=F-Ze),_.splice(S,1);break}}else{Dt>H&&(Ce.height+=Dt-H,Ce.y=H),Pt<re&&(Ce.height=re-Dt),_.splice(S,1);break}}}return _},tn.findHostInstance=eA,tn.findHostInstanceWithNoPortals=function(_){return _=d(_),_=_!==null?m(_):null,_===null?null:Qp(_.stateNode)},tn.findHostInstanceWithWarning=function(_){return eA(_)},tn.flushPassiveEffects=xa,tn.flushSyncFromReconciler=function(_){var S=nn;nn|=1;var R=hn.T,O=ra();try{if(ts(2),hn.T=null,_)return _()}finally{ts(O),hn.T=R,nn=S,(nn&6)===0&&pt(0)}},tn.flushSyncWork=KS,tn.focusWithin=function(_,S){if(!yu)throw Error(r(363));for(_=Cx(_),S=Dw(_,S),S=Array.from(S),_=0;_<S.length;){var R=S[_++],O=R.tag;if(!xu(R)){if((O===5||O===26||O===27)&&vr(R.stateNode))return!0;for(R=R.child;R!==null;)S.push(R),R=R.sibling}}return!1},tn.getFindAllNodesFailureDescription=function(_,S){if(!yu)throw Error(r(363));var R=0,O=[];_=[Cx(_),0];for(var F=0;F<_.length;){var H=_[F++],re=H.tag,pe=_[F++],Ce=S[pe];if((re!==5&&re!==26&&re!==27||!xu(H))&&(Yp(H,Ce)&&(O.push(Lf(Ce)),pe++,pe>R&&(R=pe)),pe<S.length))for(H=H.child;H!==null;)_.push(H,pe),H=H.sibling}if(R<S.length){for(_=[];R<S.length;R++)_.push(Lf(S[R]));return`findAllNodes was able to match part of the selector:
  `+(O.join(" > ")+`

No matching component was found for:
  `)+_.join(" > ")}return null},tn.getPublicRootInstance=function(_){if(_=_.current,!_.child)return null;switch(_.child.tag){case 27:case 5:return Qp(_.child.stateNode);default:return _.child.stateNode}},tn.injectIntoDevTools=function(){var _={bundleType:0,version:Bx,rendererPackageName:dg,currentDispatcherRef:hn,findFiberByHostInstance:fA,reconcilerVersion:"19.0.0"};if(pg!==null&&(_.rendererConfig=pg),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")_=!1;else{var S=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(S.isDisabled||!S.supportsFiber)_=!0;else{try{iv=S.inject(_),Ws=S}catch{}_=!!S.checkDCE}}return _},tn.isAlreadyRendering=function(){return!1},tn.observeVisibleRects=function(_,S,R,O){if(!yu)throw Error(r(363));_=bs(_,S);var F=pA(_,R,O).disconnect;return{disconnect:function(){F()}}},tn.shouldError=function(){return null},tn.shouldSuspend=function(){return!1},tn.startHostTransition=function(_,S,R,O){if(_.tag!==5)throw Error(r(476));var F=RS(_).queue;lx(_,F,S,js,R===null?i:function(){var H=RS(_).next.queue;return xf(_,H,{},Ss()),R(O)})},tn.updateContainer=function(_,S,R,O){var F=S.current,H=Ss();return Nw(F,H,_,S,R,O),H},tn.updateContainerSync=function(_,S,R,O){return S.tag===0&&xa(),Nw(S.current,2,_,S,R,O),2},tn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(Zz)),Zz.exports}var xne;function itt(){return xne||(xne=1,qz.exports=ntt()),qz.exports}var rtt=itt();const att=hI(rtt);var _ne=Qme();function oH(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=oH(i,e,t);if(r)return r;i=e?null:i.sibling}}function $me(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const lH=$me(Y.createContext(null));let ege=class extends Y.Component{render(){return Y.createElement(lH.Provider,{value:this._reactInternals},this.props.children)}};function tge(){const n=Y.useContext(lH);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Y.useId();return Y.useMemo(()=>{for(const t of[n,n?.alternate]){if(!t)continue;const i=oH(t,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[n,e])}const stt=Symbol.for("react.context"),ott=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===stt;function ltt(){const n=tge(),[e]=Y.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;ott(i)&&i!==lH&&!e.has(i)&&e.set(i,Y.use($me(i))),t=t.return}return e}function utt(){const n=ltt();return Y.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>Y.createElement(e,null,Y.createElement(t.Provider,{...i,value:n.get(t)})),e=>Y.createElement(ege,{...e})),[n])}function nge(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const ige=n=>n&&n.isOrthographicCamera,ctt=n=>n&&n.hasOwnProperty("current"),ftt=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),sw=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?Y.useLayoutEffect:Y.useEffect;function rge(n){const e=Y.useRef(n);return sw(()=>void(e.current=n),[n]),e}function htt(){const n=tge(),e=utt();return Y.useMemo(()=>({children:t})=>{const r=!!oH(n,!0,a=>a.type===Y.StrictMode)?Y.StrictMode:Y.Fragment;return T.jsx(r,{children:T.jsx(e,{children:t})})},[n,e])}function dtt({set:n}){return sw(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const ptt=(n=>(n=class extends Y.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function age(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function c1(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const _r={obj:n=>n===Object(n)&&!_r.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(_r.str(n)||_r.num(n)||_r.boo(n))return n===e;const a=_r.obj(n);if(a&&i==="reference")return n===e;const s=_r.arr(n);if(s&&t==="reference")return n===e;if((s||a)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(a&&t==="shallow"&&i==="shallow"){for(o in r?e:n)if(!_r.equ(n[o],e[o],{strict:r,objects:"reference"}))return!1}else for(o in r?e:n)if(n[o]!==e[o])return!1;if(_r.und(o)){if(s&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function vtt(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function mtt(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const sge=["children","key","ref"];function gtt(n){const e={};for(const t in n)sge.includes(t)||(e[t]=n[t]);return e}function tI(n,e,t,i){const r=n;let a=r?.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:gtt(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function pC(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const i=e.split("-");for(const r of i){if(typeof t!="object"||t===null){if(t!==void 0){const a=i.slice(i.indexOf(r)).join("-");return{root:t,key:a,target:void 0}}return{root:n,key:e,target:void 0}}e=r,n=t,t=t[e]}return{root:n,key:e,target:t}}const bne=/-\d+$/;function nI(n,e){if(_r.str(e.props.attach)){if(bne.test(e.props.attach)){const r=e.props.attach.replace(bne,""),{root:a,key:s}=pC(n.object,r);Array.isArray(a[s])||(a[s]=[])}const{root:t,key:i}=pC(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else _r.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function iI(n,e){if(_r.str(e.props.attach)){const{root:t,key:i}=pC(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const Z8=[...sge,"args","dispose","attach","object","onUpdate","dispose"],Sne=new Map;function ytt(n){let e=Sne.get(n.constructor);try{e||(e=new n.constructor,Sne.set(n.constructor,e))}catch{}return e}function xtt(n,e){const t={};for(const i in e)if(!Z8.includes(i)&&!_r.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(Z8.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=pC(n.object,i);if(r.constructor&&r.constructor.length===0){const s=ytt(r);_r.und(s)||(t[a]=s[a])}else t[a]=0}return t}const _tt=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],btt=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function jv(n,e){var t;const i=n.__r3f,r=i&&nge(i).getState(),a=i?.eventCount;for(const o in e){let l=e[o];if(Z8.includes(o))continue;if(i&&btt.test(o)){typeof l=="function"?i.handlers[o]=l:delete i.handlers[o],i.eventCount=Object.keys(i.handlers).length;continue}if(l===void 0)continue;let{root:u,key:c,target:f}=pC(n,o);if(f===void 0&&(typeof u!="object"||u===null))throw Error(`R3F: Cannot set "${o}". Ensure it is an object before setting "${c}".`);if(f instanceof Bb&&l instanceof Bb)f.mask=l.mask;else if(f instanceof Et&&ftt(l))f.set(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof f.copy=="function"&&l!=null&&l.constructor&&f.constructor===l.constructor)f.copy(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&Array.isArray(l))typeof f.fromArray=="function"?f.fromArray(l):f.set(...l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof l=="number")typeof f.setScalar=="function"?f.setScalar(l):f.set(l);else{var s;u[c]=l,r&&!r.linear&&_tt.includes(c)&&(s=u[c])!=null&&s.isTexture&&u[c].format===lo&&u[c].type===tc&&(u[c].colorSpace=ao)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&a!==i.eventCount){const o=i.object,l=r.internal.interaction.indexOf(o);l>-1&&r.internal.interaction.splice(l,1),i.eventCount&&o.raycast!==null&&r.internal.interaction.push(o)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&TS(i),n}function TS(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function Stt(n,e){n.manual||(ige(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Fo=n=>n?.isObject3D;function VR(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function oge(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function Att(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{oge(t.capturedMap,e,i,r)})}function Mtt(n){function e(l){const{internal:u}=n.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function i(l,u){const c=n.getState(),f=new Set,h=[],d=u?u(c.internal.interaction):c.internal.interaction;for(let x=0;x<d.length;x++){const b=c1(d[x]);b&&(b.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function v(x){const b=c1(x);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var M;b.events.compute==null||b.events.compute(l,b,(M=b.previousRoot)==null?void 0:M.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(x,!0):[]}let m=d.flatMap(v).sort((x,b)=>{const M=c1(x.object),C=c1(b.object);return!M||!C?x.distance-b.distance:C.events.priority-M.events.priority||x.distance-b.distance}).filter(x=>{const b=VR(x);return f.has(b)?!1:(f.add(b),!0)});c.events.filter&&(m=c.events.filter(m,c));for(const x of m){let b=x.object;for(;b;){var y;(y=b.__r3f)!=null&&y.eventCount&&h.push({...x,eventObject:b}),b=b.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let x of c.internal.capturedMap.get(l.pointerId).values())f.has(VR(x.intersection))||h.push(x.intersection);return h}function r(l,u,c,f){if(l.length){const h={stopped:!1};for(const d of l){let v=c1(d.object);if(v||d.object.traverseAncestors(m=>{const y=c1(m);if(y)return v=y,!1}),v){const{raycaster:m,pointer:y,camera:x,internal:b}=v,M=new le(y.x,y.y,0).unproject(x),C=I=>{var N,z;return(N=(z=b.capturedMap.get(I))==null?void 0:z.has(d.eventObject))!=null?N:!1},w=I=>{const N={intersection:d,target:u.target};b.capturedMap.has(I)?b.capturedMap.get(I).set(d.eventObject,N):b.capturedMap.set(I,new Map([[d.eventObject,N]])),u.target.setPointerCapture(I)},E=I=>{const N=b.capturedMap.get(I);N&&oge(b.capturedMap,d.eventObject,N,I)};let L={};for(let I in u){let N=u[I];typeof N!="function"&&(L[I]=N)}let P={...d,...L,pointer:y,intersections:l,stopped:h.stopped,delta:c,unprojectedPoint:M,ray:m.ray,camera:x,stopPropagation(){const I="pointerId"in u&&b.capturedMap.get(u.pointerId);if((!I||I.has(d.eventObject))&&(P.stopped=h.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(N=>N.eventObject===d.eventObject))){const N=l.slice(0,l.indexOf(d));a([...N,d])}},target:{hasPointerCapture:C,setPointerCapture:w,releasePointerCapture:E},currentTarget:{hasPointerCapture:C,setPointerCapture:w,releasePointerCapture:E},nativeEvent:u};if(f(P),h.stopped===!0)break}}}return l}function a(l){const{internal:u}=n.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const h=c.eventObject.__r3f;if(u.hovered.delete(VR(c)),h!=null&&h.eventCount){const d=h.handlers,v={...c,intersections:l};d.onPointerOut==null||d.onPointerOut(v),d.onPointerLeave==null||d.onPointerLeave(v)}}}function s(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return u=>{const{internal:c}=n.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),a([]))})}}return function(c){const{onPointerMissed:f,internal:h}=n.getState();h.lastEvent.current=c;const d=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=i(c,d?t:void 0),x=v?e(c):0;l==="onPointerDown"&&(h.initialClick=[c.offsetX,c.offsetY],h.initialHits=y.map(M=>M.eventObject)),v&&!y.length&&x<=2&&(s(c,h.interaction),f&&f(c)),d&&a(y);function b(M){const C=M.eventObject,w=C.__r3f;if(!(w!=null&&w.eventCount))return;const E=w.handlers;if(d){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const L=VR(M),P=h.hovered.get(L);P?P.stopped&&M.stopPropagation():(h.hovered.set(L,M),E.onPointerOver==null||E.onPointerOver(M),E.onPointerEnter==null||E.onPointerEnter(M))}E.onPointerMove==null||E.onPointerMove(M)}else{const L=E[l];L?(!v||h.initialHits.includes(C))&&(s(c,h.interaction.filter(P=>!h.initialHits.includes(P))),L(M)):v&&h.initialHits.includes(C)&&s(c,h.interaction.filter(P=>!h.initialHits.includes(P)))}}r(y,c,x,b)}}return{handlePointer:o}}const Ane=n=>!!(n!=null&&n.render),lge=Y.createContext(null),Ttt=(n,e)=>{const t=Ket((o,l)=>{const u=new le,c=new le,f=new le;function h(x=l().camera,b=c,M=l().size){const{width:C,height:w,top:E,left:L}=M,P=C/w;b.isVector3?f.copy(b):f.set(...b);const I=x.getWorldPosition(u).distanceTo(f);if(ige(x))return{width:C/x.zoom,height:w/x.zoom,top:E,left:L,factor:1,distance:I,aspect:P};{const N=x.fov*Math.PI/180,z=2*Math.tan(N/2)*I,V=z*(C/w);return{width:V,height:z,top:E,left:L,factor:C/V,distance:I,aspect:P}}}let d;const v=x=>o(b=>({performance:{...b.performance,current:x}})),m=new Ke;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(x=1)=>n(l(),x),advance:(x,b)=>e(x,b,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new nH,pointer:m,mouse:m,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();d&&clearTimeout(d),x.performance.current!==x.performance.min&&v(x.performance.min),d=setTimeout(()=>v(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:x=>o(b=>({...b,events:{...b.events,...x}})),setSize:(x,b,M=0,C=0)=>{const w=l().camera,E={width:x,height:b,top:M,left:C};o(L=>({size:E,viewport:{...L.viewport,...h(w,c,E)}}))},setDpr:x=>o(b=>{const M=age(x);return{viewport:{...b.viewport,dpr:M,initialDpr:b.viewport.initialDpr||M}}}),setFrameloop:(x="always")=>{const b=l().clock;b.stop(),b.elapsedTime=0,x!=="never"&&(b.start(),b.elapsedTime=0),o(()=>({frameloop:x}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:Y.createRef(),active:!1,frames:0,priority:0,subscribe:(x,b,M)=>{const C=l().internal;return C.priority=C.priority+(b>0?1:0),C.subscribers.push({ref:x,priority:b,store:M}),C.subscribers=C.subscribers.sort((w,E)=>w.priority-E.priority),()=>{const w=l().internal;w!=null&&w.subscribers&&(w.priority=w.priority-(b>0?1:0),w.subscribers=w.subscribers.filter(E=>E.ref!==x))}}}}}),i=t.getState();let r=i.size,a=i.viewport.dpr,s=i.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:u,gl:c,set:f}=t.getState();if(l.width!==r.width||l.height!==r.height||u.dpr!==a){r=l,a=u.dpr,Stt(o,l),u.dpr>0&&c.setPixelRatio(u.dpr);const h=typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,h)}o!==s&&(s=o,f(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};function uge(){const n=Y.useContext(lge);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function kl(n=t=>t,e){return uge()(n,e)}function cge(n,e=0){const t=uge(),i=t.getState().internal.subscribe,r=rge(n);return sw(()=>i(r,e,t),[e,i,t]),null}const Mne=new WeakMap,Ctt=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function fge(n,e){return function(t,...i){let r;return Ctt(t)?(r=Mne.get(t),r||(r=new t,Mne.set(t,r))):r=t,n&&n(r),Promise.all(i.map(a=>new Promise((s,o)=>r.load(a,l=>{Fo(l?.scene)&&Object.assign(l,vtt(l.scene)),s(l)},e,l=>o(new Error(`Could not load ${a}: ${l?.message}`))))))}}function ow(n,e,t,i){const r=Array.isArray(e)?e:[e],a=Qet(fge(t,i),[n,...r],{equal:_r.equ});return Array.isArray(e)?a:a[0]}ow.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return $et(fge(t),[n,...i])};ow.clear=function(n,e){const t=Array.isArray(e)?e:[e];return ett([n,...t])};function wtt(n){const e=att(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Y.version}),e}const hge=0,Fb={},Ett=/^three(?=[A-Z])/,JP=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let Dtt=0;const Rtt=n=>typeof n=="function";function Ltt(n){if(Rtt(n)){const e=`${Dtt++}`;return Fb[e]=n,e}else Object.assign(Fb,n)}function dge(n,e){const t=JP(n),i=Fb[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Ntt(n,e,t){var i;return n=JP(n)in Fb?n:n.replace(Ett,""),dge(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,tI(e.object,t,n,e)}function Itt(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?iI(n.parent,n):Fo(n.object)&&(n.object.visible=!1),n.isHidden=!0,TS(n)}}function pge(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?nI(n.parent,n):Fo(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,TS(n)}}function uH(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,a;const s=Fb[JP(e.type)];e.object=(r=e.props.object)!=null?r:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(jv(e.object,e.props),e.props.attach)nI(n,e);else if(Fo(e.object)&&Fo(n.object)){const s=n.object.children.indexOf(t?.object);if(t&&s!==-1){const o=n.object.children.indexOf(e.object);if(o!==-1){n.object.children.splice(o,1);const l=o<s?s-1:s;n.object.children.splice(l,0,e.object)}else e.object.parent=n.object,n.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const s of e.children)uH(e,s);TS(e)}}function Qz(n,e){e&&(e.parent=n,n.children.push(e),uH(n,e))}function Tne(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),uH(n,e,t)}function vge(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():_ne.unstable_scheduleCallback(_ne.unstable_IdlePriority,e)}}function K8(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?iI(n,e):Fo(e.object)&&Fo(n.object)&&(n.object.remove(e.object),Att(nge(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];K8(e,s,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&vge(e.object),t===void 0&&TS(e)}function Ptt(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const P3=[];function Btt(){for(const[t]of P3){const i=t.parent;if(i){t.props.attach?iI(i,t):Fo(t.object)&&Fo(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?iI(t,r):Fo(r.object)&&Fo(t.object)&&t.object.remove(r.object)}t.isHidden&&pge(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&vge(t.object)}for(const[t,i,r]of P3){t.props=i;const a=t.parent;if(a){var n,e;const s=Fb[JP(t.type)];t.object=(n=t.props.object)!=null?n:new s(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Ptt(r,t.object),jv(t.object,t.props),t.props.attach?nI(a,t):Fo(t.object)&&Fo(a.object)&&a.object.add(t.object);for(const o of t.children)o.props.attach?nI(t,o):Fo(o.object)&&Fo(t.object)&&t.object.add(o.object);TS(t)}}P3.length=0}const $z=()=>{},Cne={};let jR=hge;const Ott=0,ztt=4,J8=wtt({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Ntt,removeChild:K8,appendChild:Qz,appendInitialChild:Qz,insertBefore:Tne,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||Qz(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||K8(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||Tne(i,e,t)},getRootHostContext:()=>Cne,getChildHostContext:()=>Cne,commitUpdate(n,e,t,i,r){var a,s,o;dge(e,i);let l=!1;if((n.type==="primitive"&&t.object!==i.object||((a=i.args)==null?void 0:a.length)!==((s=t.args)==null?void 0:s.length)||(o=i.args)!=null&&o.some((c,f)=>{var h;return c!==((h=t.args)==null?void 0:h[f])}))&&(l=!0),l)P3.push([n,{...i},r]);else{const c=xtt(n,i);Object.keys(c).length&&(Object.assign(n.props,c),jv(n.object,c))}(r.sibling===null||(r.flags&ztt)===Ott)&&Btt()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>tI(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Itt,unhideInstance:pge,createTextInstance:$z,hideTextInstance:$z,unhideTextInstance:$z,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:Y.createContext(null),setCurrentUpdatePriority(n){jR=n},getCurrentUpdatePriority(){return jR},resolveUpdatePriority(){var n;if(jR!==hge)return jR;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return R3.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return R3.ContinuousEventPriority;default:return R3.DefaultEventPriority}},resetFormInstance(){}}),Wy=new Map,f1={objects:"shallow",strict:!1};function ktt(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Ftt(n){const e=Wy.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||Ttt(eG,Ene),s=t||J8.createContainer(a,R3.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||Wy.set(n,{fiber:s,store:a});let o,l,u=!1,c=null;return{async configure(f={}){let h;c=new Promise(J=>h=J);let{gl:d,size:v,scene:m,events:y,onCreated:x,shadows:b=!1,linear:M=!1,flat:C=!1,legacy:w=!1,orthographic:E=!1,frameloop:L="always",dpr:P=[1,2],performance:I,raycaster:N,camera:z,onPointerMissed:V}=f,U=a.getState(),j=U.gl;if(!U.gl){const J={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},Q=typeof d=="function"?await d(J):d;Ane(Q)?j=Q:j=new Zme({...J,...d}),U.set({gl:j})}let W=U.raycaster;W||U.set({raycaster:W=new Gme});const{params:G,...X}=N||{};if(_r.equ(X,W,f1)||jv(W,{...X}),_r.equ(G,W.params,f1)||jv(W,{params:{...W.params,...G}}),!U.camera||U.camera===l&&!_r.equ(l,z,f1)){l=z;const J=z?.isCamera,Q=J?z:E?new up(0,0,0,0,.1,1e3):new qr(75,0,.1,1e3);J||(Q.position.z=5,z&&(jv(Q,z),Q.manual||("aspect"in z||"left"in z||"right"in z||"bottom"in z||"top"in z)&&(Q.manual=!0,Q.updateProjectionMatrix())),!U.camera&&!(z!=null&&z.rotation)&&Q.lookAt(0,0,0)),U.set({camera:Q}),W.camera=Q}if(!U.scene){let J;m!=null&&m.isScene?(J=m,tI(J,a,"",{})):(J=new Nj,tI(J,a,"",{}),m&&jv(J,m)),U.set({scene:J})}y&&!U.events.handlers&&U.set({events:y(a)});const q=ktt(n,v);if(_r.equ(q,U.size,f1)||U.setSize(q.width,q.height,q.top,q.left),P&&U.viewport.dpr!==age(P)&&U.setDpr(P),U.frameloop!==L&&U.setFrameloop(L),U.onPointerMissed||U.set({onPointerMissed:V}),I&&!_r.equ(I,U.performance,f1)&&U.set(J=>({performance:{...J.performance,...I}})),!U.xr){var $;const J=(ce,ue)=>{const fe=a.getState();fe.frameloop!=="never"&&Ene(ce,!0,fe,ue)},Q=()=>{const ce=a.getState();ce.gl.xr.enabled=ce.gl.xr.isPresenting,ce.gl.xr.setAnimationLoop(ce.gl.xr.isPresenting?J:null),ce.gl.xr.isPresenting||eG(ce)},se={connect(){const ce=a.getState().gl;ce.xr.addEventListener("sessionstart",Q),ce.xr.addEventListener("sessionend",Q)},disconnect(){const ce=a.getState().gl;ce.xr.removeEventListener("sessionstart",Q),ce.xr.removeEventListener("sessionend",Q)}};typeof(($=j.xr)==null?void 0:$.addEventListener)=="function"&&se.connect(),U.set({xr:se})}if(j.shadowMap){const J=j.shadowMap.enabled,Q=j.shadowMap.type;if(j.shadowMap.enabled=!!b,_r.boo(b))j.shadowMap.type=J2;else if(_r.str(b)){var te;const se={basic:eve,percentage:pP,soft:J2,variance:jc};j.shadowMap.type=(te=se[b])!=null?te:J2}else _r.obj(b)&&Object.assign(j.shadowMap,b);(J!==j.shadowMap.enabled||Q!==j.shadowMap.type)&&(j.shadowMap.needsUpdate=!0)}return gi.enabled=!w,u||(j.outputColorSpace=M?Em:ao,j.toneMapping=C?Eh:yj),U.legacy!==w&&U.set(()=>({legacy:w})),U.linear!==M&&U.set(()=>({linear:M})),U.flat!==C&&U.set(()=>({flat:C})),d&&!_r.fun(d)&&!Ane(d)&&!_r.equ(d,j,f1)&&jv(j,d),o=x,u=!0,h(),this},render(f){return!u&&!c&&this.configure(),c.then(()=>{J8.updateContainer(T.jsx(Utt,{store:a,children:f,onCreated:o,rootElement:n}),s,null,()=>{})}),a},unmount(){mge(n)}}}function Utt({store:n,children:e,onCreated:t,rootElement:i}){return sw(()=>{const r=n.getState();r.set(a=>({internal:{...a.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),T.jsx(lge.Provider,{value:n,children:e})}function mge(n,e){const t=Wy.get(n),i=t?.fiber;if(i){const r=t?.store.getState();r&&(r.internal.active=!1),J8.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,s,o,l;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(o=r.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),mtt(r.scene),Wy.delete(n)}catch{}},500)})}}const Gtt=new Set,Vtt=new Set,jtt=new Set;function ek(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function aT(n,e){switch(n){case"before":return ek(Gtt,e);case"after":return ek(Vtt,e);case"tail":return ek(jtt,e)}}let tk,nk;function Q8(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),tk=e.internal.subscribers;for(let r=0;r<tk.length;r++)nk=tk[r],nk.ref.current(nk.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let rI=!1,$8=!1,ik,wne,h1;function gge(n){wne=requestAnimationFrame(gge),rI=!0,ik=0,aT("before",n),$8=!0;for(const t of Wy.values()){var e;h1=t.store.getState(),h1.internal.active&&(h1.frameloop==="always"||h1.internal.frames>0)&&!((e=h1.gl.xr)!=null&&e.isPresenting)&&(ik+=Q8(n,h1))}if($8=!1,aT("after",n),ik===0)return aT("tail",n),rI=!1,cancelAnimationFrame(wne)}function eG(n,e=1){var t;if(!n)return Wy.forEach(i=>eG(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):$8?n.internal.frames=2:n.internal.frames=1,rI||(rI=!0,requestAnimationFrame(gge)))}function Ene(n,e=!0,t,i){if(e&&aT("before",n),t)Q8(n,t,i);else for(const r of Wy.values())Q8(n,r.store.getState());e&&aT("after",n)}const rk={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Htt(n){const{handlePointer:e}=Mtt(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(rk).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:t}})),r.handlers)for(const a in r.handlers){const s=r.handlers[a],[o,l]=rk[a];t.addEventListener(o,s,{passive:l})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[s]=rk[r];i.connected.removeEventListener(s,a)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function Dne(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function Wtt({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=Y.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=Y.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,c=Y.useRef(!1);Y.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,h,d]=Y.useMemo(()=>{const x=()=>{if(!o.current.element)return;const{left:b,top:M,width:C,height:w,bottom:E,right:L,x:P,y:I}=o.current.element.getBoundingClientRect(),N={left:b,top:M,width:C,height:w,bottom:E,right:L,x:P,y:I};o.current.element instanceof HTMLElement&&i&&(N.height=o.current.element.offsetHeight,N.width=o.current.element.offsetWidth),Object.freeze(N),c.current&&!Ztt(o.current.lastBounds,N)&&s(o.current.lastBounds=N)};return[x,u?Dne(x,u):x,l?Dne(x,l):x]},[s,i,l,u]);function v(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",d,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function m(){o.current.element&&(o.current.resizeObserver=new r(d),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(x=>x.addEventListener("scroll",d,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{d()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const y=x=>{!x||x===o.current.element||(v(),o.current.element=x,o.current.scrollContainers=yge(x),m())};return Ytt(d,!!e),Xtt(h),Y.useEffect(()=>{v(),m()},[e,d,h]),Y.useEffect(()=>v,[]),[y,a,f]}function Xtt(n){Y.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Ytt(n,e){Y.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function yge(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...yge(n.parentElement)]}const qtt=["x","y","top","bottom","left","right","width","height"],Ztt=(n,e)=>qtt.every(t=>n[t]===e[t]);function Ktt({ref:n,children:e,fallback:t,resize:i,style:r,gl:a,events:s=Htt,eventSource:o,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:h,orthographic:d,frameloop:v,dpr:m,performance:y,raycaster:x,camera:b,scene:M,onPointerMissed:C,onCreated:w,...E}){Y.useMemo(()=>Ltt(Fet),[]);const L=htt(),[P,I]=Wtt({scroll:!0,debounce:{scroll:50,resize:0},...i}),N=Y.useRef(null),z=Y.useRef(null);Y.useImperativeHandle(n,()=>N.current);const V=rge(C),[U,j]=Y.useState(!1),[W,G]=Y.useState(!1);if(U)throw U;if(W)throw W;const X=Y.useRef(null);sw(()=>{const $=N.current;if(I.width>0&&I.height>0&&$){X.current||(X.current=Ftt($));async function te(){await X.current.configure({gl:a,scene:M,events:s,shadows:u,linear:c,flat:f,legacy:h,orthographic:d,frameloop:v,dpr:m,performance:y,raycaster:x,camera:b,size:I,onPointerMissed:(...J)=>V.current==null?void 0:V.current(...J),onCreated:J=>{J.events.connect==null||J.events.connect(o?ctt(o)?o.current:o:z.current),l&&J.setEvents({compute:(Q,se)=>{const ce=Q[l+"X"],ue=Q[l+"Y"];se.pointer.set(ce/se.size.width*2-1,-(ue/se.size.height)*2+1),se.raycaster.setFromCamera(se.pointer,se.camera)}}),w?.(J)}}),X.current.render(T.jsx(L,{children:T.jsx(ptt,{set:G,children:T.jsx(Y.Suspense,{fallback:T.jsx(dtt,{set:j}),children:e??null})})}))}te()}}),Y.useEffect(()=>{const $=N.current;if($)return()=>mge($)},[]);const q=o?"none":"auto";return T.jsx("div",{ref:z,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:q,...r},...E,children:T.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:T.jsx("canvas",{ref:N,style:{display:"block"},children:t})})})}function Jtt(n){return T.jsx(ege,{children:T.jsx(Ktt,{...n})})}function aI(){return aI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},aI.apply(null,arguments)}const Qtt=parseInt(ZC.replace(/\D+/g,""));function Rne(n,e){if(e===Lve)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===KN||e===Cj){let t=n.getIndex();if(t===null){const s=[],o=n.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)s.push(l);n.setIndex(s),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===KN)for(let s=1;s<=i;s++)r.push(t.getX(0)),r.push(t.getX(s)),r.push(t.getX(s+1));else for(let s=0;s<i;s++)s%2===0?(r.push(t.getX(s)),r.push(t.getX(s+1)),r.push(t.getX(s+2))):(r.push(t.getX(s+2)),r.push(t.getX(s+1)),r.push(t.getX(s)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=n.clone();return a.setIndex(r),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var $tt=Object.defineProperty,ent=(n,e,t)=>e in n?$tt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,tnt=(n,e,t)=>(ent(n,e+"",t),t);class nnt{constructor(){tnt(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}}var int=Object.defineProperty,rnt=(n,e,t)=>e in n?int(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,dn=(n,e,t)=>(rnt(n,typeof e!="symbol"?e+"":e,t),t);const HR=new nx,Lne=new Wd,ant=Math.cos(70*(Math.PI/180)),Nne=(n,e)=>(n%e+e)%e;let snt=class extends nnt{constructor(e,t){super(),dn(this,"object"),dn(this,"domElement"),dn(this,"enabled",!0),dn(this,"target",new le),dn(this,"minDistance",0),dn(this,"maxDistance",1/0),dn(this,"minZoom",0),dn(this,"maxZoom",1/0),dn(this,"minPolarAngle",0),dn(this,"maxPolarAngle",Math.PI),dn(this,"minAzimuthAngle",-1/0),dn(this,"maxAzimuthAngle",1/0),dn(this,"enableDamping",!1),dn(this,"dampingFactor",.05),dn(this,"enableZoom",!0),dn(this,"zoomSpeed",1),dn(this,"enableRotate",!0),dn(this,"rotateSpeed",1),dn(this,"enablePan",!0),dn(this,"panSpeed",1),dn(this,"screenSpacePanning",!0),dn(this,"keyPanSpeed",7),dn(this,"zoomToCursor",!1),dn(this,"autoRotate",!1),dn(this,"autoRotateSpeed",2),dn(this,"reverseOrbit",!1),dn(this,"reverseHorizontalOrbit",!1),dn(this,"reverseVerticalOrbit",!1),dn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),dn(this,"mouseButtons",{LEFT:I0.ROTATE,MIDDLE:I0.DOLLY,RIGHT:I0.PAN}),dn(this,"touches",{ONE:P0.ROTATE,TWO:P0.DOLLY_PAN}),dn(this,"target0"),dn(this,"position0"),dn(this,"zoom0"),dn(this,"_domElementKeyEvents",null),dn(this,"getPolarAngle"),dn(this,"getAzimuthalAngle"),dn(this,"setPolarAngle"),dn(this,"setAzimuthalAngle"),dn(this,"getDistance"),dn(this,"getZoomScale"),dn(this,"listenToKeyEvents"),dn(this,"stopListenToKeyEvents"),dn(this,"saveState"),dn(this,"reset"),dn(this,"update"),dn(this,"connect"),dn(this,"dispose"),dn(this,"dollyIn"),dn(this,"dollyOut"),dn(this,"getScale"),dn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=de=>{let Pe=Nne(de,2*Math.PI),lt=c.phi;lt<0&&(lt+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let he=Math.abs(Pe-lt);2*Math.PI-he<he&&(Pe<lt?Pe+=2*Math.PI:lt+=2*Math.PI),f.phi=Pe-lt,i.update()},this.setAzimuthalAngle=de=>{let Pe=Nne(de,2*Math.PI),lt=c.theta;lt<0&&(lt+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let he=Math.abs(Pe-lt);2*Math.PI-he<he&&(Pe<lt?Pe+=2*Math.PI:lt+=2*Math.PI),f.theta=Pe-lt,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=de=>{de.addEventListener("keydown",je),this._domElementKeyEvents=de},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",je),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=o.NONE},this.update=(()=>{const de=new le,Pe=new le(0,1,0),lt=new vs().setFromUnitVectors(e.up,Pe),he=lt.clone().invert(),ut=new le,ft=new vs,vt=2*Math.PI;return function(){const Qe=i.object.position;lt.setFromUnitVectors(e.up,Pe),he.copy(lt).invert(),de.copy(Qe).sub(i.target),de.applyQuaternion(lt),c.setFromVector3(de),i.autoRotate&&l===o.NONE&&j(V()),i.enableDamping?(c.theta+=f.theta*i.dampingFactor,c.phi+=f.phi*i.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let Tt=i.minAzimuthAngle,Kt=i.maxAzimuthAngle;isFinite(Tt)&&isFinite(Kt)&&(Tt<-Math.PI?Tt+=vt:Tt>Math.PI&&(Tt-=vt),Kt<-Math.PI?Kt+=vt:Kt>Math.PI&&(Kt-=vt),Tt<=Kt?c.theta=Math.max(Tt,Math.min(Kt,c.theta)):c.theta=c.theta>(Tt+Kt)/2?Math.max(Tt,c.theta):Math.min(Kt,c.theta)),c.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,c.phi)),c.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(d,i.dampingFactor):i.target.add(d),i.zoomToCursor&&I||i.object.isOrthographicCamera?c.radius=se(c.radius):c.radius=se(c.radius*h),de.setFromSpherical(c),de.applyQuaternion(he),Qe.copy(i.target).add(de),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(f.theta*=1-i.dampingFactor,f.phi*=1-i.dampingFactor,d.multiplyScalar(1-i.dampingFactor)):(f.set(0,0,0),d.set(0,0,0));let Xn=!1;if(i.zoomToCursor&&I){let Bn=null;if(i.object instanceof qr&&i.object.isPerspectiveCamera){const or=de.length();Bn=se(or*h);const ea=or-Bn;i.object.position.addScaledVector(L,ea),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const or=new le(P.x,P.y,0);or.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/h)),i.object.updateProjectionMatrix(),Xn=!0;const ea=new le(P.x,P.y,0);ea.unproject(i.object),i.object.position.sub(ea).add(or),i.object.updateMatrixWorld(),Bn=de.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Bn!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Bn).add(i.object.position):(HR.origin.copy(i.object.position),HR.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(HR.direction))<ant?e.lookAt(i.target):(Lne.setFromNormalAndCoplanarPoint(i.object.up,i.target),HR.intersectPlane(Lne,i.target))))}else i.object instanceof up&&i.object.isOrthographicCamera&&(Xn=h!==1,Xn&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/h)),i.object.updateProjectionMatrix()));return h=1,I=!1,Xn||ut.distanceToSquared(i.object.position)>u||8*(1-ft.dot(i.object.quaternion))>u?(i.dispatchEvent(r),ut.copy(i.object.position),ft.copy(i.object.quaternion),Xn=!1,!0):!1}})(),this.connect=de=>{i.domElement=de,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",qt),i.domElement.addEventListener("pointerdown",Ct),i.domElement.addEventListener("pointercancel",ee),i.domElement.addEventListener("wheel",nt)},this.dispose=()=>{var de,Pe,lt,he,ut,ft;i.domElement&&(i.domElement.style.touchAction="auto"),(de=i.domElement)==null||de.removeEventListener("contextmenu",qt),(Pe=i.domElement)==null||Pe.removeEventListener("pointerdown",Ct),(lt=i.domElement)==null||lt.removeEventListener("pointercancel",ee),(he=i.domElement)==null||he.removeEventListener("wheel",nt),(ut=i.domElement)==null||ut.ownerDocument.removeEventListener("pointermove",oe),(ft=i.domElement)==null||ft.ownerDocument.removeEventListener("pointerup",ee),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",je)};const i=this,r={type:"change"},a={type:"start"},s={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const u=1e-6,c=new W8,f=new W8;let h=1;const d=new le,v=new Ke,m=new Ke,y=new Ke,x=new Ke,b=new Ke,M=new Ke,C=new Ke,w=new Ke,E=new Ke,L=new le,P=new Ke;let I=!1;const N=[],z={};function V(){return 2*Math.PI/60/60*i.autoRotateSpeed}function U(){return Math.pow(.95,i.zoomSpeed)}function j(de){i.reverseOrbit||i.reverseHorizontalOrbit?f.theta+=de:f.theta-=de}function W(de){i.reverseOrbit||i.reverseVerticalOrbit?f.phi+=de:f.phi-=de}const G=(()=>{const de=new le;return function(lt,he){de.setFromMatrixColumn(he,0),de.multiplyScalar(-lt),d.add(de)}})(),X=(()=>{const de=new le;return function(lt,he){i.screenSpacePanning===!0?de.setFromMatrixColumn(he,1):(de.setFromMatrixColumn(he,0),de.crossVectors(i.object.up,de)),de.multiplyScalar(lt),d.add(de)}})(),q=(()=>{const de=new le;return function(lt,he){const ut=i.domElement;if(ut&&i.object instanceof qr&&i.object.isPerspectiveCamera){const ft=i.object.position;de.copy(ft).sub(i.target);let vt=de.length();vt*=Math.tan(i.object.fov/2*Math.PI/180),G(2*lt*vt/ut.clientHeight,i.object.matrix),X(2*he*vt/ut.clientHeight,i.object.matrix)}else ut&&i.object instanceof up&&i.object.isOrthographicCamera?(G(lt*(i.object.right-i.object.left)/i.object.zoom/ut.clientWidth,i.object.matrix),X(he*(i.object.top-i.object.bottom)/i.object.zoom/ut.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function $(de){i.object instanceof qr&&i.object.isPerspectiveCamera||i.object instanceof up&&i.object.isOrthographicCamera?h=de:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function te(de){$(h/de)}function J(de){$(h*de)}function Q(de){if(!i.zoomToCursor||!i.domElement)return;I=!0;const Pe=i.domElement.getBoundingClientRect(),lt=de.clientX-Pe.left,he=de.clientY-Pe.top,ut=Pe.width,ft=Pe.height;P.x=lt/ut*2-1,P.y=-(he/ft)*2+1,L.set(P.x,P.y,1).unproject(i.object).sub(i.object.position).normalize()}function se(de){return Math.max(i.minDistance,Math.min(i.maxDistance,de))}function ce(de){v.set(de.clientX,de.clientY)}function ue(de){Q(de),C.set(de.clientX,de.clientY)}function fe(de){x.set(de.clientX,de.clientY)}function ge(de){m.set(de.clientX,de.clientY),y.subVectors(m,v).multiplyScalar(i.rotateSpeed);const Pe=i.domElement;Pe&&(j(2*Math.PI*y.x/Pe.clientHeight),W(2*Math.PI*y.y/Pe.clientHeight)),v.copy(m),i.update()}function Se(de){w.set(de.clientX,de.clientY),E.subVectors(w,C),E.y>0?te(U()):E.y<0&&J(U()),C.copy(w),i.update()}function Ee(de){b.set(de.clientX,de.clientY),M.subVectors(b,x).multiplyScalar(i.panSpeed),q(M.x,M.y),x.copy(b),i.update()}function Ue(de){Q(de),de.deltaY<0?J(U()):de.deltaY>0&&te(U()),i.update()}function _e(de){let Pe=!1;switch(de.code){case i.keys.UP:q(0,i.keyPanSpeed),Pe=!0;break;case i.keys.BOTTOM:q(0,-i.keyPanSpeed),Pe=!0;break;case i.keys.LEFT:q(i.keyPanSpeed,0),Pe=!0;break;case i.keys.RIGHT:q(-i.keyPanSpeed,0),Pe=!0;break}Pe&&(de.preventDefault(),i.update())}function ke(){if(N.length==1)v.set(N[0].pageX,N[0].pageY);else{const de=.5*(N[0].pageX+N[1].pageX),Pe=.5*(N[0].pageY+N[1].pageY);v.set(de,Pe)}}function dt(){if(N.length==1)x.set(N[0].pageX,N[0].pageY);else{const de=.5*(N[0].pageX+N[1].pageX),Pe=.5*(N[0].pageY+N[1].pageY);x.set(de,Pe)}}function De(){const de=N[0].pageX-N[1].pageX,Pe=N[0].pageY-N[1].pageY,lt=Math.sqrt(de*de+Pe*Pe);C.set(0,lt)}function ae(){i.enableZoom&&De(),i.enablePan&&dt()}function Fe(){i.enableZoom&&De(),i.enableRotate&&ke()}function qe(de){if(N.length==1)m.set(de.pageX,de.pageY);else{const lt=Ht(de),he=.5*(de.pageX+lt.x),ut=.5*(de.pageY+lt.y);m.set(he,ut)}y.subVectors(m,v).multiplyScalar(i.rotateSpeed);const Pe=i.domElement;Pe&&(j(2*Math.PI*y.x/Pe.clientHeight),W(2*Math.PI*y.y/Pe.clientHeight)),v.copy(m)}function rt(de){if(N.length==1)b.set(de.pageX,de.pageY);else{const Pe=Ht(de),lt=.5*(de.pageX+Pe.x),he=.5*(de.pageY+Pe.y);b.set(lt,he)}M.subVectors(b,x).multiplyScalar(i.panSpeed),q(M.x,M.y),x.copy(b)}function Je(de){const Pe=Ht(de),lt=de.pageX-Pe.x,he=de.pageY-Pe.y,ut=Math.sqrt(lt*lt+he*he);w.set(0,ut),E.set(0,Math.pow(w.y/C.y,i.zoomSpeed)),te(E.y),C.copy(w)}function _t(de){i.enableZoom&&Je(de),i.enablePan&&rt(de)}function pt(de){i.enableZoom&&Je(de),i.enableRotate&&qe(de)}function Ct(de){var Pe,lt;i.enabled!==!1&&(N.length===0&&((Pe=i.domElement)==null||Pe.ownerDocument.addEventListener("pointermove",oe),(lt=i.domElement)==null||lt.ownerDocument.addEventListener("pointerup",ee)),Vt(de),de.pointerType==="touch"?Wt(de):we(de))}function oe(de){i.enabled!==!1&&(de.pointerType==="touch"?St(de):Xe(de))}function ee(de){var Pe,lt,he;et(de),N.length===0&&((Pe=i.domElement)==null||Pe.releasePointerCapture(de.pointerId),(lt=i.domElement)==null||lt.ownerDocument.removeEventListener("pointermove",oe),(he=i.domElement)==null||he.ownerDocument.removeEventListener("pointerup",ee)),i.dispatchEvent(s),l=o.NONE}function we(de){let Pe;switch(de.button){case 0:Pe=i.mouseButtons.LEFT;break;case 1:Pe=i.mouseButtons.MIDDLE;break;case 2:Pe=i.mouseButtons.RIGHT;break;default:Pe=-1}switch(Pe){case I0.DOLLY:if(i.enableZoom===!1)return;ue(de),l=o.DOLLY;break;case I0.ROTATE:if(de.ctrlKey||de.metaKey||de.shiftKey){if(i.enablePan===!1)return;fe(de),l=o.PAN}else{if(i.enableRotate===!1)return;ce(de),l=o.ROTATE}break;case I0.PAN:if(de.ctrlKey||de.metaKey||de.shiftKey){if(i.enableRotate===!1)return;ce(de),l=o.ROTATE}else{if(i.enablePan===!1)return;fe(de),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(a)}function Xe(de){if(i.enabled!==!1)switch(l){case o.ROTATE:if(i.enableRotate===!1)return;ge(de);break;case o.DOLLY:if(i.enableZoom===!1)return;Se(de);break;case o.PAN:if(i.enablePan===!1)return;Ee(de);break}}function nt(de){i.enabled===!1||i.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(de.preventDefault(),i.dispatchEvent(a),Ue(de),i.dispatchEvent(s))}function je(de){i.enabled===!1||i.enablePan===!1||_e(de)}function Wt(de){switch(it(de),N.length){case 1:switch(i.touches.ONE){case P0.ROTATE:if(i.enableRotate===!1)return;ke(),l=o.TOUCH_ROTATE;break;case P0.PAN:if(i.enablePan===!1)return;dt(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(i.touches.TWO){case P0.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ae(),l=o.TOUCH_DOLLY_PAN;break;case P0.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Fe(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(a)}function St(de){switch(it(de),l){case o.TOUCH_ROTATE:if(i.enableRotate===!1)return;qe(de),i.update();break;case o.TOUCH_PAN:if(i.enablePan===!1)return;rt(de),i.update();break;case o.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;_t(de),i.update();break;case o.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;pt(de),i.update();break;default:l=o.NONE}}function qt(de){i.enabled!==!1&&de.preventDefault()}function Vt(de){N.push(de)}function et(de){delete z[de.pointerId];for(let Pe=0;Pe<N.length;Pe++)if(N[Pe].pointerId==de.pointerId){N.splice(Pe,1);return}}function it(de){let Pe=z[de.pointerId];Pe===void 0&&(Pe=new Ke,z[de.pointerId]=Pe),Pe.set(de.pageX,de.pageY)}function Ht(de){const Pe=de.pointerId===N[0].pointerId?N[1]:N[0];return z[Pe.pointerId]}this.dollyIn=(de=U())=>{J(de),i.update()},this.dollyOut=(de=U())=>{te(de),i.update()},this.getScale=()=>h,this.setScale=de=>{$(de),i.update()},this.getZoomScale=()=>U(),t!==void 0&&this.connect(t),this.update()}};function sI(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const iy="srgb",cp="srgb-linear",Ine=3001,ont=3e3;class cH extends po{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new hnt(t)}),this.register(function(t){return new dnt(t)}),this.register(function(t){return new Snt(t)}),this.register(function(t){return new Ant(t)}),this.register(function(t){return new Mnt(t)}),this.register(function(t){return new vnt(t)}),this.register(function(t){return new mnt(t)}),this.register(function(t){return new gnt(t)}),this.register(function(t){return new ynt(t)}),this.register(function(t){return new fnt(t)}),this.register(function(t){return new xnt(t)}),this.register(function(t){return new pnt(t)}),this.register(function(t){return new bnt(t)}),this.register(function(t){return new _nt(t)}),this.register(function(t){return new unt(t)}),this.register(function(t){return new Tnt(t)}),this.register(function(t){return new Cnt(t)})}load(e,t,i,r){const a=this;let s;if(this.resourcePath!=="")s=this.resourcePath;else if(this.path!==""){const u=hm.extractUrlBase(e);s=hm.resolveURL(u,this.path)}else s=hm.extractUrlBase(e);this.manager.itemStart(e);const o=function(u){r?r(u):console.error(u),a.manager.itemError(e),a.manager.itemEnd(e)},l=new iu(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{a.parse(u,s,function(c){t(c),a.manager.itemEnd(e)},o)}catch(c){o(c)}},i,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let a;const s={},o={};if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(sI(new Uint8Array(e.slice(0,4)))===xge){try{s[ri.KHR_BINARY_GLTF]=new wnt(e)}catch(c){r&&r(c);return}a=JSON.parse(s[ri.KHR_BINARY_GLTF].content)}else a=JSON.parse(sI(new Uint8Array(e)));else a=e;if(a.asset===void 0||a.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new Unt(a,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const c=this.pluginCallbacks[u](l);c.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[c.name]=c,s[c.name]=!0}if(a.extensionsUsed)for(let u=0;u<a.extensionsUsed.length;++u){const c=a.extensionsUsed[u],f=a.extensionsRequired||[];switch(c){case ri.KHR_MATERIALS_UNLIT:s[c]=new cnt;break;case ri.KHR_DRACO_MESH_COMPRESSION:s[c]=new Ent(a,this.dracoLoader);break;case ri.KHR_TEXTURE_TRANSFORM:s[c]=new Dnt;break;case ri.KHR_MESH_QUANTIZATION:s[c]=new Rnt;break;default:f.indexOf(c)>=0&&o[c]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+c+'".')}}l.setExtensions(s),l.setPlugins(o),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,a){i.parse(e,t,r,a)})}}function lnt(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const ri={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class unt{constructor(e){this.parser=e,this.name=ri.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const a=t[i];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const a=t.json,l=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let u;const c=new Et(16777215);l.color!==void 0&&c.setRGB(l.color[0],l.color[1],l.color[2],cp);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new eH(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new $j(c),u.distance=f;break;case"spot":u=new Qj(c),u.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,Vd(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(u),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,a=i.json.nodes[e],o=(a.extensions&&a.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(l){return i._getNodeRef(t.cache,o,l)})}}class cnt{constructor(){this.name=ri.KHR_MATERIALS_UNLIT}getMaterialType(){return Kl}extendParams(e,t,i){const r=[];e.color=new Et(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const s=a.baseColorFactor;e.color.setRGB(s[0],s[1],s[2],cp),e.opacity=s[3]}a.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",a.baseColorTexture,iy))}return Promise.all(r)}}class fnt{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name].emissiveStrength;return a!==void 0&&(t.emissiveIntensity=a),Promise.resolve()}}class hnt{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&a.push(i.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&a.push(i.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(a.push(i.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const o=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ke(o,o)}return Promise.all(a)}}class dnt{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lc}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return t.dispersion=a.dispersion!==void 0?a.dispersion:0,Promise.resolve()}}class pnt{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&a.push(i.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&a.push(i.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(a)}}class vnt{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new Et(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=r.extensions[this.name];if(s.sheenColorFactor!==void 0){const o=s.sheenColorFactor;t.sheenColor.setRGB(o[0],o[1],o[2],cp)}return s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&a.push(i.assignTexture(t,"sheenColorMap",s.sheenColorTexture,iy)),s.sheenRoughnessTexture!==void 0&&a.push(i.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(a)}}class mnt{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&a.push(i.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(a)}}class gnt{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&a.push(i.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const o=s.attenuationColor||[1,1,1];return t.attenuationColor=new Et().setRGB(o[0],o[1],o[2],cp),Promise.all(a)}}class ynt{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lc}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return t.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class xnt{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&a.push(i.assignTexture(t,"specularIntensityMap",s.specularTexture));const o=s.specularColorFactor||[1,1,1];return t.specularColor=new Et().setRGB(o[0],o[1],o[2],cp),s.specularColorTexture!==void 0&&a.push(i.assignTexture(t,"specularColorMap",s.specularColorTexture,iy)),Promise.all(a)}}class _nt{constructor(e){this.parser=e,this.name=ri.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return t.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&a.push(i.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(a)}}class bnt{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return s.anisotropyStrength!==void 0&&(t.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(t.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&a.push(i.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(a)}}class Snt{constructor(e){this.parser=e,this.name=ri.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const a=r.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,s)}}class Ant{constructor(e){this.parser=e,this.name=ri.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;const s=a.extensions[t],o=r.images[s.source];let l=i.textureLoader;if(o.uri){const u=i.options.manager.getHandler(o.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,s.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Mnt{constructor(e){this.parser=e,this.name=ri.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;const s=a.extensions[t],o=r.images[s.source];let l=i.textureLoader;if(o.uri){const u=i.options.manager.getHandler(o.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,s.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Tnt{constructor(e){this.name=ri.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],a=this.parser.getDependency("buffer",r.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(o){const l=r.byteOffset||0,u=r.byteLength||0,c=r.count,f=r.byteStride,h=new Uint8Array(o,l,u);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(c,f,h,r.mode,r.filter).then(function(d){return d.buffer}):s.ready.then(function(){const d=new ArrayBuffer(c*f);return s.decodeGltfBuffer(new Uint8Array(d),c,f,h,r.mode,r.filter),d})})}else return null}}class Cnt{constructor(e){this.name=ri.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const u of r.primitives)if(u.mode!==zu.TRIANGLES&&u.mode!==zu.TRIANGLE_STRIP&&u.mode!==zu.TRIANGLE_FAN&&u.mode!==void 0)return null;const s=i.extensions[this.name].attributes,o=[],l={};for(const u in s)o.push(this.parser.getDependency("accessor",s[u]).then(c=>(l[u]=c,l[u])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(u=>{const c=u.pop(),f=c.isGroup?c.children:[c],h=u[0].count,d=[];for(const v of f){const m=new vn,y=new le,x=new vs,b=new le(1,1,1),M=new Bj(v.geometry,v.material,h);for(let C=0;C<h;C++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,C),l.ROTATION&&x.fromBufferAttribute(l.ROTATION,C),l.SCALE&&b.fromBufferAttribute(l.SCALE,C),M.setMatrixAt(C,m.compose(y,x,b));for(const C in l)if(C==="_COLOR_0"){const w=l[C];M.instanceColor=new Uy(w.array,w.itemSize,w.normalized)}else C!=="TRANSLATION"&&C!=="ROTATION"&&C!=="SCALE"&&v.geometry.setAttribute(C,l[C]);_i.prototype.copy.call(M,v),this.parser.assignFinalMaterial(M),d.push(M)}return c.isGroup?(c.clear(),c.add(...d),c):d[0]}))}}const xge="glTF",QM=12,Pne={JSON:1313821514,BIN:5130562};class wnt{constructor(e){this.name=ri.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,QM);if(this.header={magic:sI(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==xge)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-QM,r=new DataView(e,QM);let a=0;for(;a<i;){const s=r.getUint32(a,!0);a+=4;const o=r.getUint32(a,!0);if(a+=4,o===Pne.JSON){const l=new Uint8Array(e,QM+a,s);this.content=sI(l)}else if(o===Pne.BIN){const l=QM+a;this.body=e.slice(l,l+s)}a+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Ent{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=ri.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,a=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,o={},l={},u={};for(const c in s){const f=tG[c]||c.toLowerCase();o[f]=s[c]}for(const c in e.attributes){const f=tG[c]||c.toLowerCase();if(s[c]!==void 0){const h=i.accessors[e.attributes[c]],d=$1[h.componentType];u[f]=d.name,l[f]=h.normalized===!0}}return t.getDependency("bufferView",a).then(function(c){return new Promise(function(f,h){r.decodeDracoFile(c,function(d){for(const v in d.attributes){const m=d.attributes[v],y=l[v];y!==void 0&&(m.normalized=y)}f(d)},o,u,cp,h)})})}}class Dnt{constructor(){this.name=ri.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Rnt{constructor(){this.name=ri.KHR_MESH_QUANTIZATION}}class _ge extends AS{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r*3+r;for(let s=0;s!==r;s++)t[s]=i[a+s];return t}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=o*2,u=o*3,c=r-t,f=(i-t)/c,h=f*f,d=h*f,v=e*u,m=v-u,y=-2*d+3*h,x=d-h,b=1-y,M=x-h+f;for(let C=0;C!==o;C++){const w=s[m+C+o],E=s[m+C+l]*c,L=s[v+C+o],P=s[v+C]*c;a[C]=b*w+M*E+y*L+x*P}return a}}const Lnt=new vs;class Nnt extends _ge{interpolate_(e,t,i,r){const a=super.interpolate_(e,t,i,r);return Lnt.fromArray(a).normalize().toArray(a),a}}const zu={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},$1={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Bne={9728:ps,9729:hr,9984:mP,9985:J1,9986:Q0,9987:Yu},One={33071:jo,33648:Tb,10497:wm},ak={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},tG={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Qtt>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Pv={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Int={CUBICSPLINE:void 0,LINEAR:Lb,STEP:Rb},sk={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Pnt(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new aw({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:zh})),n.DefaultMaterial}function M0(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Vd(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Bnt(n,e,t){let i=!1,r=!1,a=!1;for(let u=0,c=e.length;u<c;u++){const f=e[u];if(f.POSITION!==void 0&&(i=!0),f.NORMAL!==void 0&&(r=!0),f.COLOR_0!==void 0&&(a=!0),i&&r&&a)break}if(!i&&!r&&!a)return Promise.resolve(n);const s=[],o=[],l=[];for(let u=0,c=e.length;u<c;u++){const f=e[u];if(i){const h=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;s.push(h)}if(r){const h=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;o.push(h)}if(a){const h=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(h)}}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(l)]).then(function(u){const c=u[0],f=u[1],h=u[2];return i&&(n.morphAttributes.position=c),r&&(n.morphAttributes.normal=f),a&&(n.morphAttributes.color=h),n.morphTargetsRelative=!0,n})}function Ont(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function znt(n){let e;const t=n.extensions&&n.extensions[ri.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+ok(t.attributes):e=n.indices+":"+ok(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+ok(n.targets[i]);return e}function ok(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function nG(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function knt(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Fnt=new vn;class Unt{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new lnt,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,a=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,a=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&a<98?this.textureLoader=new Eme(this.options.manager):this.textureLoader=new Ome(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new iu(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(s){const o={scene:s[0][r.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:r.asset,parser:i,userData:{}};return M0(a,o,r),Vd(o,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){for(const l of o.scenes)l.updateMatrixWorld();e(o)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,a=t.length;r<a;r++){const s=t[r].joints;for(let o=0,l=s.length;o<l;o++)e[s[o]].isBone=!0}for(let r=0,a=e.length;r<a;r++){const s=e[r];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(i[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),a=(s,o)=>{const l=this.associations.get(s);l!=null&&this.associations.set(o,l);for(const[u,c]of s.children.entries())a(c,o.children[u])};return a(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const a=e(t[r]);a&&i.push(a)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(a){return a.loadNode&&a.loadNode(t)});break;case"mesh":r=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(a,s){return i.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[ri.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(a,s){i.load(hm.resolveURL(t.uri,r.path),a,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,a=t.byteOffset||0;return i.slice(a,a+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const s=ak[r.type],o=$1[r.componentType],l=r.normalized===!0,u=new o(r.count*s);return Promise.resolve(new Mi(u,s,l))}const a=[];return r.bufferView!==void 0?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),r.sparse!==void 0&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then(function(s){const o=s[0],l=ak[r.type],u=$1[r.componentType],c=u.BYTES_PER_ELEMENT,f=c*l,h=r.byteOffset||0,d=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0;let m,y;if(d&&d!==f){const x=Math.floor(h/d),b="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+x+":"+r.count;let M=t.cache.get(b);M||(m=new u(o,x*d,r.count*d/c),M=new $C(m,d/c),t.cache.add(b,M)),y=new Rm(M,l,h%d/c,v)}else o===null?m=new u(r.count*l):m=new u(o,h,r.count*l),y=new Mi(m,l,v);if(r.sparse!==void 0){const x=ak.SCALAR,b=$1[r.sparse.indices.componentType],M=r.sparse.indices.byteOffset||0,C=r.sparse.values.byteOffset||0,w=new b(s[1],M,r.sparse.count*x),E=new u(s[2],C,r.sparse.count*l);o!==null&&(y=new Mi(y.array.slice(),y.itemSize,y.normalized));for(let L=0,P=w.length;L<P;L++){const I=w[L];if(y.setX(I,E[L*l]),l>=2&&y.setY(I,E[L*l+1]),l>=3&&y.setZ(I,E[L*l+2]),l>=4&&y.setW(I,E[L*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,i=this.options,a=t.textures[e].source,s=t.images[a];let o=this.textureLoader;if(s.uri){const l=i.manager.getHandler(s.uri);l!==null&&(o=l)}return this.loadTextureImage(e,a,o)}loadTextureImage(e,t,i){const r=this,a=this.json,s=a.textures[e],o=a.images[t],l=(o.uri||o.bufferView)+":"+s.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,i).then(function(c){c.flipY=!1,c.name=s.name||o.name||"",c.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(c.name=o.uri);const h=(a.samplers||{})[s.sampler]||{};return c.magFilter=Bne[h.magFilter]||hr,c.minFilter=Bne[h.minFilter]||Yu,c.wrapS=One[h.wrapS]||wm,c.wrapT=One[h.wrapT]||wm,r.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const i=this,r=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const s=r.images[e],o=self.URL||self.webkitURL;let l=s.uri||"",u=!1;if(s.bufferView!==void 0)l=i.getDependency("bufferView",s.bufferView).then(function(f){u=!0;const h=new Blob([f],{type:s.mimeType});return l=o.createObjectURL(h),l});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(f){return new Promise(function(h,d){let v=h;t.isImageBitmapLoader===!0&&(v=function(m){const y=new Mr(m);y.needsUpdate=!0,h(y)}),t.load(hm.resolveURL(f,a.path),v,void 0,d)})}).then(function(f){return u===!0&&o.revokeObjectURL(l),Vd(f,s),f.userData.mimeType=s.mimeType||knt(s.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=c,c}assignTexture(e,t,i,r){const a=this;return this.getDependency("texture",i.index).then(function(s){if(!s)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(s=s.clone(),s.channel=i.texCoord),a.extensions[ri.KHR_TEXTURE_TRANSFORM]){const o=i.extensions!==void 0?i.extensions[ri.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=a.associations.get(s);s=a.extensions[ri.KHR_TEXTURE_TRANSFORM].extendTexture(s,o),a.associations.set(s,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===Ine?iy:cp),"colorSpace"in s?s.colorSpace=r:s.encoding=r===iy?Ine:ont),e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,a=t.attributes.color!==void 0,s=t.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new NP,Wa.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(o,l)),i=l}else if(e.isLine){const o="LineBasicMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new ho,Wa.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(o,l)),i=l}if(r||a||s){let o="ClonedMaterial:"+i.uuid+":";r&&(o+="derivative-tangents:"),a&&(o+="vertex-colors:"),s&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=i.clone(),a&&(l.vertexColors=!0),s&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return aw}loadMaterial(e){const t=this,i=this.json,r=this.extensions,a=i.materials[e];let s;const o={},l=a.extensions||{},u=[];if(l[ri.KHR_MATERIALS_UNLIT]){const f=r[ri.KHR_MATERIALS_UNLIT];s=f.getMaterialType(),u.push(f.extendParams(o,a,t))}else{const f=a.pbrMetallicRoughness||{};if(o.color=new Et(1,1,1),o.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;o.color.setRGB(h[0],h[1],h[2],cp),o.opacity=h[3]}f.baseColorTexture!==void 0&&u.push(t.assignTexture(o,"map",f.baseColorTexture,iy)),o.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,o.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(o,"metalnessMap",f.metallicRoughnessTexture)),u.push(t.assignTexture(o,"roughnessMap",f.metallicRoughnessTexture))),s=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,o)})))}a.doubleSided===!0&&(o.side=Wc);const c=a.alphaMode||sk.OPAQUE;if(c===sk.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,c===sk.MASK&&(o.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&s!==Kl&&(u.push(t.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new Ke(1,1),a.normalTexture.scale!==void 0)){const f=a.normalTexture.scale;o.normalScale.set(f,f)}if(a.occlusionTexture!==void 0&&s!==Kl&&(u.push(t.assignTexture(o,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&s!==Kl){const f=a.emissiveFactor;o.emissive=new Et().setRGB(f[0],f[1],f[2],cp)}return a.emissiveTexture!==void 0&&s!==Kl&&u.push(t.assignTexture(o,"emissiveMap",a.emissiveTexture,iy)),Promise.all(u).then(function(){const f=new s(o);return a.name&&(f.name=a.name),Vd(f,a),t.associations.set(f,{materials:e}),a.extensions&&M0(r,f,a),f})}createUniqueName(e){const t=bi.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function a(o){return i[ri.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,t).then(function(l){return zne(l,o,t)})}const s=[];for(let o=0,l=e.length;o<l;o++){const u=e[o],c=znt(u),f=r[c];if(f)s.push(f.promise);else{let h;u.extensions&&u.extensions[ri.KHR_DRACO_MESH_COMPRESSION]?h=a(u):h=zne(new Rn,u,t),r[c]={primitive:u,promise:h},s.push(h)}}return Promise.all(s)}loadMesh(e){const t=this,i=this.json,r=this.extensions,a=i.meshes[e],s=a.primitives,o=[];for(let l=0,u=s.length;l<u;l++){const c=s[l].material===void 0?Pnt(this.cache):this.getDependency("material",s[l].material);o.push(c)}return o.push(t.loadGeometries(s)),Promise.all(o).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],f=[];for(let d=0,v=c.length;d<v;d++){const m=c[d],y=s[d];let x;const b=u[d];if(y.mode===zu.TRIANGLES||y.mode===zu.TRIANGLE_STRIP||y.mode===zu.TRIANGLE_FAN||y.mode===void 0)x=a.isSkinnedMesh===!0?new Pj(m,b):new La(m,b),x.isSkinnedMesh===!0&&x.normalizeSkinWeights(),y.mode===zu.TRIANGLE_STRIP?x.geometry=Rne(x.geometry,Cj):y.mode===zu.TRIANGLE_FAN&&(x.geometry=Rne(x.geometry,KN));else if(y.mode===zu.LINES)x=new pf(m,b);else if(y.mode===zu.LINE_STRIP)x=new Dp(m,b);else if(y.mode===zu.LINE_LOOP)x=new Oj(m,b);else if(y.mode===zu.POINTS)x=new zj(m,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(x.geometry.morphAttributes).length>0&&Ont(x,a),x.name=t.createUniqueName(a.name||"mesh_"+e),Vd(x,a),y.extensions&&M0(r,x,y),t.assignFinalMaterial(x),f.push(x)}for(let d=0,v=f.length;d<v;d++)t.associations.set(f[d],{meshes:e,primitives:d});if(f.length===1)return a.extensions&&M0(r,f[0],a),f[0];const h=new ep;a.extensions&&M0(r,h,a),t.associations.set(h,{meshes:e});for(let d=0,v=f.length;d<v;d++)h.add(f[d]);return h})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new qr(Hve.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new up(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Vd(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,a=t.joints.length;r<a;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const a=r.pop(),s=r,o=[],l=[];for(let u=0,c=s.length;u<c;u++){const f=s[u];if(f){o.push(f);const h=new vn;a!==null&&h.fromArray(a.array,u*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new ew(o,l)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],a=r.name?r.name:"animation_"+e,s=[],o=[],l=[],u=[],c=[];for(let f=0,h=r.channels.length;f<h;f++){const d=r.channels[f],v=r.samplers[d.sampler],m=d.target,y=m.node,x=r.parameters!==void 0?r.parameters[v.input]:v.input,b=r.parameters!==void 0?r.parameters[v.output]:v.output;m.node!==void 0&&(s.push(this.getDependency("node",y)),o.push(this.getDependency("accessor",x)),l.push(this.getDependency("accessor",b)),u.push(v),c.push(m))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(l),Promise.all(u),Promise.all(c)]).then(function(f){const h=f[0],d=f[1],v=f[2],m=f[3],y=f[4],x=[];for(let b=0,M=h.length;b<M;b++){const C=h[b],w=d[b],E=v[b],L=m[b],P=y[b];if(C===void 0)continue;C.updateMatrix&&C.updateMatrix();const I=i._createAnimationTracks(C,w,E,L,P);if(I)for(let N=0;N<I.length;N++)x.push(I[N])}return new kb(a,void 0,x)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(a){const s=i._getNodeRef(i.meshCache,r.mesh,a);return r.weights!==void 0&&s.traverse(function(o){if(o.isMesh)for(let l=0,u=r.weights.length;l<u;l++)o.morphTargetInfluences[l]=r.weights[l]}),s})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],a=i._loadNodeShallow(e),s=[],o=r.children||[];for(let u=0,c=o.length;u<c;u++)s.push(i.getDependency("node",o[u]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([a,Promise.all(s),l]).then(function(u){const c=u[0],f=u[1],h=u[2];h!==null&&c.traverse(function(d){d.isSkinnedMesh&&d.bind(h,Fnt)});for(let d=0,v=f.length;d<v;d++)c.add(f[d]);return c})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=t.nodes[e],s=a.name?r.createUniqueName(a.name):"",o=[],l=r._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&o.push(l),a.camera!==void 0&&o.push(r.getDependency("camera",a.camera).then(function(u){return r._getNodeRef(r.cameraCache,a.camera,u)})),r._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){o.push(u)}),this.nodeCache[e]=Promise.all(o).then(function(u){let c;if(a.isBone===!0?c=new RP:u.length>1?c=new ep:u.length===1?c=u[0]:c=new _i,c!==u[0])for(let f=0,h=u.length;f<h;f++)c.add(u[f]);if(a.name&&(c.userData.name=a.name,c.name=s),Vd(c,a),a.extensions&&M0(i,c,a),a.matrix!==void 0){const f=new vn;f.fromArray(a.matrix),c.applyMatrix4(f)}else a.translation!==void 0&&c.position.fromArray(a.translation),a.rotation!==void 0&&c.quaternion.fromArray(a.rotation),a.scale!==void 0&&c.scale.fromArray(a.scale);return r.associations.has(c)||r.associations.set(c,{}),r.associations.get(c).nodes=e,c}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,a=new ep;i.name&&(a.name=r.createUniqueName(i.name)),Vd(a,i),i.extensions&&M0(t,a,i);const s=i.nodes||[],o=[];for(let l=0,u=s.length;l<u;l++)o.push(r.getDependency("node",s[l]));return Promise.all(o).then(function(l){for(let c=0,f=l.length;c<f;c++)a.add(l[c]);const u=c=>{const f=new Map;for(const[h,d]of r.associations)(h instanceof Wa||h instanceof Mr)&&f.set(h,d);return c.traverse(h=>{const d=r.associations.get(h);d!=null&&f.set(h,d)}),f};return r.associations=u(a),a})}_createAnimationTracks(e,t,i,r,a){const s=[],o=e.name?e.name:e.uuid,l=[];Pv[a.path]===Pv.weights?e.traverse(function(h){h.morphTargetInfluences&&l.push(h.name?h.name:h.uuid)}):l.push(o);let u;switch(Pv[a.path]){case Pv.weights:u=Vy;break;case Pv.rotation:u=jy;break;case Pv.position:case Pv.scale:u=Hy;break;default:switch(i.itemSize){case 1:u=Vy;break;case 2:case 3:default:u=Hy;break}break}const c=r.interpolation!==void 0?Int[r.interpolation]:Lb,f=this._getArrayFromAccessor(i);for(let h=0,d=l.length;h<d;h++){const v=new u(l[h]+"."+Pv[a.path],t.array,f,c);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(v),s.push(v)}return s}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=nG(t.constructor),r=new Float32Array(t.length);for(let a=0,s=t.length;a<s;a++)r[a]=t[a]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof jy?Nnt:_ge;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Gnt(n,e,t){const i=e.attributes,r=new Is;if(i.POSITION!==void 0){const o=t.json.accessors[i.POSITION],l=o.min,u=o.max;if(l!==void 0&&u!==void 0){if(r.set(new le(l[0],l[1],l[2]),new le(u[0],u[1],u[2])),o.normalized){const c=nG($1[o.componentType]);r.min.multiplyScalar(c),r.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const o=new le,l=new le;for(let u=0,c=a.length;u<c;u++){const f=a[u];if(f.POSITION!==void 0){const h=t.json.accessors[f.POSITION],d=h.min,v=h.max;if(d!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(d[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(d[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(d[2]),Math.abs(v[2]))),h.normalized){const m=nG($1[h.componentType]);l.multiplyScalar(m)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(o)}n.boundingBox=r;const s=new ms;r.getCenter(s.center),s.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=s}function zne(n,e,t){const i=e.attributes,r=[];function a(s,o){return t.getDependency("accessor",s).then(function(l){n.setAttribute(o,l)})}for(const s in i){const o=tG[s]||s.toLowerCase();o in n.attributes||r.push(a(i[s],o))}if(e.indices!==void 0&&!n.index){const s=t.getDependency("accessor",e.indices).then(function(o){n.setIndex(o)});r.push(s)}return Vd(n,e),Gnt(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?Bnt(n,e.targets,t):n})}const lk=new WeakMap;class Vnt extends po{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const a=new iu(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,s=>{const o={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,o).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const a={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,a).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const i=JSON.stringify(t);if(lk.has(e)){const l=lk.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const a=this.workerNextTaskID++,s=e.byteLength,o=this._getWorker(a,s).then(l=>(r=l,new Promise((u,c)=>{r._callbacks[a]={resolve:u,reject:c},r.postMessage({type:"decode",id:a,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return o.catch(()=>!0).then(()=>{r&&a&&this._releaseTask(r,a)}),lk.set(e,{key:i,promise:o}),o}_createGeometry(e){const t=new Rn;e.index&&t.setIndex(new Mi(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],a=r.name,s=r.array,o=r.itemSize;t.setAttribute(a,new Mi(s,o))}return t}_loadLibrary(e,t){const i=new iu(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,a)=>{i.load(e,r,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const a=jnt.toString(),s=["/* draco decoder */",r,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(a){const s=a.data;switch(s.type){case"decode":r._callbacks[s.id].resolve(s);break;case"error":r._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,a){return r._taskLoad>a._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function jnt(){let n,e;onmessage=function(s){const o=s.data;switch(o.type){case"init":n=o.decoderConfig,e=new Promise(function(c){n.onModuleLoaded=function(f){c({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=o.buffer,u=o.taskConfig;e.then(c=>{const f=c.draco,h=new f.Decoder,d=new f.DecoderBuffer;d.Init(new Int8Array(l),l.byteLength);try{const v=t(f,h,d,u),m=v.attributes.map(y=>y.array.buffer);v.index&&m.push(v.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:v},m)}catch(v){console.error(v),self.postMessage({type:"error",id:o.id,error:v.message})}finally{f.destroy(d),f.destroy(h)}});break}};function t(s,o,l,u){const c=u.attributeIDs,f=u.attributeTypes;let h,d;const v=o.GetEncodedGeometryType(l);if(v===s.TRIANGULAR_MESH)h=new s.Mesh,d=o.DecodeBufferToMesh(l,h);else if(v===s.POINT_CLOUD)h=new s.PointCloud,d=o.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!d.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+d.error_msg());const m={index:null,attributes:[]};for(const y in c){const x=self[f[y]];let b,M;if(u.useUniqueIDs)M=c[y],b=o.GetAttributeByUniqueId(h,M);else{if(M=o.GetAttributeId(h,s[c[y]]),M===-1)continue;b=o.GetAttribute(h,M)}m.attributes.push(r(s,o,h,y,x,b))}return v===s.TRIANGULAR_MESH&&(m.index=i(s,o,h)),s.destroy(h),m}function i(s,o,l){const c=l.num_faces()*3,f=c*4,h=s._malloc(f);o.GetTrianglesUInt32Array(l,f,h);const d=new Uint32Array(s.HEAPF32.buffer,h,c).slice();return s._free(h),{array:d,itemSize:1}}function r(s,o,l,u,c,f){const h=f.num_components(),v=l.num_points()*h,m=v*c.BYTES_PER_ELEMENT,y=a(s,c),x=s._malloc(m);o.GetAttributeDataArrayForAllPoints(l,f,y,m,x);const b=new c(s.HEAPF32.buffer,x,v).slice();return s._free(x),{name:u,array:b,itemSize:h}}function a(s,o){switch(o){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}let WR;const uk=()=>{if(WR)return WR;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let a;const s=WebAssembly.instantiate(o(r),{}).then(f=>{a=f.instance,a.exports.__wasm_call_ctors()});function o(f){const h=new Uint8Array(f.length);for(let v=0;v<f.length;++v){const m=f.charCodeAt(v);h[v]=m>96?m-71:m>64?m-65:m>47?m+4:m>46?63:62}let d=0;for(let v=0;v<f.length;++v)h[d++]=h[v]<60?i[h[v]]:(h[v]-60)*64+h[++v];return h.buffer.slice(0,d)}function l(f,h,d,v,m,y){const x=a.exports.sbrk,b=d+3&-4,M=x(b*v),C=x(m.length),w=new Uint8Array(a.exports.memory.buffer);w.set(m,C);const E=f(M,d,v,C,m.length);if(E===0&&y&&y(M,b,v),h.set(w.subarray(M,M+d*v)),x(M-x(0)),E!==0)throw new Error(`Malformed buffer data: ${E}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return WR={ready:s,supported:!0,decodeVertexBuffer(f,h,d,v,m){l(a.exports.meshopt_decodeVertexBuffer,f,h,d,v,a.exports[u[m]])},decodeIndexBuffer(f,h,d,v){l(a.exports.meshopt_decodeIndexBuffer,f,h,d,v)},decodeIndexSequence(f,h,d,v){l(a.exports.meshopt_decodeIndexSequence,f,h,d,v)},decodeGltfBuffer(f,h,d,v,m,y){l(a.exports[c[m]],f,h,d,v,a.exports[u[y]])}},WR};let XR=null,bge="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function Sge(n=!0,e=!0,t){return i=>{t&&t(i),n&&(XR||(XR=new Vnt),XR.setDecoderPath(typeof n=="string"?n:bge),i.setDRACOLoader(XR)),e&&i.setMeshoptDecoder(typeof uk=="function"?uk():uk)}}const lw=(n,e,t,i)=>ow(cH,n,Sge(e,t,i));lw.preload=(n,e,t,i)=>ow.preload(cH,n,Sge(e,t,i));lw.clear=n=>ow.clear(cH,n);lw.setDecoderPath=n=>{bge=n};function Hnt(n,e,t){const i=kl(d=>d.size),r=kl(d=>d.viewport),a=typeof n=="number"?n:i.width*r.dpr,s=i.height*r.dpr,o=(typeof n=="number"?t:n)||{},{samples:l=0,depth:u,...c}=o,f=u??o.depthBuffer,h=Y.useMemo(()=>{const d=new lf(a,s,{minFilter:hr,magFilter:hr,type:Fm,...c});return f&&(d.depthTexture=new PP(a,s,Ho)),d.samples=l,d},[]);return Y.useLayoutEffect(()=>{h.setSize(a,s),l&&(h.samples=l)},[l,h,a,s]),Y.useEffect(()=>()=>h.dispose(),[]),h}const Wnt=n=>typeof n=="function",Xnt=Y.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,makeDefault:i,children:r,...a},s)=>{const o=kl(({set:y})=>y),l=kl(({camera:y})=>y),u=kl(({size:y})=>y),c=Y.useRef(null);Y.useImperativeHandle(s,()=>c.current,[]);const f=Y.useRef(null),h=Hnt(e);Y.useLayoutEffect(()=>{a.manual||(c.current.aspect=u.width/u.height)},[u,a]),Y.useLayoutEffect(()=>{c.current.updateProjectionMatrix()});let d=0,v=null;const m=Wnt(r);return cge(y=>{m&&(t===1/0||d<t)&&(f.current.visible=!1,y.gl.setRenderTarget(h),v=y.scene.background,n&&(y.scene.background=n),y.gl.render(y.scene,c.current),y.scene.background=v,y.gl.setRenderTarget(null),f.current.visible=!0,d++)}),Y.useLayoutEffect(()=>{if(i){const y=l;return o(()=>({camera:c.current})),()=>o(()=>({camera:y}))}},[c,i,o]),Y.createElement(Y.Fragment,null,Y.createElement("perspectiveCamera",aI({ref:c},a),!m&&r),Y.createElement("group",{ref:f},m&&r(h.texture)))}),Ynt=Y.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:a=!1,onChange:s,onStart:o,onEnd:l,...u},c)=>{const f=kl(E=>E.invalidate),h=kl(E=>E.camera),d=kl(E=>E.gl),v=kl(E=>E.events),m=kl(E=>E.setEvents),y=kl(E=>E.set),x=kl(E=>E.get),b=kl(E=>E.performance),M=e||h,C=i||v.connected||d.domElement,w=Y.useMemo(()=>new snt(M),[M]);return cge(()=>{w.enabled&&w.update()},-1),Y.useEffect(()=>(a&&w.connect(a===!0?C:a),w.connect(C),()=>void w.dispose()),[a,C,t,w,f]),Y.useEffect(()=>{const E=I=>{f(),t&&b.regress(),s&&s(I)},L=I=>{o&&o(I)},P=I=>{l&&l(I)};return w.addEventListener("change",E),w.addEventListener("start",L),w.addEventListener("end",P),()=>{w.removeEventListener("start",L),w.removeEventListener("end",P),w.removeEventListener("change",E)}},[s,o,l,w,f,m]),Y.useEffect(()=>{if(n){const E=x().controls;return y({controls:w}),()=>y({controls:E})}},[n,w]),Y.createElement("primitive",aI({ref:c,object:w,enableDamping:r},u))}),qnt={Object_3:"Cabeza",Object_5:"Cuello",Object_7:"Torso Superior",Object_9:"Torso Inferior",Object_11:"Brazo Derecho",Object_13:"Antebrazo Derecho",Object_15:"Mano Derecha",Object_17:"Brazo Izquierdo",Object_19:"Antebrazo Izquierdo",Object_21:"Mano Izquierda",Object_23:"Pierna Derecha",Object_25:"Rodilla Derecha",Object_27:"Pie Derecho",Object_29:"Pierna Izquierda",Object_31:"Rodilla Izquierda",Object_33:"Pie Izquierdo"};function Znt({onPartClick:n,...e}){const{nodes:t,materials:i}=lw("/modelos/model.glb"),[r,a]=Y.useState(null),s=(l,u)=>{l.stopPropagation();const c=qnt[u]||u;a(u),n&&n(c)},o=l=>r===l?"orange":"white";return T.jsx("group",{...e,dispose:null,children:T.jsxs("group",{rotation:[-Math.PI/2,0,0],children:[T.jsx("mesh",{geometry:t.Object_3.geometry,material:i.defaultMat_12,onClick:l=>s(l,"Object_3"),"material-color":o("Object_3")}),T.jsx("mesh",{geometry:t.Object_5.geometry,material:i.defaultMat_11,onClick:l=>s(l,"Object_5"),"material-color":o("Object_5")}),T.jsx("mesh",{geometry:t.Object_7.geometry,material:i.defaultMat_10,onClick:l=>s(l,"Object_7"),"material-color":o("Object_7")}),T.jsx("mesh",{geometry:t.Object_9.geometry,material:i.defaultMat_9,onClick:l=>s(l,"Object_9"),"material-color":o("Object_9")}),T.jsx("mesh",{geometry:t.Object_11.geometry,material:i.material_1,onClick:l=>s(l,"Object_11"),"material-color":o("Object_11")}),T.jsx("mesh",{geometry:t.Object_13.geometry,material:i.defaultMat_8,onClick:l=>s(l,"Object_13"),"material-color":o("Object_13")}),T.jsx("mesh",{geometry:t.Object_15.geometry,material:i.defaultMat_7,onClick:l=>s(l,"Object_15"),"material-color":o("Object_15")}),T.jsx("mesh",{geometry:t.Object_17.geometry,material:i.defaultMat_6,onClick:l=>s(l,"Object_17"),"material-color":o("Object_17")}),T.jsx("mesh",{geometry:t.Object_19.geometry,material:i.defaultMat_5,onClick:l=>s(l,"Object_19"),"material-color":o("Object_19")}),T.jsx("mesh",{geometry:t.Object_21.geometry,material:i.defaultMat_4,onClick:l=>s(l,"Object_21"),"material-color":o("Object_21")}),T.jsx("mesh",{geometry:t.Object_23.geometry,material:i.defaultMat_3,onClick:l=>s(l,"Object_23"),"material-color":o("Object_23")}),T.jsx("mesh",{geometry:t.Object_25.geometry,material:i.defaultMat_2,onClick:l=>s(l,"Object_25"),"material-color":o("Object_25")}),T.jsx("mesh",{geometry:t.Object_27.geometry,material:i.defaultMat_1,onClick:l=>s(l,"Object_27"),"material-color":o("Object_27")}),T.jsx("mesh",{geometry:t.Object_29.geometry,material:i.material_0,onClick:l=>s(l,"Object_29"),"material-color":o("Object_29")}),T.jsx("mesh",{geometry:t.Object_31.geometry,material:i.defaultMat_0,onClick:l=>s(l,"Object_31"),"material-color":o("Object_31")}),T.jsx("mesh",{geometry:t.Object_33.geometry,material:i.defaultMat,onClick:l=>s(l,"Object_33"),"material-color":o("Object_33")})]})})}lw.preload("/modelos/model.glb");const Knt=()=>{const[n,e]=Y.useState([]),[t,i]=Y.useState(!0),[r,a]=Y.useState(null),[s,o]=Y.useState(null),[l,u]=Y.useState(!1),[c,f]=Y.useState(!1),[h,d]=Y.useState(null),v=va();Y.useEffect(()=>{m(),y()},[]),Y.useEffect(()=>{const C=()=>{const w=window.innerWidth<=1024;f(w),w||u(!1)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const m=async()=>{const C=await hi(ai.ME,{method:"GET"});C.ok&&C.data&&o(C.data.user||C.data)},y=async()=>{i(!0),a(null);try{const C=await hi(ai.TRAITS||"/api/traits/",{method:"GET"});if(!C.ok){a("No se pudieron cargar los rasgos genticos"),i(!1);return}C.data?.success&&C.data?.data?e(C.data.data):Array.isArray(C.data)&&e(C.data)}catch(C){a("Error al cargar los rasgos"),console.error(C)}i(!1)},x=async()=>{try{await hi(ai.LOGOUT,{method:"POST"})}catch(C){console.error("Error al cerrar sesin",C)}ff(),v("/")},b=C=>{d(C),console.log("Parte seleccionada:",C)},M=Y.useMemo(()=>[{label:"Ancestra",href:"/dashboard/ancestria"},{label:"Rasgos",href:"/dashboard/rasgos"},{label:"Farmacogentica",href:"/dashboard/farmacogenetica"},{label:"Biomarcadores",href:"/dashboard/biomarcadores"},{label:"Biomtricas",href:"/dashboard/biometricas"},{label:"Enfermedades",href:"/dashboard/enfermedades"}],[]);return t?T.jsxs("div",{className:"rasgos-dashboard",children:[T.jsx("aside",{className:"rasgos-dashboard__sidebar",children:T.jsx(fy,{items:M,onLogout:x,user:s,isMobileMenuOpen:l,setIsMobileMenuOpen:u})}),T.jsx("main",{className:"rasgos-dashboard__main",children:T.jsxs("div",{className:"rasgos-page__loading",children:[T.jsx("div",{className:"spinner"}),T.jsx("p",{children:"Cargando informacin de rasgos..."})]})})]}):r?T.jsxs("div",{className:"rasgos-dashboard",children:[T.jsx("aside",{className:"rasgos-dashboard__sidebar",children:T.jsx(fy,{items:M,onLogout:x,user:s,isMobileMenuOpen:l,setIsMobileMenuOpen:u})}),T.jsx("main",{className:"rasgos-dashboard__main",children:T.jsxs("div",{className:"rasgos-page__error",children:[T.jsx("p",{children:r}),T.jsx("button",{onClick:y,children:"Reintentar"})]})})]}):T.jsxs("div",{className:"rasgos-dashboard",children:[c&&T.jsx("button",{className:"rasgos-dashboard__burger",onClick:()=>u(!l),"aria-label":l?"Cerrar men":"Abrir men","aria-expanded":l,children:l?T.jsx(Rh,{size:24,strokeWidth:2.5}):T.jsx(xm,{size:24,strokeWidth:2.5})}),T.jsx("aside",{className:"rasgos-dashboard__sidebar",children:T.jsx(fy,{items:M,onLogout:x,user:s,isMobileMenuOpen:l,setIsMobileMenuOpen:u})}),T.jsx("main",{className:"rasgos-dashboard__main",children:T.jsxs("div",{className:"rasgos-page",children:[T.jsx(nL,{title:"Rasgos Genticos",subtitle:"Descubre los rasgos genticos que influyen en tu apariencia, comportamiento y habilidades nicas.",icon:VX}),T.jsxs("div",{className:"rasgos-page__content",children:[T.jsxs("div",{className:"rasgos-page__model-section",children:[T.jsxs("div",{className:"rasgos-page__model-container",children:[T.jsxs(Jtt,{gl:{alpha:!0,antialias:!0},children:[T.jsx(Xnt,{makeDefault:!0,position:[0,1.5,4],fov:50}),T.jsx("ambientLight",{intensity:.6}),T.jsx("directionalLight",{position:[5,5,5],intensity:.8}),T.jsx("directionalLight",{position:[-5,5,-5],intensity:.4}),T.jsx("spotLight",{position:[0,10,0],intensity:.3}),T.jsx(Znt,{onPartClick:b,scale:.45,position:[0,0,0]}),T.jsx(Ynt,{makeDefault:!0,enableZoom:!0,enablePan:!0,enableRotate:!0,minDistance:2,maxDistance:30,maxPolarAngle:Math.PI/1.5,minPolarAngle:Math.PI/6,target:[0,1.2,0]})]}),T.jsxs("div",{className:"rasgos-page__model-info",children:[T.jsxs("p",{className:"model-info__instruction",children:[" ",T.jsx("strong",{children:"Click:"})," seleccionar | ",T.jsx("strong",{children:"Arrastrar:"})," rotar | ",T.jsx("strong",{children:"Rueda:"})," zoom | ",T.jsx("strong",{children:"Click derecho:"})," mover"]}),h&&T.jsxs("div",{className:"model-info__selected",children:[T.jsx("strong",{children:"Seleccionado:"})," ",h]})]})]}),T.jsx("div",{className:"rasgos-page__info-panel",children:h?T.jsxs("div",{className:"info-panel__content",children:[T.jsx("h3",{className:"info-panel__title",children:h}),T.jsxs("p",{className:"info-panel__description",children:["Informacin detallada sobre los rasgos genticos relacionados con ",h,"."]})]}):T.jsxs("div",{className:"info-panel__placeholder",children:[T.jsx(VX,{size:48,strokeWidth:1.5}),T.jsx("p",{children:"Selecciona una parte del cuerpo en el modelo 3D para ver informacin detallada."})]})})]}),n.length===0&&!r?T.jsx("div",{className:"rasgos-page__empty",children:T.jsx("p",{children:"No se encontraron rasgos genticos adicionales en tu perfil."})}):n.length>0&&T.jsx("div",{className:"rasgos-page__traits-container",children:T.jsxs("p",{children:["Rasgos cargados: ",n.length]})})]})]})})]})};function io(...n){return n.filter(Boolean).join(" ")}const Jnt={high:{buttonClass:"btn-priority-high text-white",accentColor:"text-red-600",badgeBg:"bg-red-100"},medium:{buttonClass:"btn-priority-medium text-white",accentColor:"text-yellow-600",badgeBg:"bg-yellow-100"},low:{buttonClass:"btn-priority-low text-white",accentColor:"text-blue-600",badgeBg:"bg-blue-100"}},Qnt=({disease:n,level:e})=>{const[t,i]=Y.useState(!1),r=Jnt[e],a=n.magnitud_efecto?parseFloat(n.magnitud_efecto).toFixed(2):"N/A",s=a!=="N/A"&&parseFloat(a)>=3;return T.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md",children:[T.jsxs("button",{onClick:()=>i(!t),className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 transition-colors text-left",children:[T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:n.title}),T.jsx("p",{className:"text-xs text-gray-600 font-medium",children:n.rsId||"N/A"})]}),T.jsx(D1,{className:io("w-5 h-5 transition-transform duration-300 flex-shrink-0 ml-2",r.accentColor,t&&"rotate-180")})]}),t&&T.jsx("div",{className:"border-t border-gray-200 px-4 py-4 space-y-4",children:T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"pb-3 border-b border-gray-100",children:[T.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Identificacin Gentica"}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("span",{className:"text-sm font-medium text-gray-600",children:"RS ID:"}),T.jsx("span",{className:"text-sm font-mono text-gray-900 font-semibold",children:n.rsId||"N/A"})]}),T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Cromosoma:"}),T.jsx("span",{className:io("text-sm font-mono text-gray-900 font-semibold",n.cromosoma==="N/A"&&"text-gray-400"),children:n.cromosoma||"N/A"})]}),T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Posicin:"}),T.jsx("span",{className:io("text-sm font-mono text-gray-900 font-semibold",n.posicion==="N/A"&&"text-gray-400"),children:n.posicion||"N/A"})]}),T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Genotipo:"}),T.jsx("span",{className:io("text-sm font-mono text-gray-900 font-semibold bg-gray-100 px-2 py-1 rounded",n.genotype==="N/A"&&"text-gray-400"),children:n.genotype||"N/A"})]})]})]}),T.jsxs("div",{className:"pb-3 border-b border-gray-100",children:[T.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Alelos"}),T.jsxs("div",{className:"space-y-1",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Referencia:"}),T.jsx("span",{className:io("text-sm font-mono text-gray-900 font-semibold bg-blue-100 px-2 py-1 rounded",n.alelo_referencia==="N/A"&&"text-gray-400"),children:n.alelo_referencia||"N/A"})]}),T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Alternativo:"}),T.jsx("span",{className:io("text-sm font-mono text-gray-900 font-semibold bg-green-100 px-2 py-1 rounded",n.alelo_alternativo==="N/A"&&"text-gray-400"),children:n.alelo_alternativo||"N/A"})]})]})]}),T.jsxs("div",{className:"pb-3 border-b border-gray-100",children:[T.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-3",children:"Anlisis de Riesgo"}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Magnitud de Efecto"}),T.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[a," ",T.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"/5.0"})]})]}),s&&T.jsxs("div",{className:io("flex items-center gap-2 px-3 py-2 rounded-lg",r.badgeBg),children:[T.jsx(PEe,{className:io("w-4 h-4",r.accentColor)}),T.jsx("span",{className:io("text-xs font-semibold",r.accentColor),children:"Alto Impacto"})]})]}),T.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:T.jsx("div",{className:io("h-full rounded-full transition-all",a!=="N/A"&&a>=4?"bg-red-500":a!=="N/A"&&a>=3?"bg-yellow-500":a!=="N/A"&&a>=2?"bg-blue-500":"bg-green-500"),style:{width:a!=="N/A"?`${parseFloat(a)/5*100}%`:"0%"}})})]}),n.ancestria_pais&&n.ancestria_pais!=="N/A"&&T.jsxs("div",{className:"pb-3 border-b border-gray-100",children:[T.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Ancestra"}),T.jsxs("p",{className:"text-xs text-gray-700 bg-amber-50 px-2 py-1 rounded",children:["Ms predominante en: ",T.jsx("span",{className:"font-semibold text-gray-900",children:n.ancestria_pais})]})]})]})})]})},$nt={high:{icon:Toe,bgColor:"bg-red-50",borderColor:"border-red-200",accentColor:"text-red-600",iconBgColor:"bg-red-100"},medium:{icon:MEe,bgColor:"bg-yellow-50",borderColor:"border-yellow-200",accentColor:"text-yellow-600",iconBgColor:"bg-yellow-100"},low:{icon:tEe,bgColor:"bg-blue-50",borderColor:"border-blue-200",accentColor:"text-blue-600",iconBgColor:"bg-blue-100"}},eit=({level:n,title:e,diseases:t})=>{const[i,r]=Y.useState(!1),a=$nt[n],s=a.icon;return T.jsxs("div",{className:io("rounded-2xl border-2 overflow-hidden transition-all duration-300 hover:shadow-lg",a.bgColor,a.borderColor),children:[T.jsxs("button",{onClick:()=>r(!i),className:"w-full p-6 flex items-center justify-between hover:opacity-80 transition-opacity",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:io("p-2 rounded-lg",a.iconBgColor),children:T.jsx(s,{className:io("w-5 h-5",a.accentColor)})}),T.jsxs("div",{className:"text-left",children:[T.jsx("h2",{className:io("text-lg font-semibold",a.accentColor),children:e}),T.jsxs("p",{className:io("text-sm",a.accentColor,"opacity-70"),children:[t.length," ",t.length===1?"enfermedad":"enfermedades"]})]})]}),T.jsx(D1,{className:io("w-5 h-5 transition-transform duration-300",a.accentColor,i&&"rotate-180")})]}),i&&T.jsx("div",{className:"px-6 pb-4 space-y-2 max-h-[calc(100vh-300px)] overflow-y-auto",children:t.length>0?t.map(o=>T.jsx(Qnt,{disease:o,level:n},o.id)):T.jsx("p",{className:"text-center text-gray-500 py-4",children:"No hay enfermedades en esta categora"})})]})};function tit({data:n}){const e=n.reduce((i,r)=>i+r.value,0)||1,t={tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{show:!1},series:[{name:"Enfermedades",type:"pie",radius:["70%","85%"],padAngle:3,avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1},emphasis:{label:{show:!1},itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0,0,0,0.3)"}},labelLine:{show:!1},data:n.map(i=>({value:i.value,name:i.label,itemStyle:{color:i.color}}))}],graphic:[{type:"text",left:"center",top:"32%",style:{text:e.toString(),fontSize:40,fontWeight:"bold",fill:"#111827"}},{type:"text",left:"center",top:"56%",style:{text:"Enfermedades",fontSize:14,fill:"#6B7280"}}]};return T.jsxs("div",{className:"card-pro card-large-pro",children:[T.jsx("div",{className:"card-pro__header",children:T.jsxs("div",{children:[T.jsx("h3",{children:"Tus enfermedades"}),T.jsx("p",{className:"card-pro__subtitle",children:"Distribucin por nivel de prioridad clnica"})]})}),T.jsx(Jpe,{option:t,style:{height:"280px",marginTop:"5px"},opts:{renderer:"svg"}}),T.jsx("div",{className:"legend-pro",children:n.map((i,r)=>{const a=Math.round(i.value/e*100);return T.jsxs("div",{className:"legend-pro__item",children:[T.jsxs("div",{className:"legend-pro__left",children:[T.jsx("span",{className:"legend-pro__dot",style:{background:i.color}}),T.jsx("span",{className:"legend-pro__label",children:i.label})]}),T.jsxs("span",{className:"legend-pro__value",children:[a,"%"]})]},r)})})]})}function kne({title:n,value:e,subtitle:t,iconComponent:i,iconColor:r,tooltip:a}){const[s,o]=Y.useState(!1),l=Ps.useRef(null),u=Ps.useRef(null),c=()=>{o(!0),u.current&&l.current&&setTimeout(()=>{const h=u.current.getBoundingClientRect(),d=l.current.offsetHeight;l.current.style.position="fixed",l.current.style.top=h.top+h.height/2-d/2+"px",l.current.style.left=h.right+16+"px",l.current.style.zIndex="9999"},0)},f=()=>o(!1);return T.jsx("div",{className:"card-pro card-small-pro kpi-card-modern",children:T.jsxs("div",{className:"kpi-pro",children:[T.jsxs("div",{className:"kpi-pro__content",children:[T.jsxs("div",{className:"kpi-header-tooltip",children:[T.jsx("h3",{children:n}),a&&T.jsxs("div",{className:"kpi-tooltip-wrapper",children:[T.jsx("button",{ref:u,className:"kpi-tooltip-trigger",onMouseEnter:c,onMouseLeave:f,onClick:h=>h.preventDefault(),children:"?"}),s&&T.jsx("div",{ref:l,className:"kpi-tooltip",style:{position:"fixed",display:"block"},children:a})]})]}),T.jsx("div",{className:"kpi-pro__value",children:e}),T.jsx("p",{className:"kpi-pro__subtitle",children:t})]}),T.jsx("div",{className:"kpi-pro__icon",style:{background:r},children:i})]})})}function nit({score:n}){const e=()=>n<20?{color:"#10B981",gradient:"linear-gradient(135deg, #10B981 0%, #059669 100%)",level:"Excelente",icon:"",bgColor:"rgba(16,185,129,0.1)",description:"Tu perfil gentico muestra un riesgo muy bajo"}:n<40?{color:"#3B82F6",gradient:"linear-gradient(135deg, #3B82F6 0%, #2563EB 100%)",level:"Bueno",icon:"",bgColor:"rgba(59,130,246,0.1)",description:"Tu perfil gentico est dentro de parmetros favorables"}:n<60?{color:"#F59E0B",gradient:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",level:"Moderado",icon:"!",bgColor:"rgba(245,158,11,0.1)",description:"Se recomienda monitoreo preventivo personalizado"}:n<80?{color:"#F97316",gradient:"linear-gradient(135deg, #F97316 0%, #EA580C 100%)",level:"Elevado",icon:"",bgColor:"rgba(249,115,22,0.1)",description:"Considera evaluacin mdica para plan preventivo"}:{color:"#EF4444",gradient:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",level:"Alto",icon:"",bgColor:"rgba(239,68,68,0.1)",description:"Se sugiere consulta mdica para seguimiento"},{color:t,gradient:i,level:r,icon:a,bgColor:s,description:o}=e(),l=2*Math.PI*50,u=l-n/100*l;return T.jsxs("div",{className:"score-card-modern",style:{background:"white",borderRadius:"20px",padding:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid #F3F4F6",display:"flex",flexDirection:"column",gap:"10px",position:"relative",overflow:"hidden"},children:[T.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"150%",height:"150%",background:`radial-gradient(circle, ${s} 0%, transparent 70%)`,pointerEvents:"none",opacity:.6}}),T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",zIndex:1},children:[T.jsx("h3",{style:{margin:0,fontSize:"13px",fontWeight:700,color:"#6B7280",letterSpacing:"0.8px"},children:"SCORE GENTICO"}),T.jsx("div",{style:{width:40,height:40,borderRadius:12,background:i,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 4px 12px ${t}40`},children:T.jsx(SEe,{size:20,color:"white",strokeWidth:2.5})})]}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px",position:"relative",zIndex:1},children:[T.jsxs("div",{style:{position:"relative",width:140,height:140,flexShrink:0},children:[T.jsxs("svg",{width:"140",height:"140",viewBox:"0 0 140 140",children:[T.jsx("circle",{cx:"70",cy:"70",r:"50",fill:"none",stroke:"#E5E7EB",strokeWidth:"12"}),T.jsx("circle",{cx:"70",cy:"70",r:"50",fill:"none",stroke:t,strokeWidth:"12",strokeDasharray:l,strokeDashoffset:u,strokeLinecap:"round",transform:"rotate(-90 70 70)",style:{transition:"stroke-dashoffset 1s ease-out",filter:`drop-shadow(0 0 8px ${t}60)`}})]}),T.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",textAlign:"center"},children:T.jsxs("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"center",gap:2},children:[T.jsx("span",{style:{fontSize:30,fontWeight:800,color:t},children:n}),T.jsx("span",{style:{fontSize:15,fontWeight:700,color:"#9CA3AF"},children:"%"})]})})]}),T.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:12},children:T.jsxs("div",{style:{padding:"12px 16px",background:s,borderRadius:12,border:`2px solid ${t}30`},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:2},children:[T.jsx("span",{style:{fontSize:18,fontWeight:700,color:t},children:a}),T.jsx("span",{style:{fontSize:16,fontWeight:700,color:t},children:r})]}),T.jsx("p",{style:{margin:0,fontSize:11,color:t,fontWeight:600,lineHeight:1.4},children:o})]})})]})]})}function iit(){const[n,e]=Y.useState(!1);return T.jsxs("div",{className:"info-card-modern",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:20,padding:18,boxShadow:"0 4px 20px rgba(102,126,234,0.25)",border:"1px solid rgba(255,255,255,0.2)",display:"flex",flexDirection:"column",gap:16,transition:"all 0.3s ease",transform:n?"translateY(-2px)":"translateY(0)",position:"relative",overflow:"hidden"},onMouseEnter:()=>e(!0),onMouseLeave:()=>e(!1),children:[T.jsx("div",{style:{position:"absolute",top:"-50%",right:"-30%",width:"100%",height:"150%",background:"radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%)",pointerEvents:"none"}}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,position:"relative",zIndex:1},children:[T.jsx("div",{style:{width:40,height:40,borderRadius:10,background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},children:T.jsx(Toe,{size:22,color:"white",strokeWidth:2.5})}),T.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"white",letterSpacing:"-0.02em"},children:"Informacin Importante"})]}),T.jsx("div",{style:{position:"relative",zIndex:1,padding:"14px 16px",background:"rgba(255,255,255,0.15)",borderRadius:12,border:"1px solid rgba(255,255,255,0.2)",backdropFilter:"blur(10px)"},children:T.jsxs("p",{style:{margin:0,fontSize:13,lineHeight:1.6,color:"rgba(255,255,255,0.95)",fontWeight:500},children:["Este perfil gentico es ",T.jsx("strong",{style:{fontWeight:700,color:"white"},children:"informativo"})," y no constituye diagnstico clnico. Consulta siempre con un especialista."]})})]})}const d1=[{term:"RSID",description:"Cdigo nico (ej: rs1234567) que identifica una variante especfica en bases de datos cientficas."},{term:"Magnitud",description:"Escala (05) que mide la importancia clnica de una variante. Mayor valor = mayor impacto."},{term:"Alelo",description:"Cada variante posible de un gen. Heredas una de cada progenitor."},{term:"Fenotipo",description:"Caractersticas observables (p.ej., color de ojos). Surge de genes + ambiente."},{term:"Genotipo",description:"Tu composicin gentica heredada de ambos progenitores."},{term:"Gen",description:"Segmento de ADN con instrucciones para una protena."}];function rit(){const[n,e]=Y.useState(0),t=()=>e(r=>(r-1+d1.length)%d1.length),i=()=>e(r=>(r+1)%d1.length);return T.jsxs("div",{className:"card-pro card-small-pro glossary-pro",children:[T.jsxs("div",{className:"glossary-pro__content",children:[T.jsx("span",{className:"glossary-pro__badge",children:"GLOSARIO"}),T.jsx("div",{className:"glossary-pro__title",children:d1[n].term}),T.jsx("p",{className:"glossary-pro__description",children:d1[n].description})]}),T.jsxs("div",{className:"glossary-pro__controls",children:[T.jsx("button",{className:"glossary-pro__arrow",onClick:t,"aria-label":"Anterior",children:""}),T.jsx("div",{className:"glossary-pro__dots",children:d1.map((r,a)=>T.jsx("button",{className:`glossary-pro__dot ${a===n?"active":""}`,onClick:()=>e(a),"aria-label":`Trmino ${a+1}`},a))}),T.jsx("button",{className:"glossary-pro__arrow",onClick:i,"aria-label":"Siguiente",children:""})]})]})}const ait=()=>{const[n,e]=Y.useState({alta:[],media:[],baja:[]}),[t,i]=Y.useState(!0),[r,a]=Y.useState(null),[s,o]=Y.useState(null),[l,u]=Y.useState(!1),[c,f]=Y.useState(!1),h=va();Y.useEffect(()=>{d(),v()},[]),Y.useEffect(()=>{const L=()=>{const P=window.innerWidth<=1024;f(P),P||u(!1)};return L(),window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]);const d=async()=>{const L=await hi(ai.ME,{method:"GET"});L.ok&&L.data&&o(L.data.user||L.data)},v=async()=>{i(!0),a(null);try{const L=await hi(ai.DISEASES,{method:"GET"});if(!L.ok){a("No se pudieron cargar las enfermedades"),i(!1);return}let P=L.data?.data||L.data?.snps||L.data;if(P)if(Array.isArray(P)){const I={alta:[],media:[],baja:[]};P.forEach(N=>{const z=N.prioridad||N.priority||N.nivel||"baja";z==="alta"||z==="high"||z===1?I.alta.push(N):z==="media"||z==="medium"||z===2?I.media.push(N):I.baja.push(N)}),e(I)}else typeof P=="object"&&e({alta:P.alta||[],media:P.media||[],baja:P.baja||[]})}catch{a("Ocurri un error al cargar las enfermedades")}finally{i(!1)}},m=async()=>{try{await hi(ai.LOGOUT,{method:"POST"})}catch{}ff(),h("/")},y=Y.useMemo(()=>[{label:"Ancestra",href:"/dashboard/ancestria"},{label:"Rasgos",href:"/dashboard/rasgos"},{label:"Farmacogentica",href:"/dashboard/farmacogenetica"},{label:"Biomarcadores",href:"/dashboard/biomarcadores"},{label:"Biomtricas",href:"/dashboard/biometricas"},{label:"Enfermedades",href:"/dashboard/enfermedades"}],[]),x=Y.useMemo(()=>[{label:"Alta prioridad",value:n.alta.length,color:"#8b5cf6"},{label:"Media prioridad",value:n.media.length,color:"#06b6d4"},{label:"Baja prioridad",value:n.baja.length,color:"#f59e0b"}],[n]),b=Y.useMemo(()=>{const L=[...n.alta,...n.media,...n.baja];let P=0,I=0;return L.forEach(N=>{const z=parseFloat(N.magnitud_efecto)||parseFloat(N.magnitude)||parseFloat(N.effect_size)||0;!Number.isNaN(z)&&z>0&&(P+=z,I++)}),I>0?(P/I).toFixed(1):"0"},[n]),M=Y.useMemo(()=>[...n.alta,...n.media,...n.baja].filter(P=>{if((parseFloat(P.magnitud_efecto)||parseFloat(P.magnitude)||parseFloat(P.effect_size))>=3)return!0;const N=P.prioridad||P.priority;return N==="alta"||N==="high"||N===1}).length,[n]),C=Y.useMemo(()=>{const L=parseFloat(b);return Math.round((isNaN(L)?0:L)/5*100)},[b]),w=()=>{const L=P=>{const I={alta:"high",media:"medium",baja:"low"},N={alta:"Prioridad Alta",media:"Prioridad Media",baja:"Prioridad Baja"};return{level:I[P],title:N[P]}};return["alta","media","baja"].map(P=>{const{level:I,title:N}=L(P),z=(n[P]||[]).map((V,U)=>({id:`${V.rsid||V.rs_id||V.id||"rs"}-${U}`,title:V.fenotipo||V.phenotype||V.disease||V.enfermedad,rsId:V.rsid||V.rs_id||V.rsID,genotype:V.genotipo||V.genotype||V.gt,description:V.fenotipo||V.phenotype||V.description||V.disease}));return{level:I,title:N,diseases:z}})},E=()=>T.jsxs("div",{className:"enfermedades-page__content",children:[T.jsxs("div",{className:"dashboard-pro-3col",children:[T.jsx(tit,{data:x}),T.jsxs("div",{className:"kpis-stack",children:[T.jsx(kne,{title:"Magnitud promedio",value:`${b} / 5`,subtitle:"Severidad clnica promedio",iconComponent:T.jsx(Pwe,{size:28,color:"white",strokeWidth:2}),iconColor:"linear-gradient(135deg, #3B82F6 0%, #2563EB 100%)",tooltip:"Promedio de la magnitud de efecto de todas tus variantes genticas. Escala de 0 a 5 donde 5 es mximo riesgo."}),T.jsx(kne,{title:"Genes patgenos",value:M,subtitle:"Variantes de alto riesgo",iconComponent:T.jsx(IV,{size:28,color:"white",strokeWidth:2}),iconColor:"linear-gradient(135deg, #10B981 0%, #059669 100%)",tooltip:"Nmero de variantes con magnitud  3.0 o marcadas como alta prioridad."}),T.jsx(iit,{})]}),T.jsxs("div",{className:"score-recommendations-stack",children:[T.jsx(rit,{}),T.jsx(nit,{score:C})]})]}),T.jsx("div",{className:"enfermedades-page__priorities-container",children:w().map(L=>T.jsx(eit,{level:L.level,title:L.title,diseases:L.diseases},L.level))}),n.alta.length===0&&n.media.length===0&&n.baja.length===0&&T.jsx("div",{className:"enfermedades-page__empty",children:T.jsx("p",{children:"No se encontraron predisposiciones genticas a enfermedades en tu perfil."})})]});return t||r?T.jsxs("div",{className:"enfermedades-layout",children:[c&&T.jsx("button",{className:"enfermedades-layout__burger",onClick:()=>u(!l),"aria-label":l?"Cerrar men":"Abrir men","aria-expanded":l,children:l?T.jsx(Rh,{size:24,strokeWidth:2.5}):T.jsx(xm,{size:24,strokeWidth:2.5})}),T.jsx("aside",{className:"enfermedades-layout__sidebar",children:T.jsx(fy,{items:y,onLogout:m,user:s,isMobileMenuOpen:l,setIsMobileMenuOpen:u})}),T.jsx("main",{className:"enfermedades-layout__main",children:T.jsxs("div",{className:"enfermedades-page",children:[T.jsx(nL,{title:"Enfermedades",subtitle:"Aqu podrs explorar tu predisposicin gentica a distintas enfermedades. Descubre qu mutaciones y variantes estn presentes en tu ADN y cmo pueden influir en tu salud.",icon:bF}),t?T.jsxs("div",{className:"enfermedades-page__loading",children:[T.jsx("div",{className:"spinner"}),T.jsx("p",{children:"Cargando informacin gentica..."})]}):T.jsxs("div",{className:"enfermedades-page__error",children:[T.jsx("p",{children:r}),T.jsx("button",{onClick:v,children:"Reintentar"})]})]})})]}):T.jsxs("div",{className:"enfermedades-layout",children:[c&&T.jsx("button",{className:"enfermedades-layout__burger",onClick:()=>u(!l),"aria-label":l?"Cerrar men":"Abrir men","aria-expanded":l,children:l?T.jsx(Rh,{size:24,strokeWidth:2.5}):T.jsx(xm,{size:24,strokeWidth:2.5})}),T.jsx("aside",{className:"enfermedades-layout__sidebar",children:T.jsx(fy,{items:y,onLogout:m,user:s,isMobileMenuOpen:l,setIsMobileMenuOpen:u})}),T.jsx("main",{className:"enfermedades-layout__main",children:T.jsxs("div",{className:"enfermedades-page",children:[T.jsx(nL,{title:"Enfermedades",subtitle:"Aqu podrs explorar tu predisposicin gentica a distintas enfermedades. Descubre qu mutaciones y variantes estn presentes en tu ADN y cmo pueden influir en tu salud.",icon:bF}),T.jsx(E,{})]})})]})},sit=({user:n})=>{const[e,t]=Y.useState(n),i=va(),r=async()=>{try{await hi(ai.LOGOUT,{method:"POST"})}catch(s){console.error("Error al cerrar sesion",s)}ff(),i("/")},a=()=>{};return T.jsxs(gG,{children:[T.jsx(fs,{path:"/",element:T.jsx(qEe,{user:e,onLogout:r,onDownload:a})}),T.jsx(fs,{path:"ancestria",element:T.jsx(gXe,{})}),T.jsx(fs,{path:"rasgos",element:T.jsx(Knt,{})}),T.jsx(fs,{path:"enfermedades",element:T.jsx(ait,{})}),T.jsx(fs,{path:"farmacogenetica",element:T.jsx("div",{children:"Farmacogentica - Coming Soon"})}),T.jsx(fs,{path:"biomarcadores",element:T.jsx("div",{children:"Biomarcadores - Coming Soon"})}),T.jsx(fs,{path:"biometricas",element:T.jsx("div",{children:"Biomtricas - Coming Soon"})})]})},fH=({onLogout:n,user:e,isMobileMenuOpen:t=!1,setIsMobileMenuOpen:i=()=>{}})=>{const r=va(),[a,s]=Y.useState(!1),[o,l]=Y.useState(!1);Y.useEffect(()=>{const f=()=>{l(window.innerWidth<=1024),window.innerWidth>1024&&i&&i(!1)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[i]),Y.useEffect(()=>{if(!o)return;const f=document.documentElement,h=f.style.overflow;return f.style.overflow=t?"hidden":h||"",()=>{f.style.overflow=h||""}},[t,o]);const u=f=>h=>{h.preventDefault(),o&&i(!1),r(f)},c=a;return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:`admin-sidebar__overlay ${o&&t?"admin-sidebar__overlay--open":""}`,onClick:()=>i(!1),"aria-hidden":!t}),T.jsxs("aside",{className:`admin-sidebar ${c?"admin-sidebar--unfolded":"admin-sidebar--folded"} ${o&&t?"admin-sidebar--mobile-open":""}`,onMouseEnter:()=>!o&&s(!0),onMouseLeave:()=>!o&&s(!1),children:[T.jsx("div",{className:"admin-sidebar__header",children:T.jsxs("div",{className:"admin-sidebar__brand",onClick:()=>r("/dashboard"),style:{cursor:"pointer"},children:[T.jsx("img",{src:"/cSolido.png",alt:"GenomIA Logo",className:"admin-sidebar__logo"}),c&&!o&&T.jsxs("span",{className:"admin-sidebar__brand-text",children:["Genom",T.jsx("span",{className:"admin-sidebar__brand-highlight",children:"IA"}),"."]})]})}),T.jsxs("nav",{className:"admin-sidebar__nav",children:[T.jsxs("a",{href:"#",className:"admin-sidebar__nav-item",title:!c&&!o?"Administrar reportes genticos":void 0,onClick:u("/dashboard/admin/reports"),children:[T.jsx(P2,{size:20,className:"admin-sidebar__nav-icon"}),(c||o)&&T.jsx("span",{className:"admin-sidebar__nav-label",children:"Administrar reportes genticos"})]}),(c||o)&&T.jsx("div",{className:"admin-sidebar__divider"}),T.jsxs("a",{href:"#ver-variantes",className:"admin-sidebar__nav-item",title:!c&&!o?"Ver variantes en base de datos":void 0,onClick:u("/dashboard/admin/variants"),children:[T.jsx(NV,{size:20,className:"admin-sidebar__nav-icon"}),(c||o)&&T.jsx("span",{className:"admin-sidebar__nav-label",children:"Ver variantes en base de datos"})]})]}),T.jsx("div",{className:"admin-sidebar__footer",children:n&&T.jsxs("button",{type:"button",className:"admin-sidebar__logout",onClick:()=>{o&&i(!1),n()},title:!c&&!o?"Cerrar sesin":void 0,children:[T.jsx(woe,{size:20}),(c||o)&&T.jsx("span",{children:"Cerrar sesin"})]})})]})]})},oit=()=>{const[n,e]=Y.useState({totalUsers:0,processedReports:0,variantsInDB:0,completedAnalysis:0,userGrowth:"+12%",reportGrowth:"+8%",lastUpdate:"Hoy",analysisGrowth:"+18%"}),[t,i]=Y.useState(!0),[r,a]=Y.useState(null);return Y.useEffect(()=>{const s=async()=>{try{i(!0);const l=ai.DASHBOARD.replace("/dashboard/","/admin/stats/"),u=await hi(l,{method:"GET"});if(u.ok&&u.data){const c=u.data;e({totalUsers:c.total_users||0,processedReports:c.processed_reports||0,variantsInDB:c.variants_count||0,completedAnalysis:c.analysis_count||0,userGrowth:c.user_growth||"+0%",reportGrowth:c.report_growth||"+0%",lastUpdate:c.last_update||"Hoy",analysisGrowth:c.analysis_growth||"+0%"}),a(null)}else console.warn("No dashboard data available"),a("No se pudieron cargar las estadsticas")}catch(l){console.error("Error fetching admin stats:",l),a(l)}finally{i(!1)}};s();const o=setInterval(s,6e4);return()=>clearInterval(o)},[]),{stats:n,loading:t,error:r}},lit=({user:n})=>{const[e,t]=Y.useState(!1),[i,r]=Y.useState(!1),a=va(),{stats:s}=oit();Y.useEffect(()=>{const u=()=>{const c=window.innerWidth<=1024;r(c),c||t(!1)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const o=async()=>{try{await hi(ai.LOGOUT,{method:"POST"})}catch(u){console.error("Error al cerrar sesion",u)}ff(),a("/")},l=Y.useMemo(()=>[n?.first_name,n?.firstName,n?.name,n?.username,n?.email].find(Boolean)||"Usuario",[n]);return T.jsxs("div",{className:"postlogin-admin",children:[i&&T.jsx("button",{className:"postlogin-admin__burger",onClick:()=>t(!e),"aria-label":e?"Cerrar men":"Abrir men","aria-expanded":e,children:e?T.jsx(Rh,{size:24}):T.jsx(xm,{size:24})}),T.jsx("aside",{className:"postlogin-admin__sidebar",children:T.jsx(fH,{onLogout:o,user:n,isMobileMenuOpen:e,setIsMobileMenuOpen:t})}),T.jsxs("main",{className:"postlogin-admin__main",children:[T.jsx("header",{className:"postlogin-admin__header",children:T.jsxs("div",{className:"postlogin-admin__headline",children:[T.jsxs("h1",{className:"postlogin-admin__title",children:["Bienvenido/a ",l,"!"]}),T.jsx("p",{className:"postlogin-admin__subtitle",children:"Esta es la vista del administrador, donde podrs gestionar usuarios y explorar la base de datos del sistema, que integra genotipos y fenotipos."})]})}),T.jsx("section",{className:"postlogin-admin__stats","aria-label":"Estadsticas",children:T.jsxs("div",{className:"postlogin-admin__stats-grid",children:[T.jsxs("div",{className:"postlogin-admin__stat-card",children:[T.jsxs("div",{className:"postlogin-admin__stat-header",children:[T.jsx("span",{className:"postlogin-admin__stat-label",children:"Usuarios Totales"}),T.jsx(LEe,{size:24,className:"postlogin-admin__stat-icon",style:{color:"#0b7ad0"}})]}),T.jsx("div",{className:"postlogin-admin__stat-value",children:s.totalUsers.toLocaleString()})]}),T.jsxs("div",{className:"postlogin-admin__stat-card",children:[T.jsxs("div",{className:"postlogin-admin__stat-header",children:[T.jsx("span",{className:"postlogin-admin__stat-label",children:"Reportes Procesados"}),T.jsx(P2,{size:24,className:"postlogin-admin__stat-icon",style:{color:"#f97316"}})]}),T.jsx("div",{className:"postlogin-admin__stat-value",children:s.processedReports.toLocaleString()})]}),T.jsxs("div",{className:"postlogin-admin__stat-card",children:[T.jsxs("div",{className:"postlogin-admin__stat-header",children:[T.jsx("span",{className:"postlogin-admin__stat-label",children:"Variantes en BD"}),T.jsx(NV,{size:24,className:"postlogin-admin__stat-icon",style:{color:"#8b5cf6"}})]}),T.jsx("div",{className:"postlogin-admin__stat-value",children:s.variantsInDB.toLocaleString()})]}),T.jsxs("div",{className:"postlogin-admin__stat-card",children:[T.jsxs("div",{className:"postlogin-admin__stat-header",children:[T.jsx("span",{className:"postlogin-admin__stat-label",children:"Anlisis Completados"}),T.jsx(Moe,{size:24,className:"postlogin-admin__stat-icon",style:{color:"#10b981"}})]}),T.jsx("div",{className:"postlogin-admin__stat-value",children:s.completedAnalysis.toLocaleString()})]})]})}),T.jsx("section",{className:"postlogin-admin__grid","aria-label":"Administracin",children:T.jsxs("div",{className:"postlogin-admin__grid-wrapper",children:[T.jsx("div",{className:"postlogin-admin__card postlogin-admin__card--orange",role:"button",tabIndex:"0",children:T.jsxs("div",{className:"postlogin-admin__card-content",children:[T.jsx("h2",{className:"postlogin-admin__card-title",children:"Administrar reportes genticos"}),T.jsx("p",{className:"postlogin-admin__card-description",children:"Gestiona los archivos genticos de los usuarios: carga, edita o elimina sus variantes (RSIDs)."}),T.jsx("a",{onClick:u=>{u.preventDefault(),a("/dashboard/admin/reports")},href:"#",className:"postlogin-admin__card-link",children:"Administrar archivo"})]})}),T.jsx("div",{className:"postlogin-admin__card postlogin-admin__card--purple",role:"button",tabIndex:"0",children:T.jsxs("div",{className:"postlogin-admin__card-content",children:[T.jsx("h2",{className:"postlogin-admin__card-title",children:"Base de datos de variantes genticas"}),T.jsx("p",{className:"postlogin-admin__card-description",children:"Explora, revisa y gestiona las variantes genticas almacenadas en la base de datos del sistema."}),T.jsx("a",{onClick:u=>{u.preventDefault(),a("/dashboard/admin/variants")},href:"#",className:"postlogin-admin__card-link",children:"Ver variantes"})]})})]})})]})]})};function uit({isOpen:n,onClose:e,patient:t}){const[i,r]=Y.useState([]),[a,s]=Y.useState(!0),[o,l]=Y.useState(""),[u,c]=Y.useState("all"),[f,h]=Y.useState(1),d=10,v=w=>w?w.charAt(0).toUpperCase()+w.slice(1):"";Y.useEffect(()=>{n&&t&&m()},[n,t]);const m=async()=>{s(!0);try{console.log("Fetching variants for patient:",t),console.log("User ID:",t.userId);const w=await hi(ai.PATIENT_VARIANTS(t.userId),{method:"GET"});console.log("Response:",w),w.ok&&w.data.success?(console.log("Variants received:",w.data.data.variants.length),r(w.data.data.variants||[])):(console.error("Error fetching variants:",w.data),alert(`Error al cargar variantes: ${w.data.error||"Error desconocido"}`))}catch(w){console.error("Error fetching variants:",w),alert("Error de conexin al cargar variantes")}finally{s(!1)}},y=Y.useMemo(()=>i.filter(w=>{const E=w.rsid?.toLowerCase().includes(o.toLowerCase())||w.fenotipo?.toLowerCase().includes(o.toLowerCase())||w.cromosoma?.toLowerCase().includes(o.toLowerCase()),L=u==="all"||w.categoria?.toLowerCase()===u.toLowerCase();return E&&L}),[i,o,u]),x=Math.ceil(y.length/d),b=Y.useMemo(()=>{const w=(f-1)*d;return y.slice(w,w+d)},[y,f]);Y.useEffect(()=>{h(1)},[o,u]);const M=Y.useMemo(()=>[...new Set(i.map(E=>E.categoria).filter(Boolean))].sort(),[i]),C=()=>{const w=["rsID","Cromosoma","Posicin","Genotipo","Fenotipo","Categora","Alelo Referencia","Alelo Alternativo","Nivel Riesgo","Magnitud Efecto","Fecha Actualizacin"],E=V=>{if(V==null)return"";const U=String(V);return U.includes(",")||U.includes('"')||U.includes(`
`)?`"${U.replace(/"/g,'""')}"`:U},L=[w.join(","),...y.map(V=>[E(V.rsid),E(V.cromosoma),E(V.posicion),E(V.genotipo),E(V.fenotipo),E(V.categoria),E(V.alelo_referencia),E(V.alelo_alternativo),E(V.nivel_riesgo),E(V.magnitud_efecto),E(V.fecha_actualizacion)].join(","))].join(`
`),P="\uFEFF",I=new Blob([P+L],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),z=URL.createObjectURL(I);N.setAttribute("href",z),N.setAttribute("download",`variantes_${t.name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N)};return n?T.jsx("div",{className:"patient-variants-modal__overlay",onClick:e,children:T.jsxs("div",{className:"patient-variants-modal",onClick:w=>w.stopPropagation(),children:[T.jsxs("div",{className:"patient-variants-modal__header",children:[T.jsxs("div",{className:"patient-variants-modal__header-content",children:[T.jsxs("h2",{className:"patient-variants-modal__title",children:["Variantes Genticas - ",t?.name]}),T.jsxs("p",{className:"patient-variants-modal__subtitle",children:[t?.email,"  ",i.length," variantes totales"]})]}),T.jsx("button",{className:"patient-variants-modal__close-btn",onClick:e,"aria-label":"Cerrar modal",children:T.jsx(Rh,{size:24})})]}),T.jsxs("div",{className:"patient-variants-modal__filters",children:[T.jsxs("div",{className:"patient-variants-modal__search",children:[T.jsx(PV,{size:18,className:"patient-variants-modal__search-icon"}),T.jsx("input",{type:"text",placeholder:"Buscar por rsID, fenotipo o cromosoma...",value:o,onChange:w=>l(w.target.value),className:"patient-variants-modal__search-input"})]}),T.jsxs("div",{className:"patient-variants-modal__filter-group",children:[T.jsx("label",{className:"patient-variants-modal__filter-label",children:"Categora:"}),T.jsxs("select",{value:u,onChange:w=>c(w.target.value),className:"patient-variants-modal__filter-select",children:[T.jsx("option",{value:"all",children:"Todas"}),M.map(w=>T.jsx("option",{value:w,children:v(w)},w))]})]}),T.jsxs("button",{className:"patient-variants-modal__export-btn",onClick:C,disabled:y.length===0,children:[T.jsx(Coe,{size:18}),T.jsx("span",{children:"Exportar CSV"})]})]}),T.jsx("div",{className:"patient-variants-modal__content",children:a?T.jsxs("div",{className:"patient-variants-modal__loading",children:[T.jsx("div",{className:"patient-variants-modal__spinner"}),T.jsx("p",{children:"Cargando variantes..."})]}):y.length===0?T.jsx("div",{className:"patient-variants-modal__empty",children:T.jsx("p",{children:"No se encontraron variantes con los filtros aplicados"})}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"patient-variants-modal__table-wrapper",children:T.jsxs("table",{className:"patient-variants-modal__table",children:[T.jsx("thead",{className:"patient-variants-modal__table-head",children:T.jsxs("tr",{children:[T.jsx("th",{children:"rsID"}),T.jsx("th",{children:"Cromosoma"}),T.jsx("th",{children:"Posicin"}),T.jsx("th",{children:"Genotipo"}),T.jsx("th",{children:"Fenotipo"}),T.jsx("th",{children:"Categora"}),T.jsx("th",{children:"Nivel Riesgo"}),T.jsx("th",{children:"Magnitud"}),T.jsx("th",{children:"Alelo Ref."}),T.jsx("th",{children:"Alelo Alt."})]})}),T.jsx("tbody",{className:"patient-variants-modal__table-body",children:b.map((w,E)=>T.jsxs("tr",{children:[T.jsx("td",{className:"patient-variants-modal__cell--bold",children:w.rsid||"N/A"}),T.jsx("td",{children:w.cromosoma||"N/A"}),T.jsx("td",{children:w.posicion?w.posicion.toLocaleString():"N/A"}),T.jsx("td",{children:w.genotipo||"N/A"}),T.jsx("td",{className:"patient-variants-modal__cell--fenotipo",title:w.fenotipo,children:w.fenotipo||"N/A"}),T.jsx("td",{children:T.jsx("span",{className:`patient-variants-modal__badge patient-variants-modal__badge--${w.categoria?.toLowerCase()||"unknown"}`,children:v(w.categoria)||"N/A"})}),T.jsx("td",{children:T.jsx("span",{className:`patient-variants-modal__risk-badge patient-variants-modal__risk-badge--${w.nivel_riesgo?.toLowerCase()||"unknown"}`,children:w.nivel_riesgo||"N/A"})}),T.jsx("td",{children:w.magnitud_efecto?w.magnitud_efecto.toFixed(2):"N/A"}),T.jsx("td",{children:w.alelo_referencia||"N/A"}),T.jsx("td",{children:w.alelo_alternativo||"N/A"})]},`${w.rsid}-${E}`))})]})}),x>1&&T.jsxs("div",{className:"patient-variants-modal__pagination",children:[T.jsxs("button",{className:"patient-variants-modal__pagination-btn",onClick:()=>h(w=>Math.max(1,w-1)),disabled:f===1,children:[T.jsx(zwe,{size:18}),"Anterior"]}),T.jsxs("div",{className:"patient-variants-modal__pagination-info",children:["Pgina ",f," de ",x,"  ",y.length," resultados"]}),T.jsxs("button",{className:"patient-variants-modal__pagination-btn",onClick:()=>h(w=>Math.min(x,w+1)),disabled:f===x,children:["Siguiente",T.jsx(Fwe,{size:18})]})]})]})})]})}):null}const cit=[{id:"P001",name:"Mara Gonzlez",rut:"12.345.678-9",email:"maria.gonzalez@email.com",hasReport:!0,reportDate:"2024-01-15",reportName:"reporte_genetico_maria.vcf"}];function fit({user:n}){const e=va(),[t,i]=Y.useState(cit),[r,a]=Y.useState(""),[s,o]=Y.useState(!1),[l,u]=Y.useState(!1),[c,f]=Y.useState(!1),[h,d]=Y.useState(null),[v,m]=Y.useState(null),[y,x]=Y.useState(!0),[b,M]=Y.useState(!1),[C,w]=Y.useState(!1),[E,L]=Y.useState(!1),[P,I]=Y.useState(null),[N,z]=Y.useState("todos");Y.useEffect(()=>{const ue=()=>{const fe=window.innerWidth<=1024;w(fe),fe||M(!1)};return ue(),window.addEventListener("resize",ue),()=>window.removeEventListener("resize",ue)},[]),Y.useEffect(()=>{(async()=>{try{const fe=await hi(ai.GET_USERS,{method:"GET"});if(fe.ok&&fe.data){const Se=(Array.isArray(fe.data)?fe.data:fe.data.results||[]).filter(Ue=>!Ue.is_staff&&!Ue.is_superuser),Ee=await Promise.all(Se.map(async Ue=>{let _e=!1,ke=null,dt=null,De="NO_PURCHASED";try{const ae=`${ai.GET_USERS.replace("/users/","/user-report-status/")}${Ue.id}/`,Fe=await hi(ae,{method:"GET"});Fe.ok&&(_e=Fe.data.has_report,De=Fe.data.service_status||"NO_PURCHASED",_e&&(ke=Fe.data.report_filename,dt=Fe.data.report_date))}catch(ae){console.error(`Error fetching report status for user ${Ue.id}:`,ae)}return{id:`P${String(Ue.id).padStart(3,"0")}`,userId:Ue.id,name:Ue.first_name&&Ue.last_name?`${Ue.first_name} ${Ue.last_name}`:Ue.username||"Sin nombre",rut:Ue.rut||"N/A",email:Ue.email||"N/A",hasReport:_e,reportDate:dt,reportName:ke,serviceStatus:De}}));i(Ee)}}catch(fe){console.error("Error fetching patients:",fe)}finally{x(!1)}})()},[]);const V=async()=>{try{await hi(ai.LOGOUT,{method:"POST"})}catch(ue){console.error("Error al cerrar sesin",ue)}ff(),e("/")},U=t.filter(ue=>{const fe=ue.name.toLowerCase().includes(r.toLowerCase())||ue.rut.includes(r)||ue.id.toLowerCase().includes(r.toLowerCase());let ge=!0;return N==="sin_reporte"?ge=!ue.hasReport:N==="pendiente"?ge=!ue.hasReport&&ue.serviceStatus==="PENDING":N==="subido"&&(ge=ue.hasReport),fe&&ge}),j=ue=>{d(ue),o(!0)},W=ue=>{d(ue),u(!0)},G=ue=>{d(ue),f(!0)},X=ue=>{const fe=ue.match(/_([0-9]+[Kk]?)\.txt$/);return fe?fe[1]:null},q=async()=>{if(h&&v)try{const ue=X(v.name);if(!ue){alert("El nombre del archivo debe tener formato: nombre_rut.txt (ej: napellido_12345689)");return}if(h.rut!=="N/A"){const Se=h.rut.replace(/[-.]\s*/g,"").toUpperCase();if(ue.toUpperCase()!==Se){alert(`El RUT del archivo (${ue}) no coincide con el RUT del paciente (${h.rut}). Por favor, verifica el archivo.`);return}}const fe=await v.text(),ge=await hi(ai.UPLOAD_GENETIC_FILE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:parseInt(h.id.replace("P","")),fileContent:fe,rutFromFile:ue,filename:v.name})});ge.ok?(i(t.map(Se=>Se.id===h.id?{...Se,hasReport:!0,reportDate:new Date().toISOString().split("T")[0],reportName:v.name}:Se)),o(!1),m(null),d(null),alert(`Archivo procesado correctamente. ${ge.data.snps_count} variantes genticas agregadas.`)):alert("Error al procesar el archivo: "+(ge.data?.error||"Error desconocido"))}catch(ue){console.error("Error procesando archivo:",ue),alert("Error al procesar el archivo gentico")}},$=async()=>{if(h&&v)try{const ue=X(v.name);if(!ue){alert("El nombre del archivo debe tener formato: nombre_rut.txt (ej: fayala_205165851.txt o fayala_2051658519K.txt)");return}if(h.rut!=="N/A"){const Se=h.rut.replace(/[-.]\s*/g,"").toUpperCase();if(ue.toUpperCase()!==Se){alert(`El RUT del archivo (${ue}) no coincide con el RUT del paciente (${h.rut}). Por favor, verifica el archivo.`);return}}const fe=await v.text(),ge=await hi(ai.UPLOAD_GENETIC_FILE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:parseInt(h.id.replace("P","")),fileContent:fe,rutFromFile:ue,filename:v.name})});ge.ok?(i(t.map(Se=>Se.id===h.id?{...Se,reportDate:new Date().toISOString().split("T")[0],reportName:v.name}:Se)),u(!1),m(null),d(null),alert(`Archivo procesado correctamente. ${ge.data.snps_count} variantes genticas agregadas.`)):alert("Error al procesar el archivo: "+(ge.data?.error||"Error desconocido"))}catch(ue){console.error("Error procesando archivo:",ue),alert("Error al procesar el archivo gentico")}},te=async()=>{if(h)try{const ue=await hi(ai.DELETE_GENETIC_FILE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:parseInt(h.id.replace("P",""))})});ue.ok?(i(t.map(fe=>fe.id===h.id?{...fe,hasReport:!1,reportDate:null,reportName:null}:fe)),f(!1),d(null),alert(`Reporte eliminado correctamente. ${ue.data.deleted_count} variantes removidas.`)):alert("Error al eliminar el archivo: "+(ue.data?.error||"Error desconocido"))}catch(ue){console.error("Error eliminando archivo:",ue),alert("Error al eliminar el reporte gentico")}},J=async(ue,fe)=>{try{const ge=await hi(ai.UPDATE_SERVICE_STATUS,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:ue.userId,status:fe})});ge.ok?(i(t.map(Se=>Se.id===ue.id?{...Se,serviceStatus:fe}:Se)),alert("Estado actualizado correctamente")):alert("Error al actualizar el estado: "+(ge.data?.error||"Error desconocido"))}catch(ge){console.error("Error actualizando estado:",ge),alert("Error al actualizar el estado")}},Q=t.filter(ue=>ue.hasReport).length,se=t.filter(ue=>!ue.hasReport).length,ce=ue=>{ue.hasReport&&(I(ue),L(!0))};return y?T.jsx("div",{}):T.jsxs("div",{className:"admin-reports-wrapper",children:[C&&T.jsx("button",{className:"admin-reports__burger",onClick:()=>M(!b),"aria-label":b?"Cerrar men":"Abrir men","aria-expanded":b,children:b?T.jsx(Rh,{size:24}):T.jsx(xm,{size:24})}),T.jsx("aside",{className:"admin-reports__sidebar",children:T.jsx(fH,{onLogout:V,user:n,isMobileMenuOpen:b,setIsMobileMenuOpen:M})}),T.jsxs("main",{className:"admin-reports",children:[T.jsx("div",{className:"admin-reports__header",children:T.jsxs("div",{className:"admin-reports__headline",children:[T.jsx("h1",{className:"admin-reports__title",children:"Administrar Reportes Genticos"}),T.jsx("p",{className:"admin-reports__subtitle",children:"Gestiona y visualiza todos los reportes genticos de los pacientes"})]})}),T.jsxs("div",{className:"admin-reports__container",children:[T.jsxs("div",{className:"admin-reports__search-card",children:[T.jsxs("div",{className:"admin-reports__search-top",children:[T.jsxs("div",{className:"admin-reports__search-input-container",children:[T.jsx(PV,{size:18,className:"admin-reports__search-icon"}),T.jsx("input",{type:"text",placeholder:"Buscar por nombre, RUT o ID...",value:r,onChange:ue=>a(ue.target.value),className:"admin-reports__search-input"})]}),T.jsxs("div",{className:"admin-reports__status-filter-container",children:[T.jsx("label",{className:"admin-reports__filter-label",children:"Estado del Reporte"}),T.jsxs("select",{value:N,onChange:ue=>z(ue.target.value),className:"admin-reports__status-filter",children:[T.jsx("option",{value:"todos",children:"Todos"}),T.jsx("option",{value:"sin_reporte",children:"Sin Reporte"}),T.jsx("option",{value:"pendiente",children:"Pendiente"}),T.jsx("option",{value:"subido",children:"Subido"})]})]})]}),T.jsxs("div",{className:"admin-reports__stats",children:[T.jsxs("div",{className:"admin-reports__stat-item admin-reports__stat-item--with-icon",title:"Reportes completados y subidos",children:[T.jsx("div",{className:"admin-reports__stat-icon admin-reports__stat-icon--success",children:""}),T.jsx("div",{className:"admin-reports__stat-number",children:Q}),T.jsx("div",{className:"admin-reports__stat-label",children:"Con Reporte"})]}),T.jsxs("div",{className:"admin-reports__stat-item admin-reports__stat-item--with-icon",title:"Reportes pendientes de subir o procesar",children:[T.jsx("div",{className:"admin-reports__stat-icon admin-reports__stat-icon--warning",children:"!"}),T.jsx("div",{className:"admin-reports__stat-number",children:se}),T.jsx("div",{className:"admin-reports__stat-label",children:"Sin Reporte"})]}),T.jsxs("div",{className:"admin-reports__stat-item admin-reports__stat-item--with-icon",title:"Total de pacientes en el sistema",children:[T.jsx("div",{className:"admin-reports__stat-icon admin-reports__stat-icon--info",children:""}),T.jsx("div",{className:"admin-reports__stat-number",children:t.length}),T.jsx("div",{className:"admin-reports__stat-label",children:"Total Pacientes"})]})]})]}),T.jsxs("div",{className:"admin-reports__table-card",children:[T.jsxs("div",{className:"admin-reports__table-header",children:[T.jsx("h2",{className:"admin-reports__table-title",children:"Pacientes Registrados"}),T.jsx("p",{className:"admin-reports__table-description",children:"Lista completa de pacientes y el estado de sus reportes genticos"})]}),T.jsx("div",{className:"admin-reports__table-wrapper",children:T.jsxs("table",{className:"admin-reports__table",children:[T.jsx("thead",{className:"admin-reports__table-head",children:T.jsxs("tr",{className:"admin-reports__table-row",children:[T.jsx("th",{className:"admin-reports__table-cell",children:"ID"}),T.jsx("th",{className:"admin-reports__table-cell",children:"Paciente"}),T.jsx("th",{className:"admin-reports__table-cell",children:"RUT"}),T.jsx("th",{className:"admin-reports__table-cell",children:"Email"}),T.jsx("th",{className:"admin-reports__table-cell",children:"Estado Reporte"}),T.jsx("th",{className:"admin-reports__table-cell",children:"Archivo"}),T.jsx("th",{className:"admin-reports__table-cell",children:"Fecha"}),T.jsx("th",{className:"admin-reports__table-cell admin-reports__table-cell--align-right",children:"Acciones"})]})}),T.jsx("tbody",{className:"admin-reports__table-body",children:U.length===0?T.jsx("tr",{className:"admin-reports__table-row",children:T.jsx("td",{colSpan:"8",className:"admin-reports__table-cell admin-reports__table-cell--center",children:"No se encontraron pacientes"})}):U.map(ue=>T.jsxs("tr",{className:"admin-reports__table-row",children:[T.jsx("td",{className:"admin-reports__table-cell admin-reports__table-cell--bold",children:ue.id}),T.jsx("td",{className:"admin-reports__table-cell",children:ue.hasReport?T.jsx("button",{className:"admin-reports__patient-name-btn",onClick:()=>ce(ue),title:"Ver variantes genticas",children:ue.name}):ue.name}),T.jsx("td",{className:"admin-reports__table-cell",children:ue.rut}),T.jsx("td",{className:"admin-reports__table-cell admin-reports__table-cell--muted",children:ue.email}),T.jsx("td",{className:"admin-reports__table-cell",children:ue.hasReport?T.jsx("span",{className:"admin-reports__badge admin-reports__badge--success",children:"Completado"}):T.jsxs("select",{value:ue.serviceStatus,onChange:fe=>J(ue,fe.target.value),className:"admin-reports__service-status-select",children:[T.jsx("option",{value:"NO_PURCHASED",children:"Sin Reporte"}),T.jsx("option",{value:"PENDING",children:"Pendiente"})]})}),T.jsx("td",{className:"admin-reports__table-cell",children:ue.reportName?T.jsxs("div",{className:"admin-reports__file-cell",children:[T.jsx(P2,{size:16,className:"admin-reports__file-icon"}),T.jsx("span",{className:"admin-reports__file-name",title:ue.reportName,children:ue.reportName})]}):T.jsx("span",{className:"admin-reports__table-cell--muted",children:"-"})}),T.jsx("td",{className:"admin-reports__table-cell admin-reports__table-cell--muted",children:ue.reportDate||"-"}),T.jsx("td",{className:"admin-reports__table-cell admin-reports__table-cell--actions",children:T.jsx("div",{className:"admin-reports__actions",children:ue.hasReport?T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"admin-reports__action-btn admin-reports__action-btn--edit",onClick:()=>W(ue),title:"Editar reporte",children:T.jsx(gEe,{size:18})}),T.jsx("button",{className:"admin-reports__action-btn admin-reports__action-btn--delete",onClick:()=>G(ue),title:"Eliminar reporte",children:T.jsx(_Ee,{size:18})})]}):T.jsxs("button",{className:"admin-reports__action-btn admin-reports__action-btn--upload",onClick:()=>j(ue),title:"Subir reporte",children:[T.jsx(Eoe,{size:18}),T.jsx("span",{children:"Subir"})]})})})]},ue.id))})]})})]})]}),s&&T.jsx("div",{className:"admin-reports__overlay",onClick:()=>o(!1),children:T.jsxs("div",{className:"admin-reports__dialog",onClick:ue=>ue.stopPropagation(),children:[T.jsxs("div",{className:"admin-reports__dialog-header",children:[T.jsx("h2",{className:"admin-reports__dialog-title",children:"Subir Reporte Gentico"}),T.jsxs("p",{className:"admin-reports__dialog-description",children:["Sube el archivo de reporte gentico para ",h?.name]})]}),T.jsx("div",{className:"admin-reports__dialog-content",children:T.jsxs("div",{className:"admin-reports__form-group",children:[T.jsx("label",{className:"admin-reports__label",children:"Archivo (.txt)"}),T.jsx("input",{type:"file",accept:".txt",onChange:ue=>m(ue.target.files?.[0]||null),className:"admin-reports__file-input"}),v&&T.jsxs("p",{className:"admin-reports__file-selected",children:["Archivo seleccionado: ",v.name]})]})}),T.jsxs("div",{className:"admin-reports__dialog-footer",children:[T.jsx("button",{className:"admin-reports__btn admin-reports__btn--secondary",onClick:()=>o(!1),children:"Cancelar"}),T.jsx("button",{className:"admin-reports__btn admin-reports__btn--primary",onClick:q,disabled:!v,children:"Subir archivo"})]})]})}),l&&T.jsx("div",{className:"admin-reports__overlay",onClick:()=>u(!1),children:T.jsxs("div",{className:"admin-reports__dialog",onClick:ue=>ue.stopPropagation(),children:[T.jsxs("div",{className:"admin-reports__dialog-header",children:[T.jsx("h2",{className:"admin-reports__dialog-title",children:"Editar Reporte Gentico"}),T.jsxs("p",{className:"admin-reports__dialog-description",children:["Reemplaza el archivo de reporte gentico para ",h?.name]})]}),T.jsxs("div",{className:"admin-reports__dialog-content",children:[T.jsxs("div",{className:"admin-reports__form-group",children:[T.jsx("label",{className:"admin-reports__label",children:"Archivo actual"}),T.jsxs("div",{className:"admin-reports__current-file",children:[T.jsx(P2,{size:16,className:"admin-reports__file-icon"}),T.jsx("span",{children:h?.reportName})]})]}),T.jsxs("div",{className:"admin-reports__form-group",children:[T.jsx("label",{className:"admin-reports__label",children:"Nuevo archivo (.txt)"}),T.jsx("input",{type:"file",accept:".txt",onChange:ue=>m(ue.target.files?.[0]||null),className:"admin-reports__file-input"}),v&&T.jsxs("p",{className:"admin-reports__file-selected",children:["Nuevo archivo: ",v.name]})]})]}),T.jsxs("div",{className:"admin-reports__dialog-footer",children:[T.jsx("button",{className:"admin-reports__btn admin-reports__btn--secondary",onClick:()=>u(!1),children:"Cancelar"}),T.jsx("button",{className:"admin-reports__btn admin-reports__btn--primary",onClick:$,disabled:!v,children:"Actualizar archivo"})]})]})}),c&&T.jsx("div",{className:"admin-reports__overlay",onClick:()=>f(!1),children:T.jsxs("div",{className:"admin-reports__dialog",onClick:ue=>ue.stopPropagation(),children:[T.jsxs("div",{className:"admin-reports__dialog-header",children:[T.jsx("h2",{className:"admin-reports__dialog-title",children:"Eliminar Reporte Gentico"}),T.jsxs("p",{className:"admin-reports__dialog-description",children:["Ests seguro de que deseas eliminar el reporte gentico de ",h?.name,"? Esta accin no se puede deshacer."]})]}),T.jsx("div",{className:"admin-reports__dialog-content",children:T.jsxs("div",{className:"admin-reports__delete-warning",children:[T.jsx(P2,{size:16,className:"admin-reports__warning-icon"}),T.jsx("span",{children:h?.reportName})]})}),T.jsxs("div",{className:"admin-reports__dialog-footer",children:[T.jsx("button",{className:"admin-reports__btn admin-reports__btn--secondary",onClick:()=>f(!1),children:"Cancelar"}),T.jsx("button",{className:"admin-reports__btn admin-reports__btn--danger",onClick:te,children:"Eliminar archivo"})]})]})}),T.jsx(uit,{isOpen:E,onClose:()=>L(!1),patient:P})]})]})}const $M={frica:{code:"AFR",countries:["Nigeria","Ghana","Kenia","Etiopa","Sudfrica"]},Asia:{code:"EAS",countries:["China","Japn","India","Tailandia","Vietnam","Filipinas","Indonesia","Malasia"]},Europa:{code:"EUR",countries:["Espaa","Francia","Italia","Alemania","Reino Unido","Polonia","Suecia","Noruega","Finlandia","Dinamarca","Blgica","Holanda","Suiza","Austria","Grecia","Portugal","Irlanda","Hungra"]},Amrica:{code:"AMR",countries:["Mxico","Estados Unidos","Canad","Brasil","Argentina","Colombia","Per","Chile","Venezuela","Ecuador"]},Oceana:{code:"OCE",countries:["Australia","Nueva Zelanda","Fiji","Papa Nueva Guinea","Samoa"]}},Fne={Espaa:"IBS",Francia:"FRE",Italia:"TSI",Alemania:"GER","Reino Unido":"GBR",Polonia:"POL",Suecia:"SWE",Noruega:"NOR",Finlandia:"FIN",Dinamarca:"DEN",Blgica:"BEL",Holanda:"HOL",Suiza:"SUI",Austria:"AUT",Grecia:"GRE",Portugal:"POR",Irlanda:"IRE",Hungra:"HUN",China:"CHI",Japn:"JPN",India:"IND",Tailandia:"THA",Vietnam:"VIE",Filipinas:"PHI",Indonesia:"IDN",Malasia:"MAL",Mxico:"MEX","Estados Unidos":"USA",Canad:"CAN",Brasil:"BRA",Argentina:"ARG",Colombia:"COL",Per:"PER",Chile:"CHL",Venezuela:"VEN",Ecuador:"ECU",Nigeria:"NIG",Ghana:"GHA",Kenia:"KEN",Etiopa:"ETH",Sudfrica:"RSA",Australia:"AUS","Nueva Zelanda":"NZL",Fiji:"FIJ","Papa Nueva Guinea":"PNG",Samoa:"SAM"},hit=["dbSNP","GWAS Catalog","ClinVar","SNPedia","Otra"],Une=["gnomAD","1000 Genomes","SNPedia","Otra"],dit=["Clnico","GWAS","Experimental","Otra"],pit=({isOpen:n,onClose:e,onSubmit:t})=>{const[i,r]=Y.useState({rsid:"",genotipo:"",fenotipo:"",categoria:"rasgos",cromosoma:"",posicion:"",alelo_referencia:"",alelo_alternativo:"",nivel_riesgo:"Bajo",magnitud_efecto:"",fuente_base_datos:"",tipo_evidencia:"",fecha_actualizacion:new Date().toISOString().split("T")[0],continente:"",af_continente:"",fuente_continente:"",poblacion_continente:"",pais:"",af_pais:"",fuente_pais:"",poblacion_pais:""}),[a,s]=Y.useState(!1),[o,l]=Y.useState(null),[u,c]=Y.useState(!1),[f,h]=Y.useState(!1),[d,v]=Y.useState(!1),[m,y]=Y.useState(!1),[x,b]=Y.useState([]);Y.useEffect(()=>{i.continente&&$M[i.continente]?b($M[i.continente].countries):b([])},[i.continente]);const M=w=>{const{name:E,value:L}=w.target;let P={[E]:L};E==="continente"?($M[L]&&(P.poblacion_continente=$M[L].code),P.pais="",P.poblacion_pais=""):E==="pais"?Fne[L]&&(P.poblacion_pais=Fne[L]):E==="fuente_base_datos"?c(L==="Otra"):E==="fuente_continente"?h(L==="Otra"):E==="fuente_pais"?v(L==="Otra"):E==="tipo_evidencia"&&y(L==="Otra"),r(I=>({...I,...P}))},C=async w=>{if(w.preventDefault(),l(null),!i.rsid||!i.genotipo||!i.fenotipo){l("rsID, Genotipo y Fenotipo son requeridos");return}s(!0);try{await t(i),r({rsid:"",genotipo:"",fenotipo:"",categoria:"rasgos",cromosoma:"",posicion:"",alelo_referencia:"",alelo_alternativo:"",nivel_riesgo:"Bajo",magnitud_efecto:"",fuente_base_datos:"",tipo_evidencia:"",fecha_actualizacion:new Date().toISOString().split("T")[0],continente:"",af_continente:"",fuente_continente:"",poblacion_continente:"",pais:"",af_pais:"",fuente_pais:"",poblacion_pais:""}),e()}catch(E){l(E.message)}finally{s(!1)}};return n?T.jsx("div",{className:"add-variant-modal-overlay",onClick:e,children:T.jsxs("div",{className:"add-variant-modal",onClick:w=>w.stopPropagation(),children:[T.jsxs("div",{className:"add-variant-modal__header",children:[T.jsx("h2",{children:"Agregar Nueva Variante Gentica"}),T.jsx("button",{className:"add-variant-modal__close",onClick:e,"aria-label":"Cerrar",children:T.jsx(Rh,{size:24})})]}),T.jsxs("form",{onSubmit:C,className:"add-variant-modal__form",children:[o&&T.jsx("div",{className:"add-variant-modal__error",children:o}),T.jsxs("div",{className:"add-variant-modal__section",children:[T.jsx("h3",{children:"Informacin Bsica"}),T.jsxs("div",{className:"add-variant-modal__grid-2",children:[T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"rsID *"}),T.jsx("input",{type:"text",name:"rsid",value:i.rsid,onChange:M,placeholder:"ej: rs12913832",required:!0})]}),T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Genotipo *"}),T.jsx("input",{type:"text",name:"genotipo",value:i.genotipo,onChange:M,placeholder:"ej: CC, AC, AA",required:!0})]})]}),T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Fenotipo *"}),T.jsx("textarea",{name:"fenotipo",value:i.fenotipo,onChange:M,placeholder:"Descripcin del fenotipo",rows:"3",required:!0})]}),T.jsxs("div",{className:"add-variant-modal__grid-2",children:[T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Categora"}),T.jsxs("select",{name:"categoria",value:i.categoria,onChange:M,children:[T.jsx("option",{value:"rasgos",children:"Rasgos"}),T.jsx("option",{value:"biometrica",children:"Biomtrica"}),T.jsx("option",{value:"enfermedades",children:"Enfermedades"}),T.jsx("option",{value:"biomarcadores",children:"Biomarcadores"}),T.jsx("option",{value:"farmacogenetica",children:"Farmacogentica"})]})]}),T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Nivel de Riesgo"}),T.jsxs("select",{name:"nivel_riesgo",value:i.nivel_riesgo,onChange:M,children:[T.jsx("option",{value:"Bajo",children:"Bajo"}),T.jsx("option",{value:"Intermedio",children:"Intermedio"}),T.jsx("option",{value:"Alto",children:"Alto"}),T.jsx("option",{value:"N/A",children:"N/A"})]})]})]})]}),T.jsxs("div",{className:"add-variant-modal__section",children:[T.jsx("h3",{children:"Informacin Genmica"}),T.jsxs("div",{className:"add-variant-modal__grid-2",children:[T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Cromosoma"}),T.jsx("input",{type:"text",name:"cromosoma",value:i.cromosoma,onChange:M,placeholder:"ej: 1, 2, X"})]}),T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Posicin"}),T.jsx("input",{type:"number",name:"posicion",value:i.posicion,onChange:M,placeholder:"Posicin genmica"})]})]}),T.jsxs("div",{className:"add-variant-modal__grid-2",children:[T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Alelo Referencia"}),T.jsx("input",{type:"text",name:"alelo_referencia",value:i.alelo_referencia,onChange:M,placeholder:"ej: A"})]}),T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Alelo Alternativo"}),T.jsx("input",{type:"text",name:"alelo_alternativo",value:i.alelo_alternativo,onChange:M,placeholder:"ej: G"})]})]}),T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Magnitud del Efecto"}),T.jsx("input",{type:"number",step:"0.01",name:"magnitud_efecto",value:i.magnitud_efecto,onChange:M,placeholder:"ej: 1.25"})]})]}),T.jsxs("div",{className:"add-variant-modal__section",children:[T.jsx("h3",{children:"Metadata"}),T.jsxs("div",{className:"add-variant-modal__grid-2",children:[T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Fuente de Base de Datos"}),T.jsxs("select",{name:"fuente_base_datos",value:i.fuente_base_datos,onChange:M,children:[T.jsx("option",{value:"",children:"Seleccionar..."}),hit.map(w=>T.jsx("option",{value:w,children:w},w))]}),u&&T.jsx("input",{type:"text",placeholder:"Especificar fuente",value:i.fuente_base_datos==="Otra"?"":i.fuente_base_datos,onChange:w=>r(E=>({...E,fuente_base_datos:w.target.value})),className:"add-variant-modal__input-other"})]}),T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Tipo de Evidencia"}),T.jsxs("select",{name:"tipo_evidencia",value:i.tipo_evidencia,onChange:M,children:[T.jsx("option",{value:"",children:"Seleccionar..."}),dit.map(w=>T.jsx("option",{value:w,children:w},w))]}),m&&T.jsx("input",{type:"text",placeholder:"Especificar tipo de evidencia",value:i.tipo_evidencia==="Otra"?"":i.tipo_evidencia,onChange:w=>r(E=>({...E,tipo_evidencia:w.target.value})),className:"add-variant-modal__input-other"})]})]}),T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Fecha de Actualizacin"}),T.jsx("input",{type:"date",name:"fecha_actualizacion",value:i.fecha_actualizacion,onChange:M})]})]}),T.jsxs("div",{className:"add-variant-modal__section",children:[T.jsx("h3",{children:"Ancestra - Continente"}),T.jsxs("div",{className:"add-variant-modal__grid-2",children:[T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Continente"}),T.jsxs("select",{name:"continente",value:i.continente,onChange:M,children:[T.jsx("option",{value:"",children:"Seleccionar..."}),Object.keys($M).map(w=>T.jsx("option",{value:w,children:w},w))]})]}),T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Frecuencia Allica"}),T.jsx("input",{type:"number",step:"0.0001",name:"af_continente",value:i.af_continente,onChange:M,placeholder:"0.0000 - 1.0000",min:"0",max:"1"})]})]}),T.jsxs("div",{className:"add-variant-modal__grid-2",children:[T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Fuente"}),T.jsxs("select",{name:"fuente_continente",value:i.fuente_continente,onChange:M,children:[T.jsx("option",{value:"",children:"Seleccionar..."}),Une.map(w=>T.jsx("option",{value:w,children:w},w))]}),f&&T.jsx("input",{type:"text",placeholder:"Especificar fuente",value:i.fuente_continente==="Otra"?"":i.fuente_continente,onChange:w=>r(E=>({...E,fuente_continente:w.target.value})),className:"add-variant-modal__input-other"})]}),T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Poblacin (autocompletado)"}),T.jsx("input",{type:"text",name:"poblacion_continente",value:i.poblacion_continente,onChange:M,placeholder:"ej: EUR, AFR",title:"Se rellena automticamente pero se puede editar"})]})]})]}),T.jsxs("div",{className:"add-variant-modal__section",children:[T.jsx("h3",{children:"Ancestra - Pas"}),i.continente?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"add-variant-modal__grid-2",children:[T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsxs("label",{children:["Pas de ",i.continente]}),T.jsxs("select",{name:"pais",value:i.pais,onChange:M,children:[T.jsx("option",{value:"",children:"Seleccionar..."}),x.map(w=>T.jsx("option",{value:w,children:w},w))]})]}),T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Frecuencia Allica"}),T.jsx("input",{type:"number",step:"0.0001",name:"af_pais",value:i.af_pais,onChange:M,placeholder:"0.0000 - 1.0000",min:"0",max:"1"})]})]}),T.jsxs("div",{className:"add-variant-modal__grid-2",children:[T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Fuente"}),T.jsxs("select",{name:"fuente_pais",value:i.fuente_pais,onChange:M,children:[T.jsx("option",{value:"",children:"Seleccionar..."}),Une.map(w=>T.jsx("option",{value:w,children:w},w))]}),d&&T.jsx("input",{type:"text",placeholder:"Especificar fuente",value:i.fuente_pais==="Otra"?"":i.fuente_pais,onChange:w=>r(E=>({...E,fuente_pais:w.target.value})),className:"add-variant-modal__input-other"})]}),T.jsxs("div",{className:"add-variant-modal__group",children:[T.jsx("label",{children:"Poblacin (autocompletado)"}),T.jsx("input",{type:"text",name:"poblacion_pais",value:i.poblacion_pais,onChange:M,placeholder:"ej: IBS",title:"Se rellena automticamente pero se puede editar"})]})]})]}):T.jsx("div",{className:"add-variant-modal__info-message",children:T.jsx("p",{children:" Selecciona primero un continente en la seccin anterior"})})]}),T.jsxs("div",{className:"add-variant-modal__actions",children:[T.jsx("button",{type:"button",className:"add-variant-modal__btn-cancel",onClick:e,disabled:a,children:"Cancelar"}),T.jsx("button",{type:"submit",className:"add-variant-modal__btn-submit",disabled:a,children:a?"Guardando...":"Agregar Variante"})]})]})]})}):null},vit=({user:n})=>{const e=va(),[t,i]=Y.useState([]),[r,a]=Y.useState([]),[s,o]=Y.useState(!0),[l,u]=Y.useState(null),[c,f]=Y.useState(""),[h,d]=Y.useState("todos"),[v,m]=Y.useState(1),[y,x]=Y.useState(!1),[b,M]=Y.useState(!1),[C,w]=Y.useState(null),[E,L]=Y.useState(!1),[P,I]=Y.useState("id"),[N,z]=Y.useState("asc"),V=10,U=Q=>Q?Q.charAt(0).toUpperCase()+Q.slice(1):"";Y.useEffect(()=>{const Q=()=>{const se=window.innerWidth<=1024;M(se),se||x(!1)};return Q(),window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]),Y.useEffect(()=>{(async()=>{try{o(!0),u(null),console.log(" Fetching variants from:",ai.VARIANTS);const se=await hi(ai.VARIANTS,{method:"GET"});console.log(" API Response:",{ok:se.ok,status:se.status,data:se.data,hasData:!!se.data.data,dataLength:Array.isArray(se.data.data)?se.data.data.length:"N/A"}),se.ok&&se.data&&se.data.data&&Array.isArray(se.data.data)?(console.log(" Variants loaded successfully:",se.data.data.length),i(se.data.data)):(console.error(" Invalid response structure:",se),u(`No se pudieron cargar las variantes. Status: ${se.status}`),i([]))}catch(se){console.error(" Error fetching variants:",se),u(`Error al conectar con el servidor: ${se.message}`),i([])}finally{o(!1)}})()},[]),Y.useEffect(()=>{let Q=t;if(h!=="todos"&&(Q=Q.filter(se=>se.categoria===h)),c){const se=c.toLowerCase();Q=Q.filter(ce=>ce.rsid?.toLowerCase().includes(se)||ce.fenotipo?.toLowerCase().includes(se)||ce.cromosoma?.toLowerCase().includes(se))}Q=[...Q].sort((se,ce)=>{let ue=se[P],fe=ce[P];return ue==null&&(ue=""),fe==null&&(fe=""),(P==="posicion"||P==="magnitud_efecto"||P==="af_continente"||P==="af_pais")&&(ue=parseFloat(ue)||0,fe=parseFloat(fe)||0),typeof ue=="string"&&(ue=ue.toLowerCase()),typeof fe=="string"&&(fe=fe.toLowerCase()),ue<fe?N==="asc"?-1:1:ue>fe?N==="asc"?1:-1:0}),a(Q),m(1)},[c,h,t,P,N]);const j=Y.useMemo(()=>{const Q=new Set(t.map(se=>se.categoria).filter(Boolean));return Array.from(Q).sort()},[t]),W=Math.ceil(r.length/V),G=(v-1)*V,X=r.slice(G,G+V),q=async()=>{try{await hi(ai.LOGOUT,{method:"POST"})}catch(Q){console.error("Error al cerrar sesin",Q)}ff(),e("/")},$=Q=>{const se=Q?.toLowerCase()||"";return se.includes("alto")?"#EF4444":se.includes("intermedio")?"#F59E0B":se.includes("bajo")?"#10B981":"#6B7A90"},te=Q=>({rasgos:"#3B82F6",biometrica:"#EC4899",enfermedades:"#EF4444",biomarcadores:"#10B981",farmacogenetica:"#F59E0B"})[Q]||"#6B7A90",J=async Q=>{try{console.log(" Adding new variant:",Q);const se=await hi(ai.VARIANTS,{method:"POST",body:JSON.stringify(Q),headers:{"Content-Type":"application/json"}});if(console.log(" POST Response:",se),se.ok&&se.data.success){const ce=await hi(ai.VARIANTS,{method:"GET"});ce.ok&&ce.data.data&&i(ce.data.data),console.log(" Variante agregada exitosamente con ID:",se.data.data.id)}else throw new Error(se.data.error||"Error desconocido del servidor")}catch(se){throw console.error("Error adding variant:",se),new Error("Error al agregar variante: "+se.message)}};return T.jsxs("div",{className:"admin-variants-wrapper",children:[b&&T.jsx("button",{className:"admin-variants__burger",onClick:()=>x(!y),"aria-label":y?"Cerrar men":"Abrir men","aria-expanded":y,children:y?T.jsx(Rh,{size:24}):T.jsx(xm,{size:24})}),T.jsx("aside",{className:"admin-variants__sidebar",children:T.jsx(fH,{onLogout:q,user:n,isMobileMenuOpen:y,setIsMobileMenuOpen:x})}),T.jsxs("main",{className:"admin-variants__main",children:[T.jsxs("div",{className:"admin-variants__header",children:[T.jsxs("div",{className:"admin-variants__headline",children:[T.jsx("h1",{className:"admin-variants__title",children:"Base de Datos de Variantes Genticas"}),T.jsx("p",{className:"admin-variants__subtitle",children:"Gestiona y visualiza todas las variantes genticas disponibles en el sistema"})]}),T.jsxs("button",{className:"admin-variants__btn-add",onClick:()=>L(!0),children:[T.jsx(fEe,{size:20}),"Agregar Variante"]})]}),T.jsxs("div",{className:"admin-variants__stats-container",children:[T.jsxs("div",{className:"admin-variants__stat",children:[T.jsx("span",{className:"admin-variants__stat-label",children:"Total variantes"}),T.jsx("span",{className:"admin-variants__stat-value",children:t.length})]}),T.jsxs("div",{className:"admin-variants__stat",children:[T.jsx("span",{className:"admin-variants__stat-label",children:"Mostrando"}),T.jsx("span",{className:"admin-variants__stat-value",children:X.length})]}),h!=="todos"&&T.jsxs("div",{className:"admin-variants__stat",children:[T.jsx("span",{className:"admin-variants__stat-label",children:"Categora filtro"}),T.jsx("span",{className:"admin-variants__stat-value",children:U(h)})]})]}),T.jsxs("div",{className:"admin-variants__controls",children:[T.jsxs("div",{className:"admin-variants__search",children:[T.jsx(PV,{size:18}),T.jsx("input",{type:"text",placeholder:"Buscar por rsID, fenotipo o cromosoma...",value:c,onChange:Q=>f(Q.target.value),className:"admin-variants__search-input"})]}),T.jsxs("select",{value:h,onChange:Q=>d(Q.target.value),className:"admin-variants__filter",children:[T.jsx("option",{value:"todos",children:"Todas las categoras"}),j.map(Q=>T.jsx("option",{value:Q,children:U(Q)},Q))]}),T.jsxs("select",{value:P,onChange:Q=>I(Q.target.value),className:"admin-variants__filter",title:"Ordenar por",children:[T.jsx("option",{value:"id",children:"ID"}),T.jsx("option",{value:"rsid",children:"rsID"}),T.jsx("option",{value:"cromosoma",children:"Cromosoma"}),T.jsx("option",{value:"posicion",children:"Posicin"}),T.jsx("option",{value:"categoria",children:"Categora"}),T.jsx("option",{value:"magnitud_efecto",children:"Magnitud"}),T.jsx("option",{value:"nivel_riesgo",children:"Nivel Riesgo"}),T.jsx("option",{value:"fenotipo",children:"Fenotipo"})]}),T.jsx("button",{onClick:()=>z(N==="asc"?"desc":"asc"),className:"admin-variants__sort-toggle",title:N==="asc"?"Descendente":"Ascendente",children:N==="asc"?"":""})]}),s?T.jsxs("div",{className:"admin-variants__loading",children:[T.jsx("div",{className:"admin-variants__spinner"}),T.jsx("p",{children:"Cargando variantes..."})]}):l?T.jsx("div",{className:"admin-variants__error",children:T.jsx("p",{children:l})}):X.length===0?T.jsxs("div",{className:"admin-variants__empty",children:[T.jsx(NV,{size:40}),T.jsx("p",{children:"No se encontraron variantes"})]}):T.jsx("div",{className:"admin-variants__table-container",children:T.jsxs("table",{className:"admin-variants__table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"rsID"}),T.jsx("th",{children:"Genotipo"}),T.jsx("th",{children:"Fenotipo"}),T.jsx("th",{children:"Categora"}),T.jsx("th",{children:"Magnitud"}),T.jsx("th",{children:"Nivel Riesgo"}),T.jsx("th",{children:"Fuente"}),T.jsx("th",{children:"Actualizacin"}),T.jsx("th",{children:"Acciones"})]})}),T.jsx("tbody",{children:X.map(Q=>T.jsxs(Ps.Fragment,{children:[T.jsxs("tr",{className:C===Q.id?"expanded":"",children:[T.jsx("td",{className:"admin-variants__rsid",children:Q.rsid}),T.jsx("td",{className:"admin-variants__genotipo",children:Q.genotipo}),T.jsxs("td",{className:"admin-variants__fenotipo",title:Q.fenotipo,children:[Q.fenotipo?.substring(0,40),"..."]}),T.jsx("td",{children:T.jsx("span",{className:"admin-variants__badge",style:{backgroundColor:`${te(Q.categoria)}20`,color:te(Q.categoria)},children:U(Q.categoria)})}),T.jsx("td",{children:Q.magnitud_efecto||"-"}),T.jsx("td",{children:T.jsx("span",{className:"admin-variants__risk",style:{backgroundColor:`${$(Q.nivel_riesgo)}20`,color:$(Q.nivel_riesgo)},children:Q.nivel_riesgo})}),T.jsx("td",{className:"admin-variants__source",children:Q.fuente_base_datos||"-"}),T.jsx("td",{children:Q.fecha_actualizacion||"-"}),T.jsx("td",{className:"admin-variants__actions",children:T.jsx("button",{className:"admin-variants__btn-action",onClick:()=>w(C===Q.id?null:Q.id),title:"Ver detalles",children:T.jsx(Xwe,{size:16})})})]}),C===Q.id&&T.jsx("tr",{className:"admin-variants__expanded-row",children:T.jsx("td",{colSpan:"9",children:T.jsxs("div",{className:"admin-variants__details",children:[T.jsxs("div",{className:"admin-variants__detail-section",children:[T.jsx("h4",{children:"Informacin Bsica"}),T.jsxs("div",{className:"admin-variants__detail-full-width",children:[T.jsx("span",{className:"admin-variants__detail-label",children:"Fenotipo"}),T.jsx("span",{className:"admin-variants__detail-full-text",children:Q.fenotipo})]})]}),T.jsxs("div",{className:"admin-variants__detail-section",children:[T.jsx("h4",{children:"Informacin Genmica"}),T.jsxs("div",{className:"admin-variants__detail-grid",children:[T.jsxs("div",{children:[T.jsx("span",{className:"admin-variants__detail-label",children:"Alelo Referencia"}),T.jsx("span",{children:Q.alelo_referencia})]}),T.jsxs("div",{children:[T.jsx("span",{className:"admin-variants__detail-label",children:"Alelo Alternativo"}),T.jsx("span",{children:Q.alelo_alternativo})]}),T.jsxs("div",{children:[T.jsx("span",{className:"admin-variants__detail-label",children:"Cromosoma"}),T.jsx("span",{children:Q.cromosoma})]}),T.jsxs("div",{children:[T.jsx("span",{className:"admin-variants__detail-label",children:"Posicin"}),T.jsx("span",{children:Q.posicion?.toLocaleString()})]})]})]}),(Q.continente||Q.pais)&&T.jsxs("div",{className:"admin-variants__detail-section",children:[T.jsx("h4",{children:"Datos de Ancestra"}),T.jsxs("div",{className:"admin-variants__detail-grid",children:[Q.continente&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{children:[T.jsx("span",{className:"admin-variants__detail-label",children:"Continente"}),T.jsx("span",{children:Q.continente})]}),T.jsxs("div",{children:[T.jsx("span",{className:"admin-variants__detail-label",children:"AF Continente"}),T.jsx("span",{children:Q.af_continente})]})]}),Q.pais&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{children:[T.jsx("span",{className:"admin-variants__detail-label",children:"Pas"}),T.jsx("span",{children:Q.pais})]}),T.jsxs("div",{children:[T.jsx("span",{className:"admin-variants__detail-label",children:"AF Pas"}),T.jsx("span",{children:Q.af_pais})]})]})]})]}),T.jsxs("div",{className:"admin-variants__detail-section",children:[T.jsx("h4",{children:"Metadata"}),T.jsxs("div",{className:"admin-variants__detail-grid",children:[T.jsxs("div",{children:[T.jsx("span",{className:"admin-variants__detail-label",children:"Fuente"}),T.jsx("span",{children:Q.fuente_base_datos})]}),T.jsxs("div",{children:[T.jsx("span",{className:"admin-variants__detail-label",children:"Tipo Evidencia"}),T.jsx("span",{children:Q.tipo_evidencia})]})]})]})]})})})]},Q.id))})]})}),W>1&&T.jsxs("div",{className:"admin-variants__pagination",children:[T.jsx("button",{onClick:()=>m(1),disabled:v===1,className:"admin-variants__page-btn",title:"Primera pgina",children:"Inicio"}),T.jsx("button",{onClick:()=>m(Q=>Math.max(1,Q-1)),disabled:v===1,className:"admin-variants__page-btn",children:" Anterior"}),T.jsxs("div",{className:"admin-variants__page-info",children:["Pgina ",v," de ",W]}),T.jsx("button",{onClick:()=>m(Q=>Math.min(W,Q+1)),disabled:v===W,className:"admin-variants__page-btn",children:"Siguiente "}),T.jsx("button",{onClick:()=>m(W),disabled:v===W,className:"admin-variants__page-btn",title:"ltima pgina",children:"Fin"})]})]}),T.jsx(pit,{isOpen:E,onClose:()=>L(!1),onSubmit:J})]})},mit=()=>{const[n,e]=Y.useState(null),[t,i]=Y.useState(!0),r=va();return Y.useEffect(()=>{let s=!0;return(async()=>{const o=await hi(ai.ME,{method:"GET"});if(s){if(!o.ok){r("/login",{replace:!0});return}e(o.data.user??o.data),i(!1)}})(),()=>{s=!1}},[r]),t?null:n?.is_staff===!0?T.jsxs(gG,{children:[T.jsx(fs,{path:"/",element:T.jsx(lit,{user:n})}),T.jsx(fs,{path:"admin/reports",element:T.jsx(fit,{user:n})}),T.jsx(fs,{path:"admin/variants",element:T.jsx(vit,{user:n})})]}):T.jsx(sit,{user:n})};function sT(n){let e=n[0],t=n[1],i=n[2];return Math.sqrt(e*e+t*t+i*i)}function iG(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n}function git(n,e,t,i){return n[0]=e,n[1]=t,n[2]=i,n}function Gne(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function Vne(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function yit(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n[2]=e[2]*t[2],n}function xit(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n[2]=e[2]/t[2],n}function ck(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n}function _it(n,e){let t=e[0]-n[0],i=e[1]-n[1],r=e[2]-n[2];return Math.sqrt(t*t+i*i+r*r)}function bit(n,e){let t=e[0]-n[0],i=e[1]-n[1],r=e[2]-n[2];return t*t+i*i+r*r}function jne(n){let e=n[0],t=n[1],i=n[2];return e*e+t*t+i*i}function Sit(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n}function Ait(n,e){return n[0]=1/e[0],n[1]=1/e[1],n[2]=1/e[2],n}function rG(n,e){let t=e[0],i=e[1],r=e[2],a=t*t+i*i+r*r;return a>0&&(a=1/Math.sqrt(a)),n[0]=e[0]*a,n[1]=e[1]*a,n[2]=e[2]*a,n}function Age(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function Hne(n,e,t){let i=e[0],r=e[1],a=e[2],s=t[0],o=t[1],l=t[2];return n[0]=r*l-a*o,n[1]=a*s-i*l,n[2]=i*o-r*s,n}function Mit(n,e,t,i){let r=e[0],a=e[1],s=e[2];return n[0]=r+i*(t[0]-r),n[1]=a+i*(t[1]-a),n[2]=s+i*(t[2]-s),n}function Tit(n,e,t,i,r){const a=Math.exp(-i*r);let s=e[0],o=e[1],l=e[2];return n[0]=t[0]+(s-t[0])*a,n[1]=t[1]+(o-t[1])*a,n[2]=t[2]+(l-t[2])*a,n}function Cit(n,e,t){let i=e[0],r=e[1],a=e[2],s=t[3]*i+t[7]*r+t[11]*a+t[15];return s=s||1,n[0]=(t[0]*i+t[4]*r+t[8]*a+t[12])/s,n[1]=(t[1]*i+t[5]*r+t[9]*a+t[13])/s,n[2]=(t[2]*i+t[6]*r+t[10]*a+t[14])/s,n}function wit(n,e,t){let i=e[0],r=e[1],a=e[2],s=t[3]*i+t[7]*r+t[11]*a+t[15];return s=s||1,n[0]=(t[0]*i+t[4]*r+t[8]*a)/s,n[1]=(t[1]*i+t[5]*r+t[9]*a)/s,n[2]=(t[2]*i+t[6]*r+t[10]*a)/s,n}function Eit(n,e,t){let i=e[0],r=e[1],a=e[2];return n[0]=i*t[0]+r*t[3]+a*t[6],n[1]=i*t[1]+r*t[4]+a*t[7],n[2]=i*t[2]+r*t[5]+a*t[8],n}function Dit(n,e,t){let i=e[0],r=e[1],a=e[2],s=t[0],o=t[1],l=t[2],u=t[3],c=o*a-l*r,f=l*i-s*a,h=s*r-o*i,d=o*h-l*f,v=l*c-s*h,m=s*f-o*c,y=u*2;return c*=y,f*=y,h*=y,d*=2,v*=2,m*=2,n[0]=i+c+d,n[1]=r+f+v,n[2]=a+h+m,n}const Rit=(function(){const n=[0,0,0],e=[0,0,0];return function(t,i){iG(n,t),iG(e,i),rG(n,n),rG(e,e);let r=Age(n,e);return r>1?0:r<-1?Math.PI:Math.acos(r)}})();function Lit(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]}class Kc extends Array{constructor(e=0,t=e,i=e){return super(e,t,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,t=e,i=e){return e.length?this.copy(e):(git(this,e,t,i),this)}copy(e){return iG(this,e),this}add(e,t){return t?Gne(this,e,t):Gne(this,this,e),this}sub(e,t){return t?Vne(this,e,t):Vne(this,this,e),this}multiply(e){return e.length?yit(this,this,e):ck(this,this,e),this}divide(e){return e.length?xit(this,this,e):ck(this,this,1/e),this}inverse(e=this){return Ait(this,e),this}len(){return sT(this)}distance(e){return e?_it(this,e):sT(this)}squaredLen(){return jne(this)}squaredDistance(e){return e?bit(this,e):jne(this)}negate(e=this){return Sit(this,e),this}cross(e,t){return t?Hne(this,e,t):Hne(this,this,e),this}scale(e){return ck(this,this,e),this}normalize(){return rG(this,this),this}dot(e){return Age(this,e)}equals(e){return Lit(this,e)}applyMatrix3(e){return Eit(this,this,e),this}applyMatrix4(e){return Cit(this,this,e),this}scaleRotateMatrix4(e){return wit(this,this,e),this}applyQuaternion(e){return Dit(this,this,e),this}angle(e){return Rit(this,e)}lerp(e,t){return Mit(this,this,e,t),this}smoothLerp(e,t,i){return Tit(this,this,e,t,i),this}clone(){return new Kc(this[0],this[1],this[2])}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}transformDirection(e){const t=this[0],i=this[1],r=this[2];return this[0]=e[0]*t+e[4]*i+e[8]*r,this[1]=e[1]*t+e[5]*i+e[9]*r,this[2]=e[2]*t+e[6]*i+e[10]*r,this.normalize()}}const Wne=new Kc;let Nit=1,Iit=1,Xne=!1;class Pit{constructor(e,t={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=t,this.id=Nit++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let i in t)this.addAttribute(i,t[i])}addAttribute(e,t){if(this.attributes[e]=t,t.id=Iit++,t.size=t.size||1,t.type=t.type||(t.data.constructor===Float32Array?this.gl.FLOAT:t.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),t.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,t.normalized=t.normalized||!1,t.stride=t.stride||0,t.offset=t.offset||0,t.count=t.count||(t.stride?t.data.byteLength/t.stride:t.data.length/t.size),t.divisor=t.instanced||0,t.needsUpdate=!1,t.usage=t.usage||this.gl.STATIC_DRAW,t.buffer||this.updateAttribute(t),t.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==t.count*t.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,t.count*t.divisor);this.instancedCount=t.count*t.divisor}else e==="index"?this.drawRange.count=t.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,t.count))}updateAttribute(e){const t=!e.buffer;t&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),t?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((t,{name:i,type:r})=>{if(!this.attributes[i]){console.warn(`active attribute ${i} not being supplied`);return}const a=this.attributes[i];this.gl.bindBuffer(a.target,a.buffer),this.glState.boundBuffer=a.buffer;let s=1;r===35674&&(s=2),r===35675&&(s=3),r===35676&&(s=4);const o=a.size/s,l=s===1?0:s*s*4,u=s===1?0:s*4;for(let c=0;c<s;c++)this.gl.vertexAttribPointer(t+c,o,a.type,a.normalized,a.stride+l,a.offset+c*u),this.gl.enableVertexAttribArray(t+c),this.gl.renderer.vertexAttribDivisor(t+c,a.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:t=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((r,{name:a})=>{const s=this.attributes[a];s.needsUpdate&&this.updateAttribute(s)});let i=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(i=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i,this.instancedCount):this.gl.renderer.drawArraysInstanced(t,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i):this.gl.drawArrays(t,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!Xne)return console.warn("No position buffer data found to compute bounds"),Xne=!0}computeBoundingBox(e){e||(e=this.getPosition());const t=e.data,i=e.size;this.bounds||(this.bounds={min:new Kc,max:new Kc,center:new Kc,scale:new Kc,radius:1/0});const r=this.bounds.min,a=this.bounds.max,s=this.bounds.center,o=this.bounds.scale;r.set(1/0),a.set(-1/0);for(let l=0,u=t.length;l<u;l+=i){const c=t[l],f=t[l+1],h=t[l+2];r.x=Math.min(c,r.x),r.y=Math.min(f,r.y),r.z=Math.min(h,r.z),a.x=Math.max(c,a.x),a.y=Math.max(f,a.y),a.z=Math.max(h,a.z)}o.sub(a,r),s.add(r,a).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const t=e.data,i=e.size;this.bounds||this.computeBoundingBox(e);let r=0;for(let a=0,s=t.length;a<s;a+=i)Wne.fromArray(t,a),r=Math.max(r,this.bounds.center.squaredDistance(Wne));this.bounds.radius=Math.sqrt(r)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let Bit=1;const Yne={};class Oit{constructor(e,{vertex:t,fragment:i,uniforms:r={},transparent:a=!1,cullFace:s=e.BACK,frontFace:o=e.CCW,depthTest:l=!0,depthWrite:u=!0,depthFunc:c=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=r,this.id=Bit++,t||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=a,this.cullFace=s,this.frontFace=o,this.depthTest=l,this.depthWrite=u,this.depthFunc=c,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:t,fragment:i})}setShaders({vertex:e,fragment:t}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${qne(e)}`)),t&&(this.gl.shaderSource(this.fragmentShader,t),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${qne(t)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let i=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let s=0;s<i;s++){let o=this.gl.getActiveUniform(this.program,s);this.uniformLocations.set(o,this.gl.getUniformLocation(this.program,o.name));const l=o.name.match(/(\w+)/g);o.uniformName=l[0],o.nameComponents=l.slice(1)}this.attributeLocations=new Map;const r=[],a=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let s=0;s<a;s++){const o=this.gl.getActiveAttrib(this.program,s),l=this.gl.getAttribLocation(this.program,o.name);l!==-1&&(r[l]=o.name,this.attributeLocations.set(o,l))}this.attributeOrder=r.join("")}setBlendFunc(e,t,i,r){this.blendFunc.src=e,this.blendFunc.dst=t,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=r,e&&(this.transparent=!0)}setBlendEquation(e,t){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=t}setStencilFunc(e,t,i){this.stencilRef=t,this.stencilFunc.func=e,this.stencilFunc.ref=t,this.stencilFunc.mask=i}setStencilOp(e,t,i){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=t,this.stencilOp.depthPass=i}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let t=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((r,a)=>{let s=this.uniforms[a.uniformName];for(const o of a.nameComponents){if(!s)break;if(o in s)s=s[o];else{if(Array.isArray(s.value))break;s=void 0;break}}if(!s)return Zne(`Active uniform ${a.name} has not been supplied`);if(s&&s.value===void 0)return Zne(`${a.name} uniform is missing a value parameter`);if(s.value.texture)return t=t+1,s.value.update(t),fk(this.gl,a.type,r,t);if(s.value.length&&s.value[0].texture){const o=[];return s.value.forEach(l=>{t=t+1,l.update(t),o.push(t)}),fk(this.gl,a.type,r,o)}fk(this.gl,a.type,r,s.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function fk(n,e,t,i){i=i.length?zit(i):i;const r=n.renderer.state.uniformLocations.get(t);if(i.length)if(r===void 0||r.length!==i.length)n.renderer.state.uniformLocations.set(t,i.slice(0));else{if(kit(r,i))return;r.set?r.set(i):Fit(r,i),n.renderer.state.uniformLocations.set(t,r)}else{if(r===i)return;n.renderer.state.uniformLocations.set(t,i)}switch(e){case 5126:return i.length?n.uniform1fv(t,i):n.uniform1f(t,i);case 35664:return n.uniform2fv(t,i);case 35665:return n.uniform3fv(t,i);case 35666:return n.uniform4fv(t,i);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return i.length?n.uniform1iv(t,i):n.uniform1i(t,i);case 35671:case 35667:return n.uniform2iv(t,i);case 35672:case 35668:return n.uniform3iv(t,i);case 35673:case 35669:return n.uniform4iv(t,i);case 35674:return n.uniformMatrix2fv(t,!1,i);case 35675:return n.uniformMatrix3fv(t,!1,i);case 35676:return n.uniformMatrix4fv(t,!1,i)}}function qne(n){let e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function zit(n){const e=n.length,t=n[0].length;if(t===void 0)return n;const i=e*t;let r=Yne[i];r||(Yne[i]=r=new Float32Array(i));for(let a=0;a<e;a++)r.set(n[a],a*t);return r}function kit(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Fit(n,e){for(let t=0,i=n.length;t<i;t++)n[t]=e[t]}let hk=0;function Zne(n){hk>100||(console.warn(n),hk++,hk>100&&console.warn("More than 100 program warnings - stopping logs."))}const dk=new Kc;let Uit=1;class Git{constructor({canvas:e=document.createElement("canvas"),width:t=300,height:i=150,dpr:r=1,alpha:a=!1,depth:s=!0,stencil:o=!1,antialias:l=!1,premultipliedAlpha:u=!1,preserveDrawingBuffer:c=!1,powerPreference:f="default",autoClear:h=!0,webgl:d=2}={}){const v={alpha:a,depth:s,stencil:o,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:c,powerPreference:f};this.dpr=r,this.alpha=a,this.color=!0,this.depth=s,this.stencil=o,this.premultipliedAlpha=u,this.autoClear=h,this.id=Uit++,d===2&&(this.gl=e.getContext("webgl2",v)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",v)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(t,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,t){this.width=e,this.height=t,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=t*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:t+"px"})}setViewport(e,t,i=0,r=0){this.state.viewport.width===e&&this.state.viewport.height===t||(this.state.viewport.width=e,this.state.viewport.height=t,this.state.viewport.x=i,this.state.viewport.y=r,this.gl.viewport(i,r,e,t))}setScissor(e,t,i=0,r=0){this.gl.scissor(i,r,e,t)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,t,i,r){this.state.blendFunc.src===e&&this.state.blendFunc.dst===t&&this.state.blendFunc.srcAlpha===i&&this.state.blendFunc.dstAlpha===r||(this.state.blendFunc.src=e,this.state.blendFunc.dst=t,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=r,i!==void 0?this.gl.blendFuncSeparate(e,t,i,r):this.gl.blendFunc(e,t))}setBlendEquation(e,t){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===t)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=t,t!==void 0?this.gl.blendEquationSeparate(e,t):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,t,i){this.state.stencilFunc===e&&this.state.stencilRef===t&&this.state.stencilFuncMask===i||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=t||0,this.state.stencilFuncMask=i||0,this.gl.stencilFunc(e||this.gl.ALWAYS,t||0,i||0))}setStencilOp(e,t,i){this.state.stencilFail===e&&this.state.stencilDepthFail===t&&this.state.stencilDepthPass===i||(this.state.stencilFail=e,this.state.stencilDepthFail=t,this.state.stencilDepthPass=i,this.gl.stencilOp(e,t,i))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:t=null}={}){this.state.framebuffer!==t&&(this.state.framebuffer=t,this.gl.bindFramebuffer(e,t))}getExtension(e,t,i){return t&&this.gl[t]?this.gl[t].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),t?this.extensions[e]?this.extensions[e][i].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:e.zDepth!==t.zDepth?e.zDepth-t.zDepth:t.id-e.id}sortTransparent(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.zDepth!==t.zDepth?t.zDepth-e.zDepth:t.id-e.id}sortUI(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:t.id-e.id}getRenderList({scene:e,camera:t,frustumCull:i,sort:r}){let a=[];if(t&&i&&t.updateFrustum(),e.traverse(s=>{if(!s.visible)return!0;s.draw&&(i&&s.frustumCulled&&t&&!t.frustumIntersectsMesh(s)||a.push(s))}),r){const s=[],o=[],l=[];a.forEach(u=>{u.program.transparent?u.program.depthTest?o.push(u):l.push(u):s.push(u),u.zDepth=0,!(u.renderOrder!==0||!u.program.depthTest||!t)&&(u.worldMatrix.getTranslation(dk),dk.applyMatrix4(t.projectionViewMatrix),u.zDepth=dk.z)}),s.sort(this.sortOpaque),o.sort(this.sortTransparent),l.sort(this.sortUI),a=s.concat(o,l)}return a}render({scene:e,camera:t,target:i=null,update:r=!0,sort:a=!0,frustumCull:s=!0,clear:o}){i===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(o||this.autoClear&&o!==!1)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!i||i.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),r&&e.updateMatrixWorld(),t&&t.updateMatrixWorld(),this.getRenderList({scene:e,camera:t,frustumCull:s,sort:a}).forEach(u=>{u.draw({camera:t})})}}function Vit(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}function jit(n,e,t,i,r){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n}function Hit(n,e){let t=e[0],i=e[1],r=e[2],a=e[3],s=t*t+i*i+r*r+a*a;return s>0&&(s=1/Math.sqrt(s)),n[0]=t*s,n[1]=i*s,n[2]=r*s,n[3]=a*s,n}function Wit(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}function Xit(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n}function Yit(n,e,t){t=t*.5;let i=Math.sin(t);return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=Math.cos(t),n}function Kne(n,e,t){let i=e[0],r=e[1],a=e[2],s=e[3],o=t[0],l=t[1],u=t[2],c=t[3];return n[0]=i*c+s*o+r*u-a*l,n[1]=r*c+s*l+a*o-i*u,n[2]=a*c+s*u+i*l-r*o,n[3]=s*c-i*o-r*l-a*u,n}function qit(n,e,t){t*=.5;let i=e[0],r=e[1],a=e[2],s=e[3],o=Math.sin(t),l=Math.cos(t);return n[0]=i*l+s*o,n[1]=r*l+a*o,n[2]=a*l-r*o,n[3]=s*l-i*o,n}function Zit(n,e,t){t*=.5;let i=e[0],r=e[1],a=e[2],s=e[3],o=Math.sin(t),l=Math.cos(t);return n[0]=i*l-a*o,n[1]=r*l+s*o,n[2]=a*l+i*o,n[3]=s*l-r*o,n}function Kit(n,e,t){t*=.5;let i=e[0],r=e[1],a=e[2],s=e[3],o=Math.sin(t),l=Math.cos(t);return n[0]=i*l+r*o,n[1]=r*l-i*o,n[2]=a*l+s*o,n[3]=s*l-a*o,n}function Jit(n,e,t,i){let r=e[0],a=e[1],s=e[2],o=e[3],l=t[0],u=t[1],c=t[2],f=t[3],h,d,v,m,y;return d=r*l+a*u+s*c+o*f,d<0&&(d=-d,l=-l,u=-u,c=-c,f=-f),1-d>1e-6?(h=Math.acos(d),v=Math.sin(h),m=Math.sin((1-i)*h)/v,y=Math.sin(i*h)/v):(m=1-i,y=i),n[0]=m*r+y*l,n[1]=m*a+y*u,n[2]=m*s+y*c,n[3]=m*o+y*f,n}function Qit(n,e){let t=e[0],i=e[1],r=e[2],a=e[3],s=t*t+i*i+r*r+a*a,o=s?1/s:0;return n[0]=-t*o,n[1]=-i*o,n[2]=-r*o,n[3]=a*o,n}function $it(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3],n}function ert(n,e){let t=e[0]+e[4]+e[8],i;if(t>0)i=Math.sqrt(t+1),n[3]=.5*i,i=.5/i,n[0]=(e[5]-e[7])*i,n[1]=(e[6]-e[2])*i,n[2]=(e[1]-e[3])*i;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[r*3+r]&&(r=2);let a=(r+1)%3,s=(r+2)%3;i=Math.sqrt(e[r*3+r]-e[a*3+a]-e[s*3+s]+1),n[r]=.5*i,i=.5/i,n[3]=(e[a*3+s]-e[s*3+a])*i,n[a]=(e[a*3+r]+e[r*3+a])*i,n[s]=(e[s*3+r]+e[r*3+s])*i}return n}function trt(n,e,t="YXZ"){let i=Math.sin(e[0]*.5),r=Math.cos(e[0]*.5),a=Math.sin(e[1]*.5),s=Math.cos(e[1]*.5),o=Math.sin(e[2]*.5),l=Math.cos(e[2]*.5);return t==="XYZ"?(n[0]=i*s*l+r*a*o,n[1]=r*a*l-i*s*o,n[2]=r*s*o+i*a*l,n[3]=r*s*l-i*a*o):t==="YXZ"?(n[0]=i*s*l+r*a*o,n[1]=r*a*l-i*s*o,n[2]=r*s*o-i*a*l,n[3]=r*s*l+i*a*o):t==="ZXY"?(n[0]=i*s*l-r*a*o,n[1]=r*a*l+i*s*o,n[2]=r*s*o+i*a*l,n[3]=r*s*l-i*a*o):t==="ZYX"?(n[0]=i*s*l-r*a*o,n[1]=r*a*l+i*s*o,n[2]=r*s*o-i*a*l,n[3]=r*s*l+i*a*o):t==="YZX"?(n[0]=i*s*l+r*a*o,n[1]=r*a*l+i*s*o,n[2]=r*s*o-i*a*l,n[3]=r*s*l-i*a*o):t==="XZY"&&(n[0]=i*s*l-r*a*o,n[1]=r*a*l-i*s*o,n[2]=r*s*o+i*a*l,n[3]=r*s*l+i*a*o),n}const nrt=Vit,irt=jit,rrt=Wit,art=Hit;class srt extends Array{constructor(e=0,t=0,i=0,r=1){super(e,t,i,r),this.onChange=()=>{},this._target=this;const a=["0","1","2","3"];return new Proxy(this,{set(s,o){const l=Reflect.set(...arguments);return l&&a.includes(o)&&s.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return Xit(this._target),this.onChange(),this}set(e,t,i,r){return e.length?this.copy(e):(irt(this._target,e,t,i,r),this.onChange(),this)}rotateX(e){return qit(this._target,this._target,e),this.onChange(),this}rotateY(e){return Zit(this._target,this._target,e),this.onChange(),this}rotateZ(e){return Kit(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return Qit(this._target,e),this.onChange(),this}conjugate(e=this._target){return $it(this._target,e),this.onChange(),this}copy(e){return nrt(this._target,e),this.onChange(),this}normalize(e=this._target){return art(this._target,e),this.onChange(),this}multiply(e,t){return t?Kne(this._target,e,t):Kne(this._target,this._target,e),this.onChange(),this}dot(e){return rrt(this._target,e)}fromMatrix3(e){return ert(this._target,e),this.onChange(),this}fromEuler(e,t){return trt(this._target,e,e.order),t||this.onChange(),this}fromAxisAngle(e,t){return Yit(this._target,e,t),this.onChange(),this}slerp(e,t){return Jit(this._target,this._target,e,t),this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this._target[3]=e[t+3],this.onChange(),this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}}const ort=1e-6;function lrt(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function urt(n,e,t,i,r,a,s,o,l,u,c,f,h,d,v,m,y){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n[4]=a,n[5]=s,n[6]=o,n[7]=l,n[8]=u,n[9]=c,n[10]=f,n[11]=h,n[12]=d,n[13]=v,n[14]=m,n[15]=y,n}function crt(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function frt(n,e){let t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],v=e[12],m=e[13],y=e[14],x=e[15],b=t*o-i*s,M=t*l-r*s,C=t*u-a*s,w=i*l-r*o,E=i*u-a*o,L=r*u-a*l,P=c*m-f*v,I=c*y-h*v,N=c*x-d*v,z=f*y-h*m,V=f*x-d*m,U=h*x-d*y,j=b*U-M*V+C*z+w*N-E*I+L*P;return j?(j=1/j,n[0]=(o*U-l*V+u*z)*j,n[1]=(r*V-i*U-a*z)*j,n[2]=(m*L-y*E+x*w)*j,n[3]=(h*E-f*L-d*w)*j,n[4]=(l*N-s*U-u*I)*j,n[5]=(t*U-r*N+a*I)*j,n[6]=(y*C-v*L-x*M)*j,n[7]=(c*L-h*C+d*M)*j,n[8]=(s*V-o*N+u*P)*j,n[9]=(i*N-t*V-a*P)*j,n[10]=(v*E-m*C+x*b)*j,n[11]=(f*C-c*E-d*b)*j,n[12]=(o*I-s*z-l*P)*j,n[13]=(t*z-i*I+r*P)*j,n[14]=(m*M-v*w-y*b)*j,n[15]=(c*w-f*M+h*b)*j,n):null}function Mge(n){let e=n[0],t=n[1],i=n[2],r=n[3],a=n[4],s=n[5],o=n[6],l=n[7],u=n[8],c=n[9],f=n[10],h=n[11],d=n[12],v=n[13],m=n[14],y=n[15],x=e*s-t*a,b=e*o-i*a,M=e*l-r*a,C=t*o-i*s,w=t*l-r*s,E=i*l-r*o,L=u*v-c*d,P=u*m-f*d,I=u*y-h*d,N=c*m-f*v,z=c*y-h*v,V=f*y-h*m;return x*V-b*z+M*N+C*I-w*P+E*L}function Jne(n,e,t){let i=e[0],r=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=e[9],d=e[10],v=e[11],m=e[12],y=e[13],x=e[14],b=e[15],M=t[0],C=t[1],w=t[2],E=t[3];return n[0]=M*i+C*o+w*f+E*m,n[1]=M*r+C*l+w*h+E*y,n[2]=M*a+C*u+w*d+E*x,n[3]=M*s+C*c+w*v+E*b,M=t[4],C=t[5],w=t[6],E=t[7],n[4]=M*i+C*o+w*f+E*m,n[5]=M*r+C*l+w*h+E*y,n[6]=M*a+C*u+w*d+E*x,n[7]=M*s+C*c+w*v+E*b,M=t[8],C=t[9],w=t[10],E=t[11],n[8]=M*i+C*o+w*f+E*m,n[9]=M*r+C*l+w*h+E*y,n[10]=M*a+C*u+w*d+E*x,n[11]=M*s+C*c+w*v+E*b,M=t[12],C=t[13],w=t[14],E=t[15],n[12]=M*i+C*o+w*f+E*m,n[13]=M*r+C*l+w*h+E*y,n[14]=M*a+C*u+w*d+E*x,n[15]=M*s+C*c+w*v+E*b,n}function hrt(n,e,t){let i=t[0],r=t[1],a=t[2],s,o,l,u,c,f,h,d,v,m,y,x;return e===n?(n[12]=e[0]*i+e[4]*r+e[8]*a+e[12],n[13]=e[1]*i+e[5]*r+e[9]*a+e[13],n[14]=e[2]*i+e[6]*r+e[10]*a+e[14],n[15]=e[3]*i+e[7]*r+e[11]*a+e[15]):(s=e[0],o=e[1],l=e[2],u=e[3],c=e[4],f=e[5],h=e[6],d=e[7],v=e[8],m=e[9],y=e[10],x=e[11],n[0]=s,n[1]=o,n[2]=l,n[3]=u,n[4]=c,n[5]=f,n[6]=h,n[7]=d,n[8]=v,n[9]=m,n[10]=y,n[11]=x,n[12]=s*i+c*r+v*a+e[12],n[13]=o*i+f*r+m*a+e[13],n[14]=l*i+h*r+y*a+e[14],n[15]=u*i+d*r+x*a+e[15]),n}function drt(n,e,t){let i=t[0],r=t[1],a=t[2];return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*r,n[6]=e[6]*r,n[7]=e[7]*r,n[8]=e[8]*a,n[9]=e[9]*a,n[10]=e[10]*a,n[11]=e[11]*a,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function prt(n,e,t,i){let r=i[0],a=i[1],s=i[2],o=Math.hypot(r,a,s),l,u,c,f,h,d,v,m,y,x,b,M,C,w,E,L,P,I,N,z,V,U,j,W;return Math.abs(o)<ort?null:(o=1/o,r*=o,a*=o,s*=o,l=Math.sin(t),u=Math.cos(t),c=1-u,f=e[0],h=e[1],d=e[2],v=e[3],m=e[4],y=e[5],x=e[6],b=e[7],M=e[8],C=e[9],w=e[10],E=e[11],L=r*r*c+u,P=a*r*c+s*l,I=s*r*c-a*l,N=r*a*c-s*l,z=a*a*c+u,V=s*a*c+r*l,U=r*s*c+a*l,j=a*s*c-r*l,W=s*s*c+u,n[0]=f*L+m*P+M*I,n[1]=h*L+y*P+C*I,n[2]=d*L+x*P+w*I,n[3]=v*L+b*P+E*I,n[4]=f*N+m*z+M*V,n[5]=h*N+y*z+C*V,n[6]=d*N+x*z+w*V,n[7]=v*N+b*z+E*V,n[8]=f*U+m*j+M*W,n[9]=h*U+y*j+C*W,n[10]=d*U+x*j+w*W,n[11]=v*U+b*j+E*W,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n)}function vrt(n,e){return n[0]=e[12],n[1]=e[13],n[2]=e[14],n}function Tge(n,e){let t=e[0],i=e[1],r=e[2],a=e[4],s=e[5],o=e[6],l=e[8],u=e[9],c=e[10];return n[0]=Math.hypot(t,i,r),n[1]=Math.hypot(a,s,o),n[2]=Math.hypot(l,u,c),n}function mrt(n){let e=n[0],t=n[1],i=n[2],r=n[4],a=n[5],s=n[6],o=n[8],l=n[9],u=n[10];const c=e*e+t*t+i*i,f=r*r+a*a+s*s,h=o*o+l*l+u*u;return Math.sqrt(Math.max(c,f,h))}const Cge=(function(){const n=[1,1,1];return function(e,t){let i=n;Tge(i,t);let r=1/i[0],a=1/i[1],s=1/i[2],o=t[0]*r,l=t[1]*a,u=t[2]*s,c=t[4]*r,f=t[5]*a,h=t[6]*s,d=t[8]*r,v=t[9]*a,m=t[10]*s,y=o+f+m,x=0;return y>0?(x=Math.sqrt(y+1)*2,e[3]=.25*x,e[0]=(h-v)/x,e[1]=(d-u)/x,e[2]=(l-c)/x):o>f&&o>m?(x=Math.sqrt(1+o-f-m)*2,e[3]=(h-v)/x,e[0]=.25*x,e[1]=(l+c)/x,e[2]=(d+u)/x):f>m?(x=Math.sqrt(1+f-o-m)*2,e[3]=(d-u)/x,e[0]=(l+c)/x,e[1]=.25*x,e[2]=(h+v)/x):(x=Math.sqrt(1+m-o-f)*2,e[3]=(l-c)/x,e[0]=(d+u)/x,e[1]=(h+v)/x,e[2]=.25*x),e}})();function grt(n,e,t,i){let r=sT([n[0],n[1],n[2]]);const a=sT([n[4],n[5],n[6]]),s=sT([n[8],n[9],n[10]]);Mge(n)<0&&(r=-r),t[0]=n[12],t[1]=n[13],t[2]=n[14];const l=n.slice(),u=1/r,c=1/a,f=1/s;l[0]*=u,l[1]*=u,l[2]*=u,l[4]*=c,l[5]*=c,l[6]*=c,l[8]*=f,l[9]*=f,l[10]*=f,Cge(e,l),i[0]=r,i[1]=a,i[2]=s}function yrt(n,e,t,i){const r=n,a=e[0],s=e[1],o=e[2],l=e[3],u=a+a,c=s+s,f=o+o,h=a*u,d=a*c,v=a*f,m=s*c,y=s*f,x=o*f,b=l*u,M=l*c,C=l*f,w=i[0],E=i[1],L=i[2];return r[0]=(1-(m+x))*w,r[1]=(d+C)*w,r[2]=(v-M)*w,r[3]=0,r[4]=(d-C)*E,r[5]=(1-(h+x))*E,r[6]=(y+b)*E,r[7]=0,r[8]=(v+M)*L,r[9]=(y-b)*L,r[10]=(1-(h+m))*L,r[11]=0,r[12]=t[0],r[13]=t[1],r[14]=t[2],r[15]=1,r}function xrt(n,e){let t=e[0],i=e[1],r=e[2],a=e[3],s=t+t,o=i+i,l=r+r,u=t*s,c=i*s,f=i*o,h=r*s,d=r*o,v=r*l,m=a*s,y=a*o,x=a*l;return n[0]=1-f-v,n[1]=c+x,n[2]=h-y,n[3]=0,n[4]=c-x,n[5]=1-u-v,n[6]=d+m,n[7]=0,n[8]=h+y,n[9]=d-m,n[10]=1-u-f,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function _rt(n,e,t,i,r){let a=1/Math.tan(e/2),s=1/(i-r);return n[0]=a/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=a,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(r+i)*s,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*r*i*s,n[15]=0,n}function brt(n,e,t,i,r,a,s){let o=1/(e-t),l=1/(i-r),u=1/(a-s);return n[0]=-2*o,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*l,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*u,n[11]=0,n[12]=(e+t)*o,n[13]=(r+i)*l,n[14]=(s+a)*u,n[15]=1,n}function Srt(n,e,t,i){let r=e[0],a=e[1],s=e[2],o=i[0],l=i[1],u=i[2],c=r-t[0],f=a-t[1],h=s-t[2],d=c*c+f*f+h*h;d===0?h=1:(d=1/Math.sqrt(d),c*=d,f*=d,h*=d);let v=l*h-u*f,m=u*c-o*h,y=o*f-l*c;return d=v*v+m*m+y*y,d===0&&(u?o+=1e-6:l?u+=1e-6:l+=1e-6,v=l*h-u*f,m=u*c-o*h,y=o*f-l*c,d=v*v+m*m+y*y),d=1/Math.sqrt(d),v*=d,m*=d,y*=d,n[0]=v,n[1]=m,n[2]=y,n[3]=0,n[4]=f*y-h*m,n[5]=h*v-c*y,n[6]=c*m-f*v,n[7]=0,n[8]=c,n[9]=f,n[10]=h,n[11]=0,n[12]=r,n[13]=a,n[14]=s,n[15]=1,n}function Qne(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n[9]=e[9]+t[9],n[10]=e[10]+t[10],n[11]=e[11]+t[11],n[12]=e[12]+t[12],n[13]=e[13]+t[13],n[14]=e[14]+t[14],n[15]=e[15]+t[15],n}function $ne(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n[9]=e[9]-t[9],n[10]=e[10]-t[10],n[11]=e[11]-t[11],n[12]=e[12]-t[12],n[13]=e[13]-t[13],n[14]=e[14]-t[14],n[15]=e[15]-t[15],n}function Art(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11]*t,n[12]=e[12]*t,n[13]=e[13]*t,n[14]=e[14]*t,n[15]=e[15]*t,n}class oI extends Array{constructor(e=1,t=0,i=0,r=0,a=0,s=1,o=0,l=0,u=0,c=0,f=1,h=0,d=0,v=0,m=0,y=1){return super(e,t,i,r,a,s,o,l,u,c,f,h,d,v,m,y),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,t,i,r,a,s,o,l,u,c,f,h,d,v,m,y){return e.length?this.copy(e):(urt(this,e,t,i,r,a,s,o,l,u,c,f,h,d,v,m,y),this)}translate(e,t=this){return hrt(this,t,e),this}rotate(e,t,i=this){return prt(this,i,e,t),this}scale(e,t=this){return drt(this,t,typeof e=="number"?[e,e,e]:e),this}add(e,t){return t?Qne(this,e,t):Qne(this,this,e),this}sub(e,t){return t?$ne(this,e,t):$ne(this,this,e),this}multiply(e,t){return e.length?t?Jne(this,e,t):Jne(this,this,e):Art(this,this,e),this}identity(){return crt(this),this}copy(e){return lrt(this,e),this}fromPerspective({fov:e,aspect:t,near:i,far:r}={}){return _rt(this,e,t,i,r),this}fromOrthogonal({left:e,right:t,bottom:i,top:r,near:a,far:s}){return brt(this,e,t,i,r,a,s),this}fromQuaternion(e){return xrt(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return frt(this,e),this}compose(e,t,i){return yrt(this,e,t,i),this}decompose(e,t,i){return grt(this,e,t,i),this}getRotation(e){return Cge(e,this),this}getTranslation(e){return vrt(e,this),this}getScaling(e){return Tge(e,this),this}getMaxScaleOnAxis(){return mrt(this)}lookAt(e,t,i){return Srt(this,e,t,i),this}determinant(){return Mge(this)}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this[3]=e[t+3],this[4]=e[t+4],this[5]=e[t+5],this[6]=e[t+6],this[7]=e[t+7],this[8]=e[t+8],this[9]=e[t+9],this[10]=e[t+10],this[11]=e[t+11],this[12]=e[t+12],this[13]=e[t+13],this[14]=e[t+14],this[15]=e[t+15],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e[t+4]=this[4],e[t+5]=this[5],e[t+6]=this[6],e[t+7]=this[7],e[t+8]=this[8],e[t+9]=this[9],e[t+10]=this[10],e[t+11]=this[11],e[t+12]=this[12],e[t+13]=this[13],e[t+14]=this[14],e[t+15]=this[15],e}}function Mrt(n,e,t="YXZ"){return t==="XYZ"?(n[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(n[0]=Math.atan2(-e[9],e[10]),n[2]=Math.atan2(-e[4],e[0])):(n[0]=Math.atan2(e[6],e[5]),n[2]=0)):t==="YXZ"?(n[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(n[1]=Math.atan2(e[8],e[10]),n[2]=Math.atan2(e[1],e[5])):(n[1]=Math.atan2(-e[2],e[0]),n[2]=0)):t==="ZXY"?(n[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(n[1]=Math.atan2(-e[2],e[10]),n[2]=Math.atan2(-e[4],e[5])):(n[1]=0,n[2]=Math.atan2(e[1],e[0]))):t==="ZYX"?(n[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(n[0]=Math.atan2(e[6],e[10]),n[2]=Math.atan2(e[1],e[0])):(n[0]=0,n[2]=Math.atan2(-e[4],e[5]))):t==="YZX"?(n[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(n[0]=Math.atan2(-e[9],e[5]),n[1]=Math.atan2(-e[2],e[0])):(n[0]=0,n[1]=Math.atan2(e[8],e[10]))):t==="XZY"&&(n[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(n[0]=Math.atan2(e[6],e[5]),n[1]=Math.atan2(e[8],e[0])):(n[0]=Math.atan2(-e[9],e[10]),n[1]=0)),n}const eie=new oI;class Trt extends Array{constructor(e=0,t=e,i=e,r="YXZ"){super(e,t,i),this.order=r,this.onChange=()=>{},this._target=this;const a=["0","1","2"];return new Proxy(this,{set(s,o){const l=Reflect.set(...arguments);return l&&a.includes(o)&&s.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,t=e,i=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=t,this._target[2]=i,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,t=this.order){return Mrt(this._target,e,t),this.onChange(),this}fromQuaternion(e,t=this.order,i){return eie.fromQuaternion(e),this._target.fromRotationMatrix(eie,t),i||this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}}class Crt{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new oI,this.worldMatrix=new oI,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Kc,this.quaternion=new srt,this.scale=new Kc(1),this.rotation=new Trt,this.up=new Kc(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,t=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,t&&e&&e.addChild(this,!1)}addChild(e,t=!0){~this.children.indexOf(e)||this.children.push(e),t&&e.setParent(this,!1)}removeChild(e,t=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),t&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let t=0,i=this.children.length;t<i;t++)this.children[t].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let t=0,i=this.children.length;t<i;t++)this.children[t].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,t=!1){t?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function wrt(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[4],n[4]=e[5],n[5]=e[6],n[6]=e[8],n[7]=e[9],n[8]=e[10],n}function Ert(n,e){let t=e[0],i=e[1],r=e[2],a=e[3],s=t+t,o=i+i,l=r+r,u=t*s,c=i*s,f=i*o,h=r*s,d=r*o,v=r*l,m=a*s,y=a*o,x=a*l;return n[0]=1-f-v,n[3]=c-x,n[6]=h+y,n[1]=c+x,n[4]=1-u-v,n[7]=d-m,n[2]=h-y,n[5]=d+m,n[8]=1-u-f,n}function Drt(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function Rrt(n,e,t,i,r,a,s,o,l,u){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n[4]=a,n[5]=s,n[6]=o,n[7]=l,n[8]=u,n}function Lrt(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}function Nrt(n,e){let t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],f=c*s-o*u,h=-c*a+o*l,d=u*a-s*l,v=t*f+i*h+r*d;return v?(v=1/v,n[0]=f*v,n[1]=(-c*i+r*u)*v,n[2]=(o*i-r*s)*v,n[3]=h*v,n[4]=(c*t-r*l)*v,n[5]=(-o*t+r*a)*v,n[6]=d*v,n[7]=(-u*t+i*l)*v,n[8]=(s*t-i*a)*v,n):null}function tie(n,e,t){let i=e[0],r=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=t[0],d=t[1],v=t[2],m=t[3],y=t[4],x=t[5],b=t[6],M=t[7],C=t[8];return n[0]=h*i+d*s+v*u,n[1]=h*r+d*o+v*c,n[2]=h*a+d*l+v*f,n[3]=m*i+y*s+x*u,n[4]=m*r+y*o+x*c,n[5]=m*a+y*l+x*f,n[6]=b*i+M*s+C*u,n[7]=b*r+M*o+C*c,n[8]=b*a+M*l+C*f,n}function Irt(n,e,t){let i=e[0],r=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=t[0],d=t[1];return n[0]=i,n[1]=r,n[2]=a,n[3]=s,n[4]=o,n[5]=l,n[6]=h*i+d*s+u,n[7]=h*r+d*o+c,n[8]=h*a+d*l+f,n}function Prt(n,e,t){let i=e[0],r=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=Math.sin(t),d=Math.cos(t);return n[0]=d*i+h*s,n[1]=d*r+h*o,n[2]=d*a+h*l,n[3]=d*s-h*i,n[4]=d*o-h*r,n[5]=d*l-h*a,n[6]=u,n[7]=c,n[8]=f,n}function Brt(n,e,t){let i=t[0],r=t[1];return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=r*e[3],n[4]=r*e[4],n[5]=r*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function Ort(n,e){let t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],v=e[12],m=e[13],y=e[14],x=e[15],b=t*o-i*s,M=t*l-r*s,C=t*u-a*s,w=i*l-r*o,E=i*u-a*o,L=r*u-a*l,P=c*m-f*v,I=c*y-h*v,N=c*x-d*v,z=f*y-h*m,V=f*x-d*m,U=h*x-d*y,j=b*U-M*V+C*z+w*N-E*I+L*P;return j?(j=1/j,n[0]=(o*U-l*V+u*z)*j,n[1]=(l*N-s*U-u*I)*j,n[2]=(s*V-o*N+u*P)*j,n[3]=(r*V-i*U-a*z)*j,n[4]=(t*U-r*N+a*I)*j,n[5]=(i*N-t*V-a*P)*j,n[6]=(m*L-y*E+x*w)*j,n[7]=(y*C-v*L-x*M)*j,n[8]=(v*E-m*C+x*b)*j,n):null}class zrt extends Array{constructor(e=1,t=0,i=0,r=0,a=1,s=0,o=0,l=0,u=1){return super(e,t,i,r,a,s,o,l,u),this}set(e,t,i,r,a,s,o,l,u){return e.length?this.copy(e):(Rrt(this,e,t,i,r,a,s,o,l,u),this)}translate(e,t=this){return Irt(this,t,e),this}rotate(e,t=this){return Prt(this,t,e),this}scale(e,t=this){return Brt(this,t,e),this}multiply(e,t){return t?tie(this,e,t):tie(this,this,e),this}identity(){return Lrt(this),this}copy(e){return Drt(this,e),this}fromMatrix4(e){return wrt(this,e),this}fromQuaternion(e){return Ert(this,e),this}fromBasis(e,t,i){return this.set(e[0],e[1],e[2],t[0],t[1],t[2],i[0],i[1],i[2]),this}inverse(e=this){return Nrt(this,e),this}getNormalMatrix(e){return Ort(this,e),this}}let krt=0;class Frt extends Crt{constructor(e,{geometry:t,program:i,mode:r=e.TRIANGLES,frustumCulled:a=!0,renderOrder:s=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=krt++,this.geometry=t,this.program=i,this.mode=r,this.frustumCulled=a,this.renderOrder=s,this.modelViewMatrix=new oI,this.normalMatrix=new zrt,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:e}));let t=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:t}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:e}))}}const nie={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function iie(n){n.length===4&&(n=n[0]+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e||console.warn(`Unable to convert hex string ${n} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function Urt(n){return n=parseInt(n),[(n>>16&255)/255,(n>>8&255)/255,(n&255)/255]}function rie(n){return n===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(n)?n[0]==="#"?iie(n):nie[n.toLowerCase()]?iie(nie[n.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):Urt(n)}class aie extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...rie(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(rie(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}}class Grt extends Pit{constructor(e,{attributes:t={}}={}){Object.assign(t,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,t)}}const Vrt=`
attribute vec2 position;
attribute vec2 uv;
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = vec4(position, 0.0, 1.0);
}
`,jrt=`
precision highp float;

uniform float iTime;
uniform vec3 iResolution;
uniform vec3 uColor;
uniform float uAmplitude;
uniform float uDistance;
uniform vec2 uMouse;

#define PI 3.1415926538

const int u_line_count = 40;
const float u_line_width = 7.0;
const float u_line_blur = 10.0;

float Perlin2D(vec2 P) {
    vec2 Pi = floor(P);
    vec4 Pf_Pfmin1 = P.xyxy - vec4(Pi, Pi + 1.0);
    vec4 Pt = vec4(Pi.xy, Pi.xy + 1.0);
    Pt = Pt - floor(Pt * (1.0 / 71.0)) * 71.0;
    Pt += vec2(26.0, 161.0).xyxy;
    Pt *= Pt;
    Pt = Pt.xzxz * Pt.yyww;
    vec4 hash_x = fract(Pt * (1.0 / 951.135664));
    vec4 hash_y = fract(Pt * (1.0 / 642.949883));
    vec4 grad_x = hash_x - 0.49999;
    vec4 grad_y = hash_y - 0.49999;
    vec4 grad_results = inversesqrt(grad_x * grad_x + grad_y * grad_y)
        * (grad_x * Pf_Pfmin1.xzxz + grad_y * Pf_Pfmin1.yyww);
    grad_results *= 1.4142135623730950;
    vec2 blend = Pf_Pfmin1.xy * Pf_Pfmin1.xy * Pf_Pfmin1.xy
               * (Pf_Pfmin1.xy * (Pf_Pfmin1.xy * 6.0 - 15.0) + 10.0);
    vec4 blend2 = vec4(blend, vec2(1.0 - blend));
    return dot(grad_results, blend2.zxzx * blend2.wwyy);
}

float pixel(float count, vec2 resolution) {
    return (1.0 / max(resolution.x, resolution.y)) * count;
}

float lineFn(vec2 st, float width, float perc, float offset, vec2 mouse, float time, float amplitude, float distance) {
    float split_offset = (perc * 0.4);
    float split_point = 0.1 + split_offset;

    float amplitude_normal = smoothstep(split_point, 0.7, st.x);
    float amplitude_strength = 0.5;
    float finalAmplitude = amplitude_normal * amplitude_strength
                           * amplitude * (1.0 + (mouse.y - 0.5) * 0.2);

    float time_scaled = time / 10.0 + (mouse.x - 0.5) * 1.0;
    float blur = smoothstep(split_point, split_point + 0.05, st.x) * perc;

    float xnoise = mix(
        Perlin2D(vec2(time_scaled, st.x + perc) * 2.5),
        Perlin2D(vec2(time_scaled, st.x + time_scaled) * 3.5) / 1.5,
        st.x * 0.3
    );

    float y = 0.5 + (perc - 0.5) * distance + xnoise / 2.0 * finalAmplitude;

    float line_start = smoothstep(
        y + (width / 2.0) + (u_line_blur * pixel(1.0, iResolution.xy) * blur),
        y,
        st.y
    );

    float line_end = smoothstep(
        y,
        y - (width / 2.0) - (u_line_blur * pixel(1.0, iResolution.xy) * blur),
        st.y
    );

    return clamp(
        (line_start - line_end) * (1.0 - smoothstep(0.0, 1.0, pow(perc, 0.3))),
        0.0,
        1.0
    );
}

void mainImage(out vec4 fragColor, in vec2 fragCoord) {
    vec2 uv = fragCoord / iResolution.xy;

    float line_strength = 1.0;
    for (int i = 0; i < u_line_count; i++) {
        float p = float(i) / float(u_line_count);
        line_strength *= (1.0 - lineFn(
            uv,
            u_line_width * pixel(1.0, iResolution.xy) * (1.0 - p),
            p,
            (PI * 1.0) * p,
            uMouse,
            iTime,
            uAmplitude,
            uDistance
        ));
    }

    float colorVal = 1.0 - line_strength;
    fragColor = vec4(uColor * colorVal, colorVal);
}

void main() {
    mainImage(gl_FragColor, gl_FragCoord.xy);
}
`,wge=({color:n=[1,1,1],amplitude:e=1,distance:t=0,enableMouseInteraction:i=!1,...r})=>{const a=Y.useRef(null),s=Y.useRef();return Y.useEffect(()=>{if(!a.current)return;const o=a.current,l=new Git({alpha:!0}),u=l.gl;u.clearColor(0,0,0,0),u.enable(u.BLEND),u.blendFunc(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA),o.appendChild(u.canvas);const c=new Grt(u),f=new Oit(u,{vertex:Vrt,fragment:jrt,uniforms:{iTime:{value:0},iResolution:{value:new aie(u.canvas.width,u.canvas.height,u.canvas.width/u.canvas.height)},uColor:{value:new aie(...n)},uAmplitude:{value:e},uDistance:{value:t},uMouse:{value:new Float32Array([.5,.5])}}}),h=new Frt(u,{geometry:c,program:f});function d(){const{clientWidth:M,clientHeight:C}=o;l.setSize(M,C),f.uniforms.iResolution.value.r=M,f.uniforms.iResolution.value.g=C,f.uniforms.iResolution.value.b=M/C}window.addEventListener("resize",d),d();let v=[.5,.5],m=[.5,.5];function y(M){const C=o.getBoundingClientRect(),w=(M.clientX-C.left)/C.width,E=1-(M.clientY-C.top)/C.height;m=[w,E]}function x(){m=[.5,.5]}i&&(o.addEventListener("mousemove",y),o.addEventListener("mouseleave",x));function b(M){i?(v[0]+=.05*(m[0]-v[0]),v[1]+=.05*(m[1]-v[1]),f.uniforms.uMouse.value[0]=v[0],f.uniforms.uMouse.value[1]=v[1]):(f.uniforms.uMouse.value[0]=.5,f.uniforms.uMouse.value[1]=.5),f.uniforms.iTime.value=M*.001,l.render({scene:h}),s.current=requestAnimationFrame(b)}return s.current=requestAnimationFrame(b),()=>{s.current&&cancelAnimationFrame(s.current),window.removeEventListener("resize",d),i&&(o.removeEventListener("mousemove",y),o.removeEventListener("mouseleave",x)),o.contains(u.canvas)&&o.removeChild(u.canvas),u.getExtension("WEBGL_lose_context")?.loseContext()}},[n,e,t,i]),T.jsx("div",{ref:a,className:"threads-container",...r})};function Hrt(){const[n,e]=Y.useState(null),t=va();Y.useEffect(()=>{let a=!0;return(async()=>{const s=await hi(ai.ME,{method:"GET"});a&&s.ok&&e(s.data.user??s.data)})(),()=>{a=!1}},[]);const i=()=>{ff(),t("/login",{replace:!0})},r=()=>{window.location.href="mailto:proyectogenomia@gmail.com?subject=Consulta sobre el servicio GenomIA"};return T.jsxs("div",{className:"no-purchased-page",children:[T.jsx(wge,{color:[.8,.88,.95],amplitude:.4,distance:.08,enableMouseInteraction:!1}),T.jsx("div",{className:"no-purchased-overlay"}),T.jsx("div",{className:"no-purchased-content",children:T.jsxs("div",{className:"no-purchased-card",children:[n&&T.jsxs("div",{className:"greeting-badge",children:["Hola, ",n.first_name||n.email]}),T.jsx("div",{className:"logo-section",children:T.jsx("img",{src:$G,alt:"GenomIA Logo",className:"no-purchased-logo",draggable:"false"})}),T.jsxs("div",{className:"message-section",children:[T.jsxs("h1",{className:"no-purchased-title",children:["Bienvenido a",T.jsx("br",{}),T.jsx("span",{className:"brand-name",children:"GenomIA"}),"!"]}),T.jsxs("div",{className:"status-badge",children:[T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",children:T.jsx("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1-7v2h2v-2h-2zm0-8v6h2V7h-2z"})}),T.jsx("span",{children:"Servicio no adquirido"})]}),T.jsx("div",{className:"steps-section",children:T.jsxs("p",{className:"steps-text",children:["Ahora que ya ests registrado, puedes realizar tu examen en ",T.jsx("strong",{children:"Av. Libertador Bernardo O'Higgins 611, Rancagua"}),". Debes presentarte en el horario de atencin estipulado: ",T.jsx("strong",{children:"08:30  16:30 hrs"}),"."]})}),T.jsxs("div",{className:"contact-section",children:[T.jsx("p",{className:"contact-text",children:"Tienes dudas? Contctanos:"}),T.jsxs("button",{className:"contact-button",onClick:r,children:[T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",children:T.jsx("path",{d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"proyectogenomia@gmail.com"]})]})]}),T.jsxs("button",{className:"logout-button",onClick:i,children:[T.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",children:T.jsx("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4m7 14l5-5-5-5m5 5H9"})}),"Cerrar sesin"]})]})})]})}var hl=function(){return hl=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},hl.apply(this,arguments)};function lI(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,a;i<r;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return n.concat(a||Array.prototype.slice.call(e))}var cr="-ms-",oT="-moz-",Ui="-webkit-",Ege="comm",QP="rule",hH="decl",Wrt="@import",Dge="@keyframes",Xrt="@layer",Rge=Math.abs,dH=String.fromCharCode,aG=Object.assign;function Yrt(n,e){return cs(n,0)^45?(((e<<2^cs(n,0))<<2^cs(n,1))<<2^cs(n,2))<<2^cs(n,3):0}function Lge(n){return n.trim()}function jd(n,e){return(n=e.exec(n))?n[0]:n}function qn(n,e,t){return n.replace(e,t)}function B3(n,e,t){return n.indexOf(e,t)}function cs(n,e){return n.charCodeAt(e)|0}function Ub(n,e,t){return n.slice(e,t)}function lh(n){return n.length}function Nge(n){return n.length}function _2(n,e){return e.push(n),n}function qrt(n,e){return n.map(e).join("")}function sie(n,e){return n.filter(function(t){return!jd(t,e)})}var $P=1,Gb=1,Ige=0,ic=0,wa=0,CS="";function eB(n,e,t,i,r,a,s,o){return{value:n,root:e,parent:t,type:i,props:r,children:a,line:$P,column:Gb,length:s,return:"",siblings:o}}function kv(n,e){return aG(eB("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function p1(n){for(;n.root;)n=kv(n.root,{children:[n]});_2(n,n.siblings)}function Zrt(){return wa}function Krt(){return wa=ic>0?cs(CS,--ic):0,Gb--,wa===10&&(Gb=1,$P--),wa}function nf(){return wa=ic<Ige?cs(CS,ic++):0,Gb++,wa===10&&(Gb=1,$P++),wa}function Sy(){return cs(CS,ic)}function O3(){return ic}function tB(n,e){return Ub(CS,n,e)}function sG(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Jrt(n){return $P=Gb=1,Ige=lh(CS=n),ic=0,[]}function Qrt(n){return CS="",n}function pk(n){return Lge(tB(ic-1,oG(n===91?n+2:n===40?n+1:n)))}function $rt(n){for(;(wa=Sy())&&wa<33;)nf();return sG(n)>2||sG(wa)>3?"":" "}function eat(n,e){for(;--e&&nf()&&!(wa<48||wa>102||wa>57&&wa<65||wa>70&&wa<97););return tB(n,O3()+(e<6&&Sy()==32&&nf()==32))}function oG(n){for(;nf();)switch(wa){case n:return ic;case 34:case 39:n!==34&&n!==39&&oG(wa);break;case 40:n===41&&oG(n);break;case 92:nf();break}return ic}function tat(n,e){for(;nf()&&n+wa!==57;)if(n+wa===84&&Sy()===47)break;return"/*"+tB(e,ic-1)+"*"+dH(n===47?n:nf())}function nat(n){for(;!sG(Sy());)nf();return tB(n,ic)}function iat(n){return Qrt(z3("",null,null,null,[""],n=Jrt(n),0,[0],n))}function z3(n,e,t,i,r,a,s,o,l){for(var u=0,c=0,f=s,h=0,d=0,v=0,m=1,y=1,x=1,b=0,M="",C=r,w=a,E=i,L=M;y;)switch(v=b,b=nf()){case 40:if(v!=108&&cs(L,f-1)==58){B3(L+=qn(pk(b),"&","&\f"),"&\f",Rge(u?o[u-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:L+=pk(b);break;case 9:case 10:case 13:case 32:L+=$rt(v);break;case 92:L+=eat(O3()-1,7);continue;case 47:switch(Sy()){case 42:case 47:_2(rat(tat(nf(),O3()),e,t,l),l);break;default:L+="/"}break;case 123*m:o[u++]=lh(L)*x;case 125*m:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+c:x==-1&&(L=qn(L,/\f/g,"")),d>0&&lh(L)-f&&_2(d>32?lie(L+";",i,t,f-1,l):lie(qn(L," ","")+";",i,t,f-2,l),l);break;case 59:L+=";";default:if(_2(E=oie(L,e,t,u,c,r,o,M,C=[],w=[],f,a),a),b===123)if(c===0)z3(L,e,E,E,C,a,f,o,w);else switch(h===99&&cs(L,3)===110?100:h){case 100:case 108:case 109:case 115:z3(n,E,E,i&&_2(oie(n,E,E,0,0,r,o,M,r,C=[],f,w),w),r,w,f,o,i?C:w);break;default:z3(L,E,E,E,[""],w,0,o,w)}}u=c=d=0,m=x=1,M=L="",f=s;break;case 58:f=1+lh(L),d=v;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&Krt()==125)continue}switch(L+=dH(b),b*m){case 38:x=c>0?1:(L+="\f",-1);break;case 44:o[u++]=(lh(L)-1)*x,x=1;break;case 64:Sy()===45&&(L+=pk(nf())),h=Sy(),c=f=lh(M=L+=nat(O3())),b++;break;case 45:v===45&&lh(L)==2&&(m=0)}}return a}function oie(n,e,t,i,r,a,s,o,l,u,c,f){for(var h=r-1,d=r===0?a:[""],v=Nge(d),m=0,y=0,x=0;m<i;++m)for(var b=0,M=Ub(n,h+1,h=Rge(y=s[m])),C=n;b<v;++b)(C=Lge(y>0?d[b]+" "+M:qn(M,/&\f/g,d[b])))&&(l[x++]=C);return eB(n,e,t,r===0?QP:o,l,u,c,f)}function rat(n,e,t,i){return eB(n,e,t,Ege,dH(Zrt()),Ub(n,2,-2),0,i)}function lie(n,e,t,i,r){return eB(n,e,t,hH,Ub(n,0,i),Ub(n,i+1,-1),i,r)}function Pge(n,e,t){switch(Yrt(n,e)){case 5103:return Ui+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ui+n+n;case 4789:return oT+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ui+n+oT+n+cr+n+n;case 5936:switch(cs(n,e+11)){case 114:return Ui+n+cr+qn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ui+n+cr+qn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ui+n+cr+qn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Ui+n+cr+n+n;case 6165:return Ui+n+cr+"flex-"+n+n;case 5187:return Ui+n+qn(n,/(\w+).+(:[^]+)/,Ui+"box-$1$2"+cr+"flex-$1$2")+n;case 5443:return Ui+n+cr+"flex-item-"+qn(n,/flex-|-self/g,"")+(jd(n,/flex-|baseline/)?"":cr+"grid-row-"+qn(n,/flex-|-self/g,""))+n;case 4675:return Ui+n+cr+"flex-line-pack"+qn(n,/align-content|flex-|-self/g,"")+n;case 5548:return Ui+n+cr+qn(n,"shrink","negative")+n;case 5292:return Ui+n+cr+qn(n,"basis","preferred-size")+n;case 6060:return Ui+"box-"+qn(n,"-grow","")+Ui+n+cr+qn(n,"grow","positive")+n;case 4554:return Ui+qn(n,/([^-])(transform)/g,"$1"+Ui+"$2")+n;case 6187:return qn(qn(qn(n,/(zoom-|grab)/,Ui+"$1"),/(image-set)/,Ui+"$1"),n,"")+n;case 5495:case 3959:return qn(n,/(image-set\([^]*)/,Ui+"$1$`$1");case 4968:return qn(qn(n,/(.+:)(flex-)?(.*)/,Ui+"box-pack:$3"+cr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ui+n+n;case 4200:if(!jd(n,/flex-|baseline/))return cr+"grid-column-align"+Ub(n,e)+n;break;case 2592:case 3360:return cr+qn(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(i,r){return e=r,jd(i.props,/grid-\w+-end/)})?~B3(n+(t=t[e].value),"span",0)?n:cr+qn(n,"-start","")+n+cr+"grid-row-span:"+(~B3(t,"span",0)?jd(t,/\d+/):+jd(t,/\d+/)-+jd(n,/\d+/))+";":cr+qn(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(i){return jd(i.props,/grid-\w+-start/)})?n:cr+qn(qn(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return qn(n,/(.+)-inline(.+)/,Ui+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(lh(n)-1-e>6)switch(cs(n,e+1)){case 109:if(cs(n,e+4)!==45)break;case 102:return qn(n,/(.+:)(.+)-([^]+)/,"$1"+Ui+"$2-$3$1"+oT+(cs(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~B3(n,"stretch",0)?Pge(qn(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return qn(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,r,a,s,o,l,u){return cr+r+":"+a+u+(s?cr+r+"-span:"+(o?l:+l-+a)+u:"")+n});case 4949:if(cs(n,e+6)===121)return qn(n,":",":"+Ui)+n;break;case 6444:switch(cs(n,cs(n,14)===45?18:11)){case 120:return qn(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ui+(cs(n,14)===45?"inline-":"")+"box$3$1"+Ui+"$2$3$1"+cr+"$2box$3")+n;case 100:return qn(n,":",":"+cr)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return qn(n,"scroll-","scroll-snap-")+n}return n}function uI(n,e){for(var t="",i=0;i<n.length;i++)t+=e(n[i],i,n,e)||"";return t}function aat(n,e,t,i){switch(n.type){case Xrt:if(n.children.length)break;case Wrt:case hH:return n.return=n.return||n.value;case Ege:return"";case Dge:return n.return=n.value+"{"+uI(n.children,i)+"}";case QP:if(!lh(n.value=n.props.join(",")))return""}return lh(t=uI(n.children,i))?n.return=n.value+"{"+t+"}":""}function sat(n){var e=Nge(n);return function(t,i,r,a){for(var s="",o=0;o<e;o++)s+=n[o](t,i,r,a)||"";return s}}function oat(n){return function(e){e.root||(e=e.return)&&n(e)}}function lat(n,e,t,i){if(n.length>-1&&!n.return)switch(n.type){case hH:n.return=Pge(n.value,n.length,t);return;case Dge:return uI([kv(n,{value:qn(n.value,"@","@"+Ui)})],i);case QP:if(n.length)return qrt(t=n.props,function(r){switch(jd(r,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":p1(kv(n,{props:[qn(r,/:(read-\w+)/,":"+oT+"$1")]})),p1(kv(n,{props:[r]})),aG(n,{props:sie(t,i)});break;case"::placeholder":p1(kv(n,{props:[qn(r,/:(plac\w+)/,":"+Ui+"input-$1")]})),p1(kv(n,{props:[qn(r,/:(plac\w+)/,":"+oT+"$1")]})),p1(kv(n,{props:[qn(r,/:(plac\w+)/,cr+"input-$1")]})),p1(kv(n,{props:[r]})),aG(n,{props:sie(t,i)});break}return""})}}var uat={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ol={},Vb=typeof process<"u"&&Ol!==void 0&&(Ol.REACT_APP_SC_ATTR||Ol.SC_ATTR)||"data-styled",Bge="active",Oge="data-styled-version",nB="6.1.19",pH=`/*!sc*/
`,cI=typeof window<"u"&&typeof document<"u",cat=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ol!==void 0&&Ol.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ol.REACT_APP_SC_DISABLE_SPEEDY!==""?Ol.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ol.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ol!==void 0&&Ol.SC_DISABLE_SPEEDY!==void 0&&Ol.SC_DISABLE_SPEEDY!==""&&Ol.SC_DISABLE_SPEEDY!=="false"&&Ol.SC_DISABLE_SPEEDY),iB=Object.freeze([]),jb=Object.freeze({});function fat(n,e,t){return t===void 0&&(t=jb),n.theme!==t.theme&&n.theme||e||t.theme}var zge=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),hat=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,dat=/(^-|-$)/g;function uie(n){return n.replace(hat,"-").replace(dat,"")}var pat=/(a)(d)/gi,YR=52,cie=function(n){return String.fromCharCode(n+(n>25?39:97))};function lG(n){var e,t="";for(e=Math.abs(n);e>YR;e=e/YR|0)t=cie(e%YR)+t;return(cie(e%YR)+t).replace(pat,"$1-$2")}var vk,kge=5381,k1=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},Fge=function(n){return k1(kge,n)};function vat(n){return lG(Fge(n)>>>0)}function mat(n){return n.displayName||n.name||"Component"}function mk(n){return typeof n=="string"&&!0}var Uge=typeof Symbol=="function"&&Symbol.for,Gge=Uge?Symbol.for("react.memo"):60115,gat=Uge?Symbol.for("react.forward_ref"):60112,yat={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},xat={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Vge={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_at=((vk={})[gat]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vk[Gge]=Vge,vk);function fie(n){return("type"in(e=n)&&e.type.$$typeof)===Gge?Vge:"$$typeof"in n?_at[n.$$typeof]:yat;var e}var bat=Object.defineProperty,Sat=Object.getOwnPropertyNames,hie=Object.getOwnPropertySymbols,Aat=Object.getOwnPropertyDescriptor,Mat=Object.getPrototypeOf,die=Object.prototype;function jge(n,e,t){if(typeof e!="string"){if(die){var i=Mat(e);i&&i!==die&&jge(n,i,t)}var r=Sat(e);hie&&(r=r.concat(hie(e)));for(var a=fie(n),s=fie(e),o=0;o<r.length;++o){var l=r[o];if(!(l in xat||t&&t[l]||s&&l in s||a&&l in a)){var u=Aat(e,l);try{bat(n,l,u)}catch{}}}}return n}function Hb(n){return typeof n=="function"}function vH(n){return typeof n=="object"&&"styledComponentId"in n}function ry(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function pie(n,e){if(n.length===0)return"";for(var t=n[0],i=1;i<n.length;i++)t+=n[i];return t}function vC(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function uG(n,e,t){if(t===void 0&&(t=!1),!t&&!vC(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)n[i]=uG(n[i],e[i]);else if(vC(e))for(var i in e)n[i]=uG(n[i],e[i]);return n}function mH(n,e){Object.defineProperty(n,"toString",{value:e})}function uw(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Tat=(function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,i=0;i<e;i++)t+=this.groupSizes[i];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var i=this.groupSizes,r=i.length,a=r;e>=a;)if((a<<=1)<0)throw uw(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(i),this.length=a;for(var s=r;s<a;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(e+1),l=(s=0,t.length);s<l;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],i=this.indexOfGroup(e),r=i+t;this.groupSizes[e]=0;for(var a=i;a<r;a++)this.tag.deleteRule(i)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var i=this.groupSizes[e],r=this.indexOfGroup(e),a=r+i,s=r;s<a;s++)t+="".concat(this.tag.getRule(s)).concat(pH);return t},n})(),k3=new Map,fI=new Map,F3=1,qR=function(n){if(k3.has(n))return k3.get(n);for(;fI.has(F3);)F3++;var e=F3++;return k3.set(n,e),fI.set(e,n),e},Cat=function(n,e){F3=e+1,k3.set(n,e),fI.set(e,n)},wat="style[".concat(Vb,"][").concat(Oge,'="').concat(nB,'"]'),Eat=new RegExp("^".concat(Vb,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Dat=function(n,e,t){for(var i,r=t.split(","),a=0,s=r.length;a<s;a++)(i=r[a])&&n.registerName(e,i)},Rat=function(n,e){for(var t,i=((t=e.textContent)!==null&&t!==void 0?t:"").split(pH),r=[],a=0,s=i.length;a<s;a++){var o=i[a].trim();if(o){var l=o.match(Eat);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(Cat(c,u),Dat(n,c,l[3]),n.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},vie=function(n){for(var e=document.querySelectorAll(wat),t=0,i=e.length;t<i;t++){var r=e[t];r&&r.getAttribute(Vb)!==Bge&&(Rat(n,r),r.parentNode&&r.parentNode.removeChild(r))}};function Lat(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Hge=function(n){var e=document.head,t=n||e,i=document.createElement("style"),r=(function(o){var l=Array.from(o.querySelectorAll("style[".concat(Vb,"]")));return l[l.length-1]})(t),a=r!==void 0?r.nextSibling:null;i.setAttribute(Vb,Bge),i.setAttribute(Oge,nB);var s=Lat();return s&&i.setAttribute("nonce",s),t.insertBefore(i,a),i},Nat=(function(){function n(e){this.element=Hge(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(t){if(t.sheet)return t.sheet;for(var i=document.styleSheets,r=0,a=i.length;r<a;r++){var s=i[r];if(s.ownerNode===t)return s}throw uw(17)})(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n})(),Iat=(function(){function n(e){this.element=Hge(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var i=document.createTextNode(t);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n})(),Pat=(function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n})(),mie=cI,Bat={isServer:!cI,useCSSOMInjection:!cat},Wge=(function(){function n(e,t,i){e===void 0&&(e=jb),t===void 0&&(t={});var r=this;this.options=hl(hl({},Bat),e),this.gs=t,this.names=new Map(i),this.server=!!e.isServer,!this.server&&cI&&mie&&(mie=!1,vie(this)),mH(this,function(){return(function(a){for(var s=a.getTag(),o=s.length,l="",u=function(f){var h=(function(x){return fI.get(x)})(f);if(h===void 0)return"continue";var d=a.names.get(h),v=s.getGroup(f);if(d===void 0||!d.size||v.length===0)return"continue";var m="".concat(Vb,".g").concat(f,'[id="').concat(h,'"]'),y="";d!==void 0&&d.forEach(function(x){x.length>0&&(y+="".concat(x,","))}),l+="".concat(v).concat(m,'{content:"').concat(y,'"}').concat(pH)},c=0;c<o;c++)u(c);return l})(r)})}return n.registerId=function(e){return qR(e)},n.prototype.rehydrate=function(){!this.server&&cI&&vie(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(hl(hl({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(t){var i=t.useCSSOMInjection,r=t.target;return t.isServer?new Pat(r):i?new Nat(r):new Iat(r)})(this.options),new Tat(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(qR(e),this.names.has(e))this.names.get(e).add(t);else{var i=new Set;i.add(t),this.names.set(e,i)}},n.prototype.insertRules=function(e,t,i){this.registerName(e,t),this.getTag().insertRules(qR(e),i)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(qR(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n})(),Oat=/&/g,zat=/^\s*\/\/.*$/gm;function Xge(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=Xge(t.children,e)),t})}function kat(n){var e,t,i,r=jb,a=r.options,s=a===void 0?jb:a,o=r.plugins,l=o===void 0?iB:o,u=function(h,d,v){return v.startsWith(t)&&v.endsWith(t)&&v.replaceAll(t,"").length>0?".".concat(e):h},c=l.slice();c.push(function(h){h.type===QP&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(Oat,t).replace(i,u))}),s.prefix&&c.push(lat),c.push(aat);var f=function(h,d,v,m){d===void 0&&(d=""),v===void 0&&(v=""),m===void 0&&(m="&"),e=m,t=d,i=new RegExp("\\".concat(t,"\\b"),"g");var y=h.replace(zat,""),x=iat(v||d?"".concat(v," ").concat(d," { ").concat(y," }"):y);s.namespace&&(x=Xge(x,s.namespace));var b=[];return uI(x,sat(c.concat(oat(function(M){return b.push(M)})))),b};return f.hash=l.length?l.reduce(function(h,d){return d.name||uw(15),k1(h,d.name)},kge).toString():"",f}var Fat=new Wge,cG=kat(),Yge=Ps.createContext({shouldForwardProp:void 0,styleSheet:Fat,stylis:cG});Yge.Consumer;Ps.createContext(void 0);function gie(){return Y.useContext(Yge)}var Uat=(function(){function n(e,t){var i=this;this.inject=function(r,a){a===void 0&&(a=cG);var s=i.name+a.hash;r.hasNameForId(i.id,s)||r.insertRules(i.id,s,a(i.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,mH(this,function(){throw uw(12,String(i.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=cG),this.name+e.hash},n})(),Gat=function(n){return n>="A"&&n<="Z"};function yie(n){for(var e="",t=0;t<n.length;t++){var i=n[t];if(t===1&&i==="-"&&n[0]==="-")return n;Gat(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var qge=function(n){return n==null||n===!1||n===""},Zge=function(n){var e,t,i=[];for(var r in n){var a=n[r];n.hasOwnProperty(r)&&!qge(a)&&(Array.isArray(a)&&a.isCss||Hb(a)?i.push("".concat(yie(r),":"),a,";"):vC(a)?i.push.apply(i,lI(lI(["".concat(r," {")],Zge(a),!1),["}"],!1)):i.push("".concat(yie(r),": ").concat((e=r,(t=a)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in uat||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return i};function Ay(n,e,t,i){if(qge(n))return[];if(vH(n))return[".".concat(n.styledComponentId)];if(Hb(n)){if(!Hb(a=n)||a.prototype&&a.prototype.isReactComponent||!e)return[n];var r=n(e);return Ay(r,e,t,i)}var a;return n instanceof Uat?t?(n.inject(t,i),[n.getName(i)]):[n]:vC(n)?Zge(n):Array.isArray(n)?Array.prototype.concat.apply(iB,n.map(function(s){return Ay(s,e,t,i)})):[n.toString()]}function Vat(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Hb(t)&&!vH(t))return!1}return!0}var jat=Fge(nB),Hat=(function(){function n(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&Vat(e),this.componentId=t,this.baseHash=k1(jat,t),this.baseStyle=i,Wge.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,i){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=ry(r,this.staticRulesId);else{var a=pie(Ay(this.rules,e,t,i)),s=lG(k1(this.baseHash,a)>>>0);if(!t.hasNameForId(this.componentId,s)){var o=i(a,".".concat(s),void 0,this.componentId);t.insertRules(this.componentId,s,o)}r=ry(r,s),this.staticRulesId=s}else{for(var l=k1(this.baseHash,i.hash),u="",c=0;c<this.rules.length;c++){var f=this.rules[c];if(typeof f=="string")u+=f;else if(f){var h=pie(Ay(f,e,t,i));l=k1(l,h+c),u+=h}}if(u){var d=lG(l>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,i(u,".".concat(d),void 0,this.componentId)),r=ry(r,d)}}return r},n})(),Kge=Ps.createContext(void 0);Kge.Consumer;var gk={};function Wat(n,e,t){var i=vH(n),r=n,a=!mk(n),s=e.attrs,o=s===void 0?iB:s,l=e.componentId,u=l===void 0?(function(C,w){var E=typeof C!="string"?"sc":uie(C);gk[E]=(gk[E]||0)+1;var L="".concat(E,"-").concat(vat(nB+E+gk[E]));return w?"".concat(w,"-").concat(L):L})(e.displayName,e.parentComponentId):l,c=e.displayName,f=c===void 0?(function(C){return mk(C)?"styled.".concat(C):"Styled(".concat(mat(C),")")})(n):c,h=e.displayName&&e.componentId?"".concat(uie(e.displayName),"-").concat(e.componentId):e.componentId||u,d=i&&r.attrs?r.attrs.concat(o).filter(Boolean):o,v=e.shouldForwardProp;if(i&&r.shouldForwardProp){var m=r.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;v=function(C,w){return m(C,w)&&y(C,w)}}else v=m}var x=new Hat(t,h,i?r.componentStyle:void 0);function b(C,w){return(function(E,L,P){var I=E.attrs,N=E.componentStyle,z=E.defaultProps,V=E.foldedComponentIds,U=E.styledComponentId,j=E.target,W=Ps.useContext(Kge),G=gie(),X=E.shouldForwardProp||G.shouldForwardProp,q=fat(L,W,z)||jb,$=(function(ue,fe,ge){for(var Se,Ee=hl(hl({},fe),{className:void 0,theme:ge}),Ue=0;Ue<ue.length;Ue+=1){var _e=Hb(Se=ue[Ue])?Se(Ee):Se;for(var ke in _e)Ee[ke]=ke==="className"?ry(Ee[ke],_e[ke]):ke==="style"?hl(hl({},Ee[ke]),_e[ke]):_e[ke]}return fe.className&&(Ee.className=ry(Ee.className,fe.className)),Ee})(I,L,q),te=$.as||j,J={};for(var Q in $)$[Q]===void 0||Q[0]==="$"||Q==="as"||Q==="theme"&&$.theme===q||(Q==="forwardedAs"?J.as=$.forwardedAs:X&&!X(Q,te)||(J[Q]=$[Q]));var se=(function(ue,fe){var ge=gie(),Se=ue.generateAndInjectStyles(fe,ge.styleSheet,ge.stylis);return Se})(N,$),ce=ry(V,U);return se&&(ce+=" "+se),$.className&&(ce+=" "+$.className),J[mk(te)&&!zge.has(te)?"class":"className"]=ce,P&&(J.ref=P),Y.createElement(te,J)})(M,C,w)}b.displayName=f;var M=Ps.forwardRef(b);return M.attrs=d,M.componentStyle=x,M.displayName=f,M.shouldForwardProp=v,M.foldedComponentIds=i?ry(r.foldedComponentIds,r.styledComponentId):"",M.styledComponentId=h,M.target=i?r.target:n,Object.defineProperty(M,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(C){this._foldedDefaultProps=i?(function(w){for(var E=[],L=1;L<arguments.length;L++)E[L-1]=arguments[L];for(var P=0,I=E;P<I.length;P++)uG(w,I[P],!0);return w})({},r.defaultProps,C):C}}),mH(M,function(){return".".concat(M.styledComponentId)}),a&&jge(M,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),M}function xie(n,e){for(var t=[n[0]],i=0,r=e.length;i<r;i+=1)t.push(e[i],n[i+1]);return t}var _ie=function(n){return Object.assign(n,{isCss:!0})};function Xat(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Hb(n)||vC(n))return _ie(Ay(xie(iB,lI([n],e,!0))));var i=n;return e.length===0&&i.length===1&&typeof i[0]=="string"?Ay(i):_ie(Ay(xie(i,e)))}function fG(n,e,t){if(t===void 0&&(t=jb),!e)throw uw(1,e);var i=function(r){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];return n(e,t,Xat.apply(void 0,lI([r],a,!1)))};return i.attrs=function(r){return fG(n,e,hl(hl({},t),{attrs:Array.prototype.concat(t.attrs,r).filter(Boolean)}))},i.withConfig=function(r){return fG(n,e,hl(hl({},t),r))},i}var Jge=function(n){return fG(Wat,n)},Qge=Jge;zge.forEach(function(n){Qge[n]=Jge(n)});const Yat=()=>T.jsx(qat,{children:T.jsxs("div",{className:"wrapper",children:[T.jsx("div",{className:"circle"}),T.jsx("div",{className:"circle"}),T.jsx("div",{className:"circle"}),T.jsx("div",{className:"shadow"}),T.jsx("div",{className:"shadow"}),T.jsx("div",{className:"shadow"})]})}),qat=Qge.div`
  .wrapper {
    width: 200px;
    height: 60px;
    position: relative;
    z-index: 1;
  }

  .circle {
    width: 20px;
    height: 20px;
    position: absolute;
    border-radius: 50%;
    background-color: #3b82f6;
    left: 15%;
    transform-origin: 50%;
    animation: circle7124 .5s alternate infinite ease;
  }

  @keyframes circle7124 {
    0% {
      top: 60px;
      height: 5px;
      border-radius: 50px 50px 25px 25px;
      transform: scaleX(1.7);
    }

    40% {
      height: 20px;
      border-radius: 50%;
      transform: scaleX(1);
    }

    100% {
      top: 0%;
    }
  }

  .circle:nth-child(2) {
    left: 45%;
    animation-delay: .2s;
  }

  .circle:nth-child(3) {
    left: auto;
    right: 15%;
    animation-delay: .3s;
  }

  .shadow {
    width: 20px;
    height: 4px;
    border-radius: 50%;
    background-color: rgba(59, 130, 246, 0.4);
    position: absolute;
    top: 62px;
    transform-origin: 50%;
    z-index: -1;
    left: 15%;
    filter: blur(1px);
    animation: shadow046 .5s alternate infinite ease;
  }

  @keyframes shadow046 {
    0% {
      transform: scaleX(1.5);
    }

    40% {
      transform: scaleX(1);
      opacity: .7;
    }

    100% {
      transform: scaleX(.2);
      opacity: .4;
    }
  }

  .shadow:nth-child(4) {
    left: 45%;
    animation-delay: .2s
  }

  .shadow:nth-child(5) {
    left: auto;
    right: 15%;
    animation-delay: .3s;
  }`;function Zat(){const[n,e]=Y.useState(null),t=va();Y.useEffect(()=>{let r=!0;return(async()=>{const a=await hi(ai.ME,{method:"GET"});r&&a.ok&&e(a.data.user??a.data)})(),()=>{r=!1}},[]);const i=()=>{ff(),t("/login",{replace:!0})};return T.jsxs("div",{className:"pending-page",children:[T.jsx(wge,{color:[.8,.88,.95],amplitude:.4,distance:.08,enableMouseInteraction:!1}),T.jsx("div",{className:"pending-overlay"}),T.jsx("div",{className:"pending-content",children:T.jsxs("div",{className:"pending-card",children:[n&&T.jsxs("div",{className:"greeting-badge",children:["Hola, ",n.first_name||n.email]}),T.jsx("div",{className:"capybara-section",children:T.jsx(Yat,{})}),T.jsxs("div",{className:"message-section",children:[T.jsx("h1",{className:"pending-title",children:"Estamos procesando tus datos"}),T.jsxs("div",{className:"status-badge pending",children:[T.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",children:T.jsx("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),T.jsx("span",{children:"Anlisis en proceso"})]}),T.jsx("p",{className:"pending-message",children:"Te notificaremos por correo cuando tus resultados estn listos."})]}),T.jsxs("button",{className:"logout-button",onClick:i,children:[T.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",children:T.jsx("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4m7 14l5-5-5-5m5 5H9"})}),"Cerrar sesin"]})]})})]})}function yk({children:n,requireService:e=!0,requireAdmin:t=!1}){const[i,r]=Y.useState(!1),[a,s]=Y.useState(!0),o=va(),l=rc();return Y.useEffect(()=>{let u=!0;return(async()=>{if(!QG()){o("/login",{replace:!0});return}const f=await hi(ai.ME,{method:"GET"});if(u){if(!f.ok)o("/login",{replace:!0});else{const h=f.data?.user?.is_staff===!0;if(t&&!h){o("/dashboard",{replace:!0});return}const d=f.data?.user?.service_status;if(e&&d==="NO_PURCHASED"&&l.pathname!=="/no-purchased"){o("/no-purchased",{replace:!0});return}if(e&&d==="PENDING"&&l.pathname!=="/pending"){o("/pending",{replace:!0});return}if(l.pathname==="/no-purchased"&&d!=="NO_PURCHASED"){o("/dashboard",{replace:!0});return}if(l.pathname==="/pending"&&d==="COMPLETED"){o("/dashboard",{replace:!0});return}r(!0)}s(!1)}})(),()=>{u=!1}},[o,l.pathname,e]),a?null:i?n:null}const xk={damping:30,stiffness:100,mass:2};function Kat({imageSrc:n,altText:e="Tilted card image",captionText:t="",containerHeight:i="300px",containerWidth:r="100%",imageHeight:a="300px",imageWidth:s="300px",scaleOnHover:o=1.1,rotateAmplitude:l=14,showMobileWarning:u=!0,showTooltip:c=!0,overlayContent:f=null,displayOverlayContent:h=!1}){const d=Y.useRef(null),v=E1(),m=E1(),y=iM(E1(0),xk),x=iM(E1(0),xk),b=iM(1,xk),M=iM(0),C=iM(0,{stiffness:350,damping:30,mass:1}),[w,E]=Y.useState(0);function L(N){if(!d.current)return;const z=d.current.getBoundingClientRect(),V=N.clientX-z.left-z.width/2,U=N.clientY-z.top-z.height/2,j=U/(z.height/2)*-l,W=V/(z.width/2)*l;y.set(j),x.set(W),v.set(N.clientX-z.left),m.set(N.clientY-z.top);const G=U-w;C.set(-G*.6),E(U)}function P(){b.set(o),M.set(1)}function I(){M.set(0),b.set(1),y.set(0),x.set(0),C.set(0)}return T.jsxs("figure",{ref:d,className:"tilted-card-figure",style:{height:i,width:r},onMouseMove:L,onMouseEnter:P,onMouseLeave:I,children:[u&&T.jsx("div",{className:"tilted-card-mobile-alert",children:"This effect is not optimized for mobile. Check on desktop."}),T.jsxs(vh.div,{className:"tilted-card-inner",style:{width:s,height:a,rotateX:y,rotateY:x,scale:b},children:[T.jsx(vh.img,{src:n,alt:e,className:"tilted-card-img",style:{width:s,height:a}}),h&&f&&T.jsx(vh.div,{className:"tilted-card-overlay",children:f})]}),c&&T.jsx(vh.figcaption,{className:"tilted-card-caption",style:{x:v,y:m,opacity:M,rotate:C},children:t})]})}const Jat=()=>{const n=va(),e=()=>n("/register"),t=[{title:"Descubre completo",desc:"Ancestra, Enfermedades, Biomtricas y Farmacogentica."},{title:"Acceso al panel en lnea",desc:"Consulta y seguimiento desde tu cuenta."},{title:"Actualizaciones futuras",desc:"Nuevos insights y mejoras sin costo extra."},{title:"Acompaamiento del equipo",desc:"Soporte por correo ante cualquier duda."}],i=r=>T.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",...r,children:[T.jsx("circle",{cx:"12",cy:"12",r:"11",stroke:"#108AC2",strokeWidth:"2",fill:"#E6F4FE"}),T.jsx("path",{d:"M7 12.5l3.2 3L17 9",stroke:"#108AC2",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})]});return T.jsx("section",{id:"obten",className:"gp","data-nav-theme":"light","aria-label":"Precio de tu Genoma",children:T.jsxs("div",{className:"gp-container",children:[T.jsxs("div",{className:"gp-left",children:[T.jsx("div",{className:"breadcrumb breadcrumb--blue",children:"Obtn el Tuyo"}),T.jsx("h2",{className:"gp-title",children:"El precio de tu Genoma"}),T.jsx("p",{className:"gp-lead",children:"Accede a un plan completo con toda tu informacin gentica, diseado para ofrecerte un anlisis detallado de tus rasgos, predisposiciones y bienestar."}),T.jsx("h3",{className:"gp-includes-heading",children:"Qu incluye tu paquete?"}),T.jsx("ul",{className:"gp-tickets","aria-label":"Incluye",children:t.map(({title:r,desc:a},s)=>T.jsxs("li",{className:"gp-ticket",children:[T.jsx("span",{className:"gp-ticket-ico","aria-hidden":"true",children:T.jsx(i,{})}),T.jsxs("div",{className:"gp-ticket-body",children:[T.jsx("span",{className:"gp-ticket-title",children:r}),T.jsx("span",{className:"gp-ticket-desc",children:a})]}),T.jsx("span",{className:"gp-ticket-edge","aria-hidden":"true"})]},s))}),T.jsx("button",{className:"gp-cta-main",onClick:e,children:"Regstrate aqu"})]}),T.jsx("aside",{className:"gp-right","aria-hidden":"false",children:T.jsx("div",{className:"gp-right-tilt",children:T.jsx(Kat,{imageSrc:"/CardPricing.png",altText:"Plan GenomIA",captionText:"",containerHeight:"500px",containerWidth:"380px",imageHeight:"500px",imageWidth:"380px",rotateAmplitude:12,scaleOnHover:1.03,showMobileWarning:!1,showTooltip:!1,displayOverlayContent:!1})})})]})})},Qat=n=>T.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",...n,children:T.jsxs("g",{stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M8 4h5l3 3v11a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Z"}),T.jsx("path",{d:"M13 4v3h3"}),T.jsx("path",{d:"M12 12l.9 1.8 2 .3-1.45 1.4.34 2-1.79-.95-1.79.95.34-2L9.1 14.1l2-.3L12 12Z"})]})}),$at=n=>T.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",...n,children:[T.jsx("rect",{x:"5",y:"10",width:"14",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.8"}),T.jsx("path",{d:"M8 10V8a4 4 0 0 1 8 0v2",stroke:"currentColor",strokeWidth:"1.8"}),T.jsx("circle",{cx:"12",cy:"15",r:"1.6",fill:"currentColor"})]}),est=n=>T.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",...n,children:[T.jsx("path",{d:"M9 3v6l-5 9a2 2 0 0 0 1.7 3h12.6a2 2 0 0 0 1.7-3l-5-9V3",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"}),T.jsx("path",{d:"M9 9h6",stroke:"currentColor",strokeWidth:"1.8"}),T.jsx("path",{d:"M7 16h10",stroke:"currentColor",strokeWidth:"1.8",opacity:".7"})]}),tst=()=>{const n=[{id:"jonathan",nombre:"Jonathan Canan",cargo:"Encargado HPC-UOH",imagen:"jonathan",imagenNum:"4",linkedin:"https://www.linkedin.com/in/jonathan-canan-469896238"},{id:"carol",nombre:"Dra. Carol Moraga",cargo:"Subdirectora SeqUOH",imagen:"carol",imagenNum:"1",linkedin:"https://www.linkedin.com/in/camoragaq"},{id:"alex",nombre:"Dr. Alex Di Genova",cargo:"Director de SeqUOH",imagen:"alex",imagenNum:"2",linkedin:"https://www.linkedin.com/in/alex-di-genova-522b99246"},{id:"susan",nombre:"Mag. Susan Calfunao",cargo:"Encargada de Lab. SeqUOH",imagen:"susan",imagenNum:"3",linkedin:"https://www.linkedin.com/in/susan-calfunao-caro-367a3173"},{id:"gabriel",nombre:"Gabriel Cabas",cargo:"Investigador asociado SeqUOH",imagen:"gabriel",imagenNum:"5",linkedin:"https://www.linkedin.com/in/gabriel-cabas-1834601b4"}];return T.jsxs("section",{id:"equipo",className:"sn","data-nav-theme":"light",children:[T.jsx("div",{className:"sn-crumb",children:T.jsx("div",{className:"breadcrumb breadcrumb--blue",children:"Equipo"})}),T.jsx("h1",{className:"sn-title",children:"Somos GenomIA"}),T.jsxs("div",{className:"sn-features",children:[T.jsxs("article",{className:"sn-feature",children:[T.jsx("div",{className:"sn-icon",children:T.jsx(Qat,{})}),T.jsx("h3",{className:"sn-feature-title",children:"Tu ADN, Tu Historia"}),T.jsx("p",{className:"sn-feature-desc",children:"En GenomIA transformamos tu informacin gentica en reportes claros, comprensibles y personalizados sobre ti."})]}),T.jsxs("article",{className:"sn-feature",children:[T.jsx("div",{className:"sn-icon",children:T.jsx($at,{})}),T.jsx("h3",{className:"sn-feature-title",children:"Tus datos son tuyos"}),T.jsx("p",{className:"sn-feature-desc",children:"Garantizamos encriptacin, almacenamiento seguro y total control sobre tu informacin gentica."})]}),T.jsxs("article",{className:"sn-feature is-accent",children:[T.jsx("div",{className:"sn-icon -invert",children:T.jsx(est,{})}),T.jsx("h3",{className:"sn-feature-title",children:"Detrs de GenomIA"}),T.jsx("p",{className:"sn-feature-desc",children:"Nacimos junto a SeqUOH, laboratorio genmico de la Universidad de O'Higgins, referente en investigacin gentica."})]})]}),T.jsx("h2",{className:"sn-team-title",children:"Nuestro Equipo"}),T.jsx("div",{className:"equipo-grid",children:n.map(e=>T.jsxs("div",{className:"miembro-card",children:[T.jsx("div",{className:`miembro-imagen ${e.imagen}`,children:T.jsx("img",{className:"miembro-img",src:`/SobreNosotros/${e.imagenNum}.png`,alt:e.nombre,loading:"lazy"})}),T.jsxs("div",{className:"miembro-info",children:[T.jsx("h3",{className:"miembro-nombre",children:e.nombre}),T.jsx("p",{className:"miembro-cargo",children:e.cargo}),T.jsxs("a",{href:e.linkedin,className:"linkedin-btn",target:"_blank",rel:"noopener noreferrer","aria-label":`Ver perfil de LinkedIn de ${e.nombre}`,children:[T.jsx("svg",{className:"linkedin-icon",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:T.jsx("path",{d:"M4.98 3.5A2.5 2.5 0 1 1 0 3.5a2.5 2.5 0 0 1 4.98 0ZM.5 8.5h4.96V24H.5V8.5Zm7.5 0h4.76v2.05h.07c.66-1.27 2.26-2.6 4.66-2.6 4.98 0 5.91 3.33 5.91 7.66V24h-4.96v-6.92c0-1.65-.03-3.8-2.29-3.8-2.29 0-2.64 1.8-2.64 3.68V24H8V8.5Z"})}),T.jsx("span",{children:"LinkedIn"})]})]})]},e.id))})]})};function nst(){const[n,e]=Y.useState(!1),t=b=>{b.preventDefault(),e(!0)},i=()=>e(!1),[r,a]=Y.useState({nombre:"",email:"",mensaje:""}),[s,o]=Y.useState(!1),[l,u]=Y.useState({type:"",text:""}),[c,f]=Y.useState({nombre:"",email:"",mensaje:""}),[h,d]=Y.useState(!1),[v,m]=Y.useState(null),y=b=>{const{name:M,value:C}=b.target;f(w=>({...w,[M]:C}))},x=async b=>{b.preventDefault(),m(null),d(!0);try{const M=await hi(ai.CONTACT,{method:"POST",body:JSON.stringify({nombre:c.nombre.trim(),email:c.email.trim(),mensaje:c.mensaje.trim()})});if(M.ok)m({type:"ok",msg:"Gracias! Tu mensaje fue enviado."}),f({nombre:"",email:"",mensaje:""});else{const C=M.data?.error||"No se pudo enviar el mensaje. Intntalo nuevamente.";m({type:"error",msg:C})}}catch{m({type:"error",msg:"Error de conexin. Revisa tu red."})}finally{d(!1)}};return T.jsxs("footer",{className:"ft",id:"contacto",role:"contentinfo","data-nav-theme":"light",children:[T.jsx("div",{className:"ft__top",children:T.jsxs("div",{className:"ft__cols",children:[T.jsx("div",{className:"ft__col ft__brand-menu",children:T.jsxs("nav",{className:"ft__menu","aria-label":"Men",children:[T.jsx("h4",{className:"ft__title",children:"Men"}),T.jsxs("ul",{className:"ft__list",children:[T.jsx("li",{children:T.jsx(ua,{smooth:!0,to:"/#inicio",children:"Inicio"})}),T.jsx("li",{children:T.jsx(ua,{smooth:!0,to:"/#learn-more",children:"Descubre"})}),T.jsx("li",{children:T.jsx(ua,{smooth:!0,to:"/#conoce",children:"Conoce"})}),T.jsx("li",{children:T.jsx(ua,{smooth:!0,to:"/#obten",children:"Obtn el Tuyo"})}),T.jsx("li",{children:T.jsx(ua,{smooth:!0,to:"/#preguntas",children:"Preguntas Frecuentes"})}),T.jsx("li",{children:T.jsx(ua,{smooth:!0,to:"/#equipo",children:"Equipo"})}),T.jsx("li",{children:T.jsx(ua,{smooth:!0,to:"/#contacto",children:"Contacto"})})]})]})}),T.jsxs("section",{className:"ft__col ft__info-col","aria-label":"Informacin",children:[T.jsx("h4",{className:"ft__title",children:"Informacin"}),T.jsxs("ul",{className:"ft__info",children:[T.jsxs("li",{className:"ft__info-item",children:[T.jsx("span",{className:"ft__info-ico","aria-hidden":"true",children:T.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:T.jsx("path",{d:"M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 9.5A2.5 2.5 0 1 1 12 6a2.5 2.5 0 0 1 0 5Z"})})}),T.jsxs("div",{className:"ft__info-body",children:[T.jsx("div",{className:"ft__info-label",children:"Direccin"}),T.jsx("div",{className:"ft__info-text",children:"Av. Libertador Bernardo O'Higgins 611, Rancagua"})]})]}),T.jsxs("li",{className:"ft__info-item",children:[T.jsx("span",{className:"ft__info-ico","aria-hidden":"true",children:T.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:T.jsx("path",{d:"M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20Zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3Z"})})}),T.jsxs("div",{className:"ft__info-body",children:[T.jsx("div",{className:"ft__info-label",children:"Horario de Atencin"}),T.jsx("div",{className:"ft__info-text",children:"08:30  16:30 hrs"})]})]}),T.jsxs("li",{className:"ft__info-item",children:[T.jsx("span",{className:"ft__info-ico","aria-hidden":"true",children:T.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:T.jsx("path",{d:"M20 4H4A2 2 0 0 0 2 6v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 4-8 5L4 8V6l8 5 8-5v2Z"})})}),T.jsxs("div",{className:"ft__info-body",children:[T.jsx("div",{className:"ft__info-label",children:"Correo de Atencin"}),T.jsx("div",{className:"ft__info-text",children:"seq@uoh.cl"})]})]})]})]}),T.jsxs("section",{className:"ft__col ft__contact","aria-label":"Contctanos",children:[T.jsx("h4",{className:"ft__title",children:"Contctanos"}),T.jsx("p",{className:"ft__muted",children:"Tienes alguna duda? Escrbenos."}),T.jsxs("form",{className:"ft__contact-form",onSubmit:x,noValidate:!0,children:[T.jsxs("div",{className:"ft__row",children:[T.jsx("input",{type:"text",name:"nombre",value:c.nombre,onChange:y,placeholder:"Nombre*","aria-label":"Nombre",required:!0}),T.jsx("input",{type:"email",name:"email",value:c.email,onChange:y,placeholder:"Email*","aria-label":"Email",required:!0})]}),T.jsx("textarea",{name:"mensaje",rows:"4",value:c.mensaje,onChange:y,placeholder:"Tu mensaje...*","aria-label":"Mensaje",required:!0}),T.jsx("button",{type:"submit",className:"ft__btn",disabled:h,children:h?"Enviando...":"Enviar"}),T.jsx("small",{className:"ft__fine",children:"Usaremos tu correo solo para responderte."}),v&&T.jsx("div",{role:"status",className:`ft__feedback ${v.type}`,style:{marginTop:8},children:v.msg})]})]})]})}),T.jsx("div",{className:"ft__divider","aria-hidden":"true"}),T.jsxs("div",{className:"ft__middle",children:[T.jsxs("div",{className:"ft__brand",children:[T.jsx("img",{src:"/cNormal.png",alt:"GenomIA",className:"ft__brand-logo"}),T.jsx("span",{children:"GenomIA."})]}),T.jsx("div",{className:"ft__social","aria-label":"Social links",children:T.jsx("a",{"aria-label":"Instagram",href:"https://www.instagram.com/biocompu_uoh/",target:"_blank",rel:"noreferrer",children:T.jsx("svg",{viewBox:"0 0 24 24",children:T.jsx("path",{d:"M7.8 2h8.4A5.8 5.8 0 0 1 22 7.8v8.4A5.8 5.8 0 0 1 16.2 22H7.8A5.8 5.8 0 0 1 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m8.6 2H7.6A3.6 3.6 0 0 0 4 7.6v8.8A3.6 3.6 0 0 0 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6A3.6 3.6 0 0 0 16.4 4m.85 1.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5M12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10Z"})})})})]}),T.jsxs("div",{className:"ft__bottom",children:[T.jsxs("ul",{className:"ft__policies",children:[T.jsx("li",{children:T.jsx("a",{href:"#",onClick:t,className:"terms-link",children:"Trminos y Condiciones"})}),T.jsx("li",{children:T.jsx("a",{href:"https://www.sequoh.cl/ ",target:"_blank",rel:"noreferrer",children:"Conoce SeqUOH"})})]}),T.jsxs("div",{className:"ft__copy",children:[" ",new Date().getFullYear()," GenomIA  All rights reserved"]})]}),n&&T.jsx("div",{className:"terms-modal-overlay",onClick:i,children:T.jsxs("div",{className:"terms-modal",onClick:b=>b.stopPropagation(),children:[T.jsxs("div",{className:"terms-modal-header",children:[T.jsx("h2",{children:"Trminos y Condiciones de Genomia"}),T.jsx("button",{className:"terms-modal-close",onClick:i,"aria-label":"Cerrar",children:""})]}),T.jsxs("div",{className:"terms-modal-content",children:[T.jsx("p",{children:"Bienvenido a Genomia. Al utilizar nuestros servicios, usted acepta los siguientes trminos y condiciones. Por favor, lalos con atencin."}),T.jsx("h3",{children:"1. Aceptacin de los Trminos"}),T.jsx("p",{children:"Al acceder y utilizar nuestro sitio web y servicios, usted confirma que ha ledo, entendido y aceptado estar sujeto a estos Trminos y Condiciones. Si no est de acuerdo con alguna parte de los trminos, no podr utilizar nuestros servicios."}),T.jsx("h3",{children:"2. Descripcin del Servicio"}),T.jsx("p",{children:"Genomia ofrece servicios de anlisis de ADN para determinar la ascendencia gentica de nuestros usuarios, con un enfoque en la poblacin chilena. Utilizamos bases de datos genticas de referencia chilenas para proporcionar informes de ascendencia personalizados."}),T.jsx("h3",{children:"3. Requisitos para el Uso del Servicio"}),T.jsx("p",{children:"Para utilizar nuestros servicios, usted debe:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Ser mayor de 18 aos."}),T.jsx("li",{children:"Proporcionar una muestra de saliva para el anlisis de ADN."}),T.jsx("li",{children:"Garantizar que la muestra de saliva que proporciona es suya."})]}),T.jsx("h3",{children:"4. Consentimiento Informado"}),T.jsx("p",{children:"El anlisis gentico es una decisin personal importante. Antes de utilizar nuestros servicios, usted debe otorgar su consentimiento informado."}),T.jsx("h3",{children:"5. Privacidad y Proteccin de Datos"}),T.jsx("p",{children:"En Genomia, nos tomamos muy en serio su privacidad. Nuestra poltica de privacidad se rige por la legislacin chilena aplicable."}),T.jsx("h3",{children:"6. Cuenta de Usuario y Seguridad"}),T.jsx("p",{children:"Usted es responsable de mantener la confidencialidad de su contrasea y de todas las actividades que ocurran en su cuenta."}),T.jsx("h3",{children:"7. Propiedad Intelectual"}),T.jsx("p",{children:"Todo el contenido de este sitio web es propiedad de Four Future S.A y est protegido por las leyes de propiedad intelectual."}),T.jsx("h3",{children:"8. Limitacin de Responsabilidad"}),T.jsx("p",{children:"Genomia no ser responsable por ninguna decisin o accin que usted tome basada en los resultados de su anlisis de ascendencia."}),T.jsx("h3",{children:"9. Modificaciones a los Trminos y Condiciones"}),T.jsx("p",{children:"Nos reservamos el derecho de modificar estos Trminos y Condiciones en cualquier momento."}),T.jsx("h3",{children:"10. Ley Aplicable y Jurisdiccin"}),T.jsx("p",{children:"Estos Trminos y Condiciones se regirn por las leyes de la Repblica de Chile."}),T.jsx("h3",{children:"11. Contacto"}),T.jsx("p",{children:"Si tiene alguna pregunta sobre estos Trminos y Condiciones, por favor contctenos en: seq@uoh.cl."})]}),T.jsx("div",{className:"terms-modal-footer",children:T.jsx("button",{className:"terms-modal-accept",onClick:i,children:"Cerrar"})})]})})]})}const ist=()=>{const[n,e]=Y.useState([]),t=[{pregunta:"Qu tipo de pruebas genticas realiza el servicio?",respuesta:"Realizamos anlisis genticos completos que incluyen predisposicin a enfermedades, farmacogentica, rasgos personales, ancestra tnica y compatibilidad nutricional. Nuestras pruebas analizan ms de 700,000 marcadores genticos para brindarte informacin integral sobre tu ADN."},{pregunta:"Los resultados genticos garantizan que desarrollar la enfermedad indicada?",respuesta:"No, los resultados genticos indican predisposicin o riesgo, no certeza. La gentica es solo uno de los factores que influyen en tu salud. El estilo de vida, el ambiente y otros factores tambin son determinantes. Siempre recomendamos consultar con profesionales de la salud para interpretar correctamente los resultados."},{pregunta:"Cunto tiempo toma recibir los resultados de mi prueba gentica?",respuesta:"Una vez que recibimos tu muestra en nuestro laboratorio, el proceso de anlisis toma entre 4 a 6 semanas. Te notificaremos por correo electrnico cuando tus resultados estn listos y podrs acceder a ellos a travs de nuestra plataforma web segura."},{pregunta:"Mis resultados genticos estn seguros y protegidos?",respuesta:"S, la seguridad de tu informacin gentica es nuestra mxima prioridad. Utilizamos encriptacin de grado militar, cumplimos con estndares internacionales de proteccin de datos y nunca compartimos tu informacin personal con terceros sin tu consentimiento explcito."},{pregunta:"Puedo hacer cambios en mi estilo de vida basados en los resultados de la prueba gentica?",respuesta:"Los resultados pueden proporcionar informacin valiosa para personalizar tu estilo de vida, especialmente en reas como nutricin y ejercicio. Sin embargo, recomendamos siempre consultar con profesionales de la salud antes de hacer cambios significativos en tu dieta, rutina de ejercicios o medicamentos."},{pregunta:"Puedo compartir mis resultados con familiares o con mi mdico?",respuesta:"Absolutamente. Puedes descargar e imprimir tus resultados para compartirlos con tu mdico, nutricionista u otros profesionales de la salud. Tambin puedes compartir informacin relevante con familiares, ya que algunos hallazgos genticos pueden ser importantes para la salud familiar."},{pregunta:"Qu tipos de ancestros se pueden identificar con el anlisis gentico?",respuesta:"Nuestro anlisis de ancestra puede identificar tu composicin tnica a travs de ms de 1,000 regiones geogrficas worldwide. Incluimos ancestra europea, africana, asitica, nativa americana y ocenica, con subdivisiones especficas por pases y regiones para darte un panorama detallado de tus orgenes."},{pregunta:"Las pruebas genticas cubren todas las mutaciones posibles?",respuesta:"Nuestras pruebas cubren las variaciones genticas ms relevantes y estudiadas cientficamente. Analizamos cientos de miles de marcadores genticos, pero no todas las mutaciones posibles. La ciencia gentica est en constante evolucin, por lo que actualizamos regularmente nuestros anlisis con los ltimos descubrimientos cientficos."}],i=r=>{e(a=>a.includes(r)?a.filter(o=>o!==r):[...a,r])};return T.jsxs("section",{id:"preguntas",className:"preguntas-section","data-nav-theme":"brand",children:[T.jsx("h1",{className:"title",children:"Preguntas Frecuentes"}),T.jsx("p",{className:"subtitle",children:"Hemos recolectado las preguntas ms populares para ayudarte a navegar correctamente. Escoge la pregunta que te interesa:"}),T.jsx("div",{className:"preguntas-grid",children:t.map((r,a)=>{const s=n.includes(a);return T.jsxs("div",{className:`pregunta-card ${s?"open":""}`,children:[T.jsxs("div",{className:"pregunta-header",onClick:()=>i(a),children:[T.jsx("span",{className:"pregunta-text",children:r.pregunta}),T.jsx("div",{className:"expand-btn",children:T.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s?"rotated":"",children:[T.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"white"}),T.jsx("path",{d:"M8 12h8",stroke:"#277EAF",strokeWidth:"2",strokeLinecap:"round"}),T.jsx("path",{d:"M12 8v8",stroke:"#277EAF",strokeWidth:"2",strokeLinecap:"round",className:s?"collapsed-path":""})]})})]}),s&&T.jsx("div",{className:"pregunta-content",children:T.jsx("p",{children:r.respuesta})})]},a)})})]})};function rst(){const{pathname:n}=rc(),e=n==="/login"||n==="/register"||n==="/no-purchased"||n==="/pending"||n.startsWith("/dashboard");return T.jsxs(T.Fragment,{children:[!e&&T.jsx(Cxe,{}),T.jsxs(gG,{children:[T.jsx(fs,{path:"/",element:T.jsxs(T.Fragment,{children:[T.jsx(oSe,{}),T.jsx(AAe,{}),T.jsx(MAe,{}),T.jsx(Jat,{}),T.jsx(ist,{}),T.jsx(tst,{}),T.jsx(nst,{})]})}),T.jsx(fs,{path:"/login",element:T.jsx(EAe,{})}),T.jsx(fs,{path:"/register",element:T.jsx(Mwe,{})}),T.jsx(fs,{path:"/no-purchased",element:T.jsx(yk,{requireService:!1,children:T.jsx(Hrt,{})})}),T.jsx(fs,{path:"/pending",element:T.jsx(yk,{requireService:!1,children:T.jsx(Zat,{})})}),T.jsx(fs,{path:"/dashboard/*",element:T.jsx(yk,{children:T.jsx(mit,{})})}),T.jsx(fs,{path:"*",element:T.jsx(Gye,{to:"/",replace:!0})})]})]})}J0e.createRoot(document.getElementById("root")).render(T.jsx(Ps.StrictMode,{children:T.jsx(hxe,{basename:"/",children:T.jsx(rst,{})})}));
