# Generated by Django 5.2.6 on 2025-10-31 00:51

from django.db import migrations


class Migration(migrations.Migration):

    dependencies = [
        ('autenticacion', '0011_snp_af_continente_snp_af_pais_snp_continente_and_more'),
    ]

    operations = [
        migrations.RunSQL(
            sql="""WITH numbered_snps AS (
                SELECT id, ROW_NUMBER() OVER (ORDER BY id) as new_id FROM snps
            )
            UPDATE snps SET id = numbered_snps.new_id FROM numbered_snps WHERE snps.id = numbered_snps.id;
            SELECT setval('snps_id_seq', (SELECT MAX(id) FROM snps) + 1);""",
            reverse_sql=None,
        ),
    ]
